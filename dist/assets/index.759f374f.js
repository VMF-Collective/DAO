function _mergeNamespaces(et,_e){return _e.forEach(function(tt){tt&&typeof tt!="string"&&!Array.isArray(tt)&&Object.keys(tt).forEach(function(rt){if(rt!=="default"&&!(rt in et)){var nt=Object.getOwnPropertyDescriptor(tt,rt);Object.defineProperty(et,rt,nt.get?nt:{enumerable:!0,get:function(){return tt[rt]}})}})}),Object.freeze(Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}))}const p$9=function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))rt(nt);new MutationObserver(nt=>{for(const it of nt)if(it.type==="childList")for(const at of it.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&rt(at)}).observe(document,{childList:!0,subtree:!0});function tt(nt){const it={};return nt.integrity&&(it.integrity=nt.integrity),nt.referrerpolicy&&(it.referrerPolicy=nt.referrerpolicy),nt.crossorigin==="use-credentials"?it.credentials="include":nt.crossorigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function rt(nt){if(nt.ep)return;nt.ep=!0;const it=tt(nt);fetch(nt.href,it)}};p$9();var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}function getAugmentedNamespace(et){if(et.__esModule)return et;var _e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(et).forEach(function(tt){var rt=Object.getOwnPropertyDescriptor(et,tt);Object.defineProperty(_e,tt,rt.get?rt:{enumerable:!0,get:function(){return et[tt]}})}),_e}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$8=Symbol.for("react.fragment"),q$7=Symbol.for("react.strict_mode"),r$8=Symbol.for("react.profiler"),t$6=Symbol.for("react.provider"),u$5=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$6=Symbol.for("react.suspense"),x$6=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$6=Symbol.iterator;function A$7(et){return et===null||typeof et!="object"?null:(et=z$6&&et[z$6]||et["@@iterator"],typeof et=="function"?et:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$4=Object.assign,D$4={};function E$4(et,_e,tt){this.props=et,this.context=_e,this.refs=D$4,this.updater=tt||B$3}E$4.prototype.isReactComponent={};E$4.prototype.setState=function(et,_e){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,_e,"setState")};E$4.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$3(){}F$3.prototype=E$4.prototype;function G$2(et,_e,tt){this.props=et,this.context=_e,this.refs=D$4,this.updater=tt||B$3}var H$4=G$2.prototype=new F$3;H$4.constructor=G$2;C$4(H$4,E$4.prototype);H$4.isPureReactComponent=!0;var I$4=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$3={current:null},L$4={key:!0,ref:!0,__self:!0,__source:!0};function M$4(et,_e,tt){var rt,nt={},it=null,at=null;if(_e!=null)for(rt in _e.ref!==void 0&&(at=_e.ref),_e.key!==void 0&&(it=""+_e.key),_e)J$1.call(_e,rt)&&!L$4.hasOwnProperty(rt)&&(nt[rt]=_e[rt]);var st=arguments.length-2;if(st===1)nt.children=tt;else if(1<st){for(var ct=Array(st),ut=0;ut<st;ut++)ct[ut]=arguments[ut+2];nt.children=ct}if(et&&et.defaultProps)for(rt in st=et.defaultProps,st)nt[rt]===void 0&&(nt[rt]=st[rt]);return{$$typeof:l$6,type:et,key:it,ref:at,props:nt,_owner:K$3.current}}function N$5(et,_e){return{$$typeof:l$6,type:et.type,key:_e,ref:et.ref,props:et.props,_owner:et._owner}}function O$3(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$6}function escape$1(et){var _e={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(tt){return _e[tt]})}var P$4=/\/+/g;function Q$2(et,_e){return typeof et=="object"&&et!==null&&et.key!=null?escape$1(""+et.key):_e.toString(36)}function R$4(et,_e,tt,rt,nt){var it=typeof et;(it==="undefined"||it==="boolean")&&(et=null);var at=!1;if(et===null)at=!0;else switch(it){case"string":case"number":at=!0;break;case"object":switch(et.$$typeof){case l$6:case n$5:at=!0}}if(at)return at=et,nt=nt(at),et=rt===""?"."+Q$2(at,0):rt,I$4(nt)?(tt="",et!=null&&(tt=et.replace(P$4,"$&/")+"/"),R$4(nt,_e,tt,"",function(ut){return ut})):nt!=null&&(O$3(nt)&&(nt=N$5(nt,tt+(!nt.key||at&&at.key===nt.key?"":(""+nt.key).replace(P$4,"$&/")+"/")+et)),_e.push(nt)),1;if(at=0,rt=rt===""?".":rt+":",I$4(et))for(var st=0;st<et.length;st++){it=et[st];var ct=rt+Q$2(it,st);at+=R$4(it,_e,tt,ct,nt)}else if(ct=A$7(et),typeof ct=="function")for(et=ct.call(et),st=0;!(it=et.next()).done;)it=it.value,ct=rt+Q$2(it,st++),at+=R$4(it,_e,tt,ct,nt);else if(it==="object")throw _e=String(et),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return at}function S$3(et,_e,tt){if(et==null)return et;var rt=[],nt=0;return R$4(et,rt,"","",function(it){return _e.call(tt,it,nt++)}),rt}function T$6(et){if(et._status===-1){var _e=et._result;_e=_e(),_e.then(function(tt){(et._status===0||et._status===-1)&&(et._status=1,et._result=tt)},function(tt){(et._status===0||et._status===-1)&&(et._status=2,et._result=tt)}),et._status===-1&&(et._status=0,et._result=_e)}if(et._status===1)return et._result.default;throw et._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$3};react_production_min.Children={map:S$3,forEach:function(et,_e,tt){S$3(et,function(){_e.apply(this,arguments)},tt)},count:function(et){var _e=0;return S$3(et,function(){_e++}),_e},toArray:function(et){return S$3(et,function(_e){return _e})||[]},only:function(et){if(!O$3(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$4;react_production_min.Fragment=p$8;react_production_min.Profiler=r$8;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$7;react_production_min.Suspense=w$6;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(et,_e,tt){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var rt=C$4({},et.props),nt=et.key,it=et.ref,at=et._owner;if(_e!=null){if(_e.ref!==void 0&&(it=_e.ref,at=K$3.current),_e.key!==void 0&&(nt=""+_e.key),et.type&&et.type.defaultProps)var st=et.type.defaultProps;for(ct in _e)J$1.call(_e,ct)&&!L$4.hasOwnProperty(ct)&&(rt[ct]=_e[ct]===void 0&&st!==void 0?st[ct]:_e[ct])}var ct=arguments.length-2;if(ct===1)rt.children=tt;else if(1<ct){st=Array(ct);for(var ut=0;ut<ct;ut++)st[ut]=arguments[ut+2];rt.children=st}return{$$typeof:l$6,type:et.type,key:nt,ref:it,props:rt,_owner:at}};react_production_min.createContext=function(et){return et={$$typeof:u$5,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$6,_context:et},et.Consumer=et};react_production_min.createElement=M$4;react_production_min.createFactory=function(et){var _e=M$4.bind(null,et);return _e.type=et,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$7,render:et}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(et){return{$$typeof:y$5,_payload:{_status:-1,_result:et},_init:T$6}};react_production_min.memo=function(et,_e){return{$$typeof:x$6,type:et,compare:_e===void 0?null:_e}};react_production_min.startTransition=function(et){var _e=V$2.transition;V$2.transition={};try{et()}finally{V$2.transition=_e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(et,_e){return U$2.current.useCallback(et,_e)};react_production_min.useContext=function(et){return U$2.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$2.current.useDeferredValue(et)};react_production_min.useEffect=function(et,_e){return U$2.current.useEffect(et,_e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(et,_e,tt){return U$2.current.useImperativeHandle(et,_e,tt)};react_production_min.useInsertionEffect=function(et,_e){return U$2.current.useInsertionEffect(et,_e)};react_production_min.useLayoutEffect=function(et,_e){return U$2.current.useLayoutEffect(et,_e)};react_production_min.useMemo=function(et,_e){return U$2.current.useMemo(et,_e)};react_production_min.useReducer=function(et,_e,tt){return U$2.current.useReducer(et,_e,tt)};react_production_min.useRef=function(et){return U$2.current.useRef(et)};react_production_min.useState=function(et){return U$2.current.useState(et)};react_production_min.useSyncExternalStore=function(et,_e,tt){return U$2.current.useSyncExternalStore(et,_e,tt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var React$1=react.exports,React$2=_mergeNamespaces({__proto__:null,default:React$1},[react.exports]),reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function _e(bt,vt){var St=bt.length;bt.push(vt);e:for(;0<St;){var yt=St-1>>>1,lt=bt[yt];if(0<nt(lt,vt))bt[yt]=vt,bt[St]=lt,St=yt;else break e}}function tt(bt){return bt.length===0?null:bt[0]}function rt(bt){if(bt.length===0)return null;var vt=bt[0],St=bt.pop();if(St!==vt){bt[0]=St;e:for(var yt=0,lt=bt.length,xt=lt>>>1;yt<xt;){var Ut=2*(yt+1)-1,Pt=bt[Ut],qt=Ut+1,ir=bt[qt];if(0>nt(Pt,St))qt<lt&&0>nt(ir,Pt)?(bt[yt]=ir,bt[qt]=St,yt=qt):(bt[yt]=Pt,bt[Ut]=St,yt=Ut);else if(qt<lt&&0>nt(ir,St))bt[yt]=ir,bt[qt]=St,yt=qt;else break e}}return vt}function nt(bt,vt){var St=bt.sortIndex-vt.sortIndex;return St!==0?St:bt.id-vt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;et.unstable_now=function(){return it.now()}}else{var at=Date,st=at.now();et.unstable_now=function(){return at.now()-st}}var ct=[],ut=[],ft=1,gt=null,_t=3,Et=!1,$t=!1,It=!1,Tt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,Rt=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function kt(bt){for(var vt=tt(ut);vt!==null;){if(vt.callback===null)rt(ut);else if(vt.startTime<=bt)rt(ut),vt.sortIndex=vt.expirationTime,_e(ct,vt);else break;vt=tt(ut)}}function Ot(bt){if(It=!1,kt(bt),!$t)if(tt(ct)!==null)$t=!0,mt(Wt);else{var vt=tt(ut);vt!==null&&wt(Ot,vt.startTime-bt)}}function Wt(bt,vt){$t=!1,It&&(It=!1,At(Jt),Jt=-1),Et=!0;var St=_t;try{for(kt(vt),gt=tt(ct);gt!==null&&(!(gt.expirationTime>vt)||bt&&!Ct());){var yt=gt.callback;if(typeof yt=="function"){gt.callback=null,_t=gt.priorityLevel;var lt=yt(gt.expirationTime<=vt);vt=et.unstable_now(),typeof lt=="function"?gt.callback=lt:gt===tt(ct)&&rt(ct),kt(vt)}else rt(ct);gt=tt(ct)}if(gt!==null)var xt=!0;else{var Ut=tt(ut);Ut!==null&&wt(Ot,Ut.startTime-vt),xt=!1}return xt}finally{gt=null,_t=St,Et=!1}}var zt=!1,Kt=null,Jt=-1,ar=5,jt=-1;function Ct(){return!(et.unstable_now()-jt<ar)}function Nt(){if(Kt!==null){var bt=et.unstable_now();jt=bt;var vt=!0;try{vt=Kt(!0,bt)}finally{vt?ht():(zt=!1,Kt=null)}}else zt=!1}var ht;if(typeof Rt=="function")ht=function(){Rt(Nt)};else if(typeof MessageChannel!="undefined"){var ot=new MessageChannel,dt=ot.port2;ot.port1.onmessage=Nt,ht=function(){dt.postMessage(null)}}else ht=function(){Tt(Nt,0)};function mt(bt){Kt=bt,zt||(zt=!0,ht())}function wt(bt,vt){Jt=Tt(function(){bt(et.unstable_now())},vt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(bt){bt.callback=null},et.unstable_continueExecution=function(){$t||Et||($t=!0,mt(Wt))},et.unstable_forceFrameRate=function(bt){0>bt||125<bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ar=0<bt?Math.floor(1e3/bt):5},et.unstable_getCurrentPriorityLevel=function(){return _t},et.unstable_getFirstCallbackNode=function(){return tt(ct)},et.unstable_next=function(bt){switch(_t){case 1:case 2:case 3:var vt=3;break;default:vt=_t}var St=_t;_t=vt;try{return bt()}finally{_t=St}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(bt,vt){switch(bt){case 1:case 2:case 3:case 4:case 5:break;default:bt=3}var St=_t;_t=bt;try{return vt()}finally{_t=St}},et.unstable_scheduleCallback=function(bt,vt,St){var yt=et.unstable_now();switch(typeof St=="object"&&St!==null?(St=St.delay,St=typeof St=="number"&&0<St?yt+St:yt):St=yt,bt){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=St+lt,bt={id:ft++,callback:vt,priorityLevel:bt,startTime:St,expirationTime:lt,sortIndex:-1},St>yt?(bt.sortIndex=St,_e(ut,bt),tt(ct)===null&&bt===tt(ut)&&(It?(At(Jt),Jt=-1):It=!0,wt(Ot,St-yt))):(bt.sortIndex=lt,_e(ct,bt),$t||Et||($t=!0,mt(Wt))),bt},et.unstable_shouldYield=Ct,et.unstable_wrapCallback=function(bt){var vt=_t;return function(){var St=_t;_t=vt;try{return bt.apply(this,arguments)}finally{_t=St}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p$7(et){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+et,tt=1;tt<arguments.length;tt++)_e+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+et+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa$1(et,_e){ha(et,_e),ha(et+"Capture",_e)}function ha(et,_e){for(ea[et]=_e,et=0;et<_e.length;et++)da.add(_e[et])}var ia=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,_e,tt,rt){if(tt!==null&&tt.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return rt?!1:tt!==null?!tt.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,_e,tt,rt){if(_e===null||typeof _e=="undefined"||pa(et,_e,tt,rt))return!0;if(rt)return!1;if(tt!==null)switch(tt.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$6(et,_e,tt,rt,nt,it,at){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=rt,this.attributeNamespace=nt,this.mustUseProperty=tt,this.propertyName=et,this.type=_e,this.sanitizeURL=it,this.removeEmptyString=at}var z$5={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z$5[et]=new v$6(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var _e=et[0];z$5[_e]=new v$6(_e,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z$5[et]=new v$6(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z$5[et]=new v$6(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z$5[et]=new v$6(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z$5[et]=new v$6(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z$5[et]=new v$6(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z$5[et]=new v$6(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z$5[et]=new v$6(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z$5[_e]=new v$6(_e,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z$5[_e]=new v$6(_e,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var _e=et.replace(ra,sa);z$5[_e]=new v$6(_e,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z$5[et]=new v$6(et,1,!1,et.toLowerCase(),null,!1,!1)});z$5.xlinkHref=new v$6("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z$5[et]=new v$6(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,_e,tt,rt){var nt=z$5.hasOwnProperty(_e)?z$5[_e]:null;(nt!==null?nt.type!==0:rt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,tt,nt,rt)&&(tt=null),rt||nt===null?oa(_e)&&(tt===null?et.removeAttribute(_e):et.setAttribute(_e,""+tt)):nt.mustUseProperty?et[nt.propertyName]=tt===null?nt.type===3?!1:"":tt:(_e=nt.attributeName,rt=nt.attributeNamespace,tt===null?et.removeAttribute(_e):(nt=nt.type,tt=nt===3||nt===4&&tt===!0?"":""+tt,rt?et.setAttributeNS(rt,_e,tt):et.setAttribute(_e,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$6=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(tt){var _e=tt.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+et}var Na=!1;function Oa(et,_e){if(!et||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ut){var rt=ut}Reflect.construct(et,[],_e)}else{try{_e.call()}catch(ut){rt=ut}et.call(_e.prototype)}else{try{throw Error()}catch(ut){rt=ut}et()}}catch(ut){if(ut&&rt&&typeof ut.stack=="string"){for(var nt=ut.stack.split(`
`),it=rt.stack.split(`
`),at=nt.length-1,st=it.length-1;1<=at&&0<=st&&nt[at]!==it[st];)st--;for(;1<=at&&0<=st;at--,st--)if(nt[at]!==it[st]){if(at!==1||st!==1)do if(at--,st--,0>st||nt[at]!==it[st]){var ct=`
`+nt[at].replace(" at new "," at ");return et.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",et.displayName)),ct}while(1<=at&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var _e=et.render;return et=et.displayName,et||(et=_e.displayName||_e.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return _e=et.displayName||null,_e!==null?_e:Qa(et.type)||"Memo";case Ha:_e=et._payload,et=et._init;try{return Qa(et(_e))}catch{}}return null}function Ra(et){var _e=et.type;switch(et.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=_e.render,et=et.displayName||et.name||"",_e.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var _e=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua(et){var _e=Ta(et)?"checked":"value",tt=Object.getOwnPropertyDescriptor(et.constructor.prototype,_e),rt=""+et[_e];if(!et.hasOwnProperty(_e)&&typeof tt!="undefined"&&typeof tt.get=="function"&&typeof tt.set=="function"){var nt=tt.get,it=tt.set;return Object.defineProperty(et,_e,{configurable:!0,get:function(){return nt.call(this)},set:function(at){rt=""+at,it.call(this,at)}}),Object.defineProperty(et,_e,{enumerable:tt.enumerable}),{getValue:function(){return rt},setValue:function(at){rt=""+at},stopTracking:function(){et._valueTracker=null,delete et[_e]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var _e=et._valueTracker;if(!_e)return!0;var tt=_e.getValue(),rt="";return et&&(rt=Ta(et)?et.checked?"true":"false":et.value),et=rt,et!==tt?(_e.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document!="undefined"?document:void 0),typeof et=="undefined")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,_e){var tt=_e.checked;return A$6({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt!=null?tt:et._wrapperState.initialChecked})}function Za(et,_e){var tt=_e.defaultValue==null?"":_e.defaultValue,rt=_e.checked!=null?_e.checked:_e.defaultChecked;tt=Sa(_e.value!=null?_e.value:tt),et._wrapperState={initialChecked:rt,initialValue:tt,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab(et,_e){_e=_e.checked,_e!=null&&ta(et,"checked",_e,!1)}function bb(et,_e){ab(et,_e);var tt=Sa(_e.value),rt=_e.type;if(tt!=null)rt==="number"?(tt===0&&et.value===""||et.value!=tt)&&(et.value=""+tt):et.value!==""+tt&&(et.value=""+tt);else if(rt==="submit"||rt==="reset"){et.removeAttribute("value");return}_e.hasOwnProperty("value")?cb(et,_e.type,tt):_e.hasOwnProperty("defaultValue")&&cb(et,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&(et.defaultChecked=!!_e.defaultChecked)}function db(et,_e,tt){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var rt=_e.type;if(!(rt!=="submit"&&rt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+et._wrapperState.initialValue,tt||_e===et.value||(et.value=_e),et.defaultValue=_e}tt=et.name,tt!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,tt!==""&&(et.name=tt)}function cb(et,_e,tt){(_e!=="number"||Xa(et.ownerDocument)!==et)&&(tt==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+tt&&(et.defaultValue=""+tt))}var eb=Array.isArray;function fb(et,_e,tt,rt){if(et=et.options,_e){_e={};for(var nt=0;nt<tt.length;nt++)_e["$"+tt[nt]]=!0;for(tt=0;tt<et.length;tt++)nt=_e.hasOwnProperty("$"+et[tt].value),et[tt].selected!==nt&&(et[tt].selected=nt),nt&&rt&&(et[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),_e=null,nt=0;nt<et.length;nt++){if(et[nt].value===tt){et[nt].selected=!0,rt&&(et[nt].defaultSelected=!0);return}_e!==null||et[nt].disabled||(_e=et[nt])}_e!==null&&(_e.selected=!0)}}function gb(et,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$7(91));return A$6({},_e,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,_e){var tt=_e.value;if(tt==null){if(tt=_e.children,_e=_e.defaultValue,tt!=null){if(_e!=null)throw Error(p$7(92));if(eb(tt)){if(1<tt.length)throw Error(p$7(93));tt=tt[0]}_e=tt}_e==null&&(_e=""),tt=_e}et._wrapperState={initialValue:Sa(tt)}}function ib(et,_e){var tt=Sa(_e.value),rt=Sa(_e.defaultValue);tt!=null&&(tt=""+tt,tt!==et.value&&(et.value=tt),_e.defaultValue==null&&et.defaultValue!==tt&&(et.defaultValue=tt)),rt!=null&&(et.defaultValue=""+rt)}function jb(et){var _e=et.textContent;_e===et._wrapperState.initialValue&&_e!==""&&_e!==null&&(et.value=_e)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,_e){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(_e):et==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(_e,tt,rt,nt){MSApp.execUnsafeLocalFunction(function(){return et(_e,tt,rt,nt)})}:et}(function(et,_e){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;_e.firstChild;)et.appendChild(_e.firstChild)}});function ob(et,_e){if(_e){var tt=et.firstChild;if(tt&&tt===et.lastChild&&tt.nodeType===3){tt.nodeValue=_e;return}}et.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(_e){_e=_e+et.charAt(0).toUpperCase()+et.substring(1),pb[_e]=pb[et]})});function rb(et,_e,tt){return _e==null||typeof _e=="boolean"||_e===""?"":tt||typeof _e!="number"||_e===0||pb.hasOwnProperty(et)&&pb[et]?(""+_e).trim():_e+"px"}function sb(et,_e){et=et.style;for(var tt in _e)if(_e.hasOwnProperty(tt)){var rt=tt.indexOf("--")===0,nt=rb(tt,_e[tt],rt);tt==="float"&&(tt="cssFloat"),rt?et.setProperty(tt,nt):et[tt]=nt}}var tb=A$6({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,_e){if(_e){if(tb[et]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$7(137,et));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$7(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$7(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$7(62))}}function vb(et,_e){if(et.indexOf("-")===-1)return typeof _e.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$7(280));var _e=et.stateNode;_e&&(_e=Db(_e),yb(et.stateNode,et.type,_e))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,_e=Ab;if(Ab=zb=null,Bb(et),_e)for(et=0;et<_e.length;et++)Bb(_e[et])}}function Gb(et,_e){return et(_e)}function Hb(){}var Ib=!1;function Jb(et,_e,tt){if(Ib)return et(_e,tt);Ib=!0;try{return Gb(et,_e,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,_e){var tt=et.stateNode;if(tt===null)return null;var rt=Db(tt);if(rt===null)return null;tt=rt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(et=et.type,rt=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!rt;break e;default:et=!1}if(et)return null;if(tt&&typeof tt!="function")throw Error(p$7(231,_e,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,_e,tt,rt,nt,it,at,st,ct){var ut=Array.prototype.slice.call(arguments,3);try{_e.apply(tt,ut)}catch(ft){this.onError(ft)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,_e,tt,rt,nt,it,at,st,ct){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,_e,tt,rt,nt,it,at,st,ct){if(Tb.apply(this,arguments),Ob){if(Ob){var ut=Pb;Ob=!1,Pb=null}else throw Error(p$7(198));Qb||(Qb=!0,Rb=ut)}}function Vb(et){var _e=et,tt=et;if(et.alternate)for(;_e.return;)_e=_e.return;else{et=_e;do _e=et,(_e.flags&4098)!==0&&(tt=_e.return),et=_e.return;while(et)}return _e.tag===3?tt:null}function Wb(et){if(et.tag===13){var _e=et.memoizedState;if(_e===null&&(et=et.alternate,et!==null&&(_e=et.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$7(188))}function Yb(et){var _e=et.alternate;if(!_e){if(_e=Vb(et),_e===null)throw Error(p$7(188));return _e!==et?null:et}for(var tt=et,rt=_e;;){var nt=tt.return;if(nt===null)break;var it=nt.alternate;if(it===null){if(rt=nt.return,rt!==null){tt=rt;continue}break}if(nt.child===it.child){for(it=nt.child;it;){if(it===tt)return Xb(nt),et;if(it===rt)return Xb(nt),_e;it=it.sibling}throw Error(p$7(188))}if(tt.return!==rt.return)tt=nt,rt=it;else{for(var at=!1,st=nt.child;st;){if(st===tt){at=!0,tt=nt,rt=it;break}if(st===rt){at=!0,rt=nt,tt=it;break}st=st.sibling}if(!at){for(st=it.child;st;){if(st===tt){at=!0,tt=it,rt=nt;break}if(st===rt){at=!0,rt=it,tt=nt;break}st=st.sibling}if(!at)throw Error(p$7(189))}}if(tt.alternate!==rt)throw Error(p$7(190))}if(tt.tag!==3)throw Error(p$7(188));return tt.stateNode.current===tt?et:_e}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var _e=$b(et);if(_e!==null)return _e;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,_e){var tt=et.pendingLanes;if(tt===0)return 0;var rt=0,nt=et.suspendedLanes,it=et.pingedLanes,at=tt&268435455;if(at!==0){var st=at&~nt;st!==0?rt=tc(st):(it&=at,it!==0&&(rt=tc(it)))}else at=tt&~nt,at!==0?rt=tc(at):it!==0&&(rt=tc(it));if(rt===0)return 0;if(_e!==0&&_e!==rt&&(_e&nt)===0&&(nt=rt&-rt,it=_e&-_e,nt>=it||nt===16&&(it&4194240)!==0))return _e;if((rt&4)!==0&&(rt|=tt&16),_e=et.entangledLanes,_e!==0)for(et=et.entanglements,_e&=rt;0<_e;)tt=31-oc(_e),nt=1<<tt,rt|=et[tt],_e&=~nt;return rt}function vc(et,_e){switch(et){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,_e){for(var tt=et.suspendedLanes,rt=et.pingedLanes,nt=et.expirationTimes,it=et.pendingLanes;0<it;){var at=31-oc(it),st=1<<at,ct=nt[at];ct===-1?((st&tt)===0||(st&rt)!==0)&&(nt[at]=vc(st,_e)):ct<=_e&&(et.expiredLanes|=st),it&=~st}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),et}function zc(et){for(var _e=[],tt=0;31>tt;tt++)_e.push(et);return _e}function Ac(et,_e,tt){et.pendingLanes|=_e,_e!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,_e=31-oc(_e),et[_e]=tt}function Bc(et,_e){var tt=et.pendingLanes&~_e;et.pendingLanes=_e,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=_e,et.mutableReadLanes&=_e,et.entangledLanes&=_e,_e=et.entanglements;var rt=et.eventTimes;for(et=et.expirationTimes;0<tt;){var nt=31-oc(tt),it=1<<nt;_e[nt]=0,rt[nt]=-1,et[nt]=-1,tt&=~it}}function Cc(et,_e){var tt=et.entangledLanes|=_e;for(et=et.entanglements;tt;){var rt=31-oc(tt),nt=1<<rt;nt&_e|et[rt]&_e&&(et[rt]|=_e),tt&=~nt}}var C$3=0;function Dc(et){return et&=-et,1<et?4<et?(et&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,_e){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc(et,_e,tt,rt,nt,it){return et===null||et.nativeEvent!==it?(et={blockedOn:_e,domEventName:tt,eventSystemFlags:rt,nativeEvent:it,targetContainers:[nt]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),et):(et.eventSystemFlags|=rt,_e=et.targetContainers,nt!==null&&_e.indexOf(nt)===-1&&_e.push(nt),et)}function Uc(et,_e,tt,rt,nt){switch(_e){case"focusin":return Lc=Tc(Lc,et,_e,tt,rt,nt),!0;case"dragenter":return Mc=Tc(Mc,et,_e,tt,rt,nt),!0;case"mouseover":return Nc=Tc(Nc,et,_e,tt,rt,nt),!0;case"pointerover":var it=nt.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,et,_e,tt,rt,nt)),!0;case"gotpointercapture":return it=nt.pointerId,Pc.set(it,Tc(Pc.get(it)||null,et,_e,tt,rt,nt)),!0}return!1}function Vc(et){var _e=Wc(et.target);if(_e!==null){var tt=Vb(_e);if(tt!==null){if(_e=tt.tag,_e===13){if(_e=Wb(tt),_e!==null){et.blockedOn=_e,Ic(et.priority,function(){Gc(tt)});return}}else if(_e===3&&tt.stateNode.current.memoizedState.isDehydrated){et.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var _e=et.targetContainers;0<_e.length;){var tt=Yc(et.domEventName,et.eventSystemFlags,_e[0],et.nativeEvent);if(tt===null){tt=et.nativeEvent;var rt=new tt.constructor(tt.type,tt);wb=rt,tt.target.dispatchEvent(rt),wb=null}else return _e=Cb(tt),_e!==null&&Fc(_e),et.blockedOn=tt,!1;_e.shift()}return!0}function Zc(et,_e,tt){Xc(et)&&tt.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,_e){et.blockedOn===_e&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function _e(nt){return ad(nt,et)}if(0<Kc.length){ad(Kc[0],et);for(var tt=1;tt<Kc.length;tt++){var rt=Kc[tt];rt.blockedOn===et&&(rt.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(_e),Pc.forEach(_e),tt=0;tt<Qc.length;tt++)rt=Qc[tt],rt.blockedOn===et&&(rt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,_e,tt,rt){var nt=C$3,it=cd.transition;cd.transition=null;try{C$3=1,fd(et,_e,tt,rt)}finally{C$3=nt,cd.transition=it}}function gd(et,_e,tt,rt){var nt=C$3,it=cd.transition;cd.transition=null;try{C$3=4,fd(et,_e,tt,rt)}finally{C$3=nt,cd.transition=it}}function fd(et,_e,tt,rt){if(dd){var nt=Yc(et,_e,tt,rt);if(nt===null)hd(et,_e,rt,id$1,tt),Sc(et,rt);else if(Uc(nt,et,_e,tt,rt))rt.stopPropagation();else if(Sc(et,rt),_e&4&&-1<Rc.indexOf(et)){for(;nt!==null;){var it=Cb(nt);if(it!==null&&Ec(it),it=Yc(et,_e,tt,rt),it===null&&hd(et,_e,rt,id$1,tt),it===nt)break;nt=it}nt!==null&&rt.stopPropagation()}else hd(et,_e,rt,null,tt)}}var id$1=null;function Yc(et,_e,tt,rt){if(id$1=null,et=xb(rt),et=Wc(et),et!==null)if(_e=Vb(et),_e===null)et=null;else if(tt=_e.tag,tt===13){if(et=Wb(_e),et!==null)return et;et=null}else if(tt===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;et=null}else _e!==et&&(et=null);return id$1=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,_e=ld,tt=_e.length,rt,nt="value"in kd?kd.value:kd.textContent,it=nt.length;for(et=0;et<tt&&_e[et]===nt[et];et++);var at=tt-et;for(rt=1;rt<=at&&_e[tt-rt]===nt[it-rt];rt++);return md=nt.slice(et,1<rt?1-rt:void 0)}function od(et){var _e=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&_e===13&&(et=13)):et=_e,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function _e(tt,rt,nt,it,at){this._reactName=tt,this._targetInst=nt,this.type=rt,this.nativeEvent=it,this.target=at,this.currentTarget=null;for(var st in et)et.hasOwnProperty(st)&&(tt=et[st],this[st]=tt?tt(it):it[st]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$6(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$6({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$6({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$6({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$6({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$6({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$6({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$6({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState(et):(et=Od[et])?!!_e[et]:!1}function zd(){return Pd}var Qd=A$6({},ud,{key:function(et){if(et.key){var _e=Md[et.key]||et.key;if(_e!=="Unidentified")return _e}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$6({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$6({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$6({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$6({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de$1=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(et,_e){switch(et){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie=!1;function je(et,_e){switch(et){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe=!0,ee);case"textInput":return et=_e.data,et===ee&&fe?null:et;default:return null}}function ke(et,_e){if(ie)return et==="compositionend"||!ae&&ge(et,_e)?(et=nd(),md=ld=kd=null,ie=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de$1&&_e.locale!=="ko"?null:_e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e==="input"?!!le[et.type]:_e==="textarea"}function ne(et,_e,tt,rt){Eb(rt),_e=oe(_e,"onChange"),0<_e.length&&(tt=new td("onChange","change",null,tt,rt),et.push({event:tt,listeners:_e}))}var pe=null,qe=null;function re(et){se(et,0)}function te(et){var _e=ue(et);if(Wa(_e))return et}function ve(et,_e){if(et==="change")return _e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(et){if(et.propertyName==="value"&&te(qe)){var _e=[];ne(_e,qe,et,xb(et)),Jb(re,_e)}}function Ce(et,_e,tt){et==="focusin"?(Ae(),pe=_e,qe=tt,pe.attachEvent("onpropertychange",Be)):et==="focusout"&&Ae()}function De(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te(qe)}function Ee(et,_e){if(et==="click")return te(_e)}function Fe(et,_e){if(et==="input"||et==="change")return te(_e)}function Ge(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(et,_e){if(He(et,_e))return!0;if(typeof et!="object"||et===null||typeof _e!="object"||_e===null)return!1;var tt=Object.keys(et),rt=Object.keys(_e);if(tt.length!==rt.length)return!1;for(rt=0;rt<tt.length;rt++){var nt=tt[rt];if(!ja.call(_e,nt)||!He(et[nt],_e[nt]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke(et,_e){var tt=Je(et);et=0;for(var rt;tt;){if(tt.nodeType===3){if(rt=et+tt.textContent.length,et<=_e&&rt>=_e)return{node:tt,offset:_e-et};et=rt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le(et,_e){return et&&_e?et===_e?!0:et&&et.nodeType===3?!1:_e&&_e.nodeType===3?Le(et,_e.parentNode):"contains"in et?et.contains(_e):et.compareDocumentPosition?!!(et.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var et=window,_e=Xa();_e instanceof et.HTMLIFrameElement;){try{var tt=typeof _e.contentWindow.location.href=="string"}catch{tt=!1}if(tt)et=_e.contentWindow;else break;_e=Xa(et.document)}return _e}function Ne(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e&&(_e==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||_e==="textarea"||et.contentEditable==="true")}function Oe(et){var _e=Me(),tt=et.focusedElem,rt=et.selectionRange;if(_e!==tt&&tt&&tt.ownerDocument&&Le(tt.ownerDocument.documentElement,tt)){if(rt!==null&&Ne(tt)){if(_e=rt.start,et=rt.end,et===void 0&&(et=_e),"selectionStart"in tt)tt.selectionStart=_e,tt.selectionEnd=Math.min(et,tt.value.length);else if(et=(_e=tt.ownerDocument||document)&&_e.defaultView||window,et.getSelection){et=et.getSelection();var nt=tt.textContent.length,it=Math.min(rt.start,nt);rt=rt.end===void 0?it:Math.min(rt.end,nt),!et.extend&&it>rt&&(nt=rt,rt=it,it=nt),nt=Ke(tt,it);var at=Ke(tt,rt);nt&&at&&(et.rangeCount!==1||et.anchorNode!==nt.node||et.anchorOffset!==nt.offset||et.focusNode!==at.node||et.focusOffset!==at.offset)&&(_e=_e.createRange(),_e.setStart(nt.node,nt.offset),et.removeAllRanges(),it>rt?(et.addRange(_e),et.extend(at.node,at.offset)):(_e.setEnd(at.node,at.offset),et.addRange(_e)))}}for(_e=[],et=tt;et=et.parentNode;)et.nodeType===1&&_e.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<_e.length;tt++)et=_e[tt],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(et,_e,tt){var rt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te||Qe==null||Qe!==Xa(rt)||(rt=Qe,"selectionStart"in rt&&Ne(rt)?rt={start:rt.selectionStart,end:rt.selectionEnd}:(rt=(rt.ownerDocument&&rt.ownerDocument.defaultView||window).getSelection(),rt={anchorNode:rt.anchorNode,anchorOffset:rt.anchorOffset,focusNode:rt.focusNode,focusOffset:rt.focusOffset}),Se&&Ie(Se,rt)||(Se=rt,rt=oe(Re,"onSelect"),0<rt.length&&(_e=new td("onSelect","select",null,_e,tt),et.push({event:_e,listeners:rt}),_e.target=Qe)))}function Ve(et,_e){var tt={};return tt[et.toLowerCase()]=_e.toLowerCase(),tt["Webkit"+et]="webkit"+_e,tt["Moz"+et]="moz"+_e,tt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We[et])return et;var _e=We[et],tt;for(tt in _e)if(_e.hasOwnProperty(tt)&&tt in Ye)return Xe[et]=_e[tt];return et}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,_e){df.set(et,_e),fa$1(_e,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,_e,tt){var rt=et.type||"unknown-event";et.currentTarget=tt,Ub(rt,_e,void 0,et),et.currentTarget=null}function se(et,_e){_e=(_e&4)!==0;for(var tt=0;tt<et.length;tt++){var rt=et[tt],nt=rt.event;rt=rt.listeners;e:{var it=void 0;if(_e)for(var at=rt.length-1;0<=at;at--){var st=rt[at],ct=st.instance,ut=st.currentTarget;if(st=st.listener,ct!==it&&nt.isPropagationStopped())break e;nf(nt,st,ut),it=ct}else for(at=0;at<rt.length;at++){if(st=rt[at],ct=st.instance,ut=st.currentTarget,st=st.listener,ct!==it&&nt.isPropagationStopped())break e;nf(nt,st,ut),it=ct}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$3(et,_e){var tt=_e[of$1];tt===void 0&&(tt=_e[of$1]=new Set);var rt=et+"__bubble";tt.has(rt)||(pf(_e,et,2,!1),tt.add(rt))}function qf(et,_e,tt){var rt=0;_e&&(rt|=4),pf(tt,et,rt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,et),qf(tt,!0,et))});var _e=et.nodeType===9?et:et.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf(et,_e,tt,rt){switch(jd(_e)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}tt=nt.bind(null,_e,tt,et),nt=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(nt=!0),rt?nt!==void 0?et.addEventListener(_e,tt,{capture:!0,passive:nt}):et.addEventListener(_e,tt,!0):nt!==void 0?et.addEventListener(_e,tt,{passive:nt}):et.addEventListener(_e,tt,!1)}function hd(et,_e,tt,rt,nt){var it=rt;if((_e&1)===0&&(_e&2)===0&&rt!==null)e:for(;;){if(rt===null)return;var at=rt.tag;if(at===3||at===4){var st=rt.stateNode.containerInfo;if(st===nt||st.nodeType===8&&st.parentNode===nt)break;if(at===4)for(at=rt.return;at!==null;){var ct=at.tag;if((ct===3||ct===4)&&(ct=at.stateNode.containerInfo,ct===nt||ct.nodeType===8&&ct.parentNode===nt))return;at=at.return}for(;st!==null;){if(at=Wc(st),at===null)return;if(ct=at.tag,ct===5||ct===6){rt=it=at;continue e}st=st.parentNode}}rt=rt.return}Jb(function(){var ut=it,ft=xb(tt),gt=[];e:{var _t=df.get(et);if(_t!==void 0){var Et=td,$t=et;switch(et){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":Et=Rd;break;case"focusin":$t="focus",Et=Fd;break;case"focusout":$t="blur",Et=Fd;break;case"beforeblur":case"afterblur":Et=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Et=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Et=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Et=Vd;break;case $e:case af:case bf:Et=Hd;break;case cf:Et=Xd;break;case"scroll":Et=vd;break;case"wheel":Et=Zd;break;case"copy":case"cut":case"paste":Et=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Et=Td}var It=(_e&4)!==0,Tt=!It&&et==="scroll",At=It?_t!==null?_t+"Capture":null:_t;It=[];for(var Rt=ut,kt;Rt!==null;){kt=Rt;var Ot=kt.stateNode;if(kt.tag===5&&Ot!==null&&(kt=Ot,At!==null&&(Ot=Kb(Rt,At),Ot!=null&&It.push(tf(Rt,Ot,kt)))),Tt)break;Rt=Rt.return}0<It.length&&(_t=new Et(_t,$t,null,tt,ft),gt.push({event:_t,listeners:It}))}}if((_e&7)===0){e:{if(_t=et==="mouseover"||et==="pointerover",Et=et==="mouseout"||et==="pointerout",_t&&tt!==wb&&($t=tt.relatedTarget||tt.fromElement)&&(Wc($t)||$t[uf]))break e;if((Et||_t)&&(_t=ft.window===ft?ft:(_t=ft.ownerDocument)?_t.defaultView||_t.parentWindow:window,Et?($t=tt.relatedTarget||tt.toElement,Et=ut,$t=$t?Wc($t):null,$t!==null&&(Tt=Vb($t),$t!==Tt||$t.tag!==5&&$t.tag!==6)&&($t=null)):(Et=null,$t=ut),Et!==$t)){if(It=Bd,Ot="onMouseLeave",At="onMouseEnter",Rt="mouse",(et==="pointerout"||et==="pointerover")&&(It=Td,Ot="onPointerLeave",At="onPointerEnter",Rt="pointer"),Tt=Et==null?_t:ue(Et),kt=$t==null?_t:ue($t),_t=new It(Ot,Rt+"leave",Et,tt,ft),_t.target=Tt,_t.relatedTarget=kt,Ot=null,Wc(ft)===ut&&(It=new It(At,Rt+"enter",$t,tt,ft),It.target=kt,It.relatedTarget=Tt,Ot=It),Tt=Ot,Et&&$t)t:{for(It=Et,At=$t,Rt=0,kt=It;kt;kt=vf(kt))Rt++;for(kt=0,Ot=At;Ot;Ot=vf(Ot))kt++;for(;0<Rt-kt;)It=vf(It),Rt--;for(;0<kt-Rt;)At=vf(At),kt--;for(;Rt--;){if(It===At||At!==null&&It===At.alternate)break t;It=vf(It),At=vf(At)}It=null}else It=null;Et!==null&&wf(gt,_t,Et,It,!1),$t!==null&&Tt!==null&&wf(gt,Tt,$t,It,!0)}}e:{if(_t=ut?ue(ut):window,Et=_t.nodeName&&_t.nodeName.toLowerCase(),Et==="select"||Et==="input"&&_t.type==="file")var Wt=ve;else if(me(_t))if(we)Wt=Fe;else{Wt=De;var zt=Ce}else(Et=_t.nodeName)&&Et.toLowerCase()==="input"&&(_t.type==="checkbox"||_t.type==="radio")&&(Wt=Ee);if(Wt&&(Wt=Wt(et,ut))){ne(gt,Wt,tt,ft);break e}zt&&zt(et,_t,ut),et==="focusout"&&(zt=_t._wrapperState)&&zt.controlled&&_t.type==="number"&&cb(_t,"number",_t.value)}switch(zt=ut?ue(ut):window,et){case"focusin":(me(zt)||zt.contentEditable==="true")&&(Qe=zt,Re=ut,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(gt,tt,ft);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(gt,tt,ft)}var Kt;if(ae)e:{switch(et){case"compositionstart":var Jt="onCompositionStart";break e;case"compositionend":Jt="onCompositionEnd";break e;case"compositionupdate":Jt="onCompositionUpdate";break e}Jt=void 0}else ie?ge(et,tt)&&(Jt="onCompositionEnd"):et==="keydown"&&tt.keyCode===229&&(Jt="onCompositionStart");Jt&&(de$1&&tt.locale!=="ko"&&(ie||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&ie&&(Kt=nd()):(kd=ft,ld="value"in kd?kd.value:kd.textContent,ie=!0)),zt=oe(ut,Jt),0<zt.length&&(Jt=new Ld(Jt,et,null,tt,ft),gt.push({event:Jt,listeners:zt}),Kt?Jt.data=Kt:(Kt=he(tt),Kt!==null&&(Jt.data=Kt)))),(Kt=ce?je(et,tt):ke(et,tt))&&(ut=oe(ut,"onBeforeInput"),0<ut.length&&(ft=new Ld("onBeforeInput","beforeinput",null,tt,ft),gt.push({event:ft,listeners:ut}),ft.data=Kt))}se(gt,_e)})}function tf(et,_e,tt){return{instance:et,listener:_e,currentTarget:tt}}function oe(et,_e){for(var tt=_e+"Capture",rt=[];et!==null;){var nt=et,it=nt.stateNode;nt.tag===5&&it!==null&&(nt=it,it=Kb(et,tt),it!=null&&rt.unshift(tf(et,it,nt)),it=Kb(et,_e),it!=null&&rt.push(tf(et,it,nt))),et=et.return}return rt}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,_e,tt,rt,nt){for(var it=_e._reactName,at=[];tt!==null&&tt!==rt;){var st=tt,ct=st.alternate,ut=st.stateNode;if(ct!==null&&ct===rt)break;st.tag===5&&ut!==null&&(st=ut,nt?(ct=Kb(tt,it),ct!=null&&at.unshift(tf(tt,ct,st))):nt||(ct=Kb(tt,it),ct!=null&&at.push(tf(tt,ct,st)))),tt=tt.return}at.length!==0&&et.push({event:_e,listeners:at})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,_e,tt){if(_e=zf(_e),zf(et)!==_e&&tt)throw Error(p$7(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,_e){return et==="textarea"||et==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf!="undefined"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,_e){var tt=_e,rt=0;do{var nt=tt.nextSibling;if(et.removeChild(tt),nt&&nt.nodeType===8)if(tt=nt.data,tt==="/$"){if(rt===0){et.removeChild(nt),bd(_e);return}rt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||rt++;tt=nt}while(tt);bd(_e)}function Lf(et){for(;et!=null;et=et.nextSibling){var _e=et.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=et.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var _e=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(_e===0)return et;_e--}else tt==="/$"&&_e++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of$1="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var _e=et[Of];if(_e)return _e;for(var tt=et.parentNode;tt;){if(_e=tt[uf]||tt[Of]){if(tt=_e.alternate,_e.child!==null||tt!==null&&tt.child!==null)for(et=Mf(et);et!==null;){if(tt=et[Of])return tt;et=Mf(et)}return _e}et=tt,tt=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$7(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E$3(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(et,_e){Tf++,Sf[Tf]=et.current,et.current=_e}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,_e){var tt=et.type.contextTypes;if(!tt)return Vf;var rt=et.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===_e)return rt.__reactInternalMemoizedMaskedChildContext;var nt={},it;for(it in tt)nt[it]=_e[it];return rt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=_e,et.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E$3(Wf),E$3(H$3)}function ag(et,_e,tt){if(H$3.current!==Vf)throw Error(p$7(168));G$1(H$3,_e),G$1(Wf,tt)}function bg(et,_e,tt){var rt=et.stateNode;if(_e=_e.childContextTypes,typeof rt.getChildContext!="function")return tt;rt=rt.getChildContext();for(var nt in rt)if(!(nt in _e))throw Error(p$7(108,Ra(et)||"Unknown",nt));return A$6({},tt,rt)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$1(H$3,et),G$1(Wf,Wf.current),!0}function dg(et,_e,tt){var rt=et.stateNode;if(!rt)throw Error(p$7(169));tt?(et=bg(et,_e,Xf),rt.__reactInternalMemoizedMergedChildContext=et,E$3(Wf),E$3(H$3),G$1(H$3,et)):E$3(Wf),G$1(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,_e=C$3;try{var tt=eg;for(C$3=1;et<tt.length;et++){var rt=tt[et];do rt=rt(!0);while(rt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),nt}finally{C$3=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,_e){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=_e}function ug(et,_e,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var rt=rg;et=sg;var nt=32-oc(rt)-1;rt&=~(1<<nt),tt+=1;var it=32-oc(_e)+nt;if(30<it){var at=nt-nt%5;it=(rt&(1<<at)-1).toString(32),rt>>=at,nt-=at,rg=1<<32-oc(_e)+nt|tt<<nt|rt,sg=it+et}else rg=1<<it|tt<<nt|rt,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(et,_e){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=_e,tt.return=et,_e=et.deletions,_e===null?(et.deletions=[tt],et.flags|=16):_e.push(tt)}function Cg(et,_e){switch(et.tag){case 5:var tt=et.type;return _e=_e.nodeType!==1||tt.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=et.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:_e,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=_e,tt.return=et,et.child=tt,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$3){var _e=yg;if(_e){var tt=_e;if(!Cg(et,_e)){if(Dg(et))throw Error(p$7(418));_e=Lf(tt.nextSibling);var rt=xg;_e&&Cg(et,_e)?Ag(rt,tt):(et.flags=et.flags&-4097|2,I$3=!1,xg=et)}}else{if(Dg(et))throw Error(p$7(418));et.flags=et.flags&-4097|2,I$3=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$3)return Fg(et),I$3=!0,!1;var _e;if((_e=et.tag!==3)&&!(_e=et.tag!==5)&&(_e=et.type,_e=_e!=="head"&&_e!=="body"&&!Ef(et.type,et.memoizedProps)),_e&&(_e=yg)){if(Dg(et))throw Hg(),Error(p$7(418));for(;_e;)Ag(et,_e),_e=Lf(_e.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$7(317));e:{for(et=et.nextSibling,_e=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="/$"){if(_e===0){yg=Lf(et.nextSibling);break e}_e--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||_e++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,_e){if(et&&et.defaultProps){_e=A$6({},_e),et=et.defaultProps;for(var tt in et)_e[tt]===void 0&&(_e[tt]=et[tt]);return _e}return _e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(et){var _e=Mg.current;E$3(Mg),et._currentValue=_e}function Sg(et,_e,tt){for(;et!==null;){var rt=et.alternate;if((et.childLanes&_e)!==_e?(et.childLanes|=_e,rt!==null&&(rt.childLanes|=_e)):rt!==null&&(rt.childLanes&_e)!==_e&&(rt.childLanes|=_e),et===tt)break;et=et.return}}function Tg(et,_e){Ng=et,Pg=Og=null,et=et.dependencies,et!==null&&et.firstContext!==null&&((et.lanes&_e)!==0&&(Ug=!0),et.firstContext=null)}function Vg(et){var _e=et._currentValue;if(Pg!==et)if(et={context:et,memoizedValue:_e,next:null},Og===null){if(Ng===null)throw Error(p$7(308));Og=et,Ng.dependencies={lanes:0,firstContext:et}}else Og=Og.next=et;return _e}var Wg=null;function Xg(et){Wg===null?Wg=[et]:Wg.push(et)}function Yg(et,_e,tt,rt){var nt=_e.interleaved;return nt===null?(tt.next=tt,Xg(_e)):(tt.next=nt.next,nt.next=tt),_e.interleaved=tt,Zg(et,rt)}function Zg(et,_e){et.lanes|=_e;var tt=et.alternate;for(tt!==null&&(tt.lanes|=_e),tt=et,et=et.return;et!==null;)et.childLanes|=_e,tt=et.alternate,tt!==null&&(tt.childLanes|=_e),tt=et,et=et.return;return tt.tag===3?tt.stateNode:null}var $g=!1;function ah(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(et,_e){et=et.updateQueue,_e.updateQueue===et&&(_e.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function ch(et,_e){return{eventTime:et,lane:_e,tag:0,payload:null,callback:null,next:null}}function dh(et,_e,tt){var rt=et.updateQueue;if(rt===null)return null;if(rt=rt.shared,(K$2&2)!==0){var nt=rt.pending;return nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),rt.pending=_e,Zg(et,tt)}return nt=rt.interleaved,nt===null?(_e.next=_e,Xg(rt)):(_e.next=nt.next,nt.next=_e),rt.interleaved=_e,Zg(et,tt)}function eh(et,_e,tt){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(tt&4194240)!==0)){var rt=_e.lanes;rt&=et.pendingLanes,tt|=rt,_e.lanes=tt,Cc(et,tt)}}function fh(et,_e){var tt=et.updateQueue,rt=et.alternate;if(rt!==null&&(rt=rt.updateQueue,tt===rt)){var nt=null,it=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var at={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};it===null?nt=it=at:it=it.next=at,tt=tt.next}while(tt!==null);it===null?nt=it=_e:it=it.next=_e}else nt=it=_e;tt={baseState:rt.baseState,firstBaseUpdate:nt,lastBaseUpdate:it,shared:rt.shared,effects:rt.effects},et.updateQueue=tt;return}et=tt.lastBaseUpdate,et===null?tt.firstBaseUpdate=_e:et.next=_e,tt.lastBaseUpdate=_e}function gh(et,_e,tt,rt){var nt=et.updateQueue;$g=!1;var it=nt.firstBaseUpdate,at=nt.lastBaseUpdate,st=nt.shared.pending;if(st!==null){nt.shared.pending=null;var ct=st,ut=ct.next;ct.next=null,at===null?it=ut:at.next=ut,at=ct;var ft=et.alternate;ft!==null&&(ft=ft.updateQueue,st=ft.lastBaseUpdate,st!==at&&(st===null?ft.firstBaseUpdate=ut:st.next=ut,ft.lastBaseUpdate=ct))}if(it!==null){var gt=nt.baseState;at=0,ft=ut=ct=null,st=it;do{var _t=st.lane,Et=st.eventTime;if((rt&_t)===_t){ft!==null&&(ft=ft.next={eventTime:Et,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var $t=et,It=st;switch(_t=_e,Et=tt,It.tag){case 1:if($t=It.payload,typeof $t=="function"){gt=$t.call(Et,gt,_t);break e}gt=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=It.payload,_t=typeof $t=="function"?$t.call(Et,gt,_t):$t,_t==null)break e;gt=A$6({},gt,_t);break e;case 2:$g=!0}}st.callback!==null&&st.lane!==0&&(et.flags|=64,_t=nt.effects,_t===null?nt.effects=[st]:_t.push(st))}else Et={eventTime:Et,lane:_t,tag:st.tag,payload:st.payload,callback:st.callback,next:null},ft===null?(ut=ft=Et,ct=gt):ft=ft.next=Et,at|=_t;if(st=st.next,st===null){if(st=nt.shared.pending,st===null)break;_t=st,st=_t.next,_t.next=null,nt.lastBaseUpdate=_t,nt.shared.pending=null}}while(1);if(ft===null&&(ct=gt),nt.baseState=ct,nt.firstBaseUpdate=ut,nt.lastBaseUpdate=ft,_e=nt.shared.interleaved,_e!==null){nt=_e;do at|=nt.lane,nt=nt.next;while(nt!==_e)}else it===null&&(nt.shared.lanes=0);hh|=at,et.lanes=at,et.memoizedState=gt}}function ih(et,_e,tt){if(et=_e.effects,_e.effects=null,et!==null)for(_e=0;_e<et.length;_e++){var rt=et[_e],nt=rt.callback;if(nt!==null){if(rt.callback=null,rt=tt,typeof nt!="function")throw Error(p$7(191,nt));nt.call(rt)}}}var jh=new aa.Component().refs;function kh(et,_e,tt,rt){_e=et.memoizedState,tt=tt(rt,_e),tt=tt==null?_e:A$6({},_e,tt),et.memoizedState=tt,et.lanes===0&&(et.updateQueue.baseState=tt)}var nh={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,_e,tt){et=et._reactInternals;var rt=L$3(),nt=lh(et),it=ch(rt,nt);it.payload=_e,tt!=null&&(it.callback=tt),_e=dh(et,it,nt),_e!==null&&(mh(_e,et,nt,rt),eh(_e,et,nt))},enqueueReplaceState:function(et,_e,tt){et=et._reactInternals;var rt=L$3(),nt=lh(et),it=ch(rt,nt);it.tag=1,it.payload=_e,tt!=null&&(it.callback=tt),_e=dh(et,it,nt),_e!==null&&(mh(_e,et,nt,rt),eh(_e,et,nt))},enqueueForceUpdate:function(et,_e){et=et._reactInternals;var tt=L$3(),rt=lh(et),nt=ch(tt,rt);nt.tag=2,_e!=null&&(nt.callback=_e),_e=dh(et,nt,rt),_e!==null&&(mh(_e,et,rt,tt),eh(_e,et,rt))}};function oh(et,_e,tt,rt,nt,it,at){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(rt,it,at):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(tt,rt)||!Ie(nt,it):!0}function ph(et,_e,tt){var rt=!1,nt=Vf,it=_e.contextType;return typeof it=="object"&&it!==null?it=Vg(it):(nt=Zf(_e)?Xf:H$3.current,rt=_e.contextTypes,it=(rt=rt!=null)?Yf(et,nt):Vf),_e=new _e(tt,it),et.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=nh,et.stateNode=_e,_e._reactInternals=et,rt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=nt,et.__reactInternalMemoizedMaskedChildContext=it),_e}function qh(et,_e,tt,rt){et=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(tt,rt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(tt,rt),_e.state!==et&&nh.enqueueReplaceState(_e,_e.state,null)}function rh$1(et,_e,tt,rt){var nt=et.stateNode;nt.props=tt,nt.state=et.memoizedState,nt.refs=jh,ah(et);var it=_e.contextType;typeof it=="object"&&it!==null?nt.context=Vg(it):(it=Zf(_e)?Xf:H$3.current,nt.context=Yf(et,it)),nt.state=et.memoizedState,it=_e.getDerivedStateFromProps,typeof it=="function"&&(kh(et,_e,it,tt),nt.state=et.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(_e=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),_e!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh(et,tt,nt,rt),nt.state=et.memoizedState),typeof nt.componentDidMount=="function"&&(et.flags|=4194308)}function sh$1(et,_e,tt){if(et=tt.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$7(309));var rt=tt.stateNode}if(!rt)throw Error(p$7(147,et));var nt=rt,it=""+et;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===it?_e.ref:(_e=function(at){var st=nt.refs;st===jh&&(st=nt.refs={}),at===null?delete st[it]:st[it]=at},_e._stringRef=it,_e)}if(typeof et!="string")throw Error(p$7(284));if(!tt._owner)throw Error(p$7(290,et))}return et}function th(et,_e){throw et=Object.prototype.toString.call(_e),Error(p$7(31,et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et))}function uh(et){var _e=et._init;return _e(et._payload)}function vh(et){function _e(At,Rt){if(et){var kt=At.deletions;kt===null?(At.deletions=[Rt],At.flags|=16):kt.push(Rt)}}function tt(At,Rt){if(!et)return null;for(;Rt!==null;)_e(At,Rt),Rt=Rt.sibling;return null}function rt(At,Rt){for(At=new Map;Rt!==null;)Rt.key!==null?At.set(Rt.key,Rt):At.set(Rt.index,Rt),Rt=Rt.sibling;return At}function nt(At,Rt){return At=wh(At,Rt),At.index=0,At.sibling=null,At}function it(At,Rt,kt){return At.index=kt,et?(kt=At.alternate,kt!==null?(kt=kt.index,kt<Rt?(At.flags|=2,Rt):kt):(At.flags|=2,Rt)):(At.flags|=1048576,Rt)}function at(At){return et&&At.alternate===null&&(At.flags|=2),At}function st(At,Rt,kt,Ot){return Rt===null||Rt.tag!==6?(Rt=xh(kt,At.mode,Ot),Rt.return=At,Rt):(Rt=nt(Rt,kt),Rt.return=At,Rt)}function ct(At,Rt,kt,Ot){var Wt=kt.type;return Wt===ya?ft(At,Rt,kt.props.children,Ot,kt.key):Rt!==null&&(Rt.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===Ha&&uh(Wt)===Rt.type)?(Ot=nt(Rt,kt.props),Ot.ref=sh$1(At,Rt,kt),Ot.return=At,Ot):(Ot=yh(kt.type,kt.key,kt.props,null,At.mode,Ot),Ot.ref=sh$1(At,Rt,kt),Ot.return=At,Ot)}function ut(At,Rt,kt,Ot){return Rt===null||Rt.tag!==4||Rt.stateNode.containerInfo!==kt.containerInfo||Rt.stateNode.implementation!==kt.implementation?(Rt=zh$1(kt,At.mode,Ot),Rt.return=At,Rt):(Rt=nt(Rt,kt.children||[]),Rt.return=At,Rt)}function ft(At,Rt,kt,Ot,Wt){return Rt===null||Rt.tag!==7?(Rt=Ah(kt,At.mode,Ot,Wt),Rt.return=At,Rt):(Rt=nt(Rt,kt),Rt.return=At,Rt)}function gt(At,Rt,kt){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number")return Rt=xh(""+Rt,At.mode,kt),Rt.return=At,Rt;if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case va:return kt=yh(Rt.type,Rt.key,Rt.props,null,At.mode,kt),kt.ref=sh$1(At,null,Rt),kt.return=At,kt;case wa:return Rt=zh$1(Rt,At.mode,kt),Rt.return=At,Rt;case Ha:var Ot=Rt._init;return gt(At,Ot(Rt._payload),kt)}if(eb(Rt)||Ka(Rt))return Rt=Ah(Rt,At.mode,kt,null),Rt.return=At,Rt;th(At,Rt)}return null}function _t(At,Rt,kt,Ot){var Wt=Rt!==null?Rt.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number")return Wt!==null?null:st(At,Rt,""+kt,Ot);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:return kt.key===Wt?ct(At,Rt,kt,Ot):null;case wa:return kt.key===Wt?ut(At,Rt,kt,Ot):null;case Ha:return Wt=kt._init,_t(At,Rt,Wt(kt._payload),Ot)}if(eb(kt)||Ka(kt))return Wt!==null?null:ft(At,Rt,kt,Ot,null);th(At,kt)}return null}function Et(At,Rt,kt,Ot,Wt){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return At=At.get(kt)||null,st(Rt,At,""+Ot,Wt);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:return At=At.get(Ot.key===null?kt:Ot.key)||null,ct(Rt,At,Ot,Wt);case wa:return At=At.get(Ot.key===null?kt:Ot.key)||null,ut(Rt,At,Ot,Wt);case Ha:var zt=Ot._init;return Et(At,Rt,kt,zt(Ot._payload),Wt)}if(eb(Ot)||Ka(Ot))return At=At.get(kt)||null,ft(Rt,At,Ot,Wt,null);th(Rt,Ot)}return null}function $t(At,Rt,kt,Ot){for(var Wt=null,zt=null,Kt=Rt,Jt=Rt=0,ar=null;Kt!==null&&Jt<kt.length;Jt++){Kt.index>Jt?(ar=Kt,Kt=null):ar=Kt.sibling;var jt=_t(At,Kt,kt[Jt],Ot);if(jt===null){Kt===null&&(Kt=ar);break}et&&Kt&&jt.alternate===null&&_e(At,Kt),Rt=it(jt,Rt,Jt),zt===null?Wt=jt:zt.sibling=jt,zt=jt,Kt=ar}if(Jt===kt.length)return tt(At,Kt),I$3&&tg(At,Jt),Wt;if(Kt===null){for(;Jt<kt.length;Jt++)Kt=gt(At,kt[Jt],Ot),Kt!==null&&(Rt=it(Kt,Rt,Jt),zt===null?Wt=Kt:zt.sibling=Kt,zt=Kt);return I$3&&tg(At,Jt),Wt}for(Kt=rt(At,Kt);Jt<kt.length;Jt++)ar=Et(Kt,At,Jt,kt[Jt],Ot),ar!==null&&(et&&ar.alternate!==null&&Kt.delete(ar.key===null?Jt:ar.key),Rt=it(ar,Rt,Jt),zt===null?Wt=ar:zt.sibling=ar,zt=ar);return et&&Kt.forEach(function(Ct){return _e(At,Ct)}),I$3&&tg(At,Jt),Wt}function It(At,Rt,kt,Ot){var Wt=Ka(kt);if(typeof Wt!="function")throw Error(p$7(150));if(kt=Wt.call(kt),kt==null)throw Error(p$7(151));for(var zt=Wt=null,Kt=Rt,Jt=Rt=0,ar=null,jt=kt.next();Kt!==null&&!jt.done;Jt++,jt=kt.next()){Kt.index>Jt?(ar=Kt,Kt=null):ar=Kt.sibling;var Ct=_t(At,Kt,jt.value,Ot);if(Ct===null){Kt===null&&(Kt=ar);break}et&&Kt&&Ct.alternate===null&&_e(At,Kt),Rt=it(Ct,Rt,Jt),zt===null?Wt=Ct:zt.sibling=Ct,zt=Ct,Kt=ar}if(jt.done)return tt(At,Kt),I$3&&tg(At,Jt),Wt;if(Kt===null){for(;!jt.done;Jt++,jt=kt.next())jt=gt(At,jt.value,Ot),jt!==null&&(Rt=it(jt,Rt,Jt),zt===null?Wt=jt:zt.sibling=jt,zt=jt);return I$3&&tg(At,Jt),Wt}for(Kt=rt(At,Kt);!jt.done;Jt++,jt=kt.next())jt=Et(Kt,At,Jt,jt.value,Ot),jt!==null&&(et&&jt.alternate!==null&&Kt.delete(jt.key===null?Jt:jt.key),Rt=it(jt,Rt,Jt),zt===null?Wt=jt:zt.sibling=jt,zt=jt);return et&&Kt.forEach(function(Nt){return _e(At,Nt)}),I$3&&tg(At,Jt),Wt}function Tt(At,Rt,kt,Ot){if(typeof kt=="object"&&kt!==null&&kt.type===ya&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:e:{for(var Wt=kt.key,zt=Rt;zt!==null;){if(zt.key===Wt){if(Wt=kt.type,Wt===ya){if(zt.tag===7){tt(At,zt.sibling),Rt=nt(zt,kt.props.children),Rt.return=At,At=Rt;break e}}else if(zt.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===Ha&&uh(Wt)===zt.type){tt(At,zt.sibling),Rt=nt(zt,kt.props),Rt.ref=sh$1(At,zt,kt),Rt.return=At,At=Rt;break e}tt(At,zt);break}else _e(At,zt);zt=zt.sibling}kt.type===ya?(Rt=Ah(kt.props.children,At.mode,Ot,kt.key),Rt.return=At,At=Rt):(Ot=yh(kt.type,kt.key,kt.props,null,At.mode,Ot),Ot.ref=sh$1(At,Rt,kt),Ot.return=At,At=Ot)}return at(At);case wa:e:{for(zt=kt.key;Rt!==null;){if(Rt.key===zt)if(Rt.tag===4&&Rt.stateNode.containerInfo===kt.containerInfo&&Rt.stateNode.implementation===kt.implementation){tt(At,Rt.sibling),Rt=nt(Rt,kt.children||[]),Rt.return=At,At=Rt;break e}else{tt(At,Rt);break}else _e(At,Rt);Rt=Rt.sibling}Rt=zh$1(kt,At.mode,Ot),Rt.return=At,At=Rt}return at(At);case Ha:return zt=kt._init,Tt(At,Rt,zt(kt._payload),Ot)}if(eb(kt))return $t(At,Rt,kt,Ot);if(Ka(kt))return It(At,Rt,kt,Ot);th(At,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"?(kt=""+kt,Rt!==null&&Rt.tag===6?(tt(At,Rt.sibling),Rt=nt(Rt,kt),Rt.return=At,At=Rt):(tt(At,Rt),Rt=xh(kt,At.mode,Ot),Rt.return=At,At=Rt),at(At)):tt(At,Rt)}return Tt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(et){if(et===Dh)throw Error(p$7(174));return et}function Ih(et,_e){switch(G$1(Gh,_e),G$1(Fh,et),G$1(Eh,Dh),et=_e.nodeType,et){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:et=et===8?_e.parentNode:_e,_e=et.namespaceURI||null,et=et.tagName,_e=lb(_e,et)}E$3(Eh),G$1(Eh,_e)}function Jh(){E$3(Eh),E$3(Fh),E$3(Gh)}function Kh$1(et){Hh(Gh.current);var _e=Hh(Eh.current),tt=lb(_e,et.type);_e!==tt&&(G$1(Fh,et),G$1(Eh,tt))}function Lh(et){Fh.current===et&&(E$3(Eh),E$3(Fh))}var M$3=Uf(0);function Mh(et){for(var _e=et;_e!==null;){if(_e.tag===13){var tt=_e.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if((_e.flags&128)!==0)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Nh=[];function Oh(){for(var et=0;et<Nh.length;et++)Nh[et]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$4=null,O$2=null,P$3=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$7(321))}function Wh(et,_e){if(_e===null)return!1;for(var tt=0;tt<_e.length&&tt<et.length;tt++)if(!He(et[tt],_e[tt]))return!1;return!0}function Xh(et,_e,tt,rt,nt,it){if(Rh=it,N$4=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Ph.current=et===null||et.memoizedState===null?Yh:Zh,et=tt(rt,nt),Th){it=0;do{if(Th=!1,Uh=0,25<=it)throw Error(p$7(301));it+=1,P$3=O$2=null,_e.updateQueue=null,Ph.current=$h,et=tt(rt,nt)}while(Th)}if(Ph.current=ai,_e=O$2!==null&&O$2.next!==null,Rh=0,P$3=O$2=N$4=null,Sh=!1,_e)throw Error(p$7(300));return et}function bi(){var et=Uh!==0;return Uh=0,et}function ci(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$3===null?N$4.memoizedState=P$3=et:P$3=P$3.next=et,P$3}function di(){if(O$2===null){var et=N$4.alternate;et=et!==null?et.memoizedState:null}else et=O$2.next;var _e=P$3===null?N$4.memoizedState:P$3.next;if(_e!==null)P$3=_e,O$2=et;else{if(et===null)throw Error(p$7(310));O$2=et,et={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$3===null?N$4.memoizedState=P$3=et:P$3=P$3.next=et}return P$3}function ei(et,_e){return typeof _e=="function"?_e(et):_e}function fi(et){var _e=di(),tt=_e.queue;if(tt===null)throw Error(p$7(311));tt.lastRenderedReducer=et;var rt=O$2,nt=rt.baseQueue,it=tt.pending;if(it!==null){if(nt!==null){var at=nt.next;nt.next=it.next,it.next=at}rt.baseQueue=nt=it,tt.pending=null}if(nt!==null){it=nt.next,rt=rt.baseState;var st=at=null,ct=null,ut=it;do{var ft=ut.lane;if((Rh&ft)===ft)ct!==null&&(ct=ct.next={lane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),rt=ut.hasEagerState?ut.eagerState:et(rt,ut.action);else{var gt={lane:ft,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null};ct===null?(st=ct=gt,at=rt):ct=ct.next=gt,N$4.lanes|=ft,hh|=ft}ut=ut.next}while(ut!==null&&ut!==it);ct===null?at=rt:ct.next=st,He(rt,_e.memoizedState)||(Ug=!0),_e.memoizedState=rt,_e.baseState=at,_e.baseQueue=ct,tt.lastRenderedState=rt}if(et=tt.interleaved,et!==null){nt=et;do it=nt.lane,N$4.lanes|=it,hh|=it,nt=nt.next;while(nt!==et)}else nt===null&&(tt.lanes=0);return[_e.memoizedState,tt.dispatch]}function gi(et){var _e=di(),tt=_e.queue;if(tt===null)throw Error(p$7(311));tt.lastRenderedReducer=et;var rt=tt.dispatch,nt=tt.pending,it=_e.memoizedState;if(nt!==null){tt.pending=null;var at=nt=nt.next;do it=et(it,at.action),at=at.next;while(at!==nt);He(it,_e.memoizedState)||(Ug=!0),_e.memoizedState=it,_e.baseQueue===null&&(_e.baseState=it),tt.lastRenderedState=it}return[it,rt]}function hi(){}function ii(et,_e){var tt=N$4,rt=di(),nt=_e(),it=!He(rt.memoizedState,nt);if(it&&(rt.memoizedState=nt,Ug=!0),rt=rt.queue,ji(ki.bind(null,tt,rt,et),[et]),rt.getSnapshot!==_e||it||P$3!==null&&P$3.memoizedState.tag&1){if(tt.flags|=2048,li(9,mi.bind(null,tt,rt,nt,_e),void 0,null),R$3===null)throw Error(p$7(349));(Rh&30)!==0||ni(tt,_e,nt)}return nt}function ni(et,_e,tt){et.flags|=16384,et={getSnapshot:_e,value:tt},_e=N$4.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$4.updateQueue=_e,_e.stores=[et]):(tt=_e.stores,tt===null?_e.stores=[et]:tt.push(et))}function mi(et,_e,tt,rt){_e.value=tt,_e.getSnapshot=rt,oi(_e)&&pi(et)}function ki(et,_e,tt){return tt(function(){oi(_e)&&pi(et)})}function oi(et){var _e=et.getSnapshot;et=et.value;try{var tt=_e();return!He(et,tt)}catch{return!0}}function pi(et){var _e=Zg(et,1);_e!==null&&mh(_e,et,1,-1)}function qi(et){var _e=ci();return typeof et=="function"&&(et=et()),_e.memoizedState=_e.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:et},_e.queue=et,et=et.dispatch=ri.bind(null,N$4,et),[_e.memoizedState,et]}function li(et,_e,tt,rt){return et={tag:et,create:_e,destroy:tt,deps:rt,next:null},_e=N$4.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$4.updateQueue=_e,_e.lastEffect=et.next=et):(tt=_e.lastEffect,tt===null?_e.lastEffect=et.next=et:(rt=tt.next,tt.next=et,et.next=rt,_e.lastEffect=et)),et}function si(){return di().memoizedState}function ti(et,_e,tt,rt){var nt=ci();N$4.flags|=et,nt.memoizedState=li(1|_e,tt,void 0,rt===void 0?null:rt)}function ui(et,_e,tt,rt){var nt=di();rt=rt===void 0?null:rt;var it=void 0;if(O$2!==null){var at=O$2.memoizedState;if(it=at.destroy,rt!==null&&Wh(rt,at.deps)){nt.memoizedState=li(_e,tt,it,rt);return}}N$4.flags|=et,nt.memoizedState=li(1|_e,tt,it,rt)}function vi(et,_e){return ti(8390656,8,et,_e)}function ji(et,_e){return ui(2048,8,et,_e)}function wi(et,_e){return ui(4,2,et,_e)}function xi(et,_e){return ui(4,4,et,_e)}function yi(et,_e){if(typeof _e=="function")return et=et(),_e(et),function(){_e(null)};if(_e!=null)return et=et(),_e.current=et,function(){_e.current=null}}function zi(et,_e,tt){return tt=tt!=null?tt.concat([et]):null,ui(4,4,yi.bind(null,_e,et),tt)}function Ai(){}function Bi(et,_e){var tt=di();_e=_e===void 0?null:_e;var rt=tt.memoizedState;return rt!==null&&_e!==null&&Wh(_e,rt[1])?rt[0]:(tt.memoizedState=[et,_e],et)}function Ci(et,_e){var tt=di();_e=_e===void 0?null:_e;var rt=tt.memoizedState;return rt!==null&&_e!==null&&Wh(_e,rt[1])?rt[0]:(et=et(),tt.memoizedState=[et,_e],et)}function Di(et,_e,tt){return(Rh&21)===0?(et.baseState&&(et.baseState=!1,Ug=!0),et.memoizedState=tt):(He(tt,_e)||(tt=yc(),N$4.lanes|=tt,hh|=tt,et.baseState=!0),_e)}function Ei(et,_e){var tt=C$3;C$3=tt!==0&&4>tt?tt:4,et(!0);var rt=Qh.transition;Qh.transition={};try{et(!1),_e()}finally{C$3=tt,Qh.transition=rt}}function Fi(){return di().memoizedState}function Gi(et,_e,tt){var rt=lh(et);if(tt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null},Hi(et))Ii(_e,tt);else if(tt=Yg(et,_e,tt,rt),tt!==null){var nt=L$3();mh(tt,et,rt,nt),Ji(tt,_e,rt)}}function ri(et,_e,tt){var rt=lh(et),nt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(Hi(et))Ii(_e,nt);else{var it=et.alternate;if(et.lanes===0&&(it===null||it.lanes===0)&&(it=_e.lastRenderedReducer,it!==null))try{var at=_e.lastRenderedState,st=it(at,tt);if(nt.hasEagerState=!0,nt.eagerState=st,He(st,at)){var ct=_e.interleaved;ct===null?(nt.next=nt,Xg(_e)):(nt.next=ct.next,ct.next=nt),_e.interleaved=nt;return}}catch{}finally{}tt=Yg(et,_e,nt,rt),tt!==null&&(nt=L$3(),mh(tt,et,rt,nt),Ji(tt,_e,rt))}}function Hi(et){var _e=et.alternate;return et===N$4||_e!==null&&_e===N$4}function Ii(et,_e){Th=Sh=!0;var tt=et.pending;tt===null?_e.next=_e:(_e.next=tt.next,tt.next=_e),et.pending=_e}function Ji(et,_e,tt){if((tt&4194240)!==0){var rt=_e.lanes;rt&=et.pendingLanes,tt|=rt,_e.lanes=tt,Cc(et,tt)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(et,_e){return ci().memoizedState=[et,_e===void 0?null:_e],et},useContext:Vg,useEffect:vi,useImperativeHandle:function(et,_e,tt){return tt=tt!=null?tt.concat([et]):null,ti(4194308,4,yi.bind(null,_e,et),tt)},useLayoutEffect:function(et,_e){return ti(4194308,4,et,_e)},useInsertionEffect:function(et,_e){return ti(4,2,et,_e)},useMemo:function(et,_e){var tt=ci();return _e=_e===void 0?null:_e,et=et(),tt.memoizedState=[et,_e],et},useReducer:function(et,_e,tt){var rt=ci();return _e=tt!==void 0?tt(_e):_e,rt.memoizedState=rt.baseState=_e,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:_e},rt.queue=et,et=et.dispatch=Gi.bind(null,N$4,et),[rt.memoizedState,et]},useRef:function(et){var _e=ci();return et={current:et},_e.memoizedState=et},useState:qi,useDebugValue:Ai,useDeferredValue:function(et){return ci().memoizedState=et},useTransition:function(){var et=qi(!1),_e=et[0];return et=Ei.bind(null,et[1]),ci().memoizedState=et,[_e,et]},useMutableSource:function(){},useSyncExternalStore:function(et,_e,tt){var rt=N$4,nt=ci();if(I$3){if(tt===void 0)throw Error(p$7(407));tt=tt()}else{if(tt=_e(),R$3===null)throw Error(p$7(349));(Rh&30)!==0||ni(rt,_e,tt)}nt.memoizedState=tt;var it={value:tt,getSnapshot:_e};return nt.queue=it,vi(ki.bind(null,rt,it,et),[et]),rt.flags|=2048,li(9,mi.bind(null,rt,it,tt,_e),void 0,null),tt},useId:function(){var et=ci(),_e=R$3.identifierPrefix;if(I$3){var tt=sg,rt=rg;tt=(rt&~(1<<32-oc(rt)-1)).toString(32)+tt,_e=":"+_e+"R"+tt,tt=Uh++,0<tt&&(_e+="H"+tt.toString(32)),_e+=":"}else tt=Vh++,_e=":"+_e+"r"+tt.toString(32)+":";return et.memoizedState=_e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return Di(_e,O$2.memoizedState,et)},useTransition:function(){var et=fi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return O$2===null?_e.memoizedState=et:Di(_e,O$2.memoizedState,et)},useTransition:function(){var et=gi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(et,_e){try{var tt="",rt=_e;do tt+=Pa(rt),rt=rt.return;while(rt);var nt=tt}catch(it){nt=`
Error generating stack: `+it.message+`
`+it.stack}return{value:et,source:_e,stack:nt,digest:null}}function Li(et,_e,tt){return{value:et,source:null,stack:tt!=null?tt:null,digest:_e!=null?_e:null}}function Mi(et,_e){try{console.error(_e.value)}catch(tt){setTimeout(function(){throw tt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(et,_e,tt){tt=ch(-1,tt),tt.tag=3,tt.payload={element:null};var rt=_e.value;return tt.callback=function(){Pi||(Pi=!0,Qi=rt),Mi(et,_e)},tt}function Ri(et,_e,tt){tt=ch(-1,tt),tt.tag=3;var rt=et.type.getDerivedStateFromError;if(typeof rt=="function"){var nt=_e.value;tt.payload=function(){return rt(nt)},tt.callback=function(){Mi(et,_e)}}var it=et.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(tt.callback=function(){Mi(et,_e),typeof rt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var at=_e.stack;this.componentDidCatch(_e.value,{componentStack:at!==null?at:""})}),tt}function Ti(et,_e,tt){var rt=et.pingCache;if(rt===null){rt=et.pingCache=new Ni;var nt=new Set;rt.set(_e,nt)}else nt=rt.get(_e),nt===void 0&&(nt=new Set,rt.set(_e,nt));nt.has(tt)||(nt.add(tt),et=Ui.bind(null,et,_e,tt),_e.then(et,et))}function Vi(et){do{var _e;if((_e=et.tag===13)&&(_e=et.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return et;et=et.return}while(et!==null);return null}function Wi(et,_e,tt,rt,nt){return(et.mode&1)===0?(et===_e?et.flags|=65536:(et.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(_e=ch(-1,1),_e.tag=2,dh(tt,_e,1))),tt.lanes|=1),et):(et.flags|=65536,et.lanes=nt,et)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(et,_e,tt,rt){_e.child=et===null?Ch(_e,null,tt,rt):Bh(_e,et.child,tt,rt)}function Zi(et,_e,tt,rt,nt){tt=tt.render;var it=_e.ref;return Tg(_e,nt),rt=Xh(et,_e,tt,rt,it,nt),tt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~nt,$i(et,_e,nt)):(I$3&&tt&&vg(_e),_e.flags|=1,Yi(et,_e,rt,nt),_e.child)}function aj(et,_e,tt,rt,nt){if(et===null){var it=tt.type;return typeof it=="function"&&!bj(it)&&it.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(_e.tag=15,_e.type=it,cj(et,_e,it,rt,nt)):(et=yh(tt.type,null,rt,_e,_e.mode,nt),et.ref=_e.ref,et.return=_e,_e.child=et)}if(it=et.child,(et.lanes&nt)===0){var at=it.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie,tt(at,rt)&&et.ref===_e.ref)return $i(et,_e,nt)}return _e.flags|=1,et=wh(it,rt),et.ref=_e.ref,et.return=_e,_e.child=et}function cj(et,_e,tt,rt,nt){if(et!==null){var it=et.memoizedProps;if(Ie(it,rt)&&et.ref===_e.ref)if(Ug=!1,_e.pendingProps=rt=it,(et.lanes&nt)!==0)(et.flags&131072)!==0&&(Ug=!0);else return _e.lanes=et.lanes,$i(et,_e,nt)}return dj(et,_e,tt,rt,nt)}function ej(et,_e,tt){var rt=_e.pendingProps,nt=rt.children,it=et!==null?et.memoizedState:null;if(rt.mode==="hidden")if((_e.mode&1)===0)_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=tt;else{if((tt&1073741824)===0)return et=it!==null?it.baseLanes|tt:tt,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:et,cachePool:null,transitions:null},_e.updateQueue=null,G$1(fj,gj),gj|=et,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt=it!==null?it.baseLanes:tt,G$1(fj,gj),gj|=rt}else it!==null?(rt=it.baseLanes|tt,_e.memoizedState=null):rt=tt,G$1(fj,gj),gj|=rt;return Yi(et,_e,nt,tt),_e.child}function hj(et,_e){var tt=_e.ref;(et===null&&tt!==null||et!==null&&et.ref!==tt)&&(_e.flags|=512,_e.flags|=2097152)}function dj(et,_e,tt,rt,nt){var it=Zf(tt)?Xf:H$3.current;return it=Yf(_e,it),Tg(_e,nt),tt=Xh(et,_e,tt,rt,it,nt),rt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~nt,$i(et,_e,nt)):(I$3&&rt&&vg(_e),_e.flags|=1,Yi(et,_e,tt,nt),_e.child)}function ij(et,_e,tt,rt,nt){if(Zf(tt)){var it=!0;cg(_e)}else it=!1;if(Tg(_e,nt),_e.stateNode===null)jj(et,_e),ph(_e,tt,rt),rh$1(_e,tt,rt,nt),rt=!0;else if(et===null){var at=_e.stateNode,st=_e.memoizedProps;at.props=st;var ct=at.context,ut=tt.contextType;typeof ut=="object"&&ut!==null?ut=Vg(ut):(ut=Zf(tt)?Xf:H$3.current,ut=Yf(_e,ut));var ft=tt.getDerivedStateFromProps,gt=typeof ft=="function"||typeof at.getSnapshotBeforeUpdate=="function";gt||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(st!==rt||ct!==ut)&&qh(_e,at,rt,ut),$g=!1;var _t=_e.memoizedState;at.state=_t,gh(_e,rt,at,nt),ct=_e.memoizedState,st!==rt||_t!==ct||Wf.current||$g?(typeof ft=="function"&&(kh(_e,tt,ft,rt),ct=_e.memoizedState),(st=$g||oh(_e,tt,st,rt,_t,ct,ut))?(gt||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount()),typeof at.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof at.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=rt,_e.memoizedState=ct),at.props=rt,at.state=ct,at.context=ut,rt=st):(typeof at.componentDidMount=="function"&&(_e.flags|=4194308),rt=!1)}else{at=_e.stateNode,bh(et,_e),st=_e.memoizedProps,ut=_e.type===_e.elementType?st:Lg(_e.type,st),at.props=ut,gt=_e.pendingProps,_t=at.context,ct=tt.contextType,typeof ct=="object"&&ct!==null?ct=Vg(ct):(ct=Zf(tt)?Xf:H$3.current,ct=Yf(_e,ct));var Et=tt.getDerivedStateFromProps;(ft=typeof Et=="function"||typeof at.getSnapshotBeforeUpdate=="function")||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(st!==gt||_t!==ct)&&qh(_e,at,rt,ct),$g=!1,_t=_e.memoizedState,at.state=_t,gh(_e,rt,at,nt);var $t=_e.memoizedState;st!==gt||_t!==$t||Wf.current||$g?(typeof Et=="function"&&(kh(_e,tt,Et,rt),$t=_e.memoizedState),(ut=$g||oh(_e,tt,ut,rt,_t,$t,ct)||!1)?(ft||typeof at.UNSAFE_componentWillUpdate!="function"&&typeof at.componentWillUpdate!="function"||(typeof at.componentWillUpdate=="function"&&at.componentWillUpdate(rt,$t,ct),typeof at.UNSAFE_componentWillUpdate=="function"&&at.UNSAFE_componentWillUpdate(rt,$t,ct)),typeof at.componentDidUpdate=="function"&&(_e.flags|=4),typeof at.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof at.componentDidUpdate!="function"||st===et.memoizedProps&&_t===et.memoizedState||(_e.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||st===et.memoizedProps&&_t===et.memoizedState||(_e.flags|=1024),_e.memoizedProps=rt,_e.memoizedState=$t),at.props=rt,at.state=$t,at.context=ct,rt=ut):(typeof at.componentDidUpdate!="function"||st===et.memoizedProps&&_t===et.memoizedState||(_e.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||st===et.memoizedProps&&_t===et.memoizedState||(_e.flags|=1024),rt=!1)}return kj(et,_e,tt,rt,it,nt)}function kj(et,_e,tt,rt,nt,it){hj(et,_e);var at=(_e.flags&128)!==0;if(!rt&&!at)return nt&&dg(_e,tt,!1),$i(et,_e,it);rt=_e.stateNode,Xi.current=_e;var st=at&&typeof tt.getDerivedStateFromError!="function"?null:rt.render();return _e.flags|=1,et!==null&&at?(_e.child=Bh(_e,et.child,null,it),_e.child=Bh(_e,null,st,it)):Yi(et,_e,st,it),_e.memoizedState=rt.state,nt&&dg(_e,tt,!0),_e.child}function lj(et){var _e=et.stateNode;_e.pendingContext?ag(et,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag(et,_e.context,!1),Ih(et,_e.containerInfo)}function mj(et,_e,tt,rt,nt){return Ig(),Jg(nt),_e.flags|=256,Yi(et,_e,tt,rt),_e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(et){return{baseLanes:et,cachePool:null,transitions:null}}function pj(et,_e,tt){var rt=_e.pendingProps,nt=M$3.current,it=!1,at=(_e.flags&128)!==0,st;if((st=at)||(st=et!==null&&et.memoizedState===null?!1:(nt&2)!==0),st?(it=!0,_e.flags&=-129):(et===null||et.memoizedState!==null)&&(nt|=1),G$1(M$3,nt&1),et===null)return Eg(_e),et=_e.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?((_e.mode&1)===0?_e.lanes=1:et.data==="$!"?_e.lanes=8:_e.lanes=1073741824,null):(at=rt.children,et=rt.fallback,it?(rt=_e.mode,it=_e.child,at={mode:"hidden",children:at},(rt&1)===0&&it!==null?(it.childLanes=0,it.pendingProps=at):it=qj(at,rt,0,null),et=Ah(et,rt,tt,null),it.return=_e,et.return=_e,it.sibling=et,_e.child=it,_e.child.memoizedState=oj(tt),_e.memoizedState=nj,et):rj(_e,at));if(nt=et.memoizedState,nt!==null&&(st=nt.dehydrated,st!==null))return sj(et,_e,at,rt,st,nt,tt);if(it){it=rt.fallback,at=_e.mode,nt=et.child,st=nt.sibling;var ct={mode:"hidden",children:rt.children};return(at&1)===0&&_e.child!==nt?(rt=_e.child,rt.childLanes=0,rt.pendingProps=ct,_e.deletions=null):(rt=wh(nt,ct),rt.subtreeFlags=nt.subtreeFlags&14680064),st!==null?it=wh(st,it):(it=Ah(it,at,tt,null),it.flags|=2),it.return=_e,rt.return=_e,rt.sibling=it,_e.child=rt,rt=it,it=_e.child,at=et.child.memoizedState,at=at===null?oj(tt):{baseLanes:at.baseLanes|tt,cachePool:null,transitions:at.transitions},it.memoizedState=at,it.childLanes=et.childLanes&~tt,_e.memoizedState=nj,rt}return it=et.child,et=it.sibling,rt=wh(it,{mode:"visible",children:rt.children}),(_e.mode&1)===0&&(rt.lanes=tt),rt.return=_e,rt.sibling=null,et!==null&&(tt=_e.deletions,tt===null?(_e.deletions=[et],_e.flags|=16):tt.push(et)),_e.child=rt,_e.memoizedState=null,rt}function rj(et,_e){return _e=qj({mode:"visible",children:_e},et.mode,0,null),_e.return=et,et.child=_e}function tj(et,_e,tt,rt){return rt!==null&&Jg(rt),Bh(_e,et.child,null,tt),et=rj(_e,_e.pendingProps.children),et.flags|=2,_e.memoizedState=null,et}function sj(et,_e,tt,rt,nt,it,at){if(tt)return _e.flags&256?(_e.flags&=-257,rt=Li(Error(p$7(422))),tj(et,_e,at,rt)):_e.memoizedState!==null?(_e.child=et.child,_e.flags|=128,null):(it=rt.fallback,nt=_e.mode,rt=qj({mode:"visible",children:rt.children},nt,0,null),it=Ah(it,nt,at,null),it.flags|=2,rt.return=_e,it.return=_e,rt.sibling=it,_e.child=rt,(_e.mode&1)!==0&&Bh(_e,et.child,null,at),_e.child.memoizedState=oj(at),_e.memoizedState=nj,it);if((_e.mode&1)===0)return tj(et,_e,at,null);if(nt.data==="$!"){if(rt=nt.nextSibling&&nt.nextSibling.dataset,rt)var st=rt.dgst;return rt=st,it=Error(p$7(419)),rt=Li(it,rt,void 0),tj(et,_e,at,rt)}if(st=(at&et.childLanes)!==0,Ug||st){if(rt=R$3,rt!==null){switch(at&-at){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=(nt&(rt.suspendedLanes|at))!==0?0:nt,nt!==0&&nt!==it.retryLane&&(it.retryLane=nt,Zg(et,nt),mh(rt,et,nt,-1))}return uj(),rt=Li(Error(p$7(421))),tj(et,_e,at,rt)}return nt.data==="$?"?(_e.flags|=128,_e.child=et.child,_e=vj.bind(null,et),nt._reactRetry=_e,null):(et=it.treeContext,yg=Lf(nt.nextSibling),xg=_e,I$3=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=_e),_e=rj(_e,rt.children),_e.flags|=4096,_e)}function wj(et,_e,tt){et.lanes|=_e;var rt=et.alternate;rt!==null&&(rt.lanes|=_e),Sg(et.return,_e,tt)}function xj(et,_e,tt,rt,nt){var it=et.memoizedState;it===null?et.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:rt,tail:tt,tailMode:nt}:(it.isBackwards=_e,it.rendering=null,it.renderingStartTime=0,it.last=rt,it.tail=tt,it.tailMode=nt)}function yj(et,_e,tt){var rt=_e.pendingProps,nt=rt.revealOrder,it=rt.tail;if(Yi(et,_e,rt.children,tt),rt=M$3.current,(rt&2)!==0)rt=rt&1|2,_e.flags|=128;else{if(et!==null&&(et.flags&128)!==0)e:for(et=_e.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&wj(et,tt,_e);else if(et.tag===19)wj(et,tt,_e);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break e;for(;et.sibling===null;){if(et.return===null||et.return===_e)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}rt&=1}if(G$1(M$3,rt),(_e.mode&1)===0)_e.memoizedState=null;else switch(nt){case"forwards":for(tt=_e.child,nt=null;tt!==null;)et=tt.alternate,et!==null&&Mh(et)===null&&(nt=tt),tt=tt.sibling;tt=nt,tt===null?(nt=_e.child,_e.child=null):(nt=tt.sibling,tt.sibling=null),xj(_e,!1,nt,tt,it);break;case"backwards":for(tt=null,nt=_e.child,_e.child=null;nt!==null;){if(et=nt.alternate,et!==null&&Mh(et)===null){_e.child=nt;break}et=nt.sibling,nt.sibling=tt,tt=nt,nt=et}xj(_e,!0,tt,null,it);break;case"together":xj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function jj(et,_e){(_e.mode&1)===0&&et!==null&&(et.alternate=null,_e.alternate=null,_e.flags|=2)}function $i(et,_e,tt){if(et!==null&&(_e.dependencies=et.dependencies),hh|=_e.lanes,(tt&_e.childLanes)===0)return null;if(et!==null&&_e.child!==et.child)throw Error(p$7(153));if(_e.child!==null){for(et=_e.child,tt=wh(et,et.pendingProps),_e.child=tt,tt.return=_e;et.sibling!==null;)et=et.sibling,tt=tt.sibling=wh(et,et.pendingProps),tt.return=_e;tt.sibling=null}return _e.child}function zj(et,_e,tt){switch(_e.tag){case 3:lj(_e),Ig();break;case 5:Kh$1(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:Ih(_e,_e.stateNode.containerInfo);break;case 10:var rt=_e.type._context,nt=_e.memoizedProps.value;G$1(Mg,rt._currentValue),rt._currentValue=nt;break;case 13:if(rt=_e.memoizedState,rt!==null)return rt.dehydrated!==null?(G$1(M$3,M$3.current&1),_e.flags|=128,null):(tt&_e.child.childLanes)!==0?pj(et,_e,tt):(G$1(M$3,M$3.current&1),et=$i(et,_e,tt),et!==null?et.sibling:null);G$1(M$3,M$3.current&1);break;case 19:if(rt=(tt&_e.childLanes)!==0,(et.flags&128)!==0){if(rt)return yj(et,_e,tt);_e.flags|=128}if(nt=_e.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(M$3,M$3.current),rt)break;return null;case 22:case 23:return _e.lanes=0,ej(et,_e,tt)}return $i(et,_e,tt)}var Aj,Bj,Cj,Dj;Aj=function(et,_e){for(var tt=_e.child;tt!==null;){if(tt.tag===5||tt.tag===6)et.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===_e)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Bj=function(){};Cj=function(et,_e,tt,rt){var nt=et.memoizedProps;if(nt!==rt){et=_e.stateNode,Hh(Eh.current);var it=null;switch(tt){case"input":nt=Ya(et,nt),rt=Ya(et,rt),it=[];break;case"select":nt=A$6({},nt,{value:void 0}),rt=A$6({},rt,{value:void 0}),it=[];break;case"textarea":nt=gb(et,nt),rt=gb(et,rt),it=[];break;default:typeof nt.onClick!="function"&&typeof rt.onClick=="function"&&(et.onclick=Bf)}ub(tt,rt);var at;tt=null;for(ut in nt)if(!rt.hasOwnProperty(ut)&&nt.hasOwnProperty(ut)&&nt[ut]!=null)if(ut==="style"){var st=nt[ut];for(at in st)st.hasOwnProperty(at)&&(tt||(tt={}),tt[at]="")}else ut!=="dangerouslySetInnerHTML"&&ut!=="children"&&ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(ea.hasOwnProperty(ut)?it||(it=[]):(it=it||[]).push(ut,null));for(ut in rt){var ct=rt[ut];if(st=nt!=null?nt[ut]:void 0,rt.hasOwnProperty(ut)&&ct!==st&&(ct!=null||st!=null))if(ut==="style")if(st){for(at in st)!st.hasOwnProperty(at)||ct&&ct.hasOwnProperty(at)||(tt||(tt={}),tt[at]="");for(at in ct)ct.hasOwnProperty(at)&&st[at]!==ct[at]&&(tt||(tt={}),tt[at]=ct[at])}else tt||(it||(it=[]),it.push(ut,tt)),tt=ct;else ut==="dangerouslySetInnerHTML"?(ct=ct?ct.__html:void 0,st=st?st.__html:void 0,ct!=null&&st!==ct&&(it=it||[]).push(ut,ct)):ut==="children"?typeof ct!="string"&&typeof ct!="number"||(it=it||[]).push(ut,""+ct):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ut)?(ct!=null&&ut==="onScroll"&&D$3("scroll",et),it||st===ct||(it=[])):(it=it||[]).push(ut,ct))}tt&&(it=it||[]).push("style",tt);var ut=it;(_e.updateQueue=ut)&&(_e.flags|=4)}};Dj=function(et,_e,tt,rt){tt!==rt&&(_e.flags|=4)};function Ej(et,_e){if(!I$3)switch(et.tailMode){case"hidden":_e=et.tail;for(var tt=null;_e!==null;)_e.alternate!==null&&(tt=_e),_e=_e.sibling;tt===null?et.tail=null:tt.sibling=null;break;case"collapsed":tt=et.tail;for(var rt=null;tt!==null;)tt.alternate!==null&&(rt=tt),tt=tt.sibling;rt===null?_e||et.tail===null?et.tail=null:et.tail.sibling=null:rt.sibling=null}}function S$2(et){var _e=et.alternate!==null&&et.alternate.child===et.child,tt=0,rt=0;if(_e)for(var nt=et.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags&14680064,rt|=nt.flags&14680064,nt.return=et,nt=nt.sibling;else for(nt=et.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags,rt|=nt.flags,nt.return=et,nt=nt.sibling;return et.subtreeFlags|=rt,et.childLanes=tt,_e}function Fj(et,_e,tt){var rt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(_e),null;case 1:return Zf(_e.type)&&$f(),S$2(_e),null;case 3:return rt=_e.stateNode,Jh(),E$3(Wf),E$3(H$3),Oh(),rt.pendingContext&&(rt.context=rt.pendingContext,rt.pendingContext=null),(et===null||et.child===null)&&(Gg(_e)?_e.flags|=4:et===null||et.memoizedState.isDehydrated&&(_e.flags&256)===0||(_e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(et,_e),S$2(_e),null;case 5:Lh(_e);var nt=Hh(Gh.current);if(tt=_e.type,et!==null&&_e.stateNode!=null)Cj(et,_e,tt,rt,nt),et.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!rt){if(_e.stateNode===null)throw Error(p$7(166));return S$2(_e),null}if(et=Hh(Eh.current),Gg(_e)){rt=_e.stateNode,tt=_e.type;var it=_e.memoizedProps;switch(rt[Of]=_e,rt[Pf]=it,et=(_e.mode&1)!==0,tt){case"dialog":D$3("cancel",rt),D$3("close",rt);break;case"iframe":case"object":case"embed":D$3("load",rt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$3(lf[nt],rt);break;case"source":D$3("error",rt);break;case"img":case"image":case"link":D$3("error",rt),D$3("load",rt);break;case"details":D$3("toggle",rt);break;case"input":Za(rt,it),D$3("invalid",rt);break;case"select":rt._wrapperState={wasMultiple:!!it.multiple},D$3("invalid",rt);break;case"textarea":hb(rt,it),D$3("invalid",rt)}ub(tt,it),nt=null;for(var at in it)if(it.hasOwnProperty(at)){var st=it[at];at==="children"?typeof st=="string"?rt.textContent!==st&&(it.suppressHydrationWarning!==!0&&Af(rt.textContent,st,et),nt=["children",st]):typeof st=="number"&&rt.textContent!==""+st&&(it.suppressHydrationWarning!==!0&&Af(rt.textContent,st,et),nt=["children",""+st]):ea.hasOwnProperty(at)&&st!=null&&at==="onScroll"&&D$3("scroll",rt)}switch(tt){case"input":Va(rt),db(rt,it,!0);break;case"textarea":Va(rt),jb(rt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(rt.onclick=Bf)}rt=nt,_e.updateQueue=rt,rt!==null&&(_e.flags|=4)}else{at=nt.nodeType===9?nt:nt.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(tt)),et==="http://www.w3.org/1999/xhtml"?tt==="script"?(et=at.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof rt.is=="string"?et=at.createElement(tt,{is:rt.is}):(et=at.createElement(tt),tt==="select"&&(at=et,rt.multiple?at.multiple=!0:rt.size&&(at.size=rt.size))):et=at.createElementNS(et,tt),et[Of]=_e,et[Pf]=rt,Aj(et,_e,!1,!1),_e.stateNode=et;e:{switch(at=vb(tt,rt),tt){case"dialog":D$3("cancel",et),D$3("close",et),nt=rt;break;case"iframe":case"object":case"embed":D$3("load",et),nt=rt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$3(lf[nt],et);nt=rt;break;case"source":D$3("error",et),nt=rt;break;case"img":case"image":case"link":D$3("error",et),D$3("load",et),nt=rt;break;case"details":D$3("toggle",et),nt=rt;break;case"input":Za(et,rt),nt=Ya(et,rt),D$3("invalid",et);break;case"option":nt=rt;break;case"select":et._wrapperState={wasMultiple:!!rt.multiple},nt=A$6({},rt,{value:void 0}),D$3("invalid",et);break;case"textarea":hb(et,rt),nt=gb(et,rt),D$3("invalid",et);break;default:nt=rt}ub(tt,nt),st=nt;for(it in st)if(st.hasOwnProperty(it)){var ct=st[it];it==="style"?sb(et,ct):it==="dangerouslySetInnerHTML"?(ct=ct?ct.__html:void 0,ct!=null&&nb(et,ct)):it==="children"?typeof ct=="string"?(tt!=="textarea"||ct!=="")&&ob(et,ct):typeof ct=="number"&&ob(et,""+ct):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?ct!=null&&it==="onScroll"&&D$3("scroll",et):ct!=null&&ta(et,it,ct,at))}switch(tt){case"input":Va(et),db(et,rt,!1);break;case"textarea":Va(et),jb(et);break;case"option":rt.value!=null&&et.setAttribute("value",""+Sa(rt.value));break;case"select":et.multiple=!!rt.multiple,it=rt.value,it!=null?fb(et,!!rt.multiple,it,!1):rt.defaultValue!=null&&fb(et,!!rt.multiple,rt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(et.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":rt=!!rt.autoFocus;break e;case"img":rt=!0;break e;default:rt=!1}}rt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$2(_e),null;case 6:if(et&&_e.stateNode!=null)Dj(et,_e,et.memoizedProps,rt);else{if(typeof rt!="string"&&_e.stateNode===null)throw Error(p$7(166));if(tt=Hh(Gh.current),Hh(Eh.current),Gg(_e)){if(rt=_e.stateNode,tt=_e.memoizedProps,rt[Of]=_e,(it=rt.nodeValue!==tt)&&(et=xg,et!==null))switch(et.tag){case 3:Af(rt.nodeValue,tt,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(rt.nodeValue,tt,(et.mode&1)!==0)}it&&(_e.flags|=4)}else rt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(rt),rt[Of]=_e,_e.stateNode=rt}return S$2(_e),null;case 13:if(E$3(M$3),rt=_e.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&(_e.mode&1)!==0&&(_e.flags&128)===0)Hg(),Ig(),_e.flags|=98560,it=!1;else if(it=Gg(_e),rt!==null&&rt.dehydrated!==null){if(et===null){if(!it)throw Error(p$7(318));if(it=_e.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$7(317));it[Of]=_e}else Ig(),(_e.flags&128)===0&&(_e.memoizedState=null),_e.flags|=4;S$2(_e),it=!1}else zg!==null&&(Gj(zg),zg=null),it=!0;if(!it)return _e.flags&65536?_e:null}return(_e.flags&128)!==0?(_e.lanes=tt,_e):(rt=rt!==null,rt!==(et!==null&&et.memoizedState!==null)&&rt&&(_e.child.flags|=8192,(_e.mode&1)!==0&&(et===null||(M$3.current&1)!==0?T$5===0&&(T$5=3):uj())),_e.updateQueue!==null&&(_e.flags|=4),S$2(_e),null);case 4:return Jh(),Bj(et,_e),et===null&&sf(_e.stateNode.containerInfo),S$2(_e),null;case 10:return Rg(_e.type._context),S$2(_e),null;case 17:return Zf(_e.type)&&$f(),S$2(_e),null;case 19:if(E$3(M$3),it=_e.memoizedState,it===null)return S$2(_e),null;if(rt=(_e.flags&128)!==0,at=it.rendering,at===null)if(rt)Ej(it,!1);else{if(T$5!==0||et!==null&&(et.flags&128)!==0)for(et=_e.child;et!==null;){if(at=Mh(et),at!==null){for(_e.flags|=128,Ej(it,!1),rt=at.updateQueue,rt!==null&&(_e.updateQueue=rt,_e.flags|=4),_e.subtreeFlags=0,rt=tt,tt=_e.child;tt!==null;)it=tt,et=rt,it.flags&=14680066,at=it.alternate,at===null?(it.childLanes=0,it.lanes=et,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=at.childLanes,it.lanes=at.lanes,it.child=at.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=at.memoizedProps,it.memoizedState=at.memoizedState,it.updateQueue=at.updateQueue,it.type=at.type,et=at.dependencies,it.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),tt=tt.sibling;return G$1(M$3,M$3.current&1|2),_e.child}et=et.sibling}it.tail!==null&&B$2()>Hj&&(_e.flags|=128,rt=!0,Ej(it,!1),_e.lanes=4194304)}else{if(!rt)if(et=Mh(at),et!==null){if(_e.flags|=128,rt=!0,tt=et.updateQueue,tt!==null&&(_e.updateQueue=tt,_e.flags|=4),Ej(it,!0),it.tail===null&&it.tailMode==="hidden"&&!at.alternate&&!I$3)return S$2(_e),null}else 2*B$2()-it.renderingStartTime>Hj&&tt!==1073741824&&(_e.flags|=128,rt=!0,Ej(it,!1),_e.lanes=4194304);it.isBackwards?(at.sibling=_e.child,_e.child=at):(tt=it.last,tt!==null?tt.sibling=at:_e.child=at,it.last=at)}return it.tail!==null?(_e=it.tail,it.rendering=_e,it.tail=_e.sibling,it.renderingStartTime=B$2(),_e.sibling=null,tt=M$3.current,G$1(M$3,rt?tt&1|2:tt&1),_e):(S$2(_e),null);case 22:case 23:return Ij(),rt=_e.memoizedState!==null,et!==null&&et.memoizedState!==null!==rt&&(_e.flags|=8192),rt&&(_e.mode&1)!==0?(gj&1073741824)!==0&&(S$2(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$2(_e),null;case 24:return null;case 25:return null}throw Error(p$7(156,_e.tag))}function Jj(et,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 3:return Jh(),E$3(Wf),E$3(H$3),Oh(),et=_e.flags,(et&65536)!==0&&(et&128)===0?(_e.flags=et&-65537|128,_e):null;case 5:return Lh(_e),null;case 13:if(E$3(M$3),et=_e.memoizedState,et!==null&&et.dehydrated!==null){if(_e.alternate===null)throw Error(p$7(340));Ig()}return et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 19:return E$3(M$3),null;case 4:return Jh(),null;case 10:return Rg(_e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(et,_e){var tt=et.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(rt){W$1(et,_e,rt)}else tt.current=null}function Nj(et,_e,tt){try{tt()}catch(rt){W$1(et,_e,rt)}}var Oj=!1;function Pj(et,_e){if(Cf=dd,et=Me(),Ne(et)){if("selectionStart"in et)var tt={start:et.selectionStart,end:et.selectionEnd};else e:{tt=(tt=et.ownerDocument)&&tt.defaultView||window;var rt=tt.getSelection&&tt.getSelection();if(rt&&rt.rangeCount!==0){tt=rt.anchorNode;var nt=rt.anchorOffset,it=rt.focusNode;rt=rt.focusOffset;try{tt.nodeType,it.nodeType}catch{tt=null;break e}var at=0,st=-1,ct=-1,ut=0,ft=0,gt=et,_t=null;t:for(;;){for(var Et;gt!==tt||nt!==0&&gt.nodeType!==3||(st=at+nt),gt!==it||rt!==0&&gt.nodeType!==3||(ct=at+rt),gt.nodeType===3&&(at+=gt.nodeValue.length),(Et=gt.firstChild)!==null;)_t=gt,gt=Et;for(;;){if(gt===et)break t;if(_t===tt&&++ut===nt&&(st=at),_t===it&&++ft===rt&&(ct=at),(Et=gt.nextSibling)!==null)break;gt=_t,_t=gt.parentNode}gt=Et}tt=st===-1||ct===-1?null:{start:st,end:ct}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:et,selectionRange:tt},dd=!1,V$1=_e;V$1!==null;)if(_e=V$1,et=_e.child,(_e.subtreeFlags&1028)!==0&&et!==null)et.return=_e,V$1=et;else for(;V$1!==null;){_e=V$1;try{var $t=_e.alternate;if((_e.flags&1024)!==0)switch(_e.tag){case 0:case 11:case 15:break;case 1:if($t!==null){var It=$t.memoizedProps,Tt=$t.memoizedState,At=_e.stateNode,Rt=At.getSnapshotBeforeUpdate(_e.elementType===_e.type?It:Lg(_e.type,It),Tt);At.__reactInternalSnapshotBeforeUpdate=Rt}break;case 3:var kt=_e.stateNode.containerInfo;kt.nodeType===1?kt.textContent="":kt.nodeType===9&&kt.documentElement&&kt.removeChild(kt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$7(163))}}catch(Ot){W$1(_e,_e.return,Ot)}if(et=_e.sibling,et!==null){et.return=_e.return,V$1=et;break}V$1=_e.return}return $t=Oj,Oj=!1,$t}function Qj(et,_e,tt){var rt=_e.updateQueue;if(rt=rt!==null?rt.lastEffect:null,rt!==null){var nt=rt=rt.next;do{if((nt.tag&et)===et){var it=nt.destroy;nt.destroy=void 0,it!==void 0&&Nj(_e,tt,it)}nt=nt.next}while(nt!==rt)}}function Rj(et,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var tt=_e=_e.next;do{if((tt.tag&et)===et){var rt=tt.create;tt.destroy=rt()}tt=tt.next}while(tt!==_e)}}function Sj(et){var _e=et.ref;if(_e!==null){var tt=et.stateNode;switch(et.tag){case 5:et=tt;break;default:et=tt}typeof _e=="function"?_e(et):_e.current=et}}function Tj(et){var _e=et.alternate;_e!==null&&(et.alternate=null,Tj(_e)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(_e=et.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of$1],delete _e[Qf],delete _e[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Uj(et){return et.tag===5||et.tag===3||et.tag===4}function Vj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Uj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Wj(et,_e,tt){var rt=et.tag;if(rt===5||rt===6)et=et.stateNode,_e?tt.nodeType===8?tt.parentNode.insertBefore(et,_e):tt.insertBefore(et,_e):(tt.nodeType===8?(_e=tt.parentNode,_e.insertBefore(et,tt)):(_e=tt,_e.appendChild(et)),tt=tt._reactRootContainer,tt!=null||_e.onclick!==null||(_e.onclick=Bf));else if(rt!==4&&(et=et.child,et!==null))for(Wj(et,_e,tt),et=et.sibling;et!==null;)Wj(et,_e,tt),et=et.sibling}function Xj(et,_e,tt){var rt=et.tag;if(rt===5||rt===6)et=et.stateNode,_e?tt.insertBefore(et,_e):tt.appendChild(et);else if(rt!==4&&(et=et.child,et!==null))for(Xj(et,_e,tt),et=et.sibling;et!==null;)Xj(et,_e,tt),et=et.sibling}var X$1=null,Yj=!1;function Zj(et,_e,tt){for(tt=tt.child;tt!==null;)ak(et,_e,tt),tt=tt.sibling}function ak(et,_e,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$1||Mj(tt,_e);case 6:var rt=X$1,nt=Yj;X$1=null,Zj(et,_e,tt),X$1=rt,Yj=nt,X$1!==null&&(Yj?(et=X$1,tt=tt.stateNode,et.nodeType===8?et.parentNode.removeChild(tt):et.removeChild(tt)):X$1.removeChild(tt.stateNode));break;case 18:X$1!==null&&(Yj?(et=X$1,tt=tt.stateNode,et.nodeType===8?Kf(et.parentNode,tt):et.nodeType===1&&Kf(et,tt),bd(et)):Kf(X$1,tt.stateNode));break;case 4:rt=X$1,nt=Yj,X$1=tt.stateNode.containerInfo,Yj=!0,Zj(et,_e,tt),X$1=rt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(rt=tt.updateQueue,rt!==null&&(rt=rt.lastEffect,rt!==null))){nt=rt=rt.next;do{var it=nt,at=it.destroy;it=it.tag,at!==void 0&&((it&2)!==0||(it&4)!==0)&&Nj(tt,_e,at),nt=nt.next}while(nt!==rt)}Zj(et,_e,tt);break;case 1:if(!U$1&&(Mj(tt,_e),rt=tt.stateNode,typeof rt.componentWillUnmount=="function"))try{rt.props=tt.memoizedProps,rt.state=tt.memoizedState,rt.componentWillUnmount()}catch(st){W$1(tt,_e,st)}Zj(et,_e,tt);break;case 21:Zj(et,_e,tt);break;case 22:tt.mode&1?(U$1=(rt=U$1)||tt.memoizedState!==null,Zj(et,_e,tt),U$1=rt):Zj(et,_e,tt);break;default:Zj(et,_e,tt)}}function bk(et){var _e=et.updateQueue;if(_e!==null){et.updateQueue=null;var tt=et.stateNode;tt===null&&(tt=et.stateNode=new Lj),_e.forEach(function(rt){var nt=ck.bind(null,et,rt);tt.has(rt)||(tt.add(rt),rt.then(nt,nt))})}}function dk(et,_e){var tt=_e.deletions;if(tt!==null)for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];try{var it=et,at=_e,st=at;e:for(;st!==null;){switch(st.tag){case 5:X$1=st.stateNode,Yj=!1;break e;case 3:X$1=st.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=st.stateNode.containerInfo,Yj=!0;break e}st=st.return}if(X$1===null)throw Error(p$7(160));ak(it,at,nt),X$1=null,Yj=!1;var ct=nt.alternate;ct!==null&&(ct.return=null),nt.return=null}catch(ut){W$1(nt,_e,ut)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)ek(_e,et),_e=_e.sibling}function ek(et,_e){var tt=et.alternate,rt=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(dk(_e,et),fk(et),rt&4){try{Qj(3,et,et.return),Rj(3,et)}catch(It){W$1(et,et.return,It)}try{Qj(5,et,et.return)}catch(It){W$1(et,et.return,It)}}break;case 1:dk(_e,et),fk(et),rt&512&&tt!==null&&Mj(tt,tt.return);break;case 5:if(dk(_e,et),fk(et),rt&512&&tt!==null&&Mj(tt,tt.return),et.flags&32){var nt=et.stateNode;try{ob(nt,"")}catch(It){W$1(et,et.return,It)}}if(rt&4&&(nt=et.stateNode,nt!=null)){var it=et.memoizedProps,at=tt!==null?tt.memoizedProps:it,st=et.type,ct=et.updateQueue;if(et.updateQueue=null,ct!==null)try{st==="input"&&it.type==="radio"&&it.name!=null&&ab(nt,it),vb(st,at);var ut=vb(st,it);for(at=0;at<ct.length;at+=2){var ft=ct[at],gt=ct[at+1];ft==="style"?sb(nt,gt):ft==="dangerouslySetInnerHTML"?nb(nt,gt):ft==="children"?ob(nt,gt):ta(nt,ft,gt,ut)}switch(st){case"input":bb(nt,it);break;case"textarea":ib(nt,it);break;case"select":var _t=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!it.multiple;var Et=it.value;Et!=null?fb(nt,!!it.multiple,Et,!1):_t!==!!it.multiple&&(it.defaultValue!=null?fb(nt,!!it.multiple,it.defaultValue,!0):fb(nt,!!it.multiple,it.multiple?[]:"",!1))}nt[Pf]=it}catch(It){W$1(et,et.return,It)}}break;case 6:if(dk(_e,et),fk(et),rt&4){if(et.stateNode===null)throw Error(p$7(162));nt=et.stateNode,it=et.memoizedProps;try{nt.nodeValue=it}catch(It){W$1(et,et.return,It)}}break;case 3:if(dk(_e,et),fk(et),rt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(It){W$1(et,et.return,It)}break;case 4:dk(_e,et),fk(et);break;case 13:dk(_e,et),fk(et),nt=et.child,nt.flags&8192&&(it=nt.memoizedState!==null,nt.stateNode.isHidden=it,!it||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B$2())),rt&4&&bk(et);break;case 22:if(ft=tt!==null&&tt.memoizedState!==null,et.mode&1?(U$1=(ut=U$1)||ft,dk(_e,et),U$1=ut):dk(_e,et),fk(et),rt&8192){if(ut=et.memoizedState!==null,(et.stateNode.isHidden=ut)&&!ft&&(et.mode&1)!==0)for(V$1=et,ft=et.child;ft!==null;){for(gt=V$1=ft;V$1!==null;){switch(_t=V$1,Et=_t.child,_t.tag){case 0:case 11:case 14:case 15:Qj(4,_t,_t.return);break;case 1:Mj(_t,_t.return);var $t=_t.stateNode;if(typeof $t.componentWillUnmount=="function"){rt=_t,tt=_t.return;try{_e=rt,$t.props=_e.memoizedProps,$t.state=_e.memoizedState,$t.componentWillUnmount()}catch(It){W$1(rt,tt,It)}}break;case 5:Mj(_t,_t.return);break;case 22:if(_t.memoizedState!==null){hk(gt);continue}}Et!==null?(Et.return=_t,V$1=Et):hk(gt)}ft=ft.sibling}e:for(ft=null,gt=et;;){if(gt.tag===5){if(ft===null){ft=gt;try{nt=gt.stateNode,ut?(it=nt.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(st=gt.stateNode,ct=gt.memoizedProps.style,at=ct!=null&&ct.hasOwnProperty("display")?ct.display:null,st.style.display=rb("display",at))}catch(It){W$1(et,et.return,It)}}}else if(gt.tag===6){if(ft===null)try{gt.stateNode.nodeValue=ut?"":gt.memoizedProps}catch(It){W$1(et,et.return,It)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===et)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===et)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===et)break e;ft===gt&&(ft=null),gt=gt.return}ft===gt&&(ft=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:dk(_e,et),fk(et),rt&4&&bk(et);break;case 21:break;default:dk(_e,et),fk(et)}}function fk(et){var _e=et.flags;if(_e&2){try{e:{for(var tt=et.return;tt!==null;){if(Uj(tt)){var rt=tt;break e}tt=tt.return}throw Error(p$7(160))}switch(rt.tag){case 5:var nt=rt.stateNode;rt.flags&32&&(ob(nt,""),rt.flags&=-33);var it=Vj(et);Xj(et,it,nt);break;case 3:case 4:var at=rt.stateNode.containerInfo,st=Vj(et);Wj(et,st,at);break;default:throw Error(p$7(161))}}catch(ct){W$1(et,et.return,ct)}et.flags&=-3}_e&4096&&(et.flags&=-4097)}function ik(et,_e,tt){V$1=et,jk(et)}function jk(et,_e,tt){for(var rt=(et.mode&1)!==0;V$1!==null;){var nt=V$1,it=nt.child;if(nt.tag===22&&rt){var at=nt.memoizedState!==null||Kj;if(!at){var st=nt.alternate,ct=st!==null&&st.memoizedState!==null||U$1;st=Kj;var ut=U$1;if(Kj=at,(U$1=ct)&&!ut)for(V$1=nt;V$1!==null;)at=V$1,ct=at.child,at.tag===22&&at.memoizedState!==null?kk(nt):ct!==null?(ct.return=at,V$1=ct):kk(nt);for(;it!==null;)V$1=it,jk(it),it=it.sibling;V$1=nt,Kj=st,U$1=ut}lk(et)}else(nt.subtreeFlags&8772)!==0&&it!==null?(it.return=nt,V$1=it):lk(et)}}function lk(et){for(;V$1!==null;){var _e=V$1;if((_e.flags&8772)!==0){var tt=_e.alternate;try{if((_e.flags&8772)!==0)switch(_e.tag){case 0:case 11:case 15:U$1||Rj(5,_e);break;case 1:var rt=_e.stateNode;if(_e.flags&4&&!U$1)if(tt===null)rt.componentDidMount();else{var nt=_e.elementType===_e.type?tt.memoizedProps:Lg(_e.type,tt.memoizedProps);rt.componentDidUpdate(nt,tt.memoizedState,rt.__reactInternalSnapshotBeforeUpdate)}var it=_e.updateQueue;it!==null&&ih(_e,it,rt);break;case 3:var at=_e.updateQueue;if(at!==null){if(tt=null,_e.child!==null)switch(_e.child.tag){case 5:tt=_e.child.stateNode;break;case 1:tt=_e.child.stateNode}ih(_e,at,tt)}break;case 5:var st=_e.stateNode;if(tt===null&&_e.flags&4){tt=st;var ct=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":ct.autoFocus&&tt.focus();break;case"img":ct.src&&(tt.src=ct.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var ut=_e.alternate;if(ut!==null){var ft=ut.memoizedState;if(ft!==null){var gt=ft.dehydrated;gt!==null&&bd(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$7(163))}U$1||_e.flags&512&&Sj(_e)}catch(_t){W$1(_e,_e.return,_t)}}if(_e===et){V$1=null;break}if(tt=_e.sibling,tt!==null){tt.return=_e.return,V$1=tt;break}V$1=_e.return}}function hk(et){for(;V$1!==null;){var _e=V$1;if(_e===et){V$1=null;break}var tt=_e.sibling;if(tt!==null){tt.return=_e.return,V$1=tt;break}V$1=_e.return}}function kk(et){for(;V$1!==null;){var _e=V$1;try{switch(_e.tag){case 0:case 11:case 15:var tt=_e.return;try{Rj(4,_e)}catch(ct){W$1(_e,tt,ct)}break;case 1:var rt=_e.stateNode;if(typeof rt.componentDidMount=="function"){var nt=_e.return;try{rt.componentDidMount()}catch(ct){W$1(_e,nt,ct)}}var it=_e.return;try{Sj(_e)}catch(ct){W$1(_e,it,ct)}break;case 5:var at=_e.return;try{Sj(_e)}catch(ct){W$1(_e,at,ct)}}}catch(ct){W$1(_e,_e.return,ct)}if(_e===et){V$1=null;break}var st=_e.sibling;if(st!==null){st.return=_e.return,V$1=st;break}V$1=_e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$2=0,R$3=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$5=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$3(){return(K$2&6)!==0?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(et){return(et.mode&1)===0?1:(K$2&2)!==0&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(et=C$3,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et)}function mh(et,_e,tt,rt){if(50<zk)throw zk=0,Ak=null,Error(p$7(185));Ac(et,tt,rt),((K$2&2)===0||et!==R$3)&&(et===R$3&&((K$2&2)===0&&(rk|=tt),T$5===4&&Dk(et,Z$1)),Ek(et,rt),tt===1&&K$2===0&&(_e.mode&1)===0&&(Hj=B$2()+500,fg&&jg()))}function Ek(et,_e){var tt=et.callbackNode;wc(et,_e);var rt=uc(et,et===R$3?Z$1:0);if(rt===0)tt!==null&&bc(tt),et.callbackNode=null,et.callbackPriority=0;else if(_e=rt&-rt,et.callbackPriority!==_e){if(tt!=null&&bc(tt),_e===1)et.tag===0?ig(Fk.bind(null,et)):hg(Fk.bind(null,et)),Jf(function(){(K$2&6)===0&&jg()}),tt=null;else{switch(Dc(rt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Gk(tt,Hk.bind(null,et))}et.callbackPriority=_e,et.callbackNode=tt}}function Hk(et,_e){if(Bk=-1,Ck=0,(K$2&6)!==0)throw Error(p$7(327));var tt=et.callbackNode;if(Ik()&&et.callbackNode!==tt)return null;var rt=uc(et,et===R$3?Z$1:0);if(rt===0)return null;if((rt&30)!==0||(rt&et.expiredLanes)!==0||_e)_e=Jk(et,rt);else{_e=rt;var nt=K$2;K$2|=2;var it=Kk();(R$3!==et||Z$1!==_e)&&(vk=null,Hj=B$2()+500,Lk(et,_e));do try{Mk();break}catch(st){Nk(et,st)}while(1);Qg(),nk.current=it,K$2=nt,Y$1!==null?_e=0:(R$3=null,Z$1=0,_e=T$5)}if(_e!==0){if(_e===2&&(nt=xc(et),nt!==0&&(rt=nt,_e=Ok(et,nt))),_e===1)throw tt=qk,Lk(et,0),Dk(et,rt),Ek(et,B$2()),tt;if(_e===6)Dk(et,rt);else{if(nt=et.current.alternate,(rt&30)===0&&!Pk(nt)&&(_e=Jk(et,rt),_e===2&&(it=xc(et),it!==0&&(rt=it,_e=Ok(et,it))),_e===1))throw tt=qk,Lk(et,0),Dk(et,rt),Ek(et,B$2()),tt;switch(et.finishedWork=nt,et.finishedLanes=rt,_e){case 0:case 1:throw Error(p$7(345));case 2:Qk(et,uk,vk);break;case 3:if(Dk(et,rt),(rt&130023424)===rt&&(_e=gk+500-B$2(),10<_e)){if(uc(et,0)!==0)break;if(nt=et.suspendedLanes,(nt&rt)!==rt){L$3(),et.pingedLanes|=et.suspendedLanes&nt;break}et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),_e);break}Qk(et,uk,vk);break;case 4:if(Dk(et,rt),(rt&4194240)===rt)break;for(_e=et.eventTimes,nt=-1;0<rt;){var at=31-oc(rt);it=1<<at,at=_e[at],at>nt&&(nt=at),rt&=~it}if(rt=nt,rt=B$2()-rt,rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*mk(rt/1960))-rt,10<rt){et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),rt);break}Qk(et,uk,vk);break;case 5:Qk(et,uk,vk);break;default:throw Error(p$7(329))}}}return Ek(et,B$2()),et.callbackNode===tt?Hk.bind(null,et):null}function Ok(et,_e){var tt=tk;return et.current.memoizedState.isDehydrated&&(Lk(et,_e).flags|=256),et=Jk(et,_e),et!==2&&(_e=uk,uk=tt,_e!==null&&Gj(_e)),et}function Gj(et){uk===null?uk=et:uk.push.apply(uk,et)}function Pk(et){for(var _e=et;;){if(_e.flags&16384){var tt=_e.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var rt=0;rt<tt.length;rt++){var nt=tt[rt],it=nt.getSnapshot;nt=nt.value;try{if(!He(it(),nt))return!1}catch{return!1}}}if(tt=_e.child,_e.subtreeFlags&16384&&tt!==null)tt.return=_e,_e=tt;else{if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Dk(et,_e){for(_e&=~sk,_e&=~rk,et.suspendedLanes|=_e,et.pingedLanes&=~_e,et=et.expirationTimes;0<_e;){var tt=31-oc(_e),rt=1<<tt;et[tt]=-1,_e&=~rt}}function Fk(et){if((K$2&6)!==0)throw Error(p$7(327));Ik();var _e=uc(et,0);if((_e&1)===0)return Ek(et,B$2()),null;var tt=Jk(et,_e);if(et.tag!==0&&tt===2){var rt=xc(et);rt!==0&&(_e=rt,tt=Ok(et,rt))}if(tt===1)throw tt=qk,Lk(et,0),Dk(et,_e),Ek(et,B$2()),tt;if(tt===6)throw Error(p$7(345));return et.finishedWork=et.current.alternate,et.finishedLanes=_e,Qk(et,uk,vk),Ek(et,B$2()),null}function Rk(et,_e){var tt=K$2;K$2|=1;try{return et(_e)}finally{K$2=tt,K$2===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(et){xk!==null&&xk.tag===0&&(K$2&6)===0&&Ik();var _e=K$2;K$2|=1;var tt=pk.transition,rt=C$3;try{if(pk.transition=null,C$3=1,et)return et()}finally{C$3=rt,pk.transition=tt,K$2=_e,(K$2&6)===0&&jg()}}function Ij(){gj=fj.current,E$3(fj)}function Lk(et,_e){et.finishedWork=null,et.finishedLanes=0;var tt=et.timeoutHandle;if(tt!==-1&&(et.timeoutHandle=-1,Gf(tt)),Y$1!==null)for(tt=Y$1.return;tt!==null;){var rt=tt;switch(wg(rt),rt.tag){case 1:rt=rt.type.childContextTypes,rt!=null&&$f();break;case 3:Jh(),E$3(Wf),E$3(H$3),Oh();break;case 5:Lh(rt);break;case 4:Jh();break;case 13:E$3(M$3);break;case 19:E$3(M$3);break;case 10:Rg(rt.type._context);break;case 22:case 23:Ij()}tt=tt.return}if(R$3=et,Y$1=et=wh(et.current,null),Z$1=gj=_e,T$5=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_e=0;_e<Wg.length;_e++)if(tt=Wg[_e],rt=tt.interleaved,rt!==null){tt.interleaved=null;var nt=rt.next,it=tt.pending;if(it!==null){var at=it.next;it.next=nt,rt.next=at}tt.pending=rt}Wg=null}return et}function Nk(et,_e){do{var tt=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var rt=N$4.memoizedState;rt!==null;){var nt=rt.queue;nt!==null&&(nt.pending=null),rt=rt.next}Sh=!1}if(Rh=0,P$3=O$2=N$4=null,Th=!1,Uh=0,ok.current=null,tt===null||tt.return===null){T$5=1,qk=_e,Y$1=null;break}e:{var it=et,at=tt.return,st=tt,ct=_e;if(_e=Z$1,st.flags|=32768,ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var ut=ct,ft=st,gt=ft.tag;if((ft.mode&1)===0&&(gt===0||gt===11||gt===15)){var _t=ft.alternate;_t?(ft.updateQueue=_t.updateQueue,ft.memoizedState=_t.memoizedState,ft.lanes=_t.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var Et=Vi(at);if(Et!==null){Et.flags&=-257,Wi(Et,at,st,it,_e),Et.mode&1&&Ti(it,ut,_e),_e=Et,ct=ut;var $t=_e.updateQueue;if($t===null){var It=new Set;It.add(ct),_e.updateQueue=It}else $t.add(ct);break e}else{if((_e&1)===0){Ti(it,ut,_e),uj();break e}ct=Error(p$7(426))}}else if(I$3&&st.mode&1){var Tt=Vi(at);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),Wi(Tt,at,st,it,_e),Jg(Ki(ct,st));break e}}it=ct=Ki(ct,st),T$5!==4&&(T$5=2),tk===null?tk=[it]:tk.push(it),it=at;do{switch(it.tag){case 3:it.flags|=65536,_e&=-_e,it.lanes|=_e;var At=Oi(it,ct,_e);fh(it,At);break e;case 1:st=ct;var Rt=it.type,kt=it.stateNode;if((it.flags&128)===0&&(typeof Rt.getDerivedStateFromError=="function"||kt!==null&&typeof kt.componentDidCatch=="function"&&(Si===null||!Si.has(kt)))){it.flags|=65536,_e&=-_e,it.lanes|=_e;var Ot=Ri(it,st,_e);fh(it,Ot);break e}}it=it.return}while(it!==null)}Tk(tt)}catch(Wt){_e=Wt,Y$1===tt&&tt!==null&&(Y$1=tt=tt.return);continue}break}while(1)}function Kk(){var et=nk.current;return nk.current=ai,et===null?ai:et}function uj(){(T$5===0||T$5===3||T$5===2)&&(T$5=4),R$3===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R$3,Z$1)}function Jk(et,_e){var tt=K$2;K$2|=2;var rt=Kk();(R$3!==et||Z$1!==_e)&&(vk=null,Lk(et,_e));do try{Uk();break}catch(nt){Nk(et,nt)}while(1);if(Qg(),K$2=tt,nk.current=rt,Y$1!==null)throw Error(p$7(261));return R$3=null,Z$1=0,T$5}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(et){var _e=Wk(et.alternate,et,gj);et.memoizedProps=et.pendingProps,_e===null?Tk(et):Y$1=_e,ok.current=null}function Tk(et){var _e=et;do{var tt=_e.alternate;if(et=_e.return,(_e.flags&32768)===0){if(tt=Fj(tt,_e,gj),tt!==null){Y$1=tt;return}}else{if(tt=Jj(tt,_e),tt!==null){tt.flags&=32767,Y$1=tt;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$5=6,Y$1=null;return}}if(_e=_e.sibling,_e!==null){Y$1=_e;return}Y$1=_e=et}while(_e!==null);T$5===0&&(T$5=5)}function Qk(et,_e,tt){var rt=C$3,nt=pk.transition;try{pk.transition=null,C$3=1,Xk(et,_e,tt,rt)}finally{pk.transition=nt,C$3=rt}return null}function Xk(et,_e,tt,rt){do Ik();while(xk!==null);if((K$2&6)!==0)throw Error(p$7(327));tt=et.finishedWork;var nt=et.finishedLanes;if(tt===null)return null;if(et.finishedWork=null,et.finishedLanes=0,tt===et.current)throw Error(p$7(177));et.callbackNode=null,et.callbackPriority=0;var it=tt.lanes|tt.childLanes;if(Bc(et,it),et===R$3&&(Y$1=R$3=null,Z$1=0),(tt.subtreeFlags&2064)===0&&(tt.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),it=(tt.flags&15990)!==0,(tt.subtreeFlags&15990)!==0||it){it=pk.transition,pk.transition=null;var at=C$3;C$3=1;var st=K$2;K$2|=4,ok.current=null,Pj(et,tt),ek(tt,et),Oe(Df),dd=!!Cf,Df=Cf=null,et.current=tt,ik(tt),dc(),K$2=st,C$3=at,pk.transition=it}else et.current=tt;if(wk&&(wk=!1,xk=et,yk=nt),it=et.pendingLanes,it===0&&(Si=null),mc(tt.stateNode),Ek(et,B$2()),_e!==null)for(rt=et.onRecoverableError,tt=0;tt<_e.length;tt++)nt=_e[tt],rt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,et=Qi,Qi=null,et;return(yk&1)!==0&&et.tag!==0&&Ik(),it=et.pendingLanes,(it&1)!==0?et===Ak?zk++:(zk=0,Ak=et):zk=0,jg(),null}function Ik(){if(xk!==null){var et=Dc(yk),_e=pk.transition,tt=C$3;try{if(pk.transition=null,C$3=16>et?16:et,xk===null)var rt=!1;else{if(et=xk,xk=null,yk=0,(K$2&6)!==0)throw Error(p$7(331));var nt=K$2;for(K$2|=4,V$1=et.current;V$1!==null;){var it=V$1,at=it.child;if((V$1.flags&16)!==0){var st=it.deletions;if(st!==null){for(var ct=0;ct<st.length;ct++){var ut=st[ct];for(V$1=ut;V$1!==null;){var ft=V$1;switch(ft.tag){case 0:case 11:case 15:Qj(8,ft,it)}var gt=ft.child;if(gt!==null)gt.return=ft,V$1=gt;else for(;V$1!==null;){ft=V$1;var _t=ft.sibling,Et=ft.return;if(Tj(ft),ft===ut){V$1=null;break}if(_t!==null){_t.return=Et,V$1=_t;break}V$1=Et}}}var $t=it.alternate;if($t!==null){var It=$t.child;if(It!==null){$t.child=null;do{var Tt=It.sibling;It.sibling=null,It=Tt}while(It!==null)}}V$1=it}}if((it.subtreeFlags&2064)!==0&&at!==null)at.return=it,V$1=at;else e:for(;V$1!==null;){if(it=V$1,(it.flags&2048)!==0)switch(it.tag){case 0:case 11:case 15:Qj(9,it,it.return)}var At=it.sibling;if(At!==null){At.return=it.return,V$1=At;break e}V$1=it.return}}var Rt=et.current;for(V$1=Rt;V$1!==null;){at=V$1;var kt=at.child;if((at.subtreeFlags&2064)!==0&&kt!==null)kt.return=at,V$1=kt;else e:for(at=Rt;V$1!==null;){if(st=V$1,(st.flags&2048)!==0)try{switch(st.tag){case 0:case 11:case 15:Rj(9,st)}}catch(Wt){W$1(st,st.return,Wt)}if(st===at){V$1=null;break e}var Ot=st.sibling;if(Ot!==null){Ot.return=st.return,V$1=Ot;break e}V$1=st.return}}if(K$2=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}rt=!0}return rt}finally{C$3=tt,pk.transition=_e}}return!1}function Yk(et,_e,tt){_e=Ki(tt,_e),_e=Oi(et,_e,1),et=dh(et,_e,1),_e=L$3(),et!==null&&(Ac(et,1,_e),Ek(et,_e))}function W$1(et,_e,tt){if(et.tag===3)Yk(et,et,tt);else for(;_e!==null;){if(_e.tag===3){Yk(_e,et,tt);break}else if(_e.tag===1){var rt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof rt.componentDidCatch=="function"&&(Si===null||!Si.has(rt))){et=Ki(tt,et),et=Ri(_e,et,1),_e=dh(_e,et,1),et=L$3(),_e!==null&&(Ac(_e,1,et),Ek(_e,et));break}}_e=_e.return}}function Ui(et,_e,tt){var rt=et.pingCache;rt!==null&&rt.delete(_e),_e=L$3(),et.pingedLanes|=et.suspendedLanes&tt,R$3===et&&(Z$1&tt)===tt&&(T$5===4||T$5===3&&(Z$1&130023424)===Z$1&&500>B$2()-gk?Lk(et,0):sk|=tt),Ek(et,_e)}function Zk(et,_e){_e===0&&((et.mode&1)===0?_e=1:(_e=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var tt=L$3();et=Zg(et,_e),et!==null&&(Ac(et,_e,tt),Ek(et,tt))}function vj(et){var _e=et.memoizedState,tt=0;_e!==null&&(tt=_e.retryLane),Zk(et,tt)}function ck(et,_e){var tt=0;switch(et.tag){case 13:var rt=et.stateNode,nt=et.memoizedState;nt!==null&&(tt=nt.retryLane);break;case 19:rt=et.stateNode;break;default:throw Error(p$7(314))}rt!==null&&rt.delete(_e),Zk(et,tt)}var Wk;Wk=function(et,_e,tt){if(et!==null)if(et.memoizedProps!==_e.pendingProps||Wf.current)Ug=!0;else{if((et.lanes&tt)===0&&(_e.flags&128)===0)return Ug=!1,zj(et,_e,tt);Ug=(et.flags&131072)!==0}else Ug=!1,I$3&&(_e.flags&1048576)!==0&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var rt=_e.type;jj(et,_e),et=_e.pendingProps;var nt=Yf(_e,H$3.current);Tg(_e,tt),nt=Xh(null,_e,rt,et,nt,tt);var it=bi();return _e.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(rt)?(it=!0,cg(_e)):it=!1,_e.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah(_e),nt.updater=nh,_e.stateNode=nt,nt._reactInternals=_e,rh$1(_e,rt,et,tt),_e=kj(null,_e,rt,!0,it,tt)):(_e.tag=0,I$3&&it&&vg(_e),Yi(null,_e,nt,tt),_e=_e.child),_e;case 16:rt=_e.elementType;e:{switch(jj(et,_e),et=_e.pendingProps,nt=rt._init,rt=nt(rt._payload),_e.type=rt,nt=_e.tag=$k(rt),et=Lg(rt,et),nt){case 0:_e=dj(null,_e,rt,et,tt);break e;case 1:_e=ij(null,_e,rt,et,tt);break e;case 11:_e=Zi(null,_e,rt,et,tt);break e;case 14:_e=aj(null,_e,rt,Lg(rt.type,et),tt);break e}throw Error(p$7(306,rt,""))}return _e;case 0:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),dj(et,_e,rt,nt,tt);case 1:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),ij(et,_e,rt,nt,tt);case 3:e:{if(lj(_e),et===null)throw Error(p$7(387));rt=_e.pendingProps,it=_e.memoizedState,nt=it.element,bh(et,_e),gh(_e,rt,null,tt);var at=_e.memoizedState;if(rt=at.element,it.isDehydrated)if(it={element:rt,isDehydrated:!1,cache:at.cache,pendingSuspenseBoundaries:at.pendingSuspenseBoundaries,transitions:at.transitions},_e.updateQueue.baseState=it,_e.memoizedState=it,_e.flags&256){nt=Ki(Error(p$7(423)),_e),_e=mj(et,_e,rt,tt,nt);break e}else if(rt!==nt){nt=Ki(Error(p$7(424)),_e),_e=mj(et,_e,rt,tt,nt);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$3=!0,zg=null,tt=Ch(_e,null,rt,tt),_e.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),rt===nt){_e=$i(et,_e,tt);break e}Yi(et,_e,rt,tt)}_e=_e.child}return _e;case 5:return Kh$1(_e),et===null&&Eg(_e),rt=_e.type,nt=_e.pendingProps,it=et!==null?et.memoizedProps:null,at=nt.children,Ef(rt,nt)?at=null:it!==null&&Ef(rt,it)&&(_e.flags|=32),hj(et,_e),Yi(et,_e,at,tt),_e.child;case 6:return et===null&&Eg(_e),null;case 13:return pj(et,_e,tt);case 4:return Ih(_e,_e.stateNode.containerInfo),rt=_e.pendingProps,et===null?_e.child=Bh(_e,null,rt,tt):Yi(et,_e,rt,tt),_e.child;case 11:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),Zi(et,_e,rt,nt,tt);case 7:return Yi(et,_e,_e.pendingProps,tt),_e.child;case 8:return Yi(et,_e,_e.pendingProps.children,tt),_e.child;case 12:return Yi(et,_e,_e.pendingProps.children,tt),_e.child;case 10:e:{if(rt=_e.type._context,nt=_e.pendingProps,it=_e.memoizedProps,at=nt.value,G$1(Mg,rt._currentValue),rt._currentValue=at,it!==null)if(He(it.value,at)){if(it.children===nt.children&&!Wf.current){_e=$i(et,_e,tt);break e}}else for(it=_e.child,it!==null&&(it.return=_e);it!==null;){var st=it.dependencies;if(st!==null){at=it.child;for(var ct=st.firstContext;ct!==null;){if(ct.context===rt){if(it.tag===1){ct=ch(-1,tt&-tt),ct.tag=2;var ut=it.updateQueue;if(ut!==null){ut=ut.shared;var ft=ut.pending;ft===null?ct.next=ct:(ct.next=ft.next,ft.next=ct),ut.pending=ct}}it.lanes|=tt,ct=it.alternate,ct!==null&&(ct.lanes|=tt),Sg(it.return,tt,_e),st.lanes|=tt;break}ct=ct.next}}else if(it.tag===10)at=it.type===_e.type?null:it.child;else if(it.tag===18){if(at=it.return,at===null)throw Error(p$7(341));at.lanes|=tt,st=at.alternate,st!==null&&(st.lanes|=tt),Sg(at,tt,_e),at=it.sibling}else at=it.child;if(at!==null)at.return=it;else for(at=it;at!==null;){if(at===_e){at=null;break}if(it=at.sibling,it!==null){it.return=at.return,at=it;break}at=at.return}it=at}Yi(et,_e,nt.children,tt),_e=_e.child}return _e;case 9:return nt=_e.type,rt=_e.pendingProps.children,Tg(_e,tt),nt=Vg(nt),rt=rt(nt),_e.flags|=1,Yi(et,_e,rt,tt),_e.child;case 14:return rt=_e.type,nt=Lg(rt,_e.pendingProps),nt=Lg(rt.type,nt),aj(et,_e,rt,nt,tt);case 15:return cj(et,_e,_e.type,_e.pendingProps,tt);case 17:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),jj(et,_e),_e.tag=1,Zf(rt)?(et=!0,cg(_e)):et=!1,Tg(_e,tt),ph(_e,rt,nt),rh$1(_e,rt,nt,tt),kj(null,_e,rt,!0,et,tt);case 19:return yj(et,_e,tt);case 22:return ej(et,_e,tt)}throw Error(p$7(156,_e.tag))};function Gk(et,_e){return ac(et,_e)}function al(et,_e,tt,rt){this.tag=et,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,_e,tt,rt){return new al(et,_e,tt,rt)}function bj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function $k(et){if(typeof et=="function")return bj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function wh(et,_e){var tt=et.alternate;return tt===null?(tt=Bg(et.tag,_e,et.key,et.mode),tt.elementType=et.elementType,tt.type=et.type,tt.stateNode=et.stateNode,tt.alternate=et,et.alternate=tt):(tt.pendingProps=_e,tt.type=et.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=et.flags&14680064,tt.childLanes=et.childLanes,tt.lanes=et.lanes,tt.child=et.child,tt.memoizedProps=et.memoizedProps,tt.memoizedState=et.memoizedState,tt.updateQueue=et.updateQueue,_e=et.dependencies,tt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},tt.sibling=et.sibling,tt.index=et.index,tt.ref=et.ref,tt}function yh(et,_e,tt,rt,nt,it){var at=2;if(rt=et,typeof et=="function")bj(et)&&(at=1);else if(typeof et=="string")at=5;else e:switch(et){case ya:return Ah(tt.children,nt,it,_e);case za:at=8,nt|=8;break;case Aa:return et=Bg(12,tt,_e,nt|2),et.elementType=Aa,et.lanes=it,et;case Ea:return et=Bg(13,tt,_e,nt),et.elementType=Ea,et.lanes=it,et;case Fa:return et=Bg(19,tt,_e,nt),et.elementType=Fa,et.lanes=it,et;case Ia:return qj(tt,nt,it,_e);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:at=10;break e;case Ca:at=9;break e;case Da:at=11;break e;case Ga:at=14;break e;case Ha:at=16,rt=null;break e}throw Error(p$7(130,et==null?et:typeof et,""))}return _e=Bg(at,tt,_e,nt),_e.elementType=et,_e.type=rt,_e.lanes=it,_e}function Ah(et,_e,tt,rt){return et=Bg(7,et,rt,_e),et.lanes=tt,et}function qj(et,_e,tt,rt){return et=Bg(22,et,rt,_e),et.elementType=Ia,et.lanes=tt,et.stateNode={isHidden:!1},et}function xh(et,_e,tt){return et=Bg(6,et,null,_e),et.lanes=tt,et}function zh$1(et,_e,tt){return _e=Bg(4,et.children!==null?et.children:[],et.key,_e),_e.lanes=tt,_e.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},_e}function bl(et,_e,tt,rt,nt){this.tag=_e,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl(et,_e,tt,rt,nt,it,at,st,ct){return et=new bl(et,_e,tt,st,ct),_e===1?(_e=1,it===!0&&(_e|=8)):_e=0,it=Bg(3,null,null,_e),et.current=it,it.stateNode=et,it.memoizedState={element:rt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(it),et}function dl(et,_e,tt){var rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rt==null?null:""+rt,children:et,containerInfo:_e,implementation:tt}}function el(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$7(170));var _e=et;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$7(171))}if(et.tag===1){var tt=et.type;if(Zf(tt))return bg(et,tt,_e)}return _e}function fl(et,_e,tt,rt,nt,it,at,st,ct){return et=cl(tt,rt,!0,et,nt,it,at,st,ct),et.context=el(null),tt=et.current,rt=L$3(),nt=lh(tt),it=ch(rt,nt),it.callback=_e!=null?_e:null,dh(tt,it,nt),et.current.lanes=nt,Ac(et,nt,rt),Ek(et,rt),et}function gl(et,_e,tt,rt){var nt=_e.current,it=L$3(),at=lh(nt);return tt=el(tt),_e.context===null?_e.context=tt:_e.pendingContext=tt,_e=ch(it,at),_e.payload={element:et},rt=rt===void 0?null:rt,rt!==null&&(_e.callback=rt),et=dh(nt,_e,at),et!==null&&(mh(et,nt,at,it),eh(et,nt,at)),at}function hl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function il(et,_e){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var tt=et.retryLane;et.retryLane=tt!==0&&tt<_e?tt:_e}}function jl(et,_e){il(et,_e),(et=et.alternate)&&il(et,_e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(et){console.error(et)};function ml(et){this._internalRoot=et}nl.prototype.render=ml.prototype.render=function(et){var _e=this._internalRoot;if(_e===null)throw Error(p$7(409));gl(et,_e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var _e=et.containerInfo;Sk(function(){gl(null,et,null,null)}),_e[uf]=null}};function nl(et){this._internalRoot=et}nl.prototype.unstable_scheduleHydration=function(et){if(et){var _e=Hc();et={blockedOn:null,target:et,priority:_e};for(var tt=0;tt<Qc.length&&_e!==0&&_e<Qc[tt].priority;tt++);Qc.splice(tt,0,et),tt===0&&Vc(et)}};function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function pl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(et,_e,tt,rt,nt){if(nt){if(typeof rt=="function"){var it=rt;rt=function(){var ut=hl(at);it.call(ut)}}var at=fl(_e,rt,et,0,null,!1,!1,"",ql);return et._reactRootContainer=at,et[uf]=at.current,sf(et.nodeType===8?et.parentNode:et),Sk(),at}for(;nt=et.lastChild;)et.removeChild(nt);if(typeof rt=="function"){var st=rt;rt=function(){var ut=hl(ct);st.call(ut)}}var ct=cl(et,0,!1,null,null,!1,!1,"",ql);return et._reactRootContainer=ct,et[uf]=ct.current,sf(et.nodeType===8?et.parentNode:et),Sk(function(){gl(_e,ct,tt,rt)}),ct}function sl(et,_e,tt,rt,nt){var it=tt._reactRootContainer;if(it){var at=it;if(typeof nt=="function"){var st=nt;nt=function(){var ct=hl(at);st.call(ct)}}gl(_e,at,et,nt)}else at=rl(tt,_e,et,nt,rt);return hl(at)}Ec=function(et){switch(et.tag){case 3:var _e=et.stateNode;if(_e.current.memoizedState.isDehydrated){var tt=tc(_e.pendingLanes);tt!==0&&(Cc(_e,tt|1),Ek(_e,B$2()),(K$2&6)===0&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var rt=Zg(et,1);if(rt!==null){var nt=L$3();mh(rt,et,1,nt)}}),jl(et,1)}};Fc=function(et){if(et.tag===13){var _e=Zg(et,134217728);if(_e!==null){var tt=L$3();mh(_e,et,134217728,tt)}jl(et,134217728)}};Gc=function(et){if(et.tag===13){var _e=lh(et),tt=Zg(et,_e);if(tt!==null){var rt=L$3();mh(tt,et,_e,rt)}jl(et,_e)}};Hc=function(){return C$3};Ic=function(et,_e){var tt=C$3;try{return C$3=et,_e()}finally{C$3=tt}};yb=function(et,_e,tt){switch(_e){case"input":if(bb(et,tt),_e=tt.name,tt.type==="radio"&&_e!=null){for(tt=et;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<tt.length;_e++){var rt=tt[_e];if(rt!==et&&rt.form===et.form){var nt=Db(rt);if(!nt)throw Error(p$7(90));Wa(rt),bb(rt,nt)}}}break;case"textarea":ib(et,tt);break;case"select":_e=tt.value,_e!=null&&fb(et,!!tt.multiple,_e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(et,_e){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_e))throw Error(p$7(200));return dl(et,_e,null,tt)};reactDom_production_min.createRoot=function(et,_e){if(!ol(et))throw Error(p$7(299));var tt=!1,rt="",nt=ll;return _e!=null&&(_e.unstable_strictMode===!0&&(tt=!0),_e.identifierPrefix!==void 0&&(rt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(nt=_e.onRecoverableError)),_e=cl(et,1,!1,null,null,tt,!1,rt,nt),et[uf]=_e.current,sf(et.nodeType===8?et.parentNode:et),new ml(_e)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var _e=et._reactInternals;if(_e===void 0)throw typeof et.render=="function"?Error(p$7(188)):(et=Object.keys(et).join(","),Error(p$7(268,et)));return et=Zb(_e),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Sk(et)};reactDom_production_min.hydrate=function(et,_e,tt){if(!pl(_e))throw Error(p$7(200));return sl(null,et,_e,!0,tt)};reactDom_production_min.hydrateRoot=function(et,_e,tt){if(!ol(et))throw Error(p$7(405));var rt=tt!=null&&tt.hydratedSources||null,nt=!1,it="",at=ll;if(tt!=null&&(tt.unstable_strictMode===!0&&(nt=!0),tt.identifierPrefix!==void 0&&(it=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(at=tt.onRecoverableError)),_e=fl(_e,null,et,1,tt!=null?tt:null,nt,!1,it,at),et[uf]=_e.current,sf(et),rt)for(et=0;et<rt.length;et++)tt=rt[et],nt=tt._getVersion,nt=nt(tt._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[tt,nt]:_e.mutableSourceEagerHydrationData.push(tt,nt);return new nl(_e)};reactDom_production_min.render=function(et,_e,tt){if(!pl(_e))throw Error(p$7(200));return sl(null,et,_e,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(et){if(!pl(et))throw Error(p$7(40));return et._reactRootContainer?(Sk(function(){sl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,_e,tt,rt){if(!pl(tt))throw Error(p$7(200));if(et==null||et._reactInternals===void 0)throw Error(p$7(38));return sl(et,_e,tt,!1,rt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(et){console.error(et)}}checkDCE(),reactDom.exports=reactDom_production_min;var createRoot,m$7=reactDom.exports;createRoot=m$7.createRoot,m$7.hydrateRoot;const scriptRel="modulepreload",seen={},base$3="",__vitePreload=function(_e,tt){return!tt||tt.length===0?_e():Promise.all(tt.map(rt=>{if(rt=`${base$3}${rt}`,rt in seen)return;seen[rt]=!0;const nt=rt.endsWith(".css"),it=nt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${rt}"]${it}`))return;const at=document.createElement("link");if(at.rel=nt?"stylesheet":scriptRel,nt||(at.as="script",at.crossOrigin=""),at.href=rt,document.head.appendChild(at),nt)return new Promise((st,ct)=>{at.addEventListener("load",st),at.addEventListener("error",()=>ct(new Error(`Unable to preload CSS for ${rt}`)))})})).then(()=>_e())};class Subscribable{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(_e){return this.listeners.push(_e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(tt=>tt!==_e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const isServer=typeof window=="undefined"||"Deno"in window;function noop$4(){}function functionalUpdate(et,_e){return typeof et=="function"?et(_e):et}function isValidTimeout(et){return typeof et=="number"&&et>=0&&et!==1/0}function timeUntilStale(et,_e){return Math.max(et+(_e||0)-Date.now(),0)}function parseQueryArgs(et,_e,tt){return isQueryKey(et)?typeof _e=="function"?{...tt,queryKey:et,queryFn:_e}:{..._e,queryKey:et}:et}function parseFilterArgs(et,_e,tt){return isQueryKey(et)?[{..._e,queryKey:et},tt]:[et||{},_e]}function matchQuery(et,_e){const{type:tt="all",exact:rt,fetchStatus:nt,predicate:it,queryKey:at,stale:st}=et;if(isQueryKey(at)){if(rt){if(_e.queryHash!==hashQueryKeyByOptions(at,_e.options))return!1}else if(!partialMatchKey(_e.queryKey,at))return!1}if(tt!=="all"){const ct=_e.isActive();if(tt==="active"&&!ct||tt==="inactive"&&ct)return!1}return!(typeof st=="boolean"&&_e.isStale()!==st||typeof nt!="undefined"&&nt!==_e.state.fetchStatus||it&&!it(_e))}function matchMutation(et,_e){const{exact:tt,fetching:rt,predicate:nt,mutationKey:it}=et;if(isQueryKey(it)){if(!_e.options.mutationKey)return!1;if(tt){if(hashQueryKey(_e.options.mutationKey)!==hashQueryKey(it))return!1}else if(!partialMatchKey(_e.options.mutationKey,it))return!1}return!(typeof rt=="boolean"&&_e.state.status==="loading"!==rt||nt&&!nt(_e))}function hashQueryKeyByOptions(et,_e){return((_e==null?void 0:_e.queryKeyHashFn)||hashQueryKey)(et)}function hashQueryKey(et){return JSON.stringify(et,(_e,tt)=>isPlainObject(tt)?Object.keys(tt).sort().reduce((rt,nt)=>(rt[nt]=tt[nt],rt),{}):tt)}function partialMatchKey(et,_e){return partialDeepEqual(et,_e)}function partialDeepEqual(et,_e){return et===_e?!0:typeof et!=typeof _e?!1:et&&_e&&typeof et=="object"&&typeof _e=="object"?!Object.keys(_e).some(tt=>!partialDeepEqual(et[tt],_e[tt])):!1}function replaceEqualDeep(et,_e){if(et===_e)return et;const tt=isPlainArray(et)&&isPlainArray(_e);if(tt||isPlainObject(et)&&isPlainObject(_e)){const rt=tt?et.length:Object.keys(et).length,nt=tt?_e:Object.keys(_e),it=nt.length,at=tt?[]:{};let st=0;for(let ct=0;ct<it;ct++){const ut=tt?ct:nt[ct];at[ut]=replaceEqualDeep(et[ut],_e[ut]),at[ut]===et[ut]&&st++}return rt===it&&st===rt?et:at}return _e}function shallowEqualObjects(et,_e){if(et&&!_e||_e&&!et)return!1;for(const tt in et)if(et[tt]!==_e[tt])return!1;return!0}function isPlainArray(et){return Array.isArray(et)&&et.length===Object.keys(et).length}function isPlainObject(et){if(!hasObjectPrototype(et))return!1;const _e=et.constructor;if(typeof _e=="undefined")return!0;const tt=_e.prototype;return!(!hasObjectPrototype(tt)||!tt.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(et){return Object.prototype.toString.call(et)==="[object Object]"}function isQueryKey(et){return Array.isArray(et)}function sleep(et){return new Promise(_e=>{setTimeout(_e,et)})}function scheduleMicrotask(et){sleep(0).then(et)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData(et,_e,tt){return tt.isDataEqual!=null&&tt.isDataEqual(et,_e)?et:typeof tt.structuralSharing=="function"?tt.structuralSharing(et,_e):tt.structuralSharing!==!1?replaceEqualDeep(et,_e):_e}class FocusManager extends Subscribable{constructor(){super(),this.setup=_e=>{if(!isServer&&window.addEventListener){const tt=()=>_e();return window.addEventListener("visibilitychange",tt,!1),window.addEventListener("focus",tt,!1),()=>{window.removeEventListener("visibilitychange",tt),window.removeEventListener("focus",tt)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var _e;(_e=this.cleanup)==null||_e.call(this),this.cleanup=void 0}}setEventListener(_e){var tt;this.setup=_e,(tt=this.cleanup)==null||tt.call(this),this.cleanup=_e(rt=>{typeof rt=="boolean"?this.setFocused(rt):this.onFocus()})}setFocused(_e){this.focused=_e,_e&&this.onFocus()}onFocus(){this.listeners.forEach(_e=>{_e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const focusManager=new FocusManager;class OnlineManager extends Subscribable{constructor(){super(),this.setup=_e=>{if(!isServer&&window.addEventListener){const tt=()=>_e();return window.addEventListener("online",tt,!1),window.addEventListener("offline",tt,!1),()=>{window.removeEventListener("online",tt),window.removeEventListener("offline",tt)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var _e;(_e=this.cleanup)==null||_e.call(this),this.cleanup=void 0}}setEventListener(_e){var tt;this.setup=_e,(tt=this.cleanup)==null||tt.call(this),this.cleanup=_e(rt=>{typeof rt=="boolean"?this.setOnline(rt):this.onOnline()})}setOnline(_e){this.online=_e,_e&&this.onOnline()}onOnline(){this.listeners.forEach(_e=>{_e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine}}const onlineManager=new OnlineManager;function defaultRetryDelay(et){return Math.min(1e3*2**et,3e4)}function canFetch(et){return(et!=null?et:"online")==="online"?onlineManager.isOnline():!0}class CancelledError{constructor(_e){this.revert=_e==null?void 0:_e.revert,this.silent=_e==null?void 0:_e.silent}}function isCancelledError(et){return et instanceof CancelledError}function createRetryer(et){let _e=!1,tt=0,rt=!1,nt,it,at;const st=new Promise((Tt,At)=>{it=Tt,at=At}),ct=Tt=>{rt||(Et(new CancelledError(Tt)),et.abort==null||et.abort())},ut=()=>{_e=!0},ft=()=>{_e=!1},gt=()=>!focusManager.isFocused()||et.networkMode!=="always"&&!onlineManager.isOnline(),_t=Tt=>{rt||(rt=!0,et.onSuccess==null||et.onSuccess(Tt),nt==null||nt(),it(Tt))},Et=Tt=>{rt||(rt=!0,et.onError==null||et.onError(Tt),nt==null||nt(),at(Tt))},$t=()=>new Promise(Tt=>{nt=At=>{if(rt||!gt())return Tt(At)},et.onPause==null||et.onPause()}).then(()=>{nt=void 0,rt||et.onContinue==null||et.onContinue()}),It=()=>{if(rt)return;let Tt;try{Tt=et.fn()}catch(At){Tt=Promise.reject(At)}Promise.resolve(Tt).then(_t).catch(At=>{var Rt,kt;if(rt)return;const Ot=(Rt=et.retry)!=null?Rt:3,Wt=(kt=et.retryDelay)!=null?kt:defaultRetryDelay,zt=typeof Wt=="function"?Wt(tt,At):Wt,Kt=Ot===!0||typeof Ot=="number"&&tt<Ot||typeof Ot=="function"&&Ot(tt,At);if(_e||!Kt){Et(At);return}tt++,et.onFail==null||et.onFail(tt,At),sleep(zt).then(()=>{if(gt())return $t()}).then(()=>{_e?Et(At):It()})})};return canFetch(et.networkMode)?It():$t().then(It),{promise:st,cancel:ct,continue:()=>{nt==null||nt()},cancelRetry:ut,continueRetry:ft}}const defaultLogger=console;function createNotifyManager(){let et=[],_e=0,tt=ft=>{ft()},rt=ft=>{ft()};const nt=ft=>{let gt;_e++;try{gt=ft()}finally{_e--,_e||st()}return gt},it=ft=>{_e?et.push(ft):scheduleMicrotask(()=>{tt(ft)})},at=ft=>(...gt)=>{it(()=>{ft(...gt)})},st=()=>{const ft=et;et=[],ft.length&&scheduleMicrotask(()=>{rt(()=>{ft.forEach(gt=>{tt(gt)})})})};return{batch:nt,batchCalls:at,schedule:it,setNotifyFunction:ft=>{tt=ft},setBatchNotifyFunction:ft=>{rt=ft}}}const notifyManager=createNotifyManager();class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(_e){this.cacheTime=Math.max(this.cacheTime||0,_e!=null?_e:isServer?1/0:5*60*1e3)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Query extends Removable{constructor(_e){super(),this.abortSignalConsumed=!1,this.defaultOptions=_e.defaultOptions,this.setOptions(_e.options),this.observers=[],this.cache=_e.cache,this.logger=_e.logger||defaultLogger,this.queryKey=_e.queryKey,this.queryHash=_e.queryHash,this.initialState=_e.state||getDefaultState$1(this.options),this.state=this.initialState}get meta(){return this.options.meta}setOptions(_e){this.options={...this.defaultOptions,..._e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(_e,tt){const rt=replaceData(this.state.data,_e,this.options);return this.dispatch({data:rt,type:"success",dataUpdatedAt:tt==null?void 0:tt.updatedAt,manual:tt==null?void 0:tt.manual}),rt}setState(_e,tt){this.dispatch({type:"setState",state:_e,setStateOptions:tt})}cancel(_e){var tt;const rt=this.promise;return(tt=this.retryer)==null||tt.cancel(_e),rt?rt.then(noop$4).catch(noop$4):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(_e=>_e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(_e=>_e.getCurrentResult().isStale)}isStaleByTime(_e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,_e)}onFocus(){var _e;const tt=this.observers.find(rt=>rt.shouldFetchOnWindowFocus());tt&&tt.refetch({cancelRefetch:!1}),(_e=this.retryer)==null||_e.continue()}onOnline(){var _e;const tt=this.observers.find(rt=>rt.shouldFetchOnReconnect());tt&&tt.refetch({cancelRefetch:!1}),(_e=this.retryer)==null||_e.continue()}addObserver(_e){this.observers.indexOf(_e)===-1&&(this.observers.push(_e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:_e}))}removeObserver(_e){this.observers.indexOf(_e)!==-1&&(this.observers=this.observers.filter(tt=>tt!==_e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:_e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(_e,tt){var rt,nt;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&tt!=null&&tt.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var it;return(it=this.retryer)==null||it.continueRetry(),this.promise}}if(_e&&this.setOptions(_e),!this.options.queryFn){const Et=this.observers.find($t=>$t.options.queryFn);Et&&this.setOptions(Et.options)}Array.isArray(this.options.queryKey);const at=getAbortController(),st={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},ct=Et=>{Object.defineProperty(Et,"signal",{enumerable:!0,get:()=>{if(at)return this.abortSignalConsumed=!0,at.signal}})};ct(st);const ut=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(st)):Promise.reject("Missing queryFn"),ft={fetchOptions:tt,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:ut};if(ct(ft),(rt=this.options.behavior)==null||rt.onFetch(ft),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((nt=ft.fetchOptions)==null?void 0:nt.meta)){var gt;this.dispatch({type:"fetch",meta:(gt=ft.fetchOptions)==null?void 0:gt.meta})}const _t=Et=>{if(isCancelledError(Et)&&Et.silent||this.dispatch({type:"error",error:Et}),!isCancelledError(Et)){var $t,It;($t=(It=this.cache.config).onError)==null||$t.call(It,Et,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer({fn:ft.fetchFn,abort:at==null?void 0:at.abort.bind(at),onSuccess:Et=>{var $t,It;if(typeof Et=="undefined"){_t(new Error("undefined"));return}this.setData(Et),($t=(It=this.cache.config).onSuccess)==null||$t.call(It,Et,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:_t,onFail:(Et,$t)=>{this.dispatch({type:"failed",failureCount:Et,error:$t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:ft.options.retry,retryDelay:ft.options.retryDelay,networkMode:ft.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(_e){const tt=rt=>{var nt,it;switch(_e.type){case"failed":return{...rt,fetchFailureCount:_e.failureCount,fetchFailureReason:_e.error};case"pause":return{...rt,fetchStatus:"paused"};case"continue":return{...rt,fetchStatus:"fetching"};case"fetch":return{...rt,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(nt=_e.meta)!=null?nt:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!rt.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...rt,data:_e.data,dataUpdateCount:rt.dataUpdateCount+1,dataUpdatedAt:(it=_e.dataUpdatedAt)!=null?it:Date.now(),error:null,isInvalidated:!1,status:"success",...!_e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const at=_e.error;return isCancelledError(at)&&at.revert&&this.revertState?{...this.revertState}:{...rt,error:at,errorUpdateCount:rt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:rt.fetchFailureCount+1,fetchFailureReason:at,fetchStatus:"idle",status:"error"};case"invalidate":return{...rt,isInvalidated:!0};case"setState":return{...rt,..._e.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(rt=>{rt.onQueryUpdate(_e)}),this.cache.notify({query:this,type:"updated",action:_e})})}}function getDefaultState$1(et){const _e=typeof et.initialData=="function"?et.initialData():et.initialData,tt=typeof _e!="undefined",rt=tt?typeof et.initialDataUpdatedAt=="function"?et.initialDataUpdatedAt():et.initialDataUpdatedAt:0;return{data:_e,dataUpdateCount:0,dataUpdatedAt:tt?rt!=null?rt:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:tt?"success":"loading",fetchStatus:"idle"}}class QueryCache extends Subscribable{constructor(_e){super(),this.config=_e||{},this.queries=[],this.queriesMap={}}build(_e,tt,rt){var nt;const it=tt.queryKey,at=(nt=tt.queryHash)!=null?nt:hashQueryKeyByOptions(it,tt);let st=this.get(at);return st||(st=new Query({cache:this,logger:_e.getLogger(),queryKey:it,queryHash:at,options:_e.defaultQueryOptions(tt),state:rt,defaultOptions:_e.getQueryDefaults(it)}),this.add(st)),st}add(_e){this.queriesMap[_e.queryHash]||(this.queriesMap[_e.queryHash]=_e,this.queries.push(_e),this.notify({type:"added",query:_e}))}remove(_e){const tt=this.queriesMap[_e.queryHash];tt&&(_e.destroy(),this.queries=this.queries.filter(rt=>rt!==_e),tt===_e&&delete this.queriesMap[_e.queryHash],this.notify({type:"removed",query:_e}))}clear(){notifyManager.batch(()=>{this.queries.forEach(_e=>{this.remove(_e)})})}get(_e){return this.queriesMap[_e]}getAll(){return this.queries}find(_e,tt){const[rt]=parseFilterArgs(_e,tt);return typeof rt.exact=="undefined"&&(rt.exact=!0),this.queries.find(nt=>matchQuery(rt,nt))}findAll(_e,tt){const[rt]=parseFilterArgs(_e,tt);return Object.keys(rt).length>0?this.queries.filter(nt=>matchQuery(rt,nt)):this.queries}notify(_e){notifyManager.batch(()=>{this.listeners.forEach(tt=>{tt(_e)})})}onFocus(){notifyManager.batch(()=>{this.queries.forEach(_e=>{_e.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.queries.forEach(_e=>{_e.onOnline()})})}}class Mutation extends Removable{constructor(_e){super(),this.options={..._e.defaultOptions,..._e.options},this.mutationId=_e.mutationId,this.mutationCache=_e.mutationCache,this.logger=_e.logger||defaultLogger,this.observers=[],this.state=_e.state||getDefaultState(),this.updateCacheTime(this.options.cacheTime),this.scheduleGc()}get meta(){return this.options.meta}setState(_e){this.dispatch({type:"setState",state:_e})}addObserver(_e){this.observers.indexOf(_e)===-1&&(this.observers.push(_e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:_e}))}removeObserver(_e){this.observers=this.observers.filter(tt=>tt!==_e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:_e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()}async execute(){const _e=()=>{var kt;return this.retryer=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(Ot,Wt)=>{this.dispatch({type:"failed",failureCount:Ot,error:Wt})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(kt=this.options.retry)!=null?kt:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},tt=this.state.status==="loading";try{var rt,nt,it,at,st,ct;if(!tt){var ut,ft,gt,_t;this.dispatch({type:"loading",variables:this.options.variables}),await((ut=(ft=this.mutationCache.config).onMutate)==null?void 0:ut.call(ft,this.state.variables,this));const Ot=await((gt=(_t=this.options).onMutate)==null?void 0:gt.call(_t,this.state.variables));Ot!==this.state.context&&this.dispatch({type:"loading",context:Ot,variables:this.state.variables})}const kt=await _e();return await((rt=(nt=this.mutationCache.config).onSuccess)==null?void 0:rt.call(nt,kt,this.state.variables,this.state.context,this)),await((it=(at=this.options).onSuccess)==null?void 0:it.call(at,kt,this.state.variables,this.state.context)),await((st=(ct=this.options).onSettled)==null?void 0:st.call(ct,kt,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:kt}),kt}catch(kt){try{var Et,$t,It,Tt,At,Rt;throw await((Et=($t=this.mutationCache.config).onError)==null?void 0:Et.call($t,kt,this.state.variables,this.state.context,this)),await((It=(Tt=this.options).onError)==null?void 0:It.call(Tt,kt,this.state.variables,this.state.context)),await((At=(Rt=this.options).onSettled)==null?void 0:At.call(Rt,void 0,kt,this.state.variables,this.state.context)),kt}finally{this.dispatch({type:"error",error:kt})}}}dispatch(_e){const tt=rt=>{switch(_e.type){case"failed":return{...rt,failureCount:_e.failureCount,failureReason:_e.error};case"pause":return{...rt,isPaused:!0};case"continue":return{...rt,isPaused:!1};case"loading":return{...rt,context:_e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"loading",variables:_e.variables};case"success":return{...rt,data:_e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...rt,data:void 0,error:_e.error,failureCount:rt.failureCount+1,failureReason:_e.error,isPaused:!1,status:"error"};case"setState":return{...rt,..._e.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(rt=>{rt.onMutationUpdate(_e)}),this.mutationCache.notify({mutation:this,type:"updated",action:_e})})}}function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class MutationCache extends Subscribable{constructor(_e){super(),this.config=_e||{},this.mutations=[],this.mutationId=0}build(_e,tt,rt){const nt=new Mutation({mutationCache:this,logger:_e.getLogger(),mutationId:++this.mutationId,options:_e.defaultMutationOptions(tt),state:rt,defaultOptions:tt.mutationKey?_e.getMutationDefaults(tt.mutationKey):void 0});return this.add(nt),nt}add(_e){this.mutations.push(_e),this.notify({type:"added",mutation:_e})}remove(_e){this.mutations=this.mutations.filter(tt=>tt!==_e),this.notify({type:"removed",mutation:_e})}clear(){notifyManager.batch(()=>{this.mutations.forEach(_e=>{this.remove(_e)})})}getAll(){return this.mutations}find(_e){return typeof _e.exact=="undefined"&&(_e.exact=!0),this.mutations.find(tt=>matchMutation(_e,tt))}findAll(_e){return this.mutations.filter(tt=>matchMutation(_e,tt))}notify(_e){notifyManager.batch(()=>{this.listeners.forEach(tt=>{tt(_e)})})}resumePausedMutations(){const _e=this.mutations.filter(tt=>tt.state.isPaused);return notifyManager.batch(()=>_e.reduce((tt,rt)=>tt.then(()=>rt.continue().catch(noop$4)),Promise.resolve()))}}function infiniteQueryBehavior(){return{onFetch:et=>{et.fetchFn=()=>{var _e,tt,rt,nt,it,at;const st=(_e=et.fetchOptions)==null||(tt=_e.meta)==null?void 0:tt.refetchPage,ct=(rt=et.fetchOptions)==null||(nt=rt.meta)==null?void 0:nt.fetchMore,ut=ct==null?void 0:ct.pageParam,ft=(ct==null?void 0:ct.direction)==="forward",gt=(ct==null?void 0:ct.direction)==="backward",_t=((it=et.state.data)==null?void 0:it.pages)||[],Et=((at=et.state.data)==null?void 0:at.pageParams)||[];let $t=Et,It=!1;const Tt=zt=>{Object.defineProperty(zt,"signal",{enumerable:!0,get:()=>{var Kt;if((Kt=et.signal)!=null&&Kt.aborted)It=!0;else{var Jt;(Jt=et.signal)==null||Jt.addEventListener("abort",()=>{It=!0})}return et.signal}})},At=et.options.queryFn||(()=>Promise.reject("Missing queryFn")),Rt=(zt,Kt,Jt,ar)=>($t=ar?[Kt,...$t]:[...$t,Kt],ar?[Jt,...zt]:[...zt,Jt]),kt=(zt,Kt,Jt,ar)=>{if(It)return Promise.reject("Cancelled");if(typeof Jt=="undefined"&&!Kt&&zt.length)return Promise.resolve(zt);const jt={queryKey:et.queryKey,pageParam:Jt,meta:et.options.meta};Tt(jt);const Ct=At(jt);return Promise.resolve(Ct).then(ht=>Rt(zt,Jt,ht,ar))};let Ot;if(!_t.length)Ot=kt([]);else if(ft){const zt=typeof ut!="undefined",Kt=zt?ut:getNextPageParam(et.options,_t);Ot=kt(_t,zt,Kt)}else if(gt){const zt=typeof ut!="undefined",Kt=zt?ut:getPreviousPageParam(et.options,_t);Ot=kt(_t,zt,Kt,!0)}else{$t=[];const zt=typeof et.options.getNextPageParam=="undefined";Ot=(st&&_t[0]?st(_t[0],0,_t):!0)?kt([],zt,Et[0]):Promise.resolve(Rt([],Et[0],_t[0]));for(let Jt=1;Jt<_t.length;Jt++)Ot=Ot.then(ar=>{if(st&&_t[Jt]?st(_t[Jt],Jt,_t):!0){const Ct=zt?Et[Jt]:getNextPageParam(et.options,ar);return kt(ar,zt,Ct)}return Promise.resolve(Rt(ar,Et[Jt],_t[Jt]))})}return Ot.then(zt=>({pages:zt,pageParams:$t}))}}}}function getNextPageParam(et,_e){return et.getNextPageParam==null?void 0:et.getNextPageParam(_e[_e.length-1],_e)}function getPreviousPageParam(et,_e){return et.getPreviousPageParam==null?void 0:et.getPreviousPageParam(_e[0],_e)}class QueryClient{constructor(_e={}){this.queryCache=_e.queryCache||new QueryCache,this.mutationCache=_e.mutationCache||new MutationCache,this.logger=_e.logger||defaultLogger,this.defaultOptions=_e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var _e,tt;this.mountCount--,this.mountCount===0&&((_e=this.unsubscribeFocus)==null||_e.call(this),this.unsubscribeFocus=void 0,(tt=this.unsubscribeOnline)==null||tt.call(this),this.unsubscribeOnline=void 0)}isFetching(_e,tt){const[rt]=parseFilterArgs(_e,tt);return rt.fetchStatus="fetching",this.queryCache.findAll(rt).length}isMutating(_e){return this.mutationCache.findAll({..._e,fetching:!0}).length}getQueryData(_e,tt){var rt;return(rt=this.queryCache.find(_e,tt))==null?void 0:rt.state.data}ensureQueryData(_e,tt,rt){const nt=parseQueryArgs(_e,tt,rt),it=this.getQueryData(nt.queryKey);return it?Promise.resolve(it):this.fetchQuery(nt)}getQueriesData(_e){return this.getQueryCache().findAll(_e).map(({queryKey:tt,state:rt})=>{const nt=rt.data;return[tt,nt]})}setQueryData(_e,tt,rt){const nt=this.queryCache.find(_e),it=nt==null?void 0:nt.state.data,at=functionalUpdate(tt,it);if(typeof at=="undefined")return;const st=parseQueryArgs(_e),ct=this.defaultQueryOptions(st);return this.queryCache.build(this,ct).setData(at,{...rt,manual:!0})}setQueriesData(_e,tt,rt){return notifyManager.batch(()=>this.getQueryCache().findAll(_e).map(({queryKey:nt})=>[nt,this.setQueryData(nt,tt,rt)]))}getQueryState(_e,tt){var rt;return(rt=this.queryCache.find(_e,tt))==null?void 0:rt.state}removeQueries(_e,tt){const[rt]=parseFilterArgs(_e,tt),nt=this.queryCache;notifyManager.batch(()=>{nt.findAll(rt).forEach(it=>{nt.remove(it)})})}resetQueries(_e,tt,rt){const[nt,it]=parseFilterArgs(_e,tt,rt),at=this.queryCache,st={type:"active",...nt};return notifyManager.batch(()=>(at.findAll(nt).forEach(ct=>{ct.reset()}),this.refetchQueries(st,it)))}cancelQueries(_e,tt,rt){const[nt,it={}]=parseFilterArgs(_e,tt,rt);typeof it.revert=="undefined"&&(it.revert=!0);const at=notifyManager.batch(()=>this.queryCache.findAll(nt).map(st=>st.cancel(it)));return Promise.all(at).then(noop$4).catch(noop$4)}invalidateQueries(_e,tt,rt){const[nt,it]=parseFilterArgs(_e,tt,rt);return notifyManager.batch(()=>{var at,st;if(this.queryCache.findAll(nt).forEach(ut=>{ut.invalidate()}),nt.refetchType==="none")return Promise.resolve();const ct={...nt,type:(at=(st=nt.refetchType)!=null?st:nt.type)!=null?at:"active"};return this.refetchQueries(ct,it)})}refetchQueries(_e,tt,rt){const[nt,it]=parseFilterArgs(_e,tt,rt),at=notifyManager.batch(()=>this.queryCache.findAll(nt).filter(ct=>!ct.isDisabled()).map(ct=>{var ut;return ct.fetch(void 0,{...it,cancelRefetch:(ut=it==null?void 0:it.cancelRefetch)!=null?ut:!0,meta:{refetchPage:nt.refetchPage}})}));let st=Promise.all(at).then(noop$4);return it!=null&&it.throwOnError||(st=st.catch(noop$4)),st}fetchQuery(_e,tt,rt){const nt=parseQueryArgs(_e,tt,rt),it=this.defaultQueryOptions(nt);typeof it.retry=="undefined"&&(it.retry=!1);const at=this.queryCache.build(this,it);return at.isStaleByTime(it.staleTime)?at.fetch(it):Promise.resolve(at.state.data)}prefetchQuery(_e,tt,rt){return this.fetchQuery(_e,tt,rt).then(noop$4).catch(noop$4)}fetchInfiniteQuery(_e,tt,rt){const nt=parseQueryArgs(_e,tt,rt);return nt.behavior=infiniteQueryBehavior(),this.fetchQuery(nt)}prefetchInfiniteQuery(_e,tt,rt){return this.fetchInfiniteQuery(_e,tt,rt).then(noop$4).catch(noop$4)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(_e){this.defaultOptions=_e}setQueryDefaults(_e,tt){const rt=this.queryDefaults.find(nt=>hashQueryKey(_e)===hashQueryKey(nt.queryKey));rt?rt.defaultOptions=tt:this.queryDefaults.push({queryKey:_e,defaultOptions:tt})}getQueryDefaults(_e){if(!_e)return;const tt=this.queryDefaults.find(rt=>partialMatchKey(_e,rt.queryKey));return tt==null?void 0:tt.defaultOptions}setMutationDefaults(_e,tt){const rt=this.mutationDefaults.find(nt=>hashQueryKey(_e)===hashQueryKey(nt.mutationKey));rt?rt.defaultOptions=tt:this.mutationDefaults.push({mutationKey:_e,defaultOptions:tt})}getMutationDefaults(_e){if(!_e)return;const tt=this.mutationDefaults.find(rt=>partialMatchKey(_e,rt.mutationKey));return tt==null?void 0:tt.defaultOptions}defaultQueryOptions(_e){if(_e!=null&&_e._defaulted)return _e;const tt={...this.defaultOptions.queries,...this.getQueryDefaults(_e==null?void 0:_e.queryKey),..._e,_defaulted:!0};return!tt.queryHash&&tt.queryKey&&(tt.queryHash=hashQueryKeyByOptions(tt.queryKey,tt)),typeof tt.refetchOnReconnect=="undefined"&&(tt.refetchOnReconnect=tt.networkMode!=="always"),typeof tt.useErrorBoundary=="undefined"&&(tt.useErrorBoundary=!!tt.suspense),tt}defaultMutationOptions(_e){return _e!=null&&_e._defaulted?_e:{...this.defaultOptions.mutations,...this.getMutationDefaults(_e==null?void 0:_e.mutationKey),..._e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class QueryObserver extends Subscribable{constructor(_e,tt){super(),this.client=_e,this.options=tt,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(tt)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(_e,tt){const rt=this.options,nt=this.currentQuery;if(this.options=this.client.defaultQueryOptions(_e),shallowEqualObjects(rt,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=rt.queryKey),this.updateQuery();const it=this.hasListeners();it&&shouldFetchOptionally(this.currentQuery,nt,this.options,rt)&&this.executeFetch(),this.updateResult(tt),it&&(this.currentQuery!==nt||this.options.enabled!==rt.enabled||this.options.staleTime!==rt.staleTime)&&this.updateStaleTimeout();const at=this.computeRefetchInterval();it&&(this.currentQuery!==nt||this.options.enabled!==rt.enabled||at!==this.currentRefetchInterval)&&this.updateRefetchInterval(at)}getOptimisticResult(_e){const tt=this.client.getQueryCache().build(this.client,_e);return this.createResult(tt,_e)}getCurrentResult(){return this.currentResult}trackResult(_e){const tt={};return Object.keys(_e).forEach(rt=>{Object.defineProperty(tt,rt,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(rt),_e[rt])})}),tt}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:_e,...tt}={}){return this.fetch({...tt,meta:{refetchPage:_e}})}fetchOptimistic(_e){const tt=this.client.defaultQueryOptions(_e),rt=this.client.getQueryCache().build(this.client,tt);return rt.isFetchingOptimistic=!0,rt.fetch().then(()=>this.createResult(rt,tt))}fetch(_e){var tt;return this.executeFetch({..._e,cancelRefetch:(tt=_e.cancelRefetch)!=null?tt:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(_e){this.updateQuery();let tt=this.currentQuery.fetch(this.options,_e);return _e!=null&&_e.throwOnError||(tt=tt.catch(noop$4)),tt}updateStaleTimeout(){if(this.clearStaleTimeout(),isServer||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))return;const tt=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},tt)}computeRefetchInterval(){var _e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(_e=this.options.refetchInterval)!=null?_e:!1}updateRefetchInterval(_e){this.clearRefetchInterval(),this.currentRefetchInterval=_e,!(isServer||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(_e,tt){const rt=this.currentQuery,nt=this.options,it=this.currentResult,at=this.currentResultState,st=this.currentResultOptions,ct=_e!==rt,ut=ct?_e.state:this.currentQueryInitialState,ft=ct?this.currentResult:this.previousQueryResult,{state:gt}=_e;let{dataUpdatedAt:_t,error:Et,errorUpdatedAt:$t,fetchStatus:It,status:Tt}=gt,At=!1,Rt=!1,kt;if(tt._optimisticResults){const Jt=this.hasListeners(),ar=!Jt&&shouldFetchOnMount(_e,tt),jt=Jt&&shouldFetchOptionally(_e,rt,tt,nt);(ar||jt)&&(It=canFetch(_e.options.networkMode)?"fetching":"paused",_t||(Tt="loading")),tt._optimisticResults==="isRestoring"&&(It="idle")}if(tt.keepPreviousData&&!gt.dataUpdatedAt&&ft!=null&&ft.isSuccess&&Tt!=="error")kt=ft.data,_t=ft.dataUpdatedAt,Tt=ft.status,At=!0;else if(tt.select&&typeof gt.data!="undefined")if(it&&gt.data===(at==null?void 0:at.data)&&tt.select===this.selectFn)kt=this.selectResult;else try{this.selectFn=tt.select,kt=tt.select(gt.data),kt=replaceData(it==null?void 0:it.data,kt,tt),this.selectResult=kt,this.selectError=null}catch(Jt){this.selectError=Jt}else kt=gt.data;if(typeof tt.placeholderData!="undefined"&&typeof kt=="undefined"&&Tt==="loading"){let Jt;if(it!=null&&it.isPlaceholderData&&tt.placeholderData===(st==null?void 0:st.placeholderData))Jt=it.data;else if(Jt=typeof tt.placeholderData=="function"?tt.placeholderData():tt.placeholderData,tt.select&&typeof Jt!="undefined")try{Jt=tt.select(Jt),this.selectError=null}catch(ar){this.selectError=ar}typeof Jt!="undefined"&&(Tt="success",kt=replaceData(it==null?void 0:it.data,Jt,tt),Rt=!0)}this.selectError&&(Et=this.selectError,kt=this.selectResult,$t=Date.now(),Tt="error");const Ot=It==="fetching",Wt=Tt==="loading",zt=Tt==="error";return{status:Tt,fetchStatus:It,isLoading:Wt,isSuccess:Tt==="success",isError:zt,isInitialLoading:Wt&&Ot,data:kt,dataUpdatedAt:_t,error:Et,errorUpdatedAt:$t,failureCount:gt.fetchFailureCount,failureReason:gt.fetchFailureReason,errorUpdateCount:gt.errorUpdateCount,isFetched:gt.dataUpdateCount>0||gt.errorUpdateCount>0,isFetchedAfterMount:gt.dataUpdateCount>ut.dataUpdateCount||gt.errorUpdateCount>ut.errorUpdateCount,isFetching:Ot,isRefetching:Ot&&!Wt,isLoadingError:zt&&gt.dataUpdatedAt===0,isPaused:It==="paused",isPlaceholderData:Rt,isPreviousData:At,isRefetchError:zt&&gt.dataUpdatedAt!==0,isStale:isStale(_e,tt),refetch:this.refetch,remove:this.remove}}updateResult(_e){const tt=this.currentResult,rt=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,shallowEqualObjects(rt,tt))return;this.currentResult=rt;const nt={cache:!0},it=()=>{if(!tt)return!0;const{notifyOnChangeProps:at}=this.options;if(at==="all"||!at&&!this.trackedProps.size)return!0;const st=new Set(at!=null?at:this.trackedProps);return this.options.useErrorBoundary&&st.add("error"),Object.keys(this.currentResult).some(ct=>{const ut=ct;return this.currentResult[ut]!==tt[ut]&&st.has(ut)})};(_e==null?void 0:_e.listeners)!==!1&&it()&&(nt.listeners=!0),this.notify({...nt,..._e})}updateQuery(){const _e=this.client.getQueryCache().build(this.client,this.options);if(_e===this.currentQuery)return;const tt=this.currentQuery;this.currentQuery=_e,this.currentQueryInitialState=_e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(tt==null||tt.removeObserver(this),_e.addObserver(this))}onQueryUpdate(_e){const tt={};_e.type==="success"?tt.onSuccess=!_e.manual:_e.type==="error"&&!isCancelledError(_e.error)&&(tt.onError=!0),this.updateResult(tt),this.hasListeners()&&this.updateTimers()}notify(_e){notifyManager.batch(()=>{if(_e.onSuccess){var tt,rt,nt,it;(tt=(rt=this.options).onSuccess)==null||tt.call(rt,this.currentResult.data),(nt=(it=this.options).onSettled)==null||nt.call(it,this.currentResult.data,null)}else if(_e.onError){var at,st,ct,ut;(at=(st=this.options).onError)==null||at.call(st,this.currentResult.error),(ct=(ut=this.options).onSettled)==null||ct.call(ut,void 0,this.currentResult.error)}_e.listeners&&this.listeners.forEach(ft=>{ft(this.currentResult)}),_e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function shouldLoadOnMount(et,_e){return _e.enabled!==!1&&!et.state.dataUpdatedAt&&!(et.state.status==="error"&&_e.retryOnMount===!1)}function shouldFetchOnMount(et,_e){return shouldLoadOnMount(et,_e)||et.state.dataUpdatedAt>0&&shouldFetchOn(et,_e,_e.refetchOnMount)}function shouldFetchOn(et,_e,tt){if(_e.enabled!==!1){const rt=typeof tt=="function"?tt(et):tt;return rt==="always"||rt!==!1&&isStale(et,_e)}return!1}function shouldFetchOptionally(et,_e,tt,rt){return tt.enabled!==!1&&(et!==_e||rt.enabled===!1)&&(!tt.suspense||et.state.status!=="error")&&isStale(et,tt)}function isStale(et,_e){return et.isStaleByTime(_e.staleTime)}var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$5=react.exports;function h$5(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var k$6=typeof Object.is=="function"?Object.is:h$5,l$5=e$5.useState,m$6=e$5.useEffect,n$4=e$5.useLayoutEffect,p$6=e$5.useDebugValue;function q$6(et,_e){var tt=_e(),rt=l$5({inst:{value:tt,getSnapshot:_e}}),nt=rt[0].inst,it=rt[1];return n$4(function(){nt.value=tt,nt.getSnapshot=_e,r$7(nt)&&it({inst:nt})},[et,tt,_e]),m$6(function(){return r$7(nt)&&it({inst:nt}),et(function(){r$7(nt)&&it({inst:nt})})},[et]),p$6(tt),tt}function r$7(et){var _e=et.getSnapshot;et=et.value;try{var tt=_e();return!k$6(et,tt)}catch{return!0}}function t$5(et,_e){return _e()}var u$4=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?t$5:q$6;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$5.useSyncExternalStore!==void 0?e$5.useSyncExternalStore:u$4;shim.exports=useSyncExternalStoreShim_production_min;const useSyncExternalStore=shim.exports.useSyncExternalStore,defaultContext=react.exports.createContext(void 0),QueryClientSharingContext=react.exports.createContext(!1);function getQueryClientContext(et,_e){return et||(_e&&typeof window!="undefined"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const useQueryClient=({context:et}={})=>{const _e=react.exports.useContext(getQueryClientContext(et,react.exports.useContext(QueryClientSharingContext)));if(!_e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return _e},QueryClientProvider=({client:et,children:_e,context:tt,contextSharing:rt=!1})=>{react.exports.useEffect(()=>(et.mount(),()=>{et.unmount()}),[et]);const nt=getQueryClientContext(tt,rt);return react.exports.createElement(QueryClientSharingContext.Provider,{value:!tt&&rt},react.exports.createElement(nt.Provider,{value:et},_e))},IsRestoringContext=react.exports.createContext(!1),useIsRestoring=()=>react.exports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let et=!1;return{clearReset:()=>{et=!1},reset:()=>{et=!0},isReset:()=>et}}const QueryErrorResetBoundaryContext=react.exports.createContext(createValue()),useQueryErrorResetBoundary=()=>react.exports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(et,_e){return typeof et=="function"?et(..._e):!!et}const ensurePreventErrorBoundaryRetry=(et,_e)=>{(et.suspense||et.useErrorBoundary)&&(_e.isReset()||(et.retryOnMount=!1))},useClearResetErrorBoundary=et=>{react.exports.useEffect(()=>{et.clearReset()},[et])},getHasError=({result:et,errorResetBoundary:_e,useErrorBoundary:tt,query:rt})=>et.isError&&!_e.isReset()&&!et.isFetching&&shouldThrowError(tt,[et.error,rt]),ensureStaleTime=et=>{et.suspense&&typeof et.staleTime!="number"&&(et.staleTime=1e3)},willFetch=(et,_e)=>et.isLoading&&et.isFetching&&!_e,shouldSuspend=(et,_e,tt)=>(et==null?void 0:et.suspense)&&willFetch(_e,tt),fetchOptimistic=(et,_e,tt)=>_e.fetchOptimistic(et).then(({data:rt})=>{et.onSuccess==null||et.onSuccess(rt),et.onSettled==null||et.onSettled(rt,null)}).catch(rt=>{tt.clearReset(),et.onError==null||et.onError(rt),et.onSettled==null||et.onSettled(void 0,rt)});function useBaseQuery(et,_e){const tt=useQueryClient({context:et.context}),rt=useIsRestoring(),nt=useQueryErrorResetBoundary(),it=tt.defaultQueryOptions(et);it._optimisticResults=rt?"isRestoring":"optimistic",it.onError&&(it.onError=notifyManager.batchCalls(it.onError)),it.onSuccess&&(it.onSuccess=notifyManager.batchCalls(it.onSuccess)),it.onSettled&&(it.onSettled=notifyManager.batchCalls(it.onSettled)),ensureStaleTime(it),ensurePreventErrorBoundaryRetry(it,nt),useClearResetErrorBoundary(nt);const[at]=react.exports.useState(()=>new _e(tt,it)),st=at.getOptimisticResult(it);if(useSyncExternalStore(react.exports.useCallback(ct=>rt?()=>{}:at.subscribe(notifyManager.batchCalls(ct)),[at,rt]),()=>at.getCurrentResult(),()=>at.getCurrentResult()),react.exports.useEffect(()=>{at.setOptions(it,{listeners:!1})},[it,at]),shouldSuspend(it,st,rt))throw fetchOptimistic(it,at,nt);if(getHasError({result:st,errorResetBoundary:nt,useErrorBoundary:it.useErrorBoundary,query:at.getCurrentQuery()}))throw st.error;return it.notifyOnChangeProps?st:at.trackResult(st)}function useQuery(et,_e,tt){const rt=parseQueryArgs(et,_e,tt);return useBaseQuery(rt,QueryObserver)}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$6=react.exports,k$5=Symbol.for("react.element"),l$4=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$3=f$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$5(et,_e,tt){var rt,nt={},it=null,at=null;tt!==void 0&&(it=""+tt),_e.key!==void 0&&(it=""+_e.key),_e.ref!==void 0&&(at=_e.ref);for(rt in _e)m$5.call(_e,rt)&&!p$5.hasOwnProperty(rt)&&(nt[rt]=_e[rt]);if(et&&et.defaultProps)for(rt in _e=et.defaultProps,_e)nt[rt]===void 0&&(nt[rt]=_e[rt]);return{$$typeof:k$5,type:et,key:it,ref:at,props:nt,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$4;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;jsxRuntime.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs,Fragment$1=jsxRuntime.exports.Fragment;var isProduction=!0,prefix$1="Invariant failed";function invariant$1(et,_e){if(!et){if(isProduction)throw new Error(prefix$1);var tt=typeof _e=="function"?_e():_e,rt=tt?prefix$1+": "+tt:prefix$1;throw new Error(rt)}}const QueryClientProviderWithDefault=et=>{let{queryClient:_e,children:tt}=et;const rt=react.exports.useMemo(()=>_e||new QueryClient,[_e]);return jsx(QueryClientProvider,{client:rt,children:tt})},NEVER_PERSIST_QUERY_POSTFIX={persist:!1};function neverPersist(et){return[...et,NEVER_PERSIST_QUERY_POSTFIX]}function requiredParamInvariant(et,_e){invariant$1(et!==null||et!==void 0,_e)}var bn$4={exports:{}};(function(et){(function(_e,tt){function rt(ht,ot){if(!ht)throw new Error(ot||"Assertion failed")}function nt(ht,ot){ht.super_=ot;var dt=function(){};dt.prototype=ot.prototype,ht.prototype=new dt,ht.prototype.constructor=ht}function it(ht,ot,dt){if(it.isBN(ht))return ht;this.negative=0,this.words=null,this.length=0,this.red=null,ht!==null&&((ot==="le"||ot==="be")&&(dt=ot,ot=10),this._init(ht||0,ot||10,dt||"be"))}typeof _e=="object"?_e.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?at=window.Buffer:at=require("buffer").Buffer}catch{}it.isBN=function(ot){return ot instanceof it?!0:ot!==null&&typeof ot=="object"&&ot.constructor.wordSize===it.wordSize&&Array.isArray(ot.words)},it.max=function(ot,dt){return ot.cmp(dt)>0?ot:dt},it.min=function(ot,dt){return ot.cmp(dt)<0?ot:dt},it.prototype._init=function(ot,dt,mt){if(typeof ot=="number")return this._initNumber(ot,dt,mt);if(typeof ot=="object")return this._initArray(ot,dt,mt);dt==="hex"&&(dt=16),rt(dt===(dt|0)&&dt>=2&&dt<=36),ot=ot.toString().replace(/\s+/g,"");var wt=0;ot[0]==="-"&&(wt++,this.negative=1),wt<ot.length&&(dt===16?this._parseHex(ot,wt,mt):(this._parseBase(ot,dt,wt),mt==="le"&&this._initArray(this.toArray(),dt,mt)))},it.prototype._initNumber=function(ot,dt,mt){ot<0&&(this.negative=1,ot=-ot),ot<67108864?(this.words=[ot&67108863],this.length=1):ot<4503599627370496?(this.words=[ot&67108863,ot/67108864&67108863],this.length=2):(rt(ot<9007199254740992),this.words=[ot&67108863,ot/67108864&67108863,1],this.length=3),mt==="le"&&this._initArray(this.toArray(),dt,mt)},it.prototype._initArray=function(ot,dt,mt){if(rt(typeof ot.length=="number"),ot.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ot.length/3),this.words=new Array(this.length);for(var wt=0;wt<this.length;wt++)this.words[wt]=0;var bt,vt,St=0;if(mt==="be")for(wt=ot.length-1,bt=0;wt>=0;wt-=3)vt=ot[wt]|ot[wt-1]<<8|ot[wt-2]<<16,this.words[bt]|=vt<<St&67108863,this.words[bt+1]=vt>>>26-St&67108863,St+=24,St>=26&&(St-=26,bt++);else if(mt==="le")for(wt=0,bt=0;wt<ot.length;wt+=3)vt=ot[wt]|ot[wt+1]<<8|ot[wt+2]<<16,this.words[bt]|=vt<<St&67108863,this.words[bt+1]=vt>>>26-St&67108863,St+=24,St>=26&&(St-=26,bt++);return this._strip()};function st(ht,ot){var dt=ht.charCodeAt(ot);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;rt(!1,"Invalid character in "+ht)}function ct(ht,ot,dt){var mt=st(ht,dt);return dt-1>=ot&&(mt|=st(ht,dt-1)<<4),mt}it.prototype._parseHex=function(ot,dt,mt){this.length=Math.ceil((ot.length-dt)/6),this.words=new Array(this.length);for(var wt=0;wt<this.length;wt++)this.words[wt]=0;var bt=0,vt=0,St;if(mt==="be")for(wt=ot.length-1;wt>=dt;wt-=2)St=ct(ot,dt,wt)<<bt,this.words[vt]|=St&67108863,bt>=18?(bt-=18,vt+=1,this.words[vt]|=St>>>26):bt+=8;else{var yt=ot.length-dt;for(wt=yt%2===0?dt+1:dt;wt<ot.length;wt+=2)St=ct(ot,dt,wt)<<bt,this.words[vt]|=St&67108863,bt>=18?(bt-=18,vt+=1,this.words[vt]|=St>>>26):bt+=8}this._strip()};function ut(ht,ot,dt,mt){for(var wt=0,bt=0,vt=Math.min(ht.length,dt),St=ot;St<vt;St++){var yt=ht.charCodeAt(St)-48;wt*=mt,yt>=49?bt=yt-49+10:yt>=17?bt=yt-17+10:bt=yt,rt(yt>=0&&bt<mt,"Invalid character"),wt+=bt}return wt}it.prototype._parseBase=function(ot,dt,mt){this.words=[0],this.length=1;for(var wt=0,bt=1;bt<=67108863;bt*=dt)wt++;wt--,bt=bt/dt|0;for(var vt=ot.length-mt,St=vt%wt,yt=Math.min(vt,vt-St)+mt,lt=0,xt=mt;xt<yt;xt+=wt)lt=ut(ot,xt,xt+wt,dt),this.imuln(bt),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt);if(St!==0){var Ut=1;for(lt=ut(ot,xt,ot.length,dt),xt=0;xt<St;xt++)Ut*=dt;this.imuln(Ut),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt)}this._strip()},it.prototype.copy=function(ot){ot.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)ot.words[dt]=this.words[dt];ot.length=this.length,ot.negative=this.negative,ot.red=this.red};function ft(ht,ot){ht.words=ot.words,ht.length=ot.length,ht.negative=ot.negative,ht.red=ot.red}if(it.prototype._move=function(ot){ft(ot,this)},it.prototype.clone=function(){var ot=new it(null);return this.copy(ot),ot},it.prototype._expand=function(ot){for(;this.length<ot;)this.words[this.length++]=0;return this},it.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{it.prototype[Symbol.for("nodejs.util.inspect.custom")]=gt}catch{it.prototype.inspect=gt}else it.prototype.inspect=gt;function gt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _t=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Et=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],$t=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(ot,dt){ot=ot||10,dt=dt|0||1;var mt;if(ot===16||ot==="hex"){mt="";for(var wt=0,bt=0,vt=0;vt<this.length;vt++){var St=this.words[vt],yt=((St<<wt|bt)&16777215).toString(16);bt=St>>>24-wt&16777215,wt+=2,wt>=26&&(wt-=26,vt--),bt!==0||vt!==this.length-1?mt=_t[6-yt.length]+yt+mt:mt=yt+mt}for(bt!==0&&(mt=bt.toString(16)+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}if(ot===(ot|0)&&ot>=2&&ot<=36){var lt=Et[ot],xt=$t[ot];mt="";var Ut=this.clone();for(Ut.negative=0;!Ut.isZero();){var Pt=Ut.modrn(xt).toString(ot);Ut=Ut.idivn(xt),Ut.isZero()?mt=Pt+mt:mt=_t[lt-Pt.length]+Pt+mt}for(this.isZero()&&(mt="0"+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}rt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var ot=this.words[0];return this.length===2?ot+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ot+=4503599627370496+this.words[1]*67108864:this.length>2&&rt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ot:ot},it.prototype.toJSON=function(){return this.toString(16,2)},at&&(it.prototype.toBuffer=function(ot,dt){return this.toArrayLike(at,ot,dt)}),it.prototype.toArray=function(ot,dt){return this.toArrayLike(Array,ot,dt)};var It=function(ot,dt){return ot.allocUnsafe?ot.allocUnsafe(dt):new ot(dt)};it.prototype.toArrayLike=function(ot,dt,mt){this._strip();var wt=this.byteLength(),bt=mt||Math.max(1,wt);rt(wt<=bt,"byte array longer than desired length"),rt(bt>0,"Requested array length <= 0");var vt=It(ot,bt),St=dt==="le"?"LE":"BE";return this["_toArrayLike"+St](vt,wt),vt},it.prototype._toArrayLikeLE=function(ot,dt){for(var mt=0,wt=0,bt=0,vt=0;bt<this.length;bt++){var St=this.words[bt]<<vt|wt;ot[mt++]=St&255,mt<ot.length&&(ot[mt++]=St>>8&255),mt<ot.length&&(ot[mt++]=St>>16&255),vt===6?(mt<ot.length&&(ot[mt++]=St>>24&255),wt=0,vt=0):(wt=St>>>24,vt+=2)}if(mt<ot.length)for(ot[mt++]=wt;mt<ot.length;)ot[mt++]=0},it.prototype._toArrayLikeBE=function(ot,dt){for(var mt=ot.length-1,wt=0,bt=0,vt=0;bt<this.length;bt++){var St=this.words[bt]<<vt|wt;ot[mt--]=St&255,mt>=0&&(ot[mt--]=St>>8&255),mt>=0&&(ot[mt--]=St>>16&255),vt===6?(mt>=0&&(ot[mt--]=St>>24&255),wt=0,vt=0):(wt=St>>>24,vt+=2)}if(mt>=0)for(ot[mt--]=wt;mt>=0;)ot[mt--]=0},Math.clz32?it.prototype._countBits=function(ot){return 32-Math.clz32(ot)}:it.prototype._countBits=function(ot){var dt=ot,mt=0;return dt>=4096&&(mt+=13,dt>>>=13),dt>=64&&(mt+=7,dt>>>=7),dt>=8&&(mt+=4,dt>>>=4),dt>=2&&(mt+=2,dt>>>=2),mt+dt},it.prototype._zeroBits=function(ot){if(ot===0)return 26;var dt=ot,mt=0;return(dt&8191)===0&&(mt+=13,dt>>>=13),(dt&127)===0&&(mt+=7,dt>>>=7),(dt&15)===0&&(mt+=4,dt>>>=4),(dt&3)===0&&(mt+=2,dt>>>=2),(dt&1)===0&&mt++,mt},it.prototype.bitLength=function(){var ot=this.words[this.length-1],dt=this._countBits(ot);return(this.length-1)*26+dt};function Tt(ht){for(var ot=new Array(ht.bitLength()),dt=0;dt<ot.length;dt++){var mt=dt/26|0,wt=dt%26;ot[dt]=ht.words[mt]>>>wt&1}return ot}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ot=0,dt=0;dt<this.length;dt++){var mt=this._zeroBits(this.words[dt]);if(ot+=mt,mt!==26)break}return ot},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(ot){return this.negative!==0?this.abs().inotn(ot).iaddn(1):this.clone()},it.prototype.fromTwos=function(ot){return this.testn(ot-1)?this.notn(ot).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(ot){for(;this.length<ot.length;)this.words[this.length++]=0;for(var dt=0;dt<ot.length;dt++)this.words[dt]=this.words[dt]|ot.words[dt];return this._strip()},it.prototype.ior=function(ot){return rt((this.negative|ot.negative)===0),this.iuor(ot)},it.prototype.or=function(ot){return this.length>ot.length?this.clone().ior(ot):ot.clone().ior(this)},it.prototype.uor=function(ot){return this.length>ot.length?this.clone().iuor(ot):ot.clone().iuor(this)},it.prototype.iuand=function(ot){var dt;this.length>ot.length?dt=ot:dt=this;for(var mt=0;mt<dt.length;mt++)this.words[mt]=this.words[mt]&ot.words[mt];return this.length=dt.length,this._strip()},it.prototype.iand=function(ot){return rt((this.negative|ot.negative)===0),this.iuand(ot)},it.prototype.and=function(ot){return this.length>ot.length?this.clone().iand(ot):ot.clone().iand(this)},it.prototype.uand=function(ot){return this.length>ot.length?this.clone().iuand(ot):ot.clone().iuand(this)},it.prototype.iuxor=function(ot){var dt,mt;this.length>ot.length?(dt=this,mt=ot):(dt=ot,mt=this);for(var wt=0;wt<mt.length;wt++)this.words[wt]=dt.words[wt]^mt.words[wt];if(this!==dt)for(;wt<dt.length;wt++)this.words[wt]=dt.words[wt];return this.length=dt.length,this._strip()},it.prototype.ixor=function(ot){return rt((this.negative|ot.negative)===0),this.iuxor(ot)},it.prototype.xor=function(ot){return this.length>ot.length?this.clone().ixor(ot):ot.clone().ixor(this)},it.prototype.uxor=function(ot){return this.length>ot.length?this.clone().iuxor(ot):ot.clone().iuxor(this)},it.prototype.inotn=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=Math.ceil(ot/26)|0,mt=ot%26;this._expand(dt),mt>0&&dt--;for(var wt=0;wt<dt;wt++)this.words[wt]=~this.words[wt]&67108863;return mt>0&&(this.words[wt]=~this.words[wt]&67108863>>26-mt),this._strip()},it.prototype.notn=function(ot){return this.clone().inotn(ot)},it.prototype.setn=function(ot,dt){rt(typeof ot=="number"&&ot>=0);var mt=ot/26|0,wt=ot%26;return this._expand(mt+1),dt?this.words[mt]=this.words[mt]|1<<wt:this.words[mt]=this.words[mt]&~(1<<wt),this._strip()},it.prototype.iadd=function(ot){var dt;if(this.negative!==0&&ot.negative===0)return this.negative=0,dt=this.isub(ot),this.negative^=1,this._normSign();if(this.negative===0&&ot.negative!==0)return ot.negative=0,dt=this.isub(ot),ot.negative=1,dt._normSign();var mt,wt;this.length>ot.length?(mt=this,wt=ot):(mt=ot,wt=this);for(var bt=0,vt=0;vt<wt.length;vt++)dt=(mt.words[vt]|0)+(wt.words[vt]|0)+bt,this.words[vt]=dt&67108863,bt=dt>>>26;for(;bt!==0&&vt<mt.length;vt++)dt=(mt.words[vt]|0)+bt,this.words[vt]=dt&67108863,bt=dt>>>26;if(this.length=mt.length,bt!==0)this.words[this.length]=bt,this.length++;else if(mt!==this)for(;vt<mt.length;vt++)this.words[vt]=mt.words[vt];return this},it.prototype.add=function(ot){var dt;return ot.negative!==0&&this.negative===0?(ot.negative=0,dt=this.sub(ot),ot.negative^=1,dt):ot.negative===0&&this.negative!==0?(this.negative=0,dt=ot.sub(this),this.negative=1,dt):this.length>ot.length?this.clone().iadd(ot):ot.clone().iadd(this)},it.prototype.isub=function(ot){if(ot.negative!==0){ot.negative=0;var dt=this.iadd(ot);return ot.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ot),this.negative=1,this._normSign();var mt=this.cmp(ot);if(mt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var wt,bt;mt>0?(wt=this,bt=ot):(wt=ot,bt=this);for(var vt=0,St=0;St<bt.length;St++)dt=(wt.words[St]|0)-(bt.words[St]|0)+vt,vt=dt>>26,this.words[St]=dt&67108863;for(;vt!==0&&St<wt.length;St++)dt=(wt.words[St]|0)+vt,vt=dt>>26,this.words[St]=dt&67108863;if(vt===0&&St<wt.length&&wt!==this)for(;St<wt.length;St++)this.words[St]=wt.words[St];return this.length=Math.max(this.length,St),wt!==this&&(this.negative=1),this._strip()},it.prototype.sub=function(ot){return this.clone().isub(ot)};function At(ht,ot,dt){dt.negative=ot.negative^ht.negative;var mt=ht.length+ot.length|0;dt.length=mt,mt=mt-1|0;var wt=ht.words[0]|0,bt=ot.words[0]|0,vt=wt*bt,St=vt&67108863,yt=vt/67108864|0;dt.words[0]=St;for(var lt=1;lt<mt;lt++){for(var xt=yt>>>26,Ut=yt&67108863,Pt=Math.min(lt,ot.length-1),qt=Math.max(0,lt-ht.length+1);qt<=Pt;qt++){var ir=lt-qt|0;wt=ht.words[ir]|0,bt=ot.words[qt]|0,vt=wt*bt+Ut,xt+=vt/67108864|0,Ut=vt&67108863}dt.words[lt]=Ut|0,yt=xt|0}return yt!==0?dt.words[lt]=yt|0:dt.length--,dt._strip()}var Rt=function(ot,dt,mt){var wt=ot.words,bt=dt.words,vt=mt.words,St=0,yt,lt,xt,Ut=wt[0]|0,Pt=Ut&8191,qt=Ut>>>13,ir=wt[1]|0,Yt=ir&8191,rr=ir>>>13,Sr=wt[2]|0,lr=Sr&8191,ur=Sr>>>13,Ur=wt[3]|0,dr=Ur&8191,xr=Ur>>>13,er=wt[4]|0,Ft=er&8191,Lt=er>>>13,Qt=wt[5]|0,tr=Qt&8191,sr=Qt>>>13,Er=wt[6]|0,mr=Er&8191,gr=Er>>>13,Qr=wt[7]|0,wr=Qr&8191,Vt=Qr>>>13,Dt=wt[8]|0,Bt=Dt&8191,Gt=Dt>>>13,cr=wt[9]|0,nr=cr&8191,or=cr>>>13,qr=bt[0]|0,vr=qr&8191,br=qr>>>13,Zr=bt[1]|0,yr=Zr&8191,Rr=Zr>>>13,dn=bt[2]|0,Mr=dn&8191,$r=dn>>>13,Sn=bt[3]|0,Ir=Sn&8191,kr=Sn>>>13,xn=bt[4]|0,Pr=xn&8191,Nr=xn>>>13,wn=bt[5]|0,Fr=wn&8191,Or=wn>>>13,rn=bt[6]|0,Cr=rn&8191,Br=rn>>>13,Tn=bt[7]|0,Dr=Tn&8191,Lr=Tn>>>13,In=bt[8]|0,Ar=In&8191,Tr=In>>>13,pn=bt[9]|0,jr=pn&8191,Hr=pn>>>13;mt.negative=ot.negative^dt.negative,mt.length=19,yt=Math.imul(Pt,vr),lt=Math.imul(Pt,br),lt=lt+Math.imul(qt,vr)|0,xt=Math.imul(qt,br);var mn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(mn>>>26)|0,mn&=67108863,yt=Math.imul(Yt,vr),lt=Math.imul(Yt,br),lt=lt+Math.imul(rr,vr)|0,xt=Math.imul(rr,br),yt=yt+Math.imul(Pt,yr)|0,lt=lt+Math.imul(Pt,Rr)|0,lt=lt+Math.imul(qt,yr)|0,xt=xt+Math.imul(qt,Rr)|0;var sn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(sn>>>26)|0,sn&=67108863,yt=Math.imul(lr,vr),lt=Math.imul(lr,br),lt=lt+Math.imul(ur,vr)|0,xt=Math.imul(ur,br),yt=yt+Math.imul(Yt,yr)|0,lt=lt+Math.imul(Yt,Rr)|0,lt=lt+Math.imul(rr,yr)|0,xt=xt+Math.imul(rr,Rr)|0,yt=yt+Math.imul(Pt,Mr)|0,lt=lt+Math.imul(Pt,$r)|0,lt=lt+Math.imul(qt,Mr)|0,xt=xt+Math.imul(qt,$r)|0;var cn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(cn>>>26)|0,cn&=67108863,yt=Math.imul(dr,vr),lt=Math.imul(dr,br),lt=lt+Math.imul(xr,vr)|0,xt=Math.imul(xr,br),yt=yt+Math.imul(lr,yr)|0,lt=lt+Math.imul(lr,Rr)|0,lt=lt+Math.imul(ur,yr)|0,xt=xt+Math.imul(ur,Rr)|0,yt=yt+Math.imul(Yt,Mr)|0,lt=lt+Math.imul(Yt,$r)|0,lt=lt+Math.imul(rr,Mr)|0,xt=xt+Math.imul(rr,$r)|0,yt=yt+Math.imul(Pt,Ir)|0,lt=lt+Math.imul(Pt,kr)|0,lt=lt+Math.imul(qt,Ir)|0,xt=xt+Math.imul(qt,kr)|0;var fn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(fn>>>26)|0,fn&=67108863,yt=Math.imul(Ft,vr),lt=Math.imul(Ft,br),lt=lt+Math.imul(Lt,vr)|0,xt=Math.imul(Lt,br),yt=yt+Math.imul(dr,yr)|0,lt=lt+Math.imul(dr,Rr)|0,lt=lt+Math.imul(xr,yr)|0,xt=xt+Math.imul(xr,Rr)|0,yt=yt+Math.imul(lr,Mr)|0,lt=lt+Math.imul(lr,$r)|0,lt=lt+Math.imul(ur,Mr)|0,xt=xt+Math.imul(ur,$r)|0,yt=yt+Math.imul(Yt,Ir)|0,lt=lt+Math.imul(Yt,kr)|0,lt=lt+Math.imul(rr,Ir)|0,xt=xt+Math.imul(rr,kr)|0,yt=yt+Math.imul(Pt,Pr)|0,lt=lt+Math.imul(Pt,Nr)|0,lt=lt+Math.imul(qt,Pr)|0,xt=xt+Math.imul(qt,Nr)|0;var ln=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(ln>>>26)|0,ln&=67108863,yt=Math.imul(tr,vr),lt=Math.imul(tr,br),lt=lt+Math.imul(sr,vr)|0,xt=Math.imul(sr,br),yt=yt+Math.imul(Ft,yr)|0,lt=lt+Math.imul(Ft,Rr)|0,lt=lt+Math.imul(Lt,yr)|0,xt=xt+Math.imul(Lt,Rr)|0,yt=yt+Math.imul(dr,Mr)|0,lt=lt+Math.imul(dr,$r)|0,lt=lt+Math.imul(xr,Mr)|0,xt=xt+Math.imul(xr,$r)|0,yt=yt+Math.imul(lr,Ir)|0,lt=lt+Math.imul(lr,kr)|0,lt=lt+Math.imul(ur,Ir)|0,xt=xt+Math.imul(ur,kr)|0,yt=yt+Math.imul(Yt,Pr)|0,lt=lt+Math.imul(Yt,Nr)|0,lt=lt+Math.imul(rr,Pr)|0,xt=xt+Math.imul(rr,Nr)|0,yt=yt+Math.imul(Pt,Fr)|0,lt=lt+Math.imul(Pt,Or)|0,lt=lt+Math.imul(qt,Fr)|0,xt=xt+Math.imul(qt,Or)|0;var $n=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+($n>>>26)|0,$n&=67108863,yt=Math.imul(mr,vr),lt=Math.imul(mr,br),lt=lt+Math.imul(gr,vr)|0,xt=Math.imul(gr,br),yt=yt+Math.imul(tr,yr)|0,lt=lt+Math.imul(tr,Rr)|0,lt=lt+Math.imul(sr,yr)|0,xt=xt+Math.imul(sr,Rr)|0,yt=yt+Math.imul(Ft,Mr)|0,lt=lt+Math.imul(Ft,$r)|0,lt=lt+Math.imul(Lt,Mr)|0,xt=xt+Math.imul(Lt,$r)|0,yt=yt+Math.imul(dr,Ir)|0,lt=lt+Math.imul(dr,kr)|0,lt=lt+Math.imul(xr,Ir)|0,xt=xt+Math.imul(xr,kr)|0,yt=yt+Math.imul(lr,Pr)|0,lt=lt+Math.imul(lr,Nr)|0,lt=lt+Math.imul(ur,Pr)|0,xt=xt+Math.imul(ur,Nr)|0,yt=yt+Math.imul(Yt,Fr)|0,lt=lt+Math.imul(Yt,Or)|0,lt=lt+Math.imul(rr,Fr)|0,xt=xt+Math.imul(rr,Or)|0,yt=yt+Math.imul(Pt,Cr)|0,lt=lt+Math.imul(Pt,Br)|0,lt=lt+Math.imul(qt,Cr)|0,xt=xt+Math.imul(qt,Br)|0;var Pn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,yt=Math.imul(wr,vr),lt=Math.imul(wr,br),lt=lt+Math.imul(Vt,vr)|0,xt=Math.imul(Vt,br),yt=yt+Math.imul(mr,yr)|0,lt=lt+Math.imul(mr,Rr)|0,lt=lt+Math.imul(gr,yr)|0,xt=xt+Math.imul(gr,Rr)|0,yt=yt+Math.imul(tr,Mr)|0,lt=lt+Math.imul(tr,$r)|0,lt=lt+Math.imul(sr,Mr)|0,xt=xt+Math.imul(sr,$r)|0,yt=yt+Math.imul(Ft,Ir)|0,lt=lt+Math.imul(Ft,kr)|0,lt=lt+Math.imul(Lt,Ir)|0,xt=xt+Math.imul(Lt,kr)|0,yt=yt+Math.imul(dr,Pr)|0,lt=lt+Math.imul(dr,Nr)|0,lt=lt+Math.imul(xr,Pr)|0,xt=xt+Math.imul(xr,Nr)|0,yt=yt+Math.imul(lr,Fr)|0,lt=lt+Math.imul(lr,Or)|0,lt=lt+Math.imul(ur,Fr)|0,xt=xt+Math.imul(ur,Or)|0,yt=yt+Math.imul(Yt,Cr)|0,lt=lt+Math.imul(Yt,Br)|0,lt=lt+Math.imul(rr,Cr)|0,xt=xt+Math.imul(rr,Br)|0,yt=yt+Math.imul(Pt,Dr)|0,lt=lt+Math.imul(Pt,Lr)|0,lt=lt+Math.imul(qt,Dr)|0,xt=xt+Math.imul(qt,Lr)|0;var vn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(vn>>>26)|0,vn&=67108863,yt=Math.imul(Bt,vr),lt=Math.imul(Bt,br),lt=lt+Math.imul(Gt,vr)|0,xt=Math.imul(Gt,br),yt=yt+Math.imul(wr,yr)|0,lt=lt+Math.imul(wr,Rr)|0,lt=lt+Math.imul(Vt,yr)|0,xt=xt+Math.imul(Vt,Rr)|0,yt=yt+Math.imul(mr,Mr)|0,lt=lt+Math.imul(mr,$r)|0,lt=lt+Math.imul(gr,Mr)|0,xt=xt+Math.imul(gr,$r)|0,yt=yt+Math.imul(tr,Ir)|0,lt=lt+Math.imul(tr,kr)|0,lt=lt+Math.imul(sr,Ir)|0,xt=xt+Math.imul(sr,kr)|0,yt=yt+Math.imul(Ft,Pr)|0,lt=lt+Math.imul(Ft,Nr)|0,lt=lt+Math.imul(Lt,Pr)|0,xt=xt+Math.imul(Lt,Nr)|0,yt=yt+Math.imul(dr,Fr)|0,lt=lt+Math.imul(dr,Or)|0,lt=lt+Math.imul(xr,Fr)|0,xt=xt+Math.imul(xr,Or)|0,yt=yt+Math.imul(lr,Cr)|0,lt=lt+Math.imul(lr,Br)|0,lt=lt+Math.imul(ur,Cr)|0,xt=xt+Math.imul(ur,Br)|0,yt=yt+Math.imul(Yt,Dr)|0,lt=lt+Math.imul(Yt,Lr)|0,lt=lt+Math.imul(rr,Dr)|0,xt=xt+Math.imul(rr,Lr)|0,yt=yt+Math.imul(Pt,Ar)|0,lt=lt+Math.imul(Pt,Tr)|0,lt=lt+Math.imul(qt,Ar)|0,xt=xt+Math.imul(qt,Tr)|0;var kn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(kn>>>26)|0,kn&=67108863,yt=Math.imul(nr,vr),lt=Math.imul(nr,br),lt=lt+Math.imul(or,vr)|0,xt=Math.imul(or,br),yt=yt+Math.imul(Bt,yr)|0,lt=lt+Math.imul(Bt,Rr)|0,lt=lt+Math.imul(Gt,yr)|0,xt=xt+Math.imul(Gt,Rr)|0,yt=yt+Math.imul(wr,Mr)|0,lt=lt+Math.imul(wr,$r)|0,lt=lt+Math.imul(Vt,Mr)|0,xt=xt+Math.imul(Vt,$r)|0,yt=yt+Math.imul(mr,Ir)|0,lt=lt+Math.imul(mr,kr)|0,lt=lt+Math.imul(gr,Ir)|0,xt=xt+Math.imul(gr,kr)|0,yt=yt+Math.imul(tr,Pr)|0,lt=lt+Math.imul(tr,Nr)|0,lt=lt+Math.imul(sr,Pr)|0,xt=xt+Math.imul(sr,Nr)|0,yt=yt+Math.imul(Ft,Fr)|0,lt=lt+Math.imul(Ft,Or)|0,lt=lt+Math.imul(Lt,Fr)|0,xt=xt+Math.imul(Lt,Or)|0,yt=yt+Math.imul(dr,Cr)|0,lt=lt+Math.imul(dr,Br)|0,lt=lt+Math.imul(xr,Cr)|0,xt=xt+Math.imul(xr,Br)|0,yt=yt+Math.imul(lr,Dr)|0,lt=lt+Math.imul(lr,Lr)|0,lt=lt+Math.imul(ur,Dr)|0,xt=xt+Math.imul(ur,Lr)|0,yt=yt+Math.imul(Yt,Ar)|0,lt=lt+Math.imul(Yt,Tr)|0,lt=lt+Math.imul(rr,Ar)|0,xt=xt+Math.imul(rr,Tr)|0,yt=yt+Math.imul(Pt,jr)|0,lt=lt+Math.imul(Pt,Hr)|0,lt=lt+Math.imul(qt,jr)|0,xt=xt+Math.imul(qt,Hr)|0;var Nn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,yt=Math.imul(nr,yr),lt=Math.imul(nr,Rr),lt=lt+Math.imul(or,yr)|0,xt=Math.imul(or,Rr),yt=yt+Math.imul(Bt,Mr)|0,lt=lt+Math.imul(Bt,$r)|0,lt=lt+Math.imul(Gt,Mr)|0,xt=xt+Math.imul(Gt,$r)|0,yt=yt+Math.imul(wr,Ir)|0,lt=lt+Math.imul(wr,kr)|0,lt=lt+Math.imul(Vt,Ir)|0,xt=xt+Math.imul(Vt,kr)|0,yt=yt+Math.imul(mr,Pr)|0,lt=lt+Math.imul(mr,Nr)|0,lt=lt+Math.imul(gr,Pr)|0,xt=xt+Math.imul(gr,Nr)|0,yt=yt+Math.imul(tr,Fr)|0,lt=lt+Math.imul(tr,Or)|0,lt=lt+Math.imul(sr,Fr)|0,xt=xt+Math.imul(sr,Or)|0,yt=yt+Math.imul(Ft,Cr)|0,lt=lt+Math.imul(Ft,Br)|0,lt=lt+Math.imul(Lt,Cr)|0,xt=xt+Math.imul(Lt,Br)|0,yt=yt+Math.imul(dr,Dr)|0,lt=lt+Math.imul(dr,Lr)|0,lt=lt+Math.imul(xr,Dr)|0,xt=xt+Math.imul(xr,Lr)|0,yt=yt+Math.imul(lr,Ar)|0,lt=lt+Math.imul(lr,Tr)|0,lt=lt+Math.imul(ur,Ar)|0,xt=xt+Math.imul(ur,Tr)|0,yt=yt+Math.imul(Yt,jr)|0,lt=lt+Math.imul(Yt,Hr)|0,lt=lt+Math.imul(rr,jr)|0,xt=xt+Math.imul(rr,Hr)|0;var hn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(hn>>>26)|0,hn&=67108863,yt=Math.imul(nr,Mr),lt=Math.imul(nr,$r),lt=lt+Math.imul(or,Mr)|0,xt=Math.imul(or,$r),yt=yt+Math.imul(Bt,Ir)|0,lt=lt+Math.imul(Bt,kr)|0,lt=lt+Math.imul(Gt,Ir)|0,xt=xt+Math.imul(Gt,kr)|0,yt=yt+Math.imul(wr,Pr)|0,lt=lt+Math.imul(wr,Nr)|0,lt=lt+Math.imul(Vt,Pr)|0,xt=xt+Math.imul(Vt,Nr)|0,yt=yt+Math.imul(mr,Fr)|0,lt=lt+Math.imul(mr,Or)|0,lt=lt+Math.imul(gr,Fr)|0,xt=xt+Math.imul(gr,Or)|0,yt=yt+Math.imul(tr,Cr)|0,lt=lt+Math.imul(tr,Br)|0,lt=lt+Math.imul(sr,Cr)|0,xt=xt+Math.imul(sr,Br)|0,yt=yt+Math.imul(Ft,Dr)|0,lt=lt+Math.imul(Ft,Lr)|0,lt=lt+Math.imul(Lt,Dr)|0,xt=xt+Math.imul(Lt,Lr)|0,yt=yt+Math.imul(dr,Ar)|0,lt=lt+Math.imul(dr,Tr)|0,lt=lt+Math.imul(xr,Ar)|0,xt=xt+Math.imul(xr,Tr)|0,yt=yt+Math.imul(lr,jr)|0,lt=lt+Math.imul(lr,Hr)|0,lt=lt+Math.imul(ur,jr)|0,xt=xt+Math.imul(ur,Hr)|0;var Bn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,yt=Math.imul(nr,Ir),lt=Math.imul(nr,kr),lt=lt+Math.imul(or,Ir)|0,xt=Math.imul(or,kr),yt=yt+Math.imul(Bt,Pr)|0,lt=lt+Math.imul(Bt,Nr)|0,lt=lt+Math.imul(Gt,Pr)|0,xt=xt+Math.imul(Gt,Nr)|0,yt=yt+Math.imul(wr,Fr)|0,lt=lt+Math.imul(wr,Or)|0,lt=lt+Math.imul(Vt,Fr)|0,xt=xt+Math.imul(Vt,Or)|0,yt=yt+Math.imul(mr,Cr)|0,lt=lt+Math.imul(mr,Br)|0,lt=lt+Math.imul(gr,Cr)|0,xt=xt+Math.imul(gr,Br)|0,yt=yt+Math.imul(tr,Dr)|0,lt=lt+Math.imul(tr,Lr)|0,lt=lt+Math.imul(sr,Dr)|0,xt=xt+Math.imul(sr,Lr)|0,yt=yt+Math.imul(Ft,Ar)|0,lt=lt+Math.imul(Ft,Tr)|0,lt=lt+Math.imul(Lt,Ar)|0,xt=xt+Math.imul(Lt,Tr)|0,yt=yt+Math.imul(dr,jr)|0,lt=lt+Math.imul(dr,Hr)|0,lt=lt+Math.imul(xr,jr)|0,xt=xt+Math.imul(xr,Hr)|0;var yn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(yn>>>26)|0,yn&=67108863,yt=Math.imul(nr,Pr),lt=Math.imul(nr,Nr),lt=lt+Math.imul(or,Pr)|0,xt=Math.imul(or,Nr),yt=yt+Math.imul(Bt,Fr)|0,lt=lt+Math.imul(Bt,Or)|0,lt=lt+Math.imul(Gt,Fr)|0,xt=xt+Math.imul(Gt,Or)|0,yt=yt+Math.imul(wr,Cr)|0,lt=lt+Math.imul(wr,Br)|0,lt=lt+Math.imul(Vt,Cr)|0,xt=xt+Math.imul(Vt,Br)|0,yt=yt+Math.imul(mr,Dr)|0,lt=lt+Math.imul(mr,Lr)|0,lt=lt+Math.imul(gr,Dr)|0,xt=xt+Math.imul(gr,Lr)|0,yt=yt+Math.imul(tr,Ar)|0,lt=lt+Math.imul(tr,Tr)|0,lt=lt+Math.imul(sr,Ar)|0,xt=xt+Math.imul(sr,Tr)|0,yt=yt+Math.imul(Ft,jr)|0,lt=lt+Math.imul(Ft,Hr)|0,lt=lt+Math.imul(Lt,jr)|0,xt=xt+Math.imul(Lt,Hr)|0;var Cn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,yt=Math.imul(nr,Fr),lt=Math.imul(nr,Or),lt=lt+Math.imul(or,Fr)|0,xt=Math.imul(or,Or),yt=yt+Math.imul(Bt,Cr)|0,lt=lt+Math.imul(Bt,Br)|0,lt=lt+Math.imul(Gt,Cr)|0,xt=xt+Math.imul(Gt,Br)|0,yt=yt+Math.imul(wr,Dr)|0,lt=lt+Math.imul(wr,Lr)|0,lt=lt+Math.imul(Vt,Dr)|0,xt=xt+Math.imul(Vt,Lr)|0,yt=yt+Math.imul(mr,Ar)|0,lt=lt+Math.imul(mr,Tr)|0,lt=lt+Math.imul(gr,Ar)|0,xt=xt+Math.imul(gr,Tr)|0,yt=yt+Math.imul(tr,jr)|0,lt=lt+Math.imul(tr,Hr)|0,lt=lt+Math.imul(sr,jr)|0,xt=xt+Math.imul(sr,Hr)|0;var Dn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,yt=Math.imul(nr,Cr),lt=Math.imul(nr,Br),lt=lt+Math.imul(or,Cr)|0,xt=Math.imul(or,Br),yt=yt+Math.imul(Bt,Dr)|0,lt=lt+Math.imul(Bt,Lr)|0,lt=lt+Math.imul(Gt,Dr)|0,xt=xt+Math.imul(Gt,Lr)|0,yt=yt+Math.imul(wr,Ar)|0,lt=lt+Math.imul(wr,Tr)|0,lt=lt+Math.imul(Vt,Ar)|0,xt=xt+Math.imul(Vt,Tr)|0,yt=yt+Math.imul(mr,jr)|0,lt=lt+Math.imul(mr,Hr)|0,lt=lt+Math.imul(gr,jr)|0,xt=xt+Math.imul(gr,Hr)|0;var Fn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,yt=Math.imul(nr,Dr),lt=Math.imul(nr,Lr),lt=lt+Math.imul(or,Dr)|0,xt=Math.imul(or,Lr),yt=yt+Math.imul(Bt,Ar)|0,lt=lt+Math.imul(Bt,Tr)|0,lt=lt+Math.imul(Gt,Ar)|0,xt=xt+Math.imul(Gt,Tr)|0,yt=yt+Math.imul(wr,jr)|0,lt=lt+Math.imul(wr,Hr)|0,lt=lt+Math.imul(Vt,jr)|0,xt=xt+Math.imul(Vt,Hr)|0;var jn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(jn>>>26)|0,jn&=67108863,yt=Math.imul(nr,Ar),lt=Math.imul(nr,Tr),lt=lt+Math.imul(or,Ar)|0,xt=Math.imul(or,Tr),yt=yt+Math.imul(Bt,jr)|0,lt=lt+Math.imul(Bt,Hr)|0,lt=lt+Math.imul(Gt,jr)|0,xt=xt+Math.imul(Gt,Hr)|0;var Ln=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,yt=Math.imul(nr,jr),lt=Math.imul(nr,Hr),lt=lt+Math.imul(or,jr)|0,xt=Math.imul(or,Hr);var Wn=(St+yt|0)+((lt&8191)<<13)|0;return St=(xt+(lt>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,vt[0]=mn,vt[1]=sn,vt[2]=cn,vt[3]=fn,vt[4]=ln,vt[5]=$n,vt[6]=Pn,vt[7]=vn,vt[8]=kn,vt[9]=Nn,vt[10]=hn,vt[11]=Bn,vt[12]=yn,vt[13]=Cn,vt[14]=Dn,vt[15]=Fn,vt[16]=jn,vt[17]=Ln,vt[18]=Wn,St!==0&&(vt[19]=St,mt.length++),mt};Math.imul||(Rt=At);function kt(ht,ot,dt){dt.negative=ot.negative^ht.negative,dt.length=ht.length+ot.length;for(var mt=0,wt=0,bt=0;bt<dt.length-1;bt++){var vt=wt;wt=0;for(var St=mt&67108863,yt=Math.min(bt,ot.length-1),lt=Math.max(0,bt-ht.length+1);lt<=yt;lt++){var xt=bt-lt,Ut=ht.words[xt]|0,Pt=ot.words[lt]|0,qt=Ut*Pt,ir=qt&67108863;vt=vt+(qt/67108864|0)|0,ir=ir+St|0,St=ir&67108863,vt=vt+(ir>>>26)|0,wt+=vt>>>26,vt&=67108863}dt.words[bt]=St,mt=vt,vt=wt}return mt!==0?dt.words[bt]=mt:dt.length--,dt._strip()}function Ot(ht,ot,dt){return kt(ht,ot,dt)}it.prototype.mulTo=function(ot,dt){var mt,wt=this.length+ot.length;return this.length===10&&ot.length===10?mt=Rt(this,ot,dt):wt<63?mt=At(this,ot,dt):wt<1024?mt=kt(this,ot,dt):mt=Ot(this,ot,dt),mt},it.prototype.mul=function(ot){var dt=new it(null);return dt.words=new Array(this.length+ot.length),this.mulTo(ot,dt)},it.prototype.mulf=function(ot){var dt=new it(null);return dt.words=new Array(this.length+ot.length),Ot(this,ot,dt)},it.prototype.imul=function(ot){return this.clone().mulTo(ot,this)},it.prototype.imuln=function(ot){var dt=ot<0;dt&&(ot=-ot),rt(typeof ot=="number"),rt(ot<67108864);for(var mt=0,wt=0;wt<this.length;wt++){var bt=(this.words[wt]|0)*ot,vt=(bt&67108863)+(mt&67108863);mt>>=26,mt+=bt/67108864|0,mt+=vt>>>26,this.words[wt]=vt&67108863}return mt!==0&&(this.words[wt]=mt,this.length++),dt?this.ineg():this},it.prototype.muln=function(ot){return this.clone().imuln(ot)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(ot){var dt=Tt(ot);if(dt.length===0)return new it(1);for(var mt=this,wt=0;wt<dt.length&&dt[wt]===0;wt++,mt=mt.sqr());if(++wt<dt.length)for(var bt=mt.sqr();wt<dt.length;wt++,bt=bt.sqr())dt[wt]!==0&&(mt=mt.mul(bt));return mt},it.prototype.iushln=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=ot%26,mt=(ot-dt)/26,wt=67108863>>>26-dt<<26-dt,bt;if(dt!==0){var vt=0;for(bt=0;bt<this.length;bt++){var St=this.words[bt]&wt,yt=(this.words[bt]|0)-St<<dt;this.words[bt]=yt|vt,vt=St>>>26-dt}vt&&(this.words[bt]=vt,this.length++)}if(mt!==0){for(bt=this.length-1;bt>=0;bt--)this.words[bt+mt]=this.words[bt];for(bt=0;bt<mt;bt++)this.words[bt]=0;this.length+=mt}return this._strip()},it.prototype.ishln=function(ot){return rt(this.negative===0),this.iushln(ot)},it.prototype.iushrn=function(ot,dt,mt){rt(typeof ot=="number"&&ot>=0);var wt;dt?wt=(dt-dt%26)/26:wt=0;var bt=ot%26,vt=Math.min((ot-bt)/26,this.length),St=67108863^67108863>>>bt<<bt,yt=mt;if(wt-=vt,wt=Math.max(0,wt),yt){for(var lt=0;lt<vt;lt++)yt.words[lt]=this.words[lt];yt.length=vt}if(vt!==0)if(this.length>vt)for(this.length-=vt,lt=0;lt<this.length;lt++)this.words[lt]=this.words[lt+vt];else this.words[0]=0,this.length=1;var xt=0;for(lt=this.length-1;lt>=0&&(xt!==0||lt>=wt);lt--){var Ut=this.words[lt]|0;this.words[lt]=xt<<26-bt|Ut>>>bt,xt=Ut&St}return yt&&xt!==0&&(yt.words[yt.length++]=xt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},it.prototype.ishrn=function(ot,dt,mt){return rt(this.negative===0),this.iushrn(ot,dt,mt)},it.prototype.shln=function(ot){return this.clone().ishln(ot)},it.prototype.ushln=function(ot){return this.clone().iushln(ot)},it.prototype.shrn=function(ot){return this.clone().ishrn(ot)},it.prototype.ushrn=function(ot){return this.clone().iushrn(ot)},it.prototype.testn=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=ot%26,mt=(ot-dt)/26,wt=1<<dt;if(this.length<=mt)return!1;var bt=this.words[mt];return!!(bt&wt)},it.prototype.imaskn=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=ot%26,mt=(ot-dt)/26;if(rt(this.negative===0,"imaskn works only with positive numbers"),this.length<=mt)return this;if(dt!==0&&mt++,this.length=Math.min(mt,this.length),dt!==0){var wt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=wt}return this._strip()},it.prototype.maskn=function(ot){return this.clone().imaskn(ot)},it.prototype.iaddn=function(ot){return rt(typeof ot=="number"),rt(ot<67108864),ot<0?this.isubn(-ot):this.negative!==0?this.length===1&&(this.words[0]|0)<=ot?(this.words[0]=ot-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ot),this.negative=1,this):this._iaddn(ot)},it.prototype._iaddn=function(ot){this.words[0]+=ot;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(ot){if(rt(typeof ot=="number"),rt(ot<67108864),ot<0)return this.iaddn(-ot);if(this.negative!==0)return this.negative=0,this.iaddn(ot),this.negative=1,this;if(this.words[0]-=ot,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},it.prototype.addn=function(ot){return this.clone().iaddn(ot)},it.prototype.subn=function(ot){return this.clone().isubn(ot)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(ot,dt,mt){var wt=ot.length+mt,bt;this._expand(wt);var vt,St=0;for(bt=0;bt<ot.length;bt++){vt=(this.words[bt+mt]|0)+St;var yt=(ot.words[bt]|0)*dt;vt-=yt&67108863,St=(vt>>26)-(yt/67108864|0),this.words[bt+mt]=vt&67108863}for(;bt<this.length-mt;bt++)vt=(this.words[bt+mt]|0)+St,St=vt>>26,this.words[bt+mt]=vt&67108863;if(St===0)return this._strip();for(rt(St===-1),St=0,bt=0;bt<this.length;bt++)vt=-(this.words[bt]|0)+St,St=vt>>26,this.words[bt]=vt&67108863;return this.negative=1,this._strip()},it.prototype._wordDiv=function(ot,dt){var mt=this.length-ot.length,wt=this.clone(),bt=ot,vt=bt.words[bt.length-1]|0,St=this._countBits(vt);mt=26-St,mt!==0&&(bt=bt.ushln(mt),wt.iushln(mt),vt=bt.words[bt.length-1]|0);var yt=wt.length-bt.length,lt;if(dt!=="mod"){lt=new it(null),lt.length=yt+1,lt.words=new Array(lt.length);for(var xt=0;xt<lt.length;xt++)lt.words[xt]=0}var Ut=wt.clone()._ishlnsubmul(bt,1,yt);Ut.negative===0&&(wt=Ut,lt&&(lt.words[yt]=1));for(var Pt=yt-1;Pt>=0;Pt--){var qt=(wt.words[bt.length+Pt]|0)*67108864+(wt.words[bt.length+Pt-1]|0);for(qt=Math.min(qt/vt|0,67108863),wt._ishlnsubmul(bt,qt,Pt);wt.negative!==0;)qt--,wt.negative=0,wt._ishlnsubmul(bt,1,Pt),wt.isZero()||(wt.negative^=1);lt&&(lt.words[Pt]=qt)}return lt&&lt._strip(),wt._strip(),dt!=="div"&&mt!==0&&wt.iushrn(mt),{div:lt||null,mod:wt}},it.prototype.divmod=function(ot,dt,mt){if(rt(!ot.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var wt,bt,vt;return this.negative!==0&&ot.negative===0?(vt=this.neg().divmod(ot,dt),dt!=="mod"&&(wt=vt.div.neg()),dt!=="div"&&(bt=vt.mod.neg(),mt&&bt.negative!==0&&bt.iadd(ot)),{div:wt,mod:bt}):this.negative===0&&ot.negative!==0?(vt=this.divmod(ot.neg(),dt),dt!=="mod"&&(wt=vt.div.neg()),{div:wt,mod:vt.mod}):(this.negative&ot.negative)!==0?(vt=this.neg().divmod(ot.neg(),dt),dt!=="div"&&(bt=vt.mod.neg(),mt&&bt.negative!==0&&bt.isub(ot)),{div:vt.div,mod:bt}):ot.length>this.length||this.cmp(ot)<0?{div:new it(0),mod:this}:ot.length===1?dt==="div"?{div:this.divn(ot.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modrn(ot.words[0]))}:{div:this.divn(ot.words[0]),mod:new it(this.modrn(ot.words[0]))}:this._wordDiv(ot,dt)},it.prototype.div=function(ot){return this.divmod(ot,"div",!1).div},it.prototype.mod=function(ot){return this.divmod(ot,"mod",!1).mod},it.prototype.umod=function(ot){return this.divmod(ot,"mod",!0).mod},it.prototype.divRound=function(ot){var dt=this.divmod(ot);if(dt.mod.isZero())return dt.div;var mt=dt.div.negative!==0?dt.mod.isub(ot):dt.mod,wt=ot.ushrn(1),bt=ot.andln(1),vt=mt.cmp(wt);return vt<0||bt===1&&vt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modrn=function(ot){var dt=ot<0;dt&&(ot=-ot),rt(ot<=67108863);for(var mt=(1<<26)%ot,wt=0,bt=this.length-1;bt>=0;bt--)wt=(mt*wt+(this.words[bt]|0))%ot;return dt?-wt:wt},it.prototype.modn=function(ot){return this.modrn(ot)},it.prototype.idivn=function(ot){var dt=ot<0;dt&&(ot=-ot),rt(ot<=67108863);for(var mt=0,wt=this.length-1;wt>=0;wt--){var bt=(this.words[wt]|0)+mt*67108864;this.words[wt]=bt/ot|0,mt=bt%ot}return this._strip(),dt?this.ineg():this},it.prototype.divn=function(ot){return this.clone().idivn(ot)},it.prototype.egcd=function(ot){rt(ot.negative===0),rt(!ot.isZero());var dt=this,mt=ot.clone();dt.negative!==0?dt=dt.umod(ot):dt=dt.clone();for(var wt=new it(1),bt=new it(0),vt=new it(0),St=new it(1),yt=0;dt.isEven()&&mt.isEven();)dt.iushrn(1),mt.iushrn(1),++yt;for(var lt=mt.clone(),xt=dt.clone();!dt.isZero();){for(var Ut=0,Pt=1;(dt.words[0]&Pt)===0&&Ut<26;++Ut,Pt<<=1);if(Ut>0)for(dt.iushrn(Ut);Ut-- >0;)(wt.isOdd()||bt.isOdd())&&(wt.iadd(lt),bt.isub(xt)),wt.iushrn(1),bt.iushrn(1);for(var qt=0,ir=1;(mt.words[0]&ir)===0&&qt<26;++qt,ir<<=1);if(qt>0)for(mt.iushrn(qt);qt-- >0;)(vt.isOdd()||St.isOdd())&&(vt.iadd(lt),St.isub(xt)),vt.iushrn(1),St.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),wt.isub(vt),bt.isub(St)):(mt.isub(dt),vt.isub(wt),St.isub(bt))}return{a:vt,b:St,gcd:mt.iushln(yt)}},it.prototype._invmp=function(ot){rt(ot.negative===0),rt(!ot.isZero());var dt=this,mt=ot.clone();dt.negative!==0?dt=dt.umod(ot):dt=dt.clone();for(var wt=new it(1),bt=new it(0),vt=mt.clone();dt.cmpn(1)>0&&mt.cmpn(1)>0;){for(var St=0,yt=1;(dt.words[0]&yt)===0&&St<26;++St,yt<<=1);if(St>0)for(dt.iushrn(St);St-- >0;)wt.isOdd()&&wt.iadd(vt),wt.iushrn(1);for(var lt=0,xt=1;(mt.words[0]&xt)===0&&lt<26;++lt,xt<<=1);if(lt>0)for(mt.iushrn(lt);lt-- >0;)bt.isOdd()&&bt.iadd(vt),bt.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),wt.isub(bt)):(mt.isub(dt),bt.isub(wt))}var Ut;return dt.cmpn(1)===0?Ut=wt:Ut=bt,Ut.cmpn(0)<0&&Ut.iadd(ot),Ut},it.prototype.gcd=function(ot){if(this.isZero())return ot.abs();if(ot.isZero())return this.abs();var dt=this.clone(),mt=ot.clone();dt.negative=0,mt.negative=0;for(var wt=0;dt.isEven()&&mt.isEven();wt++)dt.iushrn(1),mt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;mt.isEven();)mt.iushrn(1);var bt=dt.cmp(mt);if(bt<0){var vt=dt;dt=mt,mt=vt}else if(bt===0||mt.cmpn(1)===0)break;dt.isub(mt)}while(!0);return mt.iushln(wt)},it.prototype.invm=function(ot){return this.egcd(ot).a.umod(ot)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(ot){return this.words[0]&ot},it.prototype.bincn=function(ot){rt(typeof ot=="number");var dt=ot%26,mt=(ot-dt)/26,wt=1<<dt;if(this.length<=mt)return this._expand(mt+1),this.words[mt]|=wt,this;for(var bt=wt,vt=mt;bt!==0&&vt<this.length;vt++){var St=this.words[vt]|0;St+=bt,bt=St>>>26,St&=67108863,this.words[vt]=St}return bt!==0&&(this.words[vt]=bt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(ot){var dt=ot<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var mt;if(this.length>1)mt=1;else{dt&&(ot=-ot),rt(ot<=67108863,"Number is too big");var wt=this.words[0]|0;mt=wt===ot?0:wt<ot?-1:1}return this.negative!==0?-mt|0:mt},it.prototype.cmp=function(ot){if(this.negative!==0&&ot.negative===0)return-1;if(this.negative===0&&ot.negative!==0)return 1;var dt=this.ucmp(ot);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(ot){if(this.length>ot.length)return 1;if(this.length<ot.length)return-1;for(var dt=0,mt=this.length-1;mt>=0;mt--){var wt=this.words[mt]|0,bt=ot.words[mt]|0;if(wt!==bt){wt<bt?dt=-1:wt>bt&&(dt=1);break}}return dt},it.prototype.gtn=function(ot){return this.cmpn(ot)===1},it.prototype.gt=function(ot){return this.cmp(ot)===1},it.prototype.gten=function(ot){return this.cmpn(ot)>=0},it.prototype.gte=function(ot){return this.cmp(ot)>=0},it.prototype.ltn=function(ot){return this.cmpn(ot)===-1},it.prototype.lt=function(ot){return this.cmp(ot)===-1},it.prototype.lten=function(ot){return this.cmpn(ot)<=0},it.prototype.lte=function(ot){return this.cmp(ot)<=0},it.prototype.eqn=function(ot){return this.cmpn(ot)===0},it.prototype.eq=function(ot){return this.cmp(ot)===0},it.red=function(ot){return new Ct(ot)},it.prototype.toRed=function(ot){return rt(!this.red,"Already a number in reduction context"),rt(this.negative===0,"red works only with positives"),ot.convertTo(this)._forceRed(ot)},it.prototype.fromRed=function(){return rt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(ot){return this.red=ot,this},it.prototype.forceRed=function(ot){return rt(!this.red,"Already a number in reduction context"),this._forceRed(ot)},it.prototype.redAdd=function(ot){return rt(this.red,"redAdd works only with red numbers"),this.red.add(this,ot)},it.prototype.redIAdd=function(ot){return rt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ot)},it.prototype.redSub=function(ot){return rt(this.red,"redSub works only with red numbers"),this.red.sub(this,ot)},it.prototype.redISub=function(ot){return rt(this.red,"redISub works only with red numbers"),this.red.isub(this,ot)},it.prototype.redShl=function(ot){return rt(this.red,"redShl works only with red numbers"),this.red.shl(this,ot)},it.prototype.redMul=function(ot){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,ot),this.red.mul(this,ot)},it.prototype.redIMul=function(ot){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,ot),this.red.imul(this,ot)},it.prototype.redSqr=function(){return rt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return rt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return rt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return rt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return rt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(ot){return rt(this.red&&!ot.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ot)};var Wt={k256:null,p224:null,p192:null,p25519:null};function zt(ht,ot){this.name=ht,this.p=new it(ot,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}zt.prototype._tmp=function(){var ot=new it(null);return ot.words=new Array(Math.ceil(this.n/13)),ot},zt.prototype.ireduce=function(ot){var dt=ot,mt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),mt=dt.bitLength();while(mt>this.n);var wt=mt<this.n?-1:dt.ucmp(this.p);return wt===0?(dt.words[0]=0,dt.length=1):wt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},zt.prototype.split=function(ot,dt){ot.iushrn(this.n,0,dt)},zt.prototype.imulK=function(ot){return ot.imul(this.k)};function Kt(){zt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}nt(Kt,zt),Kt.prototype.split=function(ot,dt){for(var mt=4194303,wt=Math.min(ot.length,9),bt=0;bt<wt;bt++)dt.words[bt]=ot.words[bt];if(dt.length=wt,ot.length<=9){ot.words[0]=0,ot.length=1;return}var vt=ot.words[9];for(dt.words[dt.length++]=vt&mt,bt=10;bt<ot.length;bt++){var St=ot.words[bt]|0;ot.words[bt-10]=(St&mt)<<4|vt>>>22,vt=St}vt>>>=22,ot.words[bt-10]=vt,vt===0&&ot.length>10?ot.length-=10:ot.length-=9},Kt.prototype.imulK=function(ot){ot.words[ot.length]=0,ot.words[ot.length+1]=0,ot.length+=2;for(var dt=0,mt=0;mt<ot.length;mt++){var wt=ot.words[mt]|0;dt+=wt*977,ot.words[mt]=dt&67108863,dt=wt*64+(dt/67108864|0)}return ot.words[ot.length-1]===0&&(ot.length--,ot.words[ot.length-1]===0&&ot.length--),ot};function Jt(){zt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}nt(Jt,zt);function ar(){zt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}nt(ar,zt);function jt(){zt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}nt(jt,zt),jt.prototype.imulK=function(ot){for(var dt=0,mt=0;mt<ot.length;mt++){var wt=(ot.words[mt]|0)*19+dt,bt=wt&67108863;wt>>>=26,ot.words[mt]=bt,dt=wt}return dt!==0&&(ot.words[ot.length++]=dt),ot},it._prime=function(ot){if(Wt[ot])return Wt[ot];var dt;if(ot==="k256")dt=new Kt;else if(ot==="p224")dt=new Jt;else if(ot==="p192")dt=new ar;else if(ot==="p25519")dt=new jt;else throw new Error("Unknown prime "+ot);return Wt[ot]=dt,dt};function Ct(ht){if(typeof ht=="string"){var ot=it._prime(ht);this.m=ot.p,this.prime=ot}else rt(ht.gtn(1),"modulus must be greater than 1"),this.m=ht,this.prime=null}Ct.prototype._verify1=function(ot){rt(ot.negative===0,"red works only with positives"),rt(ot.red,"red works only with red numbers")},Ct.prototype._verify2=function(ot,dt){rt((ot.negative|dt.negative)===0,"red works only with positives"),rt(ot.red&&ot.red===dt.red,"red works only with red numbers")},Ct.prototype.imod=function(ot){return this.prime?this.prime.ireduce(ot)._forceRed(this):(ft(ot,ot.umod(this.m)._forceRed(this)),ot)},Ct.prototype.neg=function(ot){return ot.isZero()?ot.clone():this.m.sub(ot)._forceRed(this)},Ct.prototype.add=function(ot,dt){this._verify2(ot,dt);var mt=ot.add(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt._forceRed(this)},Ct.prototype.iadd=function(ot,dt){this._verify2(ot,dt);var mt=ot.iadd(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt},Ct.prototype.sub=function(ot,dt){this._verify2(ot,dt);var mt=ot.sub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt._forceRed(this)},Ct.prototype.isub=function(ot,dt){this._verify2(ot,dt);var mt=ot.isub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt},Ct.prototype.shl=function(ot,dt){return this._verify1(ot),this.imod(ot.ushln(dt))},Ct.prototype.imul=function(ot,dt){return this._verify2(ot,dt),this.imod(ot.imul(dt))},Ct.prototype.mul=function(ot,dt){return this._verify2(ot,dt),this.imod(ot.mul(dt))},Ct.prototype.isqr=function(ot){return this.imul(ot,ot.clone())},Ct.prototype.sqr=function(ot){return this.mul(ot,ot)},Ct.prototype.sqrt=function(ot){if(ot.isZero())return ot.clone();var dt=this.m.andln(3);if(rt(dt%2===1),dt===3){var mt=this.m.add(new it(1)).iushrn(2);return this.pow(ot,mt)}for(var wt=this.m.subn(1),bt=0;!wt.isZero()&&wt.andln(1)===0;)bt++,wt.iushrn(1);rt(!wt.isZero());var vt=new it(1).toRed(this),St=vt.redNeg(),yt=this.m.subn(1).iushrn(1),lt=this.m.bitLength();for(lt=new it(2*lt*lt).toRed(this);this.pow(lt,yt).cmp(St)!==0;)lt.redIAdd(St);for(var xt=this.pow(lt,wt),Ut=this.pow(ot,wt.addn(1).iushrn(1)),Pt=this.pow(ot,wt),qt=bt;Pt.cmp(vt)!==0;){for(var ir=Pt,Yt=0;ir.cmp(vt)!==0;Yt++)ir=ir.redSqr();rt(Yt<qt);var rr=this.pow(xt,new it(1).iushln(qt-Yt-1));Ut=Ut.redMul(rr),xt=rr.redSqr(),Pt=Pt.redMul(xt),qt=Yt}return Ut},Ct.prototype.invm=function(ot){var dt=ot._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Ct.prototype.pow=function(ot,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return ot.clone();var mt=4,wt=new Array(1<<mt);wt[0]=new it(1).toRed(this),wt[1]=ot;for(var bt=2;bt<wt.length;bt++)wt[bt]=this.mul(wt[bt-1],ot);var vt=wt[0],St=0,yt=0,lt=dt.bitLength()%26;for(lt===0&&(lt=26),bt=dt.length-1;bt>=0;bt--){for(var xt=dt.words[bt],Ut=lt-1;Ut>=0;Ut--){var Pt=xt>>Ut&1;if(vt!==wt[0]&&(vt=this.sqr(vt)),Pt===0&&St===0){yt=0;continue}St<<=1,St|=Pt,yt++,!(yt!==mt&&(bt!==0||Ut!==0))&&(vt=this.mul(vt,wt[St]),yt=0,St=0)}lt=26}return vt},Ct.prototype.convertTo=function(ot){var dt=ot.umod(this.m);return dt===ot?dt.clone():dt},Ct.prototype.convertFrom=function(ot){var dt=ot.clone();return dt.red=null,dt},it.mont=function(ot){return new Nt(ot)};function Nt(ht){Ct.call(this,ht),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}nt(Nt,Ct),Nt.prototype.convertTo=function(ot){return this.imod(ot.ushln(this.shift))},Nt.prototype.convertFrom=function(ot){var dt=this.imod(ot.mul(this.rinv));return dt.red=null,dt},Nt.prototype.imul=function(ot,dt){if(ot.isZero()||dt.isZero())return ot.words[0]=0,ot.length=1,ot;var mt=ot.imul(dt),wt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bt=mt.isub(wt).iushrn(this.shift),vt=bt;return bt.cmp(this.m)>=0?vt=bt.isub(this.m):bt.cmpn(0)<0&&(vt=bt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.mul=function(ot,dt){if(ot.isZero()||dt.isZero())return new it(0)._forceRed(this);var mt=ot.mul(dt),wt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bt=mt.isub(wt).iushrn(this.shift),vt=bt;return bt.cmp(this.m)>=0?vt=bt.isub(this.m):bt.cmpn(0)<0&&(vt=bt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.invm=function(ot){var dt=this.imod(ot._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(et,commonjsGlobal)})(bn$4);var _BN=bn$4.exports;const version$u="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const et=[];if(["NFD","NFC","NFKD","NFKC"].forEach(_e=>{try{if("test".normalize(_e)!=="test")throw new Error("bad normalize")}catch{et.push(_e)}}),et.length)throw new Error("missing "+et.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(et){return et.message}return null}const _normalizeError=_checkNormalize();var LogLevel$1;(function(et){et.DEBUG="DEBUG",et.INFO="INFO",et.WARNING="WARNING",et.ERROR="ERROR",et.OFF="OFF"})(LogLevel$1||(LogLevel$1={}));var ErrorCode;(function(et){et.UNKNOWN_ERROR="UNKNOWN_ERROR",et.NOT_IMPLEMENTED="NOT_IMPLEMENTED",et.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",et.NETWORK_ERROR="NETWORK_ERROR",et.SERVER_ERROR="SERVER_ERROR",et.TIMEOUT="TIMEOUT",et.BUFFER_OVERRUN="BUFFER_OVERRUN",et.NUMERIC_FAULT="NUMERIC_FAULT",et.MISSING_NEW="MISSING_NEW",et.INVALID_ARGUMENT="INVALID_ARGUMENT",et.MISSING_ARGUMENT="MISSING_ARGUMENT",et.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",et.CALL_EXCEPTION="CALL_EXCEPTION",et.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",et.NONCE_EXPIRED="NONCE_EXPIRED",et.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",et.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",et.TRANSACTION_REPLACED="TRANSACTION_REPLACED",et.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger$1{constructor(_e){Object.defineProperty(this,"version",{enumerable:!0,value:_e,writable:!1})}_log(_e,tt){const rt=_e.toLowerCase();LogLevels[rt]==null&&this.throwArgumentError("invalid log level name","logLevel",_e),!(_logLevel>LogLevels[rt])&&console.log.apply(console,tt)}debug(..._e){this._log(Logger$1.levels.DEBUG,_e)}info(..._e){this._log(Logger$1.levels.INFO,_e)}warn(..._e){this._log(Logger$1.levels.WARNING,_e)}makeError(_e,tt,rt){if(_censorErrors)return this.makeError("censored error",tt,{});tt||(tt=Logger$1.errors.UNKNOWN_ERROR),rt||(rt={});const nt=[];Object.keys(rt).forEach(ct=>{const ut=rt[ct];try{if(ut instanceof Uint8Array){let ft="";for(let gt=0;gt<ut.length;gt++)ft+=HEX[ut[gt]>>4],ft+=HEX[ut[gt]&15];nt.push(ct+"=Uint8Array(0x"+ft+")")}else nt.push(ct+"="+JSON.stringify(ut))}catch{nt.push(ct+"="+JSON.stringify(rt[ct].toString()))}}),nt.push(`code=${tt}`),nt.push(`version=${this.version}`);const it=_e;let at="";switch(tt){case ErrorCode.NUMERIC_FAULT:{at="NUMERIC_FAULT";const ct=_e;switch(ct){case"overflow":case"underflow":case"division-by-zero":at+="-"+ct;break;case"negative-power":case"negative-width":at+="-unsupported";break;case"unbound-bitwise-result":at+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:at=tt;break}at&&(_e+=" [ See: https://links.ethers.org/v5-errors-"+at+" ]"),nt.length&&(_e+=" ("+nt.join(", ")+")");const st=new Error(_e);return st.reason=it,st.code=tt,Object.keys(rt).forEach(function(ct){st[ct]=rt[ct]}),st}throwError(_e,tt,rt){throw this.makeError(_e,tt,rt)}throwArgumentError(_e,tt,rt){return this.throwError(_e,Logger$1.errors.INVALID_ARGUMENT,{argument:tt,value:rt})}assert(_e,tt,rt,nt){_e||this.throwError(tt,rt,nt)}assertArgument(_e,tt,rt,nt){_e||this.throwArgumentError(tt,rt,nt)}checkNormalize(_e){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(_e,tt){typeof _e=="number"&&(tt==null&&(tt="value not safe"),(_e<0||_e>=9007199254740991)&&this.throwError(tt,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:_e}),_e%1&&this.throwError(tt,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:_e}))}checkArgumentCount(_e,tt,rt){rt?rt=": "+rt:rt="",_e<tt&&this.throwError("missing argument"+rt,Logger$1.errors.MISSING_ARGUMENT,{count:_e,expectedCount:tt}),_e>tt&&this.throwError("too many arguments"+rt,Logger$1.errors.UNEXPECTED_ARGUMENT,{count:_e,expectedCount:tt})}checkNew(_e,tt){(_e===Object||_e==null)&&this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:tt.name})}checkAbstract(_e,tt){_e===tt?this.throwError("cannot instantiate abstract class "+JSON.stringify(tt.name)+" directly; use a sub-class",Logger$1.errors.UNSUPPORTED_OPERATION,{name:_e.name,operation:"new"}):(_e===Object||_e==null)&&this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:tt.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger$1(version$u)),_globalLogger}static setCensorship(_e,tt){if(!_e&&tt&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!_e)return;this.globalLogger().throwError("error censorship permanent",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!_e,_permanentCensorErrors=!!tt}static setLogLevel(_e){const tt=LogLevels[_e.toLowerCase()];if(tt==null){Logger$1.globalLogger().warn("invalid log level - "+_e);return}_logLevel=tt}static from(_e){return new Logger$1(_e)}}Logger$1.errors=ErrorCode;Logger$1.levels=LogLevel$1;var lib_esm$k=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return LogLevel$1},get ErrorCode(){return ErrorCode},Logger:Logger$1},Symbol.toStringTag,{value:"Module"}));const version$t="bytes/5.7.0",logger$J=new Logger$1(version$t);function isHexable(et){return!!et.toHexString}function addSlice(et){return et.slice||(et.slice=function(){const _e=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(et,_e)))}),et}function isBytesLike(et){return isHexString$4(et)&&!(et.length%2)||isBytes(et)}function isInteger(et){return typeof et=="number"&&et==et&&et%1===0}function isBytes(et){if(et==null)return!1;if(et.constructor===Uint8Array)return!0;if(typeof et=="string"||!isInteger(et.length)||et.length<0)return!1;for(let _e=0;_e<et.length;_e++){const tt=et[_e];if(!isInteger(tt)||tt<0||tt>=256)return!1}return!0}function arrayify(et,_e){if(_e||(_e={}),typeof et=="number"){logger$J.checkSafeUint53(et,"invalid arrayify value");const tt=[];for(;et;)tt.unshift(et&255),et=parseInt(String(et/256));return tt.length===0&&tt.push(0),addSlice(new Uint8Array(tt))}if(_e.allowMissingPrefix&&typeof et=="string"&&et.substring(0,2)!=="0x"&&(et="0x"+et),isHexable(et)&&(et=et.toHexString()),isHexString$4(et)){let tt=et.substring(2);tt.length%2&&(_e.hexPad==="left"?tt="0"+tt:_e.hexPad==="right"?tt+="0":logger$J.throwArgumentError("hex data is odd-length","value",et));const rt=[];for(let nt=0;nt<tt.length;nt+=2)rt.push(parseInt(tt.substring(nt,nt+2),16));return addSlice(new Uint8Array(rt))}return isBytes(et)?addSlice(new Uint8Array(et)):logger$J.throwArgumentError("invalid arrayify value","value",et)}function concat$3(et){const _e=et.map(nt=>arrayify(nt)),tt=_e.reduce((nt,it)=>nt+it.length,0),rt=new Uint8Array(tt);return _e.reduce((nt,it)=>(rt.set(it,nt),nt+it.length),0),addSlice(rt)}function stripZeros(et){let _e=arrayify(et);if(_e.length===0)return _e;let tt=0;for(;tt<_e.length&&_e[tt]===0;)tt++;return tt&&(_e=_e.slice(tt)),_e}function zeroPad(et,_e){et=arrayify(et),et.length>_e&&logger$J.throwArgumentError("value out of range","value",arguments[0]);const tt=new Uint8Array(_e);return tt.set(et,_e-et.length),addSlice(tt)}function isHexString$4(et,_e){return!(typeof et!="string"||!et.match(/^0x[0-9A-Fa-f]*$/)||_e&&et.length!==2+2*_e)}const HexCharacters="0123456789abcdef";function hexlify(et,_e){if(_e||(_e={}),typeof et=="number"){logger$J.checkSafeUint53(et,"invalid hexlify value");let tt="";for(;et;)tt=HexCharacters[et&15]+tt,et=Math.floor(et/16);return tt.length?(tt.length%2&&(tt="0"+tt),"0x"+tt):"0x00"}if(typeof et=="bigint")return et=et.toString(16),et.length%2?"0x0"+et:"0x"+et;if(_e.allowMissingPrefix&&typeof et=="string"&&et.substring(0,2)!=="0x"&&(et="0x"+et),isHexable(et))return et.toHexString();if(isHexString$4(et))return et.length%2&&(_e.hexPad==="left"?et="0x0"+et.substring(2):_e.hexPad==="right"?et+="0":logger$J.throwArgumentError("hex data is odd-length","value",et)),et.toLowerCase();if(isBytes(et)){let tt="0x";for(let rt=0;rt<et.length;rt++){let nt=et[rt];tt+=HexCharacters[(nt&240)>>4]+HexCharacters[nt&15]}return tt}return logger$J.throwArgumentError("invalid hexlify value","value",et)}function hexDataLength(et){if(typeof et!="string")et=hexlify(et);else if(!isHexString$4(et)||et.length%2)return null;return(et.length-2)/2}function hexDataSlice(et,_e,tt){return typeof et!="string"?et=hexlify(et):(!isHexString$4(et)||et.length%2)&&logger$J.throwArgumentError("invalid hexData","value",et),_e=2+2*_e,tt!=null?"0x"+et.substring(_e,2+2*tt):"0x"+et.substring(_e)}function hexConcat(et){let _e="0x";return et.forEach(tt=>{_e+=hexlify(tt).substring(2)}),_e}function hexValue(et){const _e=hexStripZeros(hexlify(et,{hexPad:"left"}));return _e==="0x"?"0x0":_e}function hexStripZeros(et){typeof et!="string"&&(et=hexlify(et)),isHexString$4(et)||logger$J.throwArgumentError("invalid hex string","value",et),et=et.substring(2);let _e=0;for(;_e<et.length&&et[_e]==="0";)_e++;return"0x"+et.substring(_e)}function hexZeroPad(et,_e){for(typeof et!="string"?et=hexlify(et):isHexString$4(et)||logger$J.throwArgumentError("invalid hex string","value",et),et.length>2*_e+2&&logger$J.throwArgumentError("value out of range","value",arguments[1]);et.length<2*_e+2;)et="0x0"+et.substring(2);return et}function splitSignature(et){const _e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike(et)){let tt=arrayify(et);tt.length===64?(_e.v=27+(tt[32]>>7),tt[32]&=127,_e.r=hexlify(tt.slice(0,32)),_e.s=hexlify(tt.slice(32,64))):tt.length===65?(_e.r=hexlify(tt.slice(0,32)),_e.s=hexlify(tt.slice(32,64)),_e.v=tt[64]):logger$J.throwArgumentError("invalid signature string","signature",et),_e.v<27&&(_e.v===0||_e.v===1?_e.v+=27:logger$J.throwArgumentError("signature invalid v byte","signature",et)),_e.recoveryParam=1-_e.v%2,_e.recoveryParam&&(tt[32]|=128),_e._vs=hexlify(tt.slice(32,64))}else{if(_e.r=et.r,_e.s=et.s,_e.v=et.v,_e.recoveryParam=et.recoveryParam,_e._vs=et._vs,_e._vs!=null){const nt=zeroPad(arrayify(_e._vs),32);_e._vs=hexlify(nt);const it=nt[0]>=128?1:0;_e.recoveryParam==null?_e.recoveryParam=it:_e.recoveryParam!==it&&logger$J.throwArgumentError("signature recoveryParam mismatch _vs","signature",et),nt[0]&=127;const at=hexlify(nt);_e.s==null?_e.s=at:_e.s!==at&&logger$J.throwArgumentError("signature v mismatch _vs","signature",et)}if(_e.recoveryParam==null)_e.v==null?logger$J.throwArgumentError("signature missing v and recoveryParam","signature",et):_e.v===0||_e.v===1?_e.recoveryParam=_e.v:_e.recoveryParam=1-_e.v%2;else if(_e.v==null)_e.v=27+_e.recoveryParam;else{const nt=_e.v===0||_e.v===1?_e.v:1-_e.v%2;_e.recoveryParam!==nt&&logger$J.throwArgumentError("signature recoveryParam mismatch v","signature",et)}_e.r==null||!isHexString$4(_e.r)?logger$J.throwArgumentError("signature missing or invalid r","signature",et):_e.r=hexZeroPad(_e.r,32),_e.s==null||!isHexString$4(_e.s)?logger$J.throwArgumentError("signature missing or invalid s","signature",et):_e.s=hexZeroPad(_e.s,32);const tt=arrayify(_e.s);tt[0]>=128&&logger$J.throwArgumentError("signature s out of range","signature",et),_e.recoveryParam&&(tt[0]|=128);const rt=hexlify(tt);_e._vs&&(isHexString$4(_e._vs)||logger$J.throwArgumentError("signature invalid _vs","signature",et),_e._vs=hexZeroPad(_e._vs,32)),_e._vs==null?_e._vs=rt:_e._vs!==rt&&logger$J.throwArgumentError("signature _vs mismatch v and s","signature",et)}return _e.yParityAndS=_e._vs,_e.compact=_e.r+_e.yParityAndS.substring(2),_e}function joinSignature(et){return et=splitSignature(et),hexlify(concat$3([et.r,et.s,et.recoveryParam?"0x1c":"0x1b"]))}var lib_esm$j=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike,isBytes,arrayify,concat:concat$3,stripZeros,zeroPad,isHexString:isHexString$4,hexlify,hexDataLength,hexDataSlice,hexConcat,hexValue,hexStripZeros,hexZeroPad,splitSignature,joinSignature},Symbol.toStringTag,{value:"Module"}));const version$s="bignumber/5.7.0";var BN$5=_BN.BN;const logger$I=new Logger$1(version$s),_constructorGuard$4={},MAX_SAFE=9007199254740991;function isBigNumberish(et){return et!=null&&(BigNumber.isBigNumber(et)||typeof et=="number"&&et%1===0||typeof et=="string"&&!!et.match(/^-?[0-9]+$/)||isHexString$4(et)||typeof et=="bigint"||isBytes(et))}let _warnedToStringRadix=!1;class BigNumber{constructor(_e,tt){_e!==_constructorGuard$4&&logger$I.throwError("cannot call constructor directly; use BigNumber.from",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=tt,this._isBigNumber=!0,Object.freeze(this)}fromTwos(_e){return toBigNumber(toBN(this).fromTwos(_e))}toTwos(_e){return toBigNumber(toBN(this).toTwos(_e))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(_e){return toBigNumber(toBN(this).add(toBN(_e)))}sub(_e){return toBigNumber(toBN(this).sub(toBN(_e)))}div(_e){return BigNumber.from(_e).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(_e)))}mul(_e){return toBigNumber(toBN(this).mul(toBN(_e)))}mod(_e){const tt=toBN(_e);return tt.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber(toBN(this).umod(tt))}pow(_e){const tt=toBN(_e);return tt.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber(toBN(this).pow(tt))}and(_e){const tt=toBN(_e);return(this.isNegative()||tt.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(tt))}or(_e){const tt=toBN(_e);return(this.isNegative()||tt.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(tt))}xor(_e){const tt=toBN(_e);return(this.isNegative()||tt.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(tt))}mask(_e){return(this.isNegative()||_e<0)&&throwFault$1("negative-width","mask"),toBigNumber(toBN(this).maskn(_e))}shl(_e){return(this.isNegative()||_e<0)&&throwFault$1("negative-width","shl"),toBigNumber(toBN(this).shln(_e))}shr(_e){return(this.isNegative()||_e<0)&&throwFault$1("negative-width","shr"),toBigNumber(toBN(this).shrn(_e))}eq(_e){return toBN(this).eq(toBN(_e))}lt(_e){return toBN(this).lt(toBN(_e))}lte(_e){return toBN(this).lte(toBN(_e))}gt(_e){return toBN(this).gt(toBN(_e))}gte(_e){return toBN(this).gte(toBN(_e))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$I.throwError("this platform does not support BigInt",Logger$1.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$I.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$I.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger$1.errors.UNEXPECTED_ARGUMENT,{}):logger$I.throwError("BigNumber.toString does not accept parameters",Logger$1.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(_e){return{type:"BigNumber",hex:this.toHexString()}}static from(_e){if(_e instanceof BigNumber)return _e;if(typeof _e=="string")return _e.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$4,toHex$1(_e)):_e.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$4,toHex$1(new BN$5(_e))):logger$I.throwArgumentError("invalid BigNumber string","value",_e);if(typeof _e=="number")return _e%1&&throwFault$1("underflow","BigNumber.from",_e),(_e>=MAX_SAFE||_e<=-MAX_SAFE)&&throwFault$1("overflow","BigNumber.from",_e),BigNumber.from(String(_e));const tt=_e;if(typeof tt=="bigint")return BigNumber.from(tt.toString());if(isBytes(tt))return BigNumber.from(hexlify(tt));if(tt)if(tt.toHexString){const rt=tt.toHexString();if(typeof rt=="string")return BigNumber.from(rt)}else{let rt=tt._hex;if(rt==null&&tt.type==="BigNumber"&&(rt=tt.hex),typeof rt=="string"&&(isHexString$4(rt)||rt[0]==="-"&&isHexString$4(rt.substring(1))))return BigNumber.from(rt)}return logger$I.throwArgumentError("invalid BigNumber value","value",_e)}static isBigNumber(_e){return!!(_e&&_e._isBigNumber)}}function toHex$1(et){if(typeof et!="string")return toHex$1(et.toString(16));if(et[0]==="-")return et=et.substring(1),et[0]==="-"&&logger$I.throwArgumentError("invalid hex","value",et),et=toHex$1(et),et==="0x00"?et:"-"+et;if(et.substring(0,2)!=="0x"&&(et="0x"+et),et==="0x")return"0x00";for(et.length%2&&(et="0x0"+et.substring(2));et.length>4&&et.substring(0,4)==="0x00";)et="0x"+et.substring(4);return et}function toBigNumber(et){return BigNumber.from(toHex$1(et))}function toBN(et){const _e=BigNumber.from(et).toHexString();return _e[0]==="-"?new BN$5("-"+_e.substring(3),16):new BN$5(_e.substring(2),16)}function throwFault$1(et,_e,tt){const rt={fault:et,operation:_e};return tt!=null&&(rt.value=tt),logger$I.throwError(et,Logger$1.errors.NUMERIC_FAULT,rt)}function _base36To16(et){return new BN$5(et,36).toString(16)}function _base16To36(et){return new BN$5(et,16).toString(36)}const logger$H=new Logger$1(version$s),_constructorGuard$3={},Zero$2=BigNumber.from(0),NegativeOne$2=BigNumber.from(-1);function throwFault(et,_e,tt,rt){const nt={fault:_e,operation:tt};return rt!==void 0&&(nt.value=rt),logger$H.throwError(et,Logger$1.errors.NUMERIC_FAULT,nt)}let zeros$1="0";for(;zeros$1.length<256;)zeros$1+=zeros$1;function getMultiplier(et){if(typeof et!="number")try{et=BigNumber.from(et).toNumber()}catch{}return typeof et=="number"&&et>=0&&et<=256&&!(et%1)?"1"+zeros$1.substring(0,et):logger$H.throwArgumentError("invalid decimal size","decimals",et)}function formatFixed(et,_e){_e==null&&(_e=0);const tt=getMultiplier(_e);et=BigNumber.from(et);const rt=et.lt(Zero$2);rt&&(et=et.mul(NegativeOne$2));let nt=et.mod(tt).toString();for(;nt.length<tt.length-1;)nt="0"+nt;nt=nt.match(/^([0-9]*[1-9]|0)(0*)/)[1];const it=et.div(tt).toString();return tt.length===1?et=it:et=it+"."+nt,rt&&(et="-"+et),et}function parseFixed(et,_e){_e==null&&(_e=0);const tt=getMultiplier(_e);(typeof et!="string"||!et.match(/^-?[0-9.]+$/))&&logger$H.throwArgumentError("invalid decimal value","value",et);const rt=et.substring(0,1)==="-";rt&&(et=et.substring(1)),et==="."&&logger$H.throwArgumentError("missing value","value",et);const nt=et.split(".");nt.length>2&&logger$H.throwArgumentError("too many decimal points","value",et);let it=nt[0],at=nt[1];for(it||(it="0"),at||(at="0");at[at.length-1]==="0";)at=at.substring(0,at.length-1);for(at.length>tt.length-1&&throwFault("fractional component exceeds decimals","underflow","parseFixed"),at===""&&(at="0");at.length<tt.length-1;)at+="0";const st=BigNumber.from(it),ct=BigNumber.from(at);let ut=st.mul(tt).add(ct);return rt&&(ut=ut.mul(NegativeOne$2)),ut}class FixedFormat{constructor(_e,tt,rt,nt){_e!==_constructorGuard$3&&logger$H.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=tt,this.width=rt,this.decimals=nt,this.name=(tt?"":"u")+"fixed"+String(rt)+"x"+String(nt),this._multiplier=getMultiplier(nt),Object.freeze(this)}static from(_e){if(_e instanceof FixedFormat)return _e;typeof _e=="number"&&(_e=`fixed128x${_e}`);let tt=!0,rt=128,nt=18;if(typeof _e=="string"){if(_e!=="fixed")if(_e==="ufixed")tt=!1;else{const it=_e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);it||logger$H.throwArgumentError("invalid fixed format","format",_e),tt=it[1]!=="u",rt=parseInt(it[2]),nt=parseInt(it[3])}}else if(_e){const it=(at,st,ct)=>_e[at]==null?ct:(typeof _e[at]!==st&&logger$H.throwArgumentError("invalid fixed format ("+at+" not "+st+")","format."+at,_e[at]),_e[at]);tt=it("signed","boolean",tt),rt=it("width","number",rt),nt=it("decimals","number",nt)}return rt%8&&logger$H.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",rt),nt>80&&logger$H.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",nt),new FixedFormat(_constructorGuard$3,tt,rt,nt)}}class FixedNumber{constructor(_e,tt,rt,nt){_e!==_constructorGuard$3&&logger$H.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=nt,this._hex=tt,this._value=rt,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(_e){this.format.name!==_e.format.name&&logger$H.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",_e)}addUnsafe(_e){this._checkFormat(_e);const tt=parseFixed(this._value,this.format.decimals),rt=parseFixed(_e._value,_e.format.decimals);return FixedNumber.fromValue(tt.add(rt),this.format.decimals,this.format)}subUnsafe(_e){this._checkFormat(_e);const tt=parseFixed(this._value,this.format.decimals),rt=parseFixed(_e._value,_e.format.decimals);return FixedNumber.fromValue(tt.sub(rt),this.format.decimals,this.format)}mulUnsafe(_e){this._checkFormat(_e);const tt=parseFixed(this._value,this.format.decimals),rt=parseFixed(_e._value,_e.format.decimals);return FixedNumber.fromValue(tt.mul(rt).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(_e){this._checkFormat(_e);const tt=parseFixed(this._value,this.format.decimals),rt=parseFixed(_e._value,_e.format.decimals);return FixedNumber.fromValue(tt.mul(this.format._multiplier).div(rt),this.format.decimals,this.format)}floor(){const _e=this.toString().split(".");_e.length===1&&_e.push("0");let tt=FixedNumber.from(_e[0],this.format);const rt=!_e[1].match(/^(0*)$/);return this.isNegative()&&rt&&(tt=tt.subUnsafe(ONE.toFormat(tt.format))),tt}ceiling(){const _e=this.toString().split(".");_e.length===1&&_e.push("0");let tt=FixedNumber.from(_e[0],this.format);const rt=!_e[1].match(/^(0*)$/);return!this.isNegative()&&rt&&(tt=tt.addUnsafe(ONE.toFormat(tt.format))),tt}round(_e){_e==null&&(_e=0);const tt=this.toString().split(".");if(tt.length===1&&tt.push("0"),(_e<0||_e>80||_e%1)&&logger$H.throwArgumentError("invalid decimal count","decimals",_e),tt[1].length<=_e)return this;const rt=FixedNumber.from("1"+zeros$1.substring(0,_e),this.format),nt=BUMP.toFormat(this.format);return this.mulUnsafe(rt).addUnsafe(nt).floor().divUnsafe(rt)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(_e){if(_e==null)return this._hex;_e%8&&logger$H.throwArgumentError("invalid byte width","width",_e);const tt=BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(_e).toHexString();return hexZeroPad(tt,_e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(_e){return FixedNumber.fromString(this._value,_e)}static fromValue(_e,tt,rt){return rt==null&&tt!=null&&!isBigNumberish(tt)&&(rt=tt,tt=null),tt==null&&(tt=0),rt==null&&(rt="fixed"),FixedNumber.fromString(formatFixed(_e,tt),FixedFormat.from(rt))}static fromString(_e,tt){tt==null&&(tt="fixed");const rt=FixedFormat.from(tt),nt=parseFixed(_e,rt.decimals);!rt.signed&&nt.lt(Zero$2)&&throwFault("unsigned value cannot be negative","overflow","value",_e);let it=null;rt.signed?it=nt.toTwos(rt.width).toHexString():(it=nt.toHexString(),it=hexZeroPad(it,rt.width/8));const at=formatFixed(nt,rt.decimals);return new FixedNumber(_constructorGuard$3,it,at,rt)}static fromBytes(_e,tt){tt==null&&(tt="fixed");const rt=FixedFormat.from(tt);if(arrayify(_e).length>rt.width/8)throw new Error("overflow");let nt=BigNumber.from(_e);rt.signed&&(nt=nt.fromTwos(rt.width));const it=nt.toTwos((rt.signed?0:1)+rt.width).toHexString(),at=formatFixed(nt,rt.decimals);return new FixedNumber(_constructorGuard$3,it,at,rt)}static from(_e,tt){if(typeof _e=="string")return FixedNumber.fromString(_e,tt);if(isBytes(_e))return FixedNumber.fromBytes(_e,tt);try{return FixedNumber.fromValue(_e,0,tt)}catch(rt){if(rt.code!==Logger$1.errors.INVALID_ARGUMENT)throw rt}return logger$H.throwArgumentError("invalid FixedNumber value","value",_e)}static isFixedNumber(_e){return!!(_e&&_e._isFixedNumber)}}const ONE=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),version$r="properties/5.7.0";var __awaiter$f=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$G=new Logger$1(version$r);function defineReadOnly(et,_e,tt){Object.defineProperty(et,_e,{enumerable:!0,value:tt,writable:!1})}function getStatic(et,_e){for(let tt=0;tt<32;tt++){if(et[_e])return et[_e];if(!et.prototype||typeof et.prototype!="object")break;et=Object.getPrototypeOf(et.prototype).constructor}return null}function resolveProperties(et){return __awaiter$f(this,void 0,void 0,function*(){const _e=Object.keys(et).map(rt=>{const nt=et[rt];return Promise.resolve(nt).then(it=>({key:rt,value:it}))});return(yield Promise.all(_e)).reduce((rt,nt)=>(rt[nt.key]=nt.value,rt),{})})}function checkProperties(et,_e){(!et||typeof et!="object")&&logger$G.throwArgumentError("invalid object","object",et),Object.keys(et).forEach(tt=>{_e[tt]||logger$G.throwArgumentError("invalid object key - "+tt,"transaction:"+tt,et)})}function shallowCopy(et){const _e={};for(const tt in et)_e[tt]=et[tt];return _e}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(et){if(et==null||opaque[typeof et])return!0;if(Array.isArray(et)||typeof et=="object"){if(!Object.isFrozen(et))return!1;const _e=Object.keys(et);for(let tt=0;tt<_e.length;tt++){let rt=null;try{rt=et[_e[tt]]}catch{continue}if(!_isFrozen(rt))return!1}return!0}return logger$G.throwArgumentError(`Cannot deepCopy ${typeof et}`,"object",et)}function _deepCopy(et){if(_isFrozen(et))return et;if(Array.isArray(et))return Object.freeze(et.map(_e=>deepCopy(_e)));if(typeof et=="object"){const _e={};for(const tt in et){const rt=et[tt];rt!==void 0&&defineReadOnly(_e,tt,deepCopy(rt))}return _e}return logger$G.throwArgumentError(`Cannot deepCopy ${typeof et}`,"object",et)}function deepCopy(et){return _deepCopy(et)}class Description{constructor(_e){for(const tt in _e)this[tt]=deepCopy(_e[tt])}}var lib_esm$i=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly,getStatic,resolveProperties,checkProperties,shallowCopy,deepCopy,Description},Symbol.toStringTag,{value:"Module"}));const version$q="abi/5.7.0",logger$F=new Logger$1(version$q),_constructorGuard$2={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(et,_e){if(et==="bytes"||et==="string"){if(ModifiersBytes[_e])return!0}else if(et==="address"){if(_e==="payable")return!0}else if((et.indexOf("[")>=0||et==="tuple")&&ModifiersNest[_e])return!0;return(ModifiersBytes[_e]||_e==="payable")&&logger$F.throwArgumentError("invalid modifier","name",_e),!1}function parseParamType(et,_e){let tt=et;function rt(st){logger$F.throwArgumentError(`unexpected character at position ${st}`,"param",et)}et=et.replace(/\s/g," ");function nt(st){let ct={type:"",name:"",parent:st,state:{allowType:!0}};return _e&&(ct.indexed=!1),ct}let it={type:"",name:"",state:{allowType:!0}},at=it;for(let st=0;st<et.length;st++){let ct=et[st];switch(ct){case"(":at.state.allowType&&at.type===""?at.type="tuple":at.state.allowParams||rt(st),at.state.allowType=!1,at.type=verifyType(at.type),at.components=[nt(at)],at=at.components[0];break;case")":delete at.state,at.name==="indexed"&&(_e||rt(st),at.indexed=!0,at.name=""),checkModifier(at.type,at.name)&&(at.name=""),at.type=verifyType(at.type);let ut=at;at=at.parent,at||rt(st),delete ut.parent,at.state.allowParams=!1,at.state.allowName=!0,at.state.allowArray=!0;break;case",":delete at.state,at.name==="indexed"&&(_e||rt(st),at.indexed=!0,at.name=""),checkModifier(at.type,at.name)&&(at.name=""),at.type=verifyType(at.type);let ft=nt(at.parent);at.parent.components.push(ft),delete at.parent,at=ft;break;case" ":at.state.allowType&&at.type!==""&&(at.type=verifyType(at.type),delete at.state.allowType,at.state.allowName=!0,at.state.allowParams=!0),at.state.allowName&&at.name!==""&&(at.name==="indexed"?(_e||rt(st),at.indexed&&rt(st),at.indexed=!0,at.name=""):checkModifier(at.type,at.name)?at.name="":at.state.allowName=!1);break;case"[":at.state.allowArray||rt(st),at.type+=ct,at.state.allowArray=!1,at.state.allowName=!1,at.state.readArray=!0;break;case"]":at.state.readArray||rt(st),at.type+=ct,at.state.readArray=!1,at.state.allowArray=!0,at.state.allowName=!0;break;default:at.state.allowType?(at.type+=ct,at.state.allowParams=!0,at.state.allowArray=!0):at.state.allowName?(at.name+=ct,delete at.state.allowArray):at.state.readArray?at.type+=ct:rt(st)}}return at.parent&&logger$F.throwArgumentError("unexpected eof","param",et),delete it.state,at.name==="indexed"?(_e||rt(tt.length-7),at.indexed&&rt(tt.length-7),at.indexed=!0,at.name=""):checkModifier(at.type,at.name)&&(at.name=""),it.type=verifyType(it.type),it}function populate(et,_e){for(let tt in _e)defineReadOnly(et,tt,_e[tt])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(_e,tt){_e!==_constructorGuard$2&&logger$F.throwError("use fromString",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,tt);let rt=this.type.match(paramTypeArray);rt?populate(this,{arrayLength:parseInt(rt[2]||"-1"),arrayChildren:ParamType.fromObject({type:rt[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$F.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json){let rt={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(rt.indexed=this.indexed),this.components&&(rt.components=this.components.map(nt=>JSON.parse(nt.format(_e)))),JSON.stringify(rt)}let tt="";return this.baseType==="array"?(tt+=this.arrayChildren.format(_e),tt+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(_e!==FormatTypes.sighash&&(tt+=this.type),tt+="("+this.components.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+")"):tt+=this.type,_e!==FormatTypes.sighash&&(this.indexed===!0&&(tt+=" indexed"),_e===FormatTypes.full&&this.name&&(tt+=" "+this.name)),tt}static from(_e,tt){return typeof _e=="string"?ParamType.fromString(_e,tt):ParamType.fromObject(_e)}static fromObject(_e){return ParamType.isParamType(_e)?_e:new ParamType(_constructorGuard$2,{name:_e.name||null,type:verifyType(_e.type),indexed:_e.indexed==null?null:!!_e.indexed,components:_e.components?_e.components.map(ParamType.fromObject):null})}static fromString(_e,tt){function rt(nt){return ParamType.fromObject({name:nt.name,type:nt.type,indexed:nt.indexed,components:nt.components})}return rt(parseParamType(_e,!!tt))}static isParamType(_e){return!!(_e!=null&&_e._isParamType)}}function parseParams(et,_e){return splitNesting(et).map(tt=>ParamType.fromString(tt,_e))}class Fragment{constructor(_e,tt){_e!==_constructorGuard$2&&logger$F.throwError("use a static from method",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,tt),this._isFragment=!0,Object.freeze(this)}static from(_e){return Fragment.isFragment(_e)?_e:typeof _e=="string"?Fragment.fromString(_e):Fragment.fromObject(_e)}static fromObject(_e){if(Fragment.isFragment(_e))return _e;switch(_e.type){case"function":return FunctionFragment.fromObject(_e);case"event":return EventFragment.fromObject(_e);case"constructor":return ConstructorFragment.fromObject(_e);case"error":return ErrorFragment.fromObject(_e);case"fallback":case"receive":return null}return logger$F.throwArgumentError("invalid fragment object","value",_e)}static fromString(_e){return _e=_e.replace(/\s/g," "),_e=_e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),_e=_e.trim(),_e.split(" ")[0]==="event"?EventFragment.fromString(_e.substring(5).trim()):_e.split(" ")[0]==="function"?FunctionFragment.fromString(_e.substring(8).trim()):_e.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(_e.trim()):_e.split(" ")[0]==="error"?ErrorFragment.fromString(_e.substring(5).trim()):logger$F.throwArgumentError("unsupported fragment","value",_e)}static isFragment(_e){return!!(_e&&_e._isFragment)}}class EventFragment extends Fragment{format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$F.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(rt=>JSON.parse(rt.format(_e)))});let tt="";return _e!==FormatTypes.sighash&&(tt+="event "),tt+=this.name+"("+this.inputs.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+") ",_e!==FormatTypes.sighash&&this.anonymous&&(tt+="anonymous "),tt.trim()}static from(_e){return typeof _e=="string"?EventFragment.fromString(_e):EventFragment.fromObject(_e)}static fromObject(_e){if(EventFragment.isEventFragment(_e))return _e;_e.type!=="event"&&logger$F.throwArgumentError("invalid event object","value",_e);const tt={name:verifyIdentifier(_e.name),anonymous:_e.anonymous,inputs:_e.inputs?_e.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$2,tt)}static fromString(_e){let tt=_e.match(regexParen);tt||logger$F.throwArgumentError("invalid event string","value",_e);let rt=!1;return tt[3].split(" ").forEach(nt=>{switch(nt.trim()){case"anonymous":rt=!0;break;case"":break;default:logger$F.warn("unknown modifier: "+nt)}}),EventFragment.fromObject({name:tt[1].trim(),anonymous:rt,inputs:parseParams(tt[2],!0),type:"event"})}static isEventFragment(_e){return _e&&_e._isFragment&&_e.type==="event"}}function parseGas(et,_e){_e.gas=null;let tt=et.split("@");return tt.length!==1?(tt.length>2&&logger$F.throwArgumentError("invalid human-readable ABI signature","value",et),tt[1].match(/^[0-9]+$/)||logger$F.throwArgumentError("invalid human-readable ABI signature gas","value",et),_e.gas=BigNumber.from(tt[1]),tt[0]):et}function parseModifiers(et,_e){_e.constant=!1,_e.payable=!1,_e.stateMutability="nonpayable",et.split(" ").forEach(tt=>{switch(tt.trim()){case"constant":_e.constant=!0;break;case"payable":_e.payable=!0,_e.stateMutability="payable";break;case"nonpayable":_e.payable=!1,_e.stateMutability="nonpayable";break;case"pure":_e.constant=!0,_e.stateMutability="pure";break;case"view":_e.constant=!0,_e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+tt)}})}function verifyState(et){let _e={constant:!1,payable:!0,stateMutability:"payable"};return et.stateMutability!=null?(_e.stateMutability=et.stateMutability,_e.constant=_e.stateMutability==="view"||_e.stateMutability==="pure",et.constant!=null&&!!et.constant!==_e.constant&&logger$F.throwArgumentError("cannot have constant function with mutability "+_e.stateMutability,"value",et),_e.payable=_e.stateMutability==="payable",et.payable!=null&&!!et.payable!==_e.payable&&logger$F.throwArgumentError("cannot have payable function with mutability "+_e.stateMutability,"value",et)):et.payable!=null?(_e.payable=!!et.payable,et.constant==null&&!_e.payable&&et.type!=="constructor"&&logger$F.throwArgumentError("unable to determine stateMutability","value",et),_e.constant=!!et.constant,_e.constant?_e.stateMutability="view":_e.stateMutability=_e.payable?"payable":"nonpayable",_e.payable&&_e.constant&&logger$F.throwArgumentError("cannot have constant payable function","value",et)):et.constant!=null?(_e.constant=!!et.constant,_e.payable=!_e.constant,_e.stateMutability=_e.constant?"view":"payable"):et.type!=="constructor"&&logger$F.throwArgumentError("unable to determine stateMutability","value",et),_e}class ConstructorFragment extends Fragment{format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$F.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(rt=>JSON.parse(rt.format(_e)))});_e===FormatTypes.sighash&&logger$F.throwError("cannot format a constructor for sighash",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let tt="constructor("+this.inputs.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(tt+=this.stateMutability+" "),tt.trim()}static from(_e){return typeof _e=="string"?ConstructorFragment.fromString(_e):ConstructorFragment.fromObject(_e)}static fromObject(_e){if(ConstructorFragment.isConstructorFragment(_e))return _e;_e.type!=="constructor"&&logger$F.throwArgumentError("invalid constructor object","value",_e);let tt=verifyState(_e);tt.constant&&logger$F.throwArgumentError("constructor cannot be constant","value",_e);const rt={name:null,type:_e.type,inputs:_e.inputs?_e.inputs.map(ParamType.fromObject):[],payable:tt.payable,stateMutability:tt.stateMutability,gas:_e.gas?BigNumber.from(_e.gas):null};return new ConstructorFragment(_constructorGuard$2,rt)}static fromString(_e){let tt={type:"constructor"};_e=parseGas(_e,tt);let rt=_e.match(regexParen);return(!rt||rt[1].trim()!=="constructor")&&logger$F.throwArgumentError("invalid constructor string","value",_e),tt.inputs=parseParams(rt[2].trim(),!1),parseModifiers(rt[3].trim(),tt),ConstructorFragment.fromObject(tt)}static isConstructorFragment(_e){return _e&&_e._isFragment&&_e.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$F.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(rt=>JSON.parse(rt.format(_e))),outputs:this.outputs.map(rt=>JSON.parse(rt.format(_e)))});let tt="";return _e!==FormatTypes.sighash&&(tt+="function "),tt+=this.name+"("+this.inputs.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+") ",_e!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(tt+=this.stateMutability+" "):this.constant&&(tt+="view "),this.outputs&&this.outputs.length&&(tt+="returns ("+this.outputs.map(rt=>rt.format(_e)).join(", ")+") "),this.gas!=null&&(tt+="@"+this.gas.toString()+" ")),tt.trim()}static from(_e){return typeof _e=="string"?FunctionFragment.fromString(_e):FunctionFragment.fromObject(_e)}static fromObject(_e){if(FunctionFragment.isFunctionFragment(_e))return _e;_e.type!=="function"&&logger$F.throwArgumentError("invalid function object","value",_e);let tt=verifyState(_e);const rt={type:_e.type,name:verifyIdentifier(_e.name),constant:tt.constant,inputs:_e.inputs?_e.inputs.map(ParamType.fromObject):[],outputs:_e.outputs?_e.outputs.map(ParamType.fromObject):[],payable:tt.payable,stateMutability:tt.stateMutability,gas:_e.gas?BigNumber.from(_e.gas):null};return new FunctionFragment(_constructorGuard$2,rt)}static fromString(_e){let tt={type:"function"};_e=parseGas(_e,tt);let rt=_e.split(" returns ");rt.length>2&&logger$F.throwArgumentError("invalid function string","value",_e);let nt=rt[0].match(regexParen);if(nt||logger$F.throwArgumentError("invalid function signature","value",_e),tt.name=nt[1].trim(),tt.name&&verifyIdentifier(tt.name),tt.inputs=parseParams(nt[2],!1),parseModifiers(nt[3].trim(),tt),rt.length>1){let it=rt[1].match(regexParen);(it[1].trim()!=""||it[3].trim()!="")&&logger$F.throwArgumentError("unexpected tokens","value",_e),tt.outputs=parseParams(it[2],!1)}else tt.outputs=[];return FunctionFragment.fromObject(tt)}static isFunctionFragment(_e){return _e&&_e._isFragment&&_e.type==="function"}}function checkForbidden(et){const _e=et.format();return(_e==="Error(string)"||_e==="Panic(uint256)")&&logger$F.throwArgumentError(`cannot specify user defined ${_e} error`,"fragment",et),et}class ErrorFragment extends Fragment{format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$F.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(rt=>JSON.parse(rt.format(_e)))});let tt="";return _e!==FormatTypes.sighash&&(tt+="error "),tt+=this.name+"("+this.inputs.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+") ",tt.trim()}static from(_e){return typeof _e=="string"?ErrorFragment.fromString(_e):ErrorFragment.fromObject(_e)}static fromObject(_e){if(ErrorFragment.isErrorFragment(_e))return _e;_e.type!=="error"&&logger$F.throwArgumentError("invalid error object","value",_e);const tt={type:_e.type,name:verifyIdentifier(_e.name),inputs:_e.inputs?_e.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$2,tt))}static fromString(_e){let tt={type:"error"},rt=_e.match(regexParen);return rt||logger$F.throwArgumentError("invalid error signature","value",_e),tt.name=rt[1].trim(),tt.name&&verifyIdentifier(tt.name),tt.inputs=parseParams(rt[2],!1),checkForbidden(ErrorFragment.fromObject(tt))}static isErrorFragment(_e){return _e&&_e._isFragment&&_e.type==="error"}}function verifyType(et){return et.match(/^uint($|[^1-9])/)?et="uint256"+et.substring(4):et.match(/^int($|[^1-9])/)&&(et="int256"+et.substring(3)),et}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(et){return(!et||!et.match(regexIdentifier))&&logger$F.throwArgumentError(`invalid identifier "${et}"`,"value",et),et}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(et){et=et.trim();let _e=[],tt="",rt=0;for(let nt=0;nt<et.length;nt++){let it=et[nt];it===","&&rt===0?(_e.push(tt),tt=""):(tt+=it,it==="("?rt++:it===")"&&(rt--,rt===-1&&logger$F.throwArgumentError("unbalanced parenthesis","value",et)))}return tt&&_e.push(tt),_e}const logger$E=new Logger$1(version$q);function checkResultErrors(et){const _e=[],tt=function(rt,nt){if(!!Array.isArray(nt))for(let it in nt){const at=rt.slice();at.push(it);try{tt(at,nt[it])}catch(st){_e.push({path:at,error:st})}}};return tt([],et),_e}class Coder{constructor(_e,tt,rt,nt){this.name=_e,this.type=tt,this.localName=rt,this.dynamic=nt}_throwError(_e,tt){logger$E.throwArgumentError(_e,this.localName,tt)}}class Writer{constructor(_e){defineReadOnly(this,"wordSize",_e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(_e)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(_e){return this._data.push(_e),this._dataLength+=_e.length,_e.length}appendWriter(_e){return this._writeData(concat$3(_e._data))}writeBytes(_e){let tt=arrayify(_e);const rt=tt.length%this.wordSize;return rt&&(tt=concat$3([tt,this._padding.slice(rt)])),this._writeData(tt)}_getValue(_e){let tt=arrayify(BigNumber.from(_e));return tt.length>this.wordSize&&logger$E.throwError("value out-of-bounds",Logger$1.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:tt.length}),tt.length%this.wordSize&&(tt=concat$3([this._padding.slice(tt.length%this.wordSize),tt])),tt}writeValue(_e){return this._writeData(this._getValue(_e))}writeUpdatableValue(){const _e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,tt=>{this._data[_e]=this._getValue(tt)}}}class Reader{constructor(_e,tt,rt,nt){defineReadOnly(this,"_data",arrayify(_e)),defineReadOnly(this,"wordSize",tt||32),defineReadOnly(this,"_coerceFunc",rt),defineReadOnly(this,"allowLoose",nt),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(_e,tt){let rt=_e.match("^u?int([0-9]+)$");return rt&&parseInt(rt[1])<=48&&(tt=tt.toNumber()),tt}coerce(_e,tt){return this._coerceFunc?this._coerceFunc(_e,tt):Reader.coerce(_e,tt)}_peekBytes(_e,tt,rt){let nt=Math.ceil(tt/this.wordSize)*this.wordSize;return this._offset+nt>this._data.length&&(this.allowLoose&&rt&&this._offset+tt<=this._data.length?nt=tt:logger$E.throwError("data out-of-bounds",Logger$1.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+nt})),this._data.slice(this._offset,this._offset+nt)}subReader(_e){return new Reader(this._data.slice(this._offset+_e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(_e,tt){let rt=this._peekBytes(0,_e,!!tt);return this._offset+=rt.length,rt.slice(0,_e)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}}var sha3$2={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(et){(function(){var _e="input is invalid type",tt="finalize already called",rt=typeof window=="object",nt=rt?window:{};nt.JS_SHA3_NO_WINDOW&&(rt=!1);var it=!rt&&typeof self=="object",at=!nt.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;at?nt=globalThis:it&&(nt=self);var st=!nt.JS_SHA3_NO_COMMON_JS&&!0&&et.exports,ct=!nt.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",ut="0123456789abcdef".split(""),ft=[31,7936,2031616,520093696],gt=[4,1024,262144,67108864],_t=[1,256,65536,16777216],Et=[6,1536,393216,100663296],$t=[0,8,16,24],It=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Tt=[224,256,384,512],At=[128,256],Rt=["hex","buffer","arrayBuffer","array","digest"],kt={128:168,256:136};(nt.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Pt){return Object.prototype.toString.call(Pt)==="[object Array]"}),ct&&(nt.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Pt){return typeof Pt=="object"&&Pt.buffer&&Pt.buffer.constructor===ArrayBuffer});for(var Ot=function(Pt,qt,ir){return function(Yt){return new lt(Pt,qt,Pt).update(Yt)[ir]()}},Wt=function(Pt,qt,ir){return function(Yt,rr){return new lt(Pt,qt,rr).update(Yt)[ir]()}},zt=function(Pt,qt,ir){return function(Yt,rr,Sr,lr){return ot["cshake"+Pt].update(Yt,rr,Sr,lr)[ir]()}},Kt=function(Pt,qt,ir){return function(Yt,rr,Sr,lr){return ot["kmac"+Pt].update(Yt,rr,Sr,lr)[ir]()}},Jt=function(Pt,qt,ir,Yt){for(var rr=0;rr<Rt.length;++rr){var Sr=Rt[rr];Pt[Sr]=qt(ir,Yt,Sr)}return Pt},ar=function(Pt,qt){var ir=Ot(Pt,qt,"hex");return ir.create=function(){return new lt(Pt,qt,Pt)},ir.update=function(Yt){return ir.create().update(Yt)},Jt(ir,Ot,Pt,qt)},jt=function(Pt,qt){var ir=Wt(Pt,qt,"hex");return ir.create=function(Yt){return new lt(Pt,qt,Yt)},ir.update=function(Yt,rr){return ir.create(rr).update(Yt)},Jt(ir,Wt,Pt,qt)},Ct=function(Pt,qt){var ir=kt[Pt],Yt=zt(Pt,qt,"hex");return Yt.create=function(rr,Sr,lr){return!Sr&&!lr?ot["shake"+Pt].create(rr):new lt(Pt,qt,rr).bytepad([Sr,lr],ir)},Yt.update=function(rr,Sr,lr,ur){return Yt.create(Sr,lr,ur).update(rr)},Jt(Yt,zt,Pt,qt)},Nt=function(Pt,qt){var ir=kt[Pt],Yt=Kt(Pt,qt,"hex");return Yt.create=function(rr,Sr,lr){return new xt(Pt,qt,Sr).bytepad(["KMAC",lr],ir).bytepad([rr],ir)},Yt.update=function(rr,Sr,lr,ur){return Yt.create(rr,lr,ur).update(Sr)},Jt(Yt,Kt,Pt,qt)},ht=[{name:"keccak",padding:_t,bits:Tt,createMethod:ar},{name:"sha3",padding:Et,bits:Tt,createMethod:ar},{name:"shake",padding:ft,bits:At,createMethod:jt},{name:"cshake",padding:gt,bits:At,createMethod:Ct},{name:"kmac",padding:gt,bits:At,createMethod:Nt}],ot={},dt=[],mt=0;mt<ht.length;++mt)for(var wt=ht[mt],bt=wt.bits,vt=0;vt<bt.length;++vt){var St=wt.name+"_"+bt[vt];if(dt.push(St),ot[St]=wt.createMethod(bt[vt],wt.padding),wt.name!=="sha3"){var yt=wt.name+bt[vt];dt.push(yt),ot[yt]=ot[St]}}function lt(Pt,qt,ir){this.blocks=[],this.s=[],this.padding=qt,this.outputBits=ir,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Pt<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ir>>5,this.extraBytes=(ir&31)>>3;for(var Yt=0;Yt<50;++Yt)this.s[Yt]=0}lt.prototype.update=function(Pt){if(this.finalized)throw new Error(tt);var qt,ir=typeof Pt;if(ir!=="string"){if(ir==="object"){if(Pt===null)throw new Error(_e);if(ct&&Pt.constructor===ArrayBuffer)Pt=new Uint8Array(Pt);else if(!Array.isArray(Pt)&&(!ct||!ArrayBuffer.isView(Pt)))throw new Error(_e)}else throw new Error(_e);qt=!0}for(var Yt=this.blocks,rr=this.byteCount,Sr=Pt.length,lr=this.blockCount,ur=0,Ur=this.s,dr,xr;ur<Sr;){if(this.reset)for(this.reset=!1,Yt[0]=this.block,dr=1;dr<lr+1;++dr)Yt[dr]=0;if(qt)for(dr=this.start;ur<Sr&&dr<rr;++ur)Yt[dr>>2]|=Pt[ur]<<$t[dr++&3];else for(dr=this.start;ur<Sr&&dr<rr;++ur)xr=Pt.charCodeAt(ur),xr<128?Yt[dr>>2]|=xr<<$t[dr++&3]:xr<2048?(Yt[dr>>2]|=(192|xr>>6)<<$t[dr++&3],Yt[dr>>2]|=(128|xr&63)<<$t[dr++&3]):xr<55296||xr>=57344?(Yt[dr>>2]|=(224|xr>>12)<<$t[dr++&3],Yt[dr>>2]|=(128|xr>>6&63)<<$t[dr++&3],Yt[dr>>2]|=(128|xr&63)<<$t[dr++&3]):(xr=65536+((xr&1023)<<10|Pt.charCodeAt(++ur)&1023),Yt[dr>>2]|=(240|xr>>18)<<$t[dr++&3],Yt[dr>>2]|=(128|xr>>12&63)<<$t[dr++&3],Yt[dr>>2]|=(128|xr>>6&63)<<$t[dr++&3],Yt[dr>>2]|=(128|xr&63)<<$t[dr++&3]);if(this.lastByteIndex=dr,dr>=rr){for(this.start=dr-rr,this.block=Yt[lr],dr=0;dr<lr;++dr)Ur[dr]^=Yt[dr];Ut(Ur),this.reset=!0}else this.start=dr}return this},lt.prototype.encode=function(Pt,qt){var ir=Pt&255,Yt=1,rr=[ir];for(Pt=Pt>>8,ir=Pt&255;ir>0;)rr.unshift(ir),Pt=Pt>>8,ir=Pt&255,++Yt;return qt?rr.push(Yt):rr.unshift(Yt),this.update(rr),rr.length},lt.prototype.encodeString=function(Pt){var qt,ir=typeof Pt;if(ir!=="string"){if(ir==="object"){if(Pt===null)throw new Error(_e);if(ct&&Pt.constructor===ArrayBuffer)Pt=new Uint8Array(Pt);else if(!Array.isArray(Pt)&&(!ct||!ArrayBuffer.isView(Pt)))throw new Error(_e)}else throw new Error(_e);qt=!0}var Yt=0,rr=Pt.length;if(qt)Yt=rr;else for(var Sr=0;Sr<Pt.length;++Sr){var lr=Pt.charCodeAt(Sr);lr<128?Yt+=1:lr<2048?Yt+=2:lr<55296||lr>=57344?Yt+=3:(lr=65536+((lr&1023)<<10|Pt.charCodeAt(++Sr)&1023),Yt+=4)}return Yt+=this.encode(Yt*8),this.update(Pt),Yt},lt.prototype.bytepad=function(Pt,qt){for(var ir=this.encode(qt),Yt=0;Yt<Pt.length;++Yt)ir+=this.encodeString(Pt[Yt]);var rr=qt-ir%qt,Sr=[];return Sr.length=rr,this.update(Sr),this},lt.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Pt=this.blocks,qt=this.lastByteIndex,ir=this.blockCount,Yt=this.s;if(Pt[qt>>2]|=this.padding[qt&3],this.lastByteIndex===this.byteCount)for(Pt[0]=Pt[ir],qt=1;qt<ir+1;++qt)Pt[qt]=0;for(Pt[ir-1]|=2147483648,qt=0;qt<ir;++qt)Yt[qt]^=Pt[qt];Ut(Yt)}},lt.prototype.toString=lt.prototype.hex=function(){this.finalize();for(var Pt=this.blockCount,qt=this.s,ir=this.outputBlocks,Yt=this.extraBytes,rr=0,Sr=0,lr="",ur;Sr<ir;){for(rr=0;rr<Pt&&Sr<ir;++rr,++Sr)ur=qt[rr],lr+=ut[ur>>4&15]+ut[ur&15]+ut[ur>>12&15]+ut[ur>>8&15]+ut[ur>>20&15]+ut[ur>>16&15]+ut[ur>>28&15]+ut[ur>>24&15];Sr%Pt===0&&(Ut(qt),rr=0)}return Yt&&(ur=qt[rr],lr+=ut[ur>>4&15]+ut[ur&15],Yt>1&&(lr+=ut[ur>>12&15]+ut[ur>>8&15]),Yt>2&&(lr+=ut[ur>>20&15]+ut[ur>>16&15])),lr},lt.prototype.arrayBuffer=function(){this.finalize();var Pt=this.blockCount,qt=this.s,ir=this.outputBlocks,Yt=this.extraBytes,rr=0,Sr=0,lr=this.outputBits>>3,ur;Yt?ur=new ArrayBuffer(ir+1<<2):ur=new ArrayBuffer(lr);for(var Ur=new Uint32Array(ur);Sr<ir;){for(rr=0;rr<Pt&&Sr<ir;++rr,++Sr)Ur[Sr]=qt[rr];Sr%Pt===0&&Ut(qt)}return Yt&&(Ur[rr]=qt[rr],ur=ur.slice(0,lr)),ur},lt.prototype.buffer=lt.prototype.arrayBuffer,lt.prototype.digest=lt.prototype.array=function(){this.finalize();for(var Pt=this.blockCount,qt=this.s,ir=this.outputBlocks,Yt=this.extraBytes,rr=0,Sr=0,lr=[],ur,Ur;Sr<ir;){for(rr=0;rr<Pt&&Sr<ir;++rr,++Sr)ur=Sr<<2,Ur=qt[rr],lr[ur]=Ur&255,lr[ur+1]=Ur>>8&255,lr[ur+2]=Ur>>16&255,lr[ur+3]=Ur>>24&255;Sr%Pt===0&&Ut(qt)}return Yt&&(ur=Sr<<2,Ur=qt[rr],lr[ur]=Ur&255,Yt>1&&(lr[ur+1]=Ur>>8&255),Yt>2&&(lr[ur+2]=Ur>>16&255)),lr};function xt(Pt,qt,ir){lt.call(this,Pt,qt,ir)}xt.prototype=new lt,xt.prototype.finalize=function(){return this.encode(this.outputBits,!0),lt.prototype.finalize.call(this)};var Ut=function(Pt){var qt,ir,Yt,rr,Sr,lr,ur,Ur,dr,xr,er,Ft,Lt,Qt,tr,sr,Er,mr,gr,Qr,wr,Vt,Dt,Bt,Gt,cr,nr,or,qr,vr,br,Zr,yr,Rr,dn,Mr,$r,Sn,Ir,kr,xn,Pr,Nr,wn,Fr,Or,rn,Cr,Br,Tn,Dr,Lr,In,Ar,Tr,pn,jr,Hr,mn,sn,cn,fn,ln;for(Yt=0;Yt<48;Yt+=2)rr=Pt[0]^Pt[10]^Pt[20]^Pt[30]^Pt[40],Sr=Pt[1]^Pt[11]^Pt[21]^Pt[31]^Pt[41],lr=Pt[2]^Pt[12]^Pt[22]^Pt[32]^Pt[42],ur=Pt[3]^Pt[13]^Pt[23]^Pt[33]^Pt[43],Ur=Pt[4]^Pt[14]^Pt[24]^Pt[34]^Pt[44],dr=Pt[5]^Pt[15]^Pt[25]^Pt[35]^Pt[45],xr=Pt[6]^Pt[16]^Pt[26]^Pt[36]^Pt[46],er=Pt[7]^Pt[17]^Pt[27]^Pt[37]^Pt[47],Ft=Pt[8]^Pt[18]^Pt[28]^Pt[38]^Pt[48],Lt=Pt[9]^Pt[19]^Pt[29]^Pt[39]^Pt[49],qt=Ft^(lr<<1|ur>>>31),ir=Lt^(ur<<1|lr>>>31),Pt[0]^=qt,Pt[1]^=ir,Pt[10]^=qt,Pt[11]^=ir,Pt[20]^=qt,Pt[21]^=ir,Pt[30]^=qt,Pt[31]^=ir,Pt[40]^=qt,Pt[41]^=ir,qt=rr^(Ur<<1|dr>>>31),ir=Sr^(dr<<1|Ur>>>31),Pt[2]^=qt,Pt[3]^=ir,Pt[12]^=qt,Pt[13]^=ir,Pt[22]^=qt,Pt[23]^=ir,Pt[32]^=qt,Pt[33]^=ir,Pt[42]^=qt,Pt[43]^=ir,qt=lr^(xr<<1|er>>>31),ir=ur^(er<<1|xr>>>31),Pt[4]^=qt,Pt[5]^=ir,Pt[14]^=qt,Pt[15]^=ir,Pt[24]^=qt,Pt[25]^=ir,Pt[34]^=qt,Pt[35]^=ir,Pt[44]^=qt,Pt[45]^=ir,qt=Ur^(Ft<<1|Lt>>>31),ir=dr^(Lt<<1|Ft>>>31),Pt[6]^=qt,Pt[7]^=ir,Pt[16]^=qt,Pt[17]^=ir,Pt[26]^=qt,Pt[27]^=ir,Pt[36]^=qt,Pt[37]^=ir,Pt[46]^=qt,Pt[47]^=ir,qt=xr^(rr<<1|Sr>>>31),ir=er^(Sr<<1|rr>>>31),Pt[8]^=qt,Pt[9]^=ir,Pt[18]^=qt,Pt[19]^=ir,Pt[28]^=qt,Pt[29]^=ir,Pt[38]^=qt,Pt[39]^=ir,Pt[48]^=qt,Pt[49]^=ir,Qt=Pt[0],tr=Pt[1],Or=Pt[11]<<4|Pt[10]>>>28,rn=Pt[10]<<4|Pt[11]>>>28,or=Pt[20]<<3|Pt[21]>>>29,qr=Pt[21]<<3|Pt[20]>>>29,sn=Pt[31]<<9|Pt[30]>>>23,cn=Pt[30]<<9|Pt[31]>>>23,Pr=Pt[40]<<18|Pt[41]>>>14,Nr=Pt[41]<<18|Pt[40]>>>14,Rr=Pt[2]<<1|Pt[3]>>>31,dn=Pt[3]<<1|Pt[2]>>>31,sr=Pt[13]<<12|Pt[12]>>>20,Er=Pt[12]<<12|Pt[13]>>>20,Cr=Pt[22]<<10|Pt[23]>>>22,Br=Pt[23]<<10|Pt[22]>>>22,vr=Pt[33]<<13|Pt[32]>>>19,br=Pt[32]<<13|Pt[33]>>>19,fn=Pt[42]<<2|Pt[43]>>>30,ln=Pt[43]<<2|Pt[42]>>>30,Ar=Pt[5]<<30|Pt[4]>>>2,Tr=Pt[4]<<30|Pt[5]>>>2,Mr=Pt[14]<<6|Pt[15]>>>26,$r=Pt[15]<<6|Pt[14]>>>26,mr=Pt[25]<<11|Pt[24]>>>21,gr=Pt[24]<<11|Pt[25]>>>21,Tn=Pt[34]<<15|Pt[35]>>>17,Dr=Pt[35]<<15|Pt[34]>>>17,Zr=Pt[45]<<29|Pt[44]>>>3,yr=Pt[44]<<29|Pt[45]>>>3,Bt=Pt[6]<<28|Pt[7]>>>4,Gt=Pt[7]<<28|Pt[6]>>>4,pn=Pt[17]<<23|Pt[16]>>>9,jr=Pt[16]<<23|Pt[17]>>>9,Sn=Pt[26]<<25|Pt[27]>>>7,Ir=Pt[27]<<25|Pt[26]>>>7,Qr=Pt[36]<<21|Pt[37]>>>11,wr=Pt[37]<<21|Pt[36]>>>11,Lr=Pt[47]<<24|Pt[46]>>>8,In=Pt[46]<<24|Pt[47]>>>8,wn=Pt[8]<<27|Pt[9]>>>5,Fr=Pt[9]<<27|Pt[8]>>>5,cr=Pt[18]<<20|Pt[19]>>>12,nr=Pt[19]<<20|Pt[18]>>>12,Hr=Pt[29]<<7|Pt[28]>>>25,mn=Pt[28]<<7|Pt[29]>>>25,kr=Pt[38]<<8|Pt[39]>>>24,xn=Pt[39]<<8|Pt[38]>>>24,Vt=Pt[48]<<14|Pt[49]>>>18,Dt=Pt[49]<<14|Pt[48]>>>18,Pt[0]=Qt^~sr&mr,Pt[1]=tr^~Er&gr,Pt[10]=Bt^~cr&or,Pt[11]=Gt^~nr&qr,Pt[20]=Rr^~Mr&Sn,Pt[21]=dn^~$r&Ir,Pt[30]=wn^~Or&Cr,Pt[31]=Fr^~rn&Br,Pt[40]=Ar^~pn&Hr,Pt[41]=Tr^~jr&mn,Pt[2]=sr^~mr&Qr,Pt[3]=Er^~gr&wr,Pt[12]=cr^~or&vr,Pt[13]=nr^~qr&br,Pt[22]=Mr^~Sn&kr,Pt[23]=$r^~Ir&xn,Pt[32]=Or^~Cr&Tn,Pt[33]=rn^~Br&Dr,Pt[42]=pn^~Hr&sn,Pt[43]=jr^~mn&cn,Pt[4]=mr^~Qr&Vt,Pt[5]=gr^~wr&Dt,Pt[14]=or^~vr&Zr,Pt[15]=qr^~br&yr,Pt[24]=Sn^~kr&Pr,Pt[25]=Ir^~xn&Nr,Pt[34]=Cr^~Tn&Lr,Pt[35]=Br^~Dr&In,Pt[44]=Hr^~sn&fn,Pt[45]=mn^~cn&ln,Pt[6]=Qr^~Vt&Qt,Pt[7]=wr^~Dt&tr,Pt[16]=vr^~Zr&Bt,Pt[17]=br^~yr&Gt,Pt[26]=kr^~Pr&Rr,Pt[27]=xn^~Nr&dn,Pt[36]=Tn^~Lr&wn,Pt[37]=Dr^~In&Fr,Pt[46]=sn^~fn&Ar,Pt[47]=cn^~ln&Tr,Pt[8]=Vt^~Qt&sr,Pt[9]=Dt^~tr&Er,Pt[18]=Zr^~Bt&cr,Pt[19]=yr^~Gt&nr,Pt[28]=Pr^~Rr&Mr,Pt[29]=Nr^~dn&$r,Pt[38]=Lr^~wn&Or,Pt[39]=In^~Fr&rn,Pt[48]=fn^~Ar&pn,Pt[49]=ln^~Tr&jr,Pt[0]^=It[Yt],Pt[1]^=It[Yt+1]};if(st)et.exports=ot;else for(mt=0;mt<dt.length;++mt)nt[dt[mt]]=ot[dt[mt]]})()})(sha3$2);var sha3$1=sha3$2.exports;function keccak256$1(et){return"0x"+sha3$1.keccak_256(arrayify(et))}var lib_esm$h=Object.freeze(Object.defineProperty({__proto__:null,keccak256:keccak256$1},Symbol.toStringTag,{value:"Module"}));const version$p="rlp/5.7.0",logger$D=new Logger$1(version$p);function arrayifyInteger(et){const _e=[];for(;et;)_e.unshift(et&255),et>>=8;return _e}function unarrayifyInteger(et,_e,tt){let rt=0;for(let nt=0;nt<tt;nt++)rt=rt*256+et[_e+nt];return rt}function _encode(et){if(Array.isArray(et)){let rt=[];if(et.forEach(function(it){rt=rt.concat(_encode(it))}),rt.length<=55)return rt.unshift(192+rt.length),rt;const nt=arrayifyInteger(rt.length);return nt.unshift(247+nt.length),nt.concat(rt)}isBytesLike(et)||logger$D.throwArgumentError("RLP object must be BytesLike","object",et);const _e=Array.prototype.slice.call(arrayify(et));if(_e.length===1&&_e[0]<=127)return _e;if(_e.length<=55)return _e.unshift(128+_e.length),_e;const tt=arrayifyInteger(_e.length);return tt.unshift(183+tt.length),tt.concat(_e)}function encode$3(et){return hexlify(_encode(et))}function _decodeChildren(et,_e,tt,rt){const nt=[];for(;tt<_e+1+rt;){const it=_decode(et,tt);nt.push(it.result),tt+=it.consumed,tt>_e+1+rt&&logger$D.throwError("child data too short",Logger$1.errors.BUFFER_OVERRUN,{})}return{consumed:1+rt,result:nt}}function _decode(et,_e){if(et.length===0&&logger$D.throwError("data too short",Logger$1.errors.BUFFER_OVERRUN,{}),et[_e]>=248){const tt=et[_e]-247;_e+1+tt>et.length&&logger$D.throwError("data short segment too short",Logger$1.errors.BUFFER_OVERRUN,{});const rt=unarrayifyInteger(et,_e+1,tt);return _e+1+tt+rt>et.length&&logger$D.throwError("data long segment too short",Logger$1.errors.BUFFER_OVERRUN,{}),_decodeChildren(et,_e,_e+1+tt,tt+rt)}else if(et[_e]>=192){const tt=et[_e]-192;return _e+1+tt>et.length&&logger$D.throwError("data array too short",Logger$1.errors.BUFFER_OVERRUN,{}),_decodeChildren(et,_e,_e+1,tt)}else if(et[_e]>=184){const tt=et[_e]-183;_e+1+tt>et.length&&logger$D.throwError("data array too short",Logger$1.errors.BUFFER_OVERRUN,{});const rt=unarrayifyInteger(et,_e+1,tt);_e+1+tt+rt>et.length&&logger$D.throwError("data array too short",Logger$1.errors.BUFFER_OVERRUN,{});const nt=hexlify(et.slice(_e+1+tt,_e+1+tt+rt));return{consumed:1+tt+rt,result:nt}}else if(et[_e]>=128){const tt=et[_e]-128;_e+1+tt>et.length&&logger$D.throwError("data too short",Logger$1.errors.BUFFER_OVERRUN,{});const rt=hexlify(et.slice(_e+1,_e+1+tt));return{consumed:1+tt,result:rt}}return{consumed:1,result:hexlify(et[_e])}}function decode$5(et){const _e=arrayify(et),tt=_decode(_e,0);return tt.consumed!==_e.length&&logger$D.throwArgumentError("invalid rlp data","data",et),tt.result}var lib_esm$g=Object.freeze(Object.defineProperty({__proto__:null,encode:encode$3,decode:decode$5},Symbol.toStringTag,{value:"Module"}));const version$o="address/5.7.0",logger$C=new Logger$1(version$o);function getChecksumAddress(et){isHexString$4(et,20)||logger$C.throwArgumentError("invalid address","address",et),et=et.toLowerCase();const _e=et.substring(2).split(""),tt=new Uint8Array(40);for(let nt=0;nt<40;nt++)tt[nt]=_e[nt].charCodeAt(0);const rt=arrayify(keccak256$1(tt));for(let nt=0;nt<40;nt+=2)rt[nt>>1]>>4>=8&&(_e[nt]=_e[nt].toUpperCase()),(rt[nt>>1]&15)>=8&&(_e[nt+1]=_e[nt+1].toUpperCase());return"0x"+_e.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10(et){return Math.log10?Math.log10(et):Math.log(et)/Math.LN10}const ibanLookup={};for(let et=0;et<10;et++)ibanLookup[String(et)]=String(et);for(let et=0;et<26;et++)ibanLookup[String.fromCharCode(65+et)]=String(10+et);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(et){et=et.toUpperCase(),et=et.substring(4)+et.substring(0,2)+"00";let _e=et.split("").map(rt=>ibanLookup[rt]).join("");for(;_e.length>=safeDigits;){let rt=_e.substring(0,safeDigits);_e=parseInt(rt,10)%97+_e.substring(rt.length)}let tt=String(98-parseInt(_e,10)%97);for(;tt.length<2;)tt="0"+tt;return tt}function getAddress(et){let _e=null;if(typeof et!="string"&&logger$C.throwArgumentError("invalid address","address",et),et.match(/^(0x)?[0-9a-fA-F]{40}$/))et.substring(0,2)!=="0x"&&(et="0x"+et),_e=getChecksumAddress(et),et.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&_e!==et&&logger$C.throwArgumentError("bad address checksum","address",et);else if(et.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(et.substring(2,4)!==ibanChecksum(et)&&logger$C.throwArgumentError("bad icap checksum","address",et),_e=_base36To16(et.substring(4));_e.length<40;)_e="0"+_e;_e=getChecksumAddress("0x"+_e)}else logger$C.throwArgumentError("invalid address","address",et);return _e}function isAddress(et){try{return getAddress(et),!0}catch{}return!1}function getIcapAddress(et){let _e=_base16To36(getAddress(et).substring(2)).toUpperCase();for(;_e.length<30;)_e="0"+_e;return"XE"+ibanChecksum("XE00"+_e)+_e}function getContractAddress(et){let _e=null;try{_e=getAddress(et.from)}catch{logger$C.throwArgumentError("missing from address","transaction",et)}const tt=stripZeros(arrayify(BigNumber.from(et.nonce).toHexString()));return getAddress(hexDataSlice(keccak256$1(encode$3([_e,tt])),12))}function getCreate2Address(et,_e,tt){return hexDataLength(_e)!==32&&logger$C.throwArgumentError("salt must be 32 bytes","salt",_e),hexDataLength(tt)!==32&&logger$C.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",tt),getAddress(hexDataSlice(keccak256$1(concat$3(["0xff",getAddress(et),_e,tt])),12))}var lib_esm$f=Object.freeze(Object.defineProperty({__proto__:null,getAddress,isAddress,getIcapAddress,getContractAddress,getCreate2Address},Symbol.toStringTag,{value:"Module"}));class AddressCoder extends Coder{constructor(_e){super("address","address",_e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(_e,tt){try{tt=getAddress(tt)}catch(rt){this._throwError(rt.message,tt)}return _e.writeValue(tt)}decode(_e){return getAddress(hexZeroPad(_e.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(_e){super(_e.name,_e.type,void 0,_e.dynamic),this.coder=_e}defaultValue(){return this.coder.defaultValue()}encode(_e,tt){return this.coder.encode(_e,tt)}decode(_e){return this.coder.decode(_e)}}const logger$B=new Logger$1(version$q);function pack$1(et,_e,tt){let rt=null;if(Array.isArray(tt))rt=tt;else if(tt&&typeof tt=="object"){let ct={};rt=_e.map(ut=>{const ft=ut.localName;return ft||logger$B.throwError("cannot encode object for signature with missing names",Logger$1.errors.INVALID_ARGUMENT,{argument:"values",coder:ut,value:tt}),ct[ft]&&logger$B.throwError("cannot encode object for signature with duplicate names",Logger$1.errors.INVALID_ARGUMENT,{argument:"values",coder:ut,value:tt}),ct[ft]=!0,tt[ft]})}else logger$B.throwArgumentError("invalid tuple value","tuple",tt);_e.length!==rt.length&&logger$B.throwArgumentError("types/value length mismatch","tuple",tt);let nt=new Writer(et.wordSize),it=new Writer(et.wordSize),at=[];_e.forEach((ct,ut)=>{let ft=rt[ut];if(ct.dynamic){let gt=it.length;ct.encode(it,ft);let _t=nt.writeUpdatableValue();at.push(Et=>{_t(Et+gt)})}else ct.encode(nt,ft)}),at.forEach(ct=>{ct(nt.length)});let st=et.appendWriter(nt);return st+=et.appendWriter(it),st}function unpack(et,_e){let tt=[],rt=et.subReader(0);_e.forEach(it=>{let at=null;if(it.dynamic){let st=et.readValue(),ct=rt.subReader(st.toNumber());try{at=it.decode(ct)}catch(ut){if(ut.code===Logger$1.errors.BUFFER_OVERRUN)throw ut;at=ut,at.baseType=it.name,at.name=it.localName,at.type=it.type}}else try{at=it.decode(et)}catch(st){if(st.code===Logger$1.errors.BUFFER_OVERRUN)throw st;at=st,at.baseType=it.name,at.name=it.localName,at.type=it.type}at!=null&&tt.push(at)});const nt=_e.reduce((it,at)=>{const st=at.localName;return st&&(it[st]||(it[st]=0),it[st]++),it},{});_e.forEach((it,at)=>{let st=it.localName;if(!st||nt[st]!==1||(st==="length"&&(st="_length"),tt[st]!=null))return;const ct=tt[at];ct instanceof Error?Object.defineProperty(tt,st,{enumerable:!0,get:()=>{throw ct}}):tt[st]=ct});for(let it=0;it<tt.length;it++){const at=tt[it];at instanceof Error&&Object.defineProperty(tt,it,{enumerable:!0,get:()=>{throw at}})}return Object.freeze(tt)}class ArrayCoder extends Coder{constructor(_e,tt,rt){const nt=_e.type+"["+(tt>=0?tt:"")+"]",it=tt===-1||_e.dynamic;super("array",nt,rt,it),this.coder=_e,this.length=tt}defaultValue(){const _e=this.coder.defaultValue(),tt=[];for(let rt=0;rt<this.length;rt++)tt.push(_e);return tt}encode(_e,tt){Array.isArray(tt)||this._throwError("expected array value",tt);let rt=this.length;rt===-1&&(rt=tt.length,_e.writeValue(tt.length)),logger$B.checkArgumentCount(tt.length,rt,"coder array"+(this.localName?" "+this.localName:""));let nt=[];for(let it=0;it<tt.length;it++)nt.push(this.coder);return pack$1(_e,nt,tt)}decode(_e){let tt=this.length;tt===-1&&(tt=_e.readValue().toNumber(),tt*32>_e._data.length&&logger$B.throwError("insufficient data length",Logger$1.errors.BUFFER_OVERRUN,{length:_e._data.length,count:tt}));let rt=[];for(let nt=0;nt<tt;nt++)rt.push(new AnonymousCoder(this.coder));return _e.coerce(this.name,unpack(_e,rt))}}class BooleanCoder extends Coder{constructor(_e){super("bool","bool",_e,!1)}defaultValue(){return!1}encode(_e,tt){return _e.writeValue(tt?1:0)}decode(_e){return _e.coerce(this.type,!_e.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(_e,tt){super(_e,_e,tt,!0)}defaultValue(){return"0x"}encode(_e,tt){tt=arrayify(tt);let rt=_e.writeValue(tt.length);return rt+=_e.writeBytes(tt),rt}decode(_e){return _e.readBytes(_e.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(_e){super("bytes",_e)}decode(_e){return _e.coerce(this.name,hexlify(super.decode(_e)))}}class FixedBytesCoder extends Coder{constructor(_e,tt){let rt="bytes"+String(_e);super(rt,rt,tt,!1),this.size=_e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(_e,tt){let rt=arrayify(tt);return rt.length!==this.size&&this._throwError("incorrect data length",tt),_e.writeBytes(rt)}decode(_e){return _e.coerce(this.name,hexlify(_e.readBytes(this.size)))}}class NullCoder extends Coder{constructor(_e){super("null","",_e,!1)}defaultValue(){return null}encode(_e,tt){return tt!=null&&this._throwError("not null",tt),_e.writeBytes([])}decode(_e){return _e.readBytes(0),_e.coerce(this.name,null)}}const AddressZero="0x0000000000000000000000000000000000000000",NegativeOne$1=BigNumber.from(-1),Zero$1=BigNumber.from(0),One$1=BigNumber.from(1),MaxUint256$1=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";class NumberCoder extends Coder{constructor(_e,tt,rt){const nt=(tt?"int":"uint")+_e*8;super(nt,nt,rt,!1),this.size=_e,this.signed=tt}defaultValue(){return 0}encode(_e,tt){let rt=BigNumber.from(tt),nt=MaxUint256$1.mask(_e.wordSize*8);if(this.signed){let it=nt.mask(this.size*8-1);(rt.gt(it)||rt.lt(it.add(One$1).mul(NegativeOne$1)))&&this._throwError("value out-of-bounds",tt)}else(rt.lt(Zero$1)||rt.gt(nt.mask(this.size*8)))&&this._throwError("value out-of-bounds",tt);return rt=rt.toTwos(this.size*8).mask(this.size*8),this.signed&&(rt=rt.fromTwos(this.size*8).toTwos(8*_e.wordSize)),_e.writeValue(rt)}decode(_e){let tt=_e.readValue().mask(this.size*8);return this.signed&&(tt=tt.fromTwos(this.size*8)),_e.coerce(this.name,tt)}}const version$n="strings/5.7.0",logger$A=new Logger$1(version$n);var UnicodeNormalizationForm;(function(et){et.current="",et.NFC="NFC",et.NFD="NFD",et.NFKC="NFKC",et.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(et){et.UNEXPECTED_CONTINUE="unexpected continuation byte",et.BAD_PREFIX="bad codepoint prefix",et.OVERRUN="string overrun",et.MISSING_CONTINUE="missing continuation byte",et.OUT_OF_RANGE="out of UTF-8 range",et.UTF16_SURROGATE="UTF-16 surrogate",et.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(et,_e,tt,rt,nt){return logger$A.throwArgumentError(`invalid codepoint at offset ${_e}; ${et}`,"bytes",tt)}function ignoreFunc(et,_e,tt,rt,nt){if(et===Utf8ErrorReason.BAD_PREFIX||et===Utf8ErrorReason.UNEXPECTED_CONTINUE){let it=0;for(let at=_e+1;at<tt.length&&tt[at]>>6===2;at++)it++;return it}return et===Utf8ErrorReason.OVERRUN?tt.length-_e-1:0}function replaceFunc(et,_e,tt,rt,nt){return et===Utf8ErrorReason.OVERLONG?(rt.push(nt),0):(rt.push(65533),ignoreFunc(et,_e,tt))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(et,_e){_e==null&&(_e=Utf8ErrorFuncs.error),et=arrayify(et);const tt=[];let rt=0;for(;rt<et.length;){const nt=et[rt++];if(nt>>7===0){tt.push(nt);continue}let it=null,at=null;if((nt&224)===192)it=1,at=127;else if((nt&240)===224)it=2,at=2047;else if((nt&248)===240)it=3,at=65535;else{(nt&192)===128?rt+=_e(Utf8ErrorReason.UNEXPECTED_CONTINUE,rt-1,et,tt):rt+=_e(Utf8ErrorReason.BAD_PREFIX,rt-1,et,tt);continue}if(rt-1+it>=et.length){rt+=_e(Utf8ErrorReason.OVERRUN,rt-1,et,tt);continue}let st=nt&(1<<8-it-1)-1;for(let ct=0;ct<it;ct++){let ut=et[rt];if((ut&192)!=128){rt+=_e(Utf8ErrorReason.MISSING_CONTINUE,rt,et,tt),st=null;break}st=st<<6|ut&63,rt++}if(st!==null){if(st>1114111){rt+=_e(Utf8ErrorReason.OUT_OF_RANGE,rt-1-it,et,tt,st);continue}if(st>=55296&&st<=57343){rt+=_e(Utf8ErrorReason.UTF16_SURROGATE,rt-1-it,et,tt,st);continue}if(st<=at){rt+=_e(Utf8ErrorReason.OVERLONG,rt-1-it,et,tt,st);continue}tt.push(st)}}return tt}function toUtf8Bytes(et,_e=UnicodeNormalizationForm.current){_e!=UnicodeNormalizationForm.current&&(logger$A.checkNormalize(),et=et.normalize(_e));let tt=[];for(let rt=0;rt<et.length;rt++){const nt=et.charCodeAt(rt);if(nt<128)tt.push(nt);else if(nt<2048)tt.push(nt>>6|192),tt.push(nt&63|128);else if((nt&64512)==55296){rt++;const it=et.charCodeAt(rt);if(rt>=et.length||(it&64512)!==56320)throw new Error("invalid utf-8 string");const at=65536+((nt&1023)<<10)+(it&1023);tt.push(at>>18|240),tt.push(at>>12&63|128),tt.push(at>>6&63|128),tt.push(at&63|128)}else tt.push(nt>>12|224),tt.push(nt>>6&63|128),tt.push(nt&63|128)}return arrayify(tt)}function escapeChar(et){const _e="0000"+et.toString(16);return"\\u"+_e.substring(_e.length-4)}function _toEscapedUtf8String(et,_e){return'"'+getUtf8CodePoints(et,_e).map(tt=>{if(tt<256){switch(tt){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(tt>=32&&tt<127)return String.fromCharCode(tt)}return tt<=65535?escapeChar(tt):(tt-=65536,escapeChar((tt>>10&1023)+55296)+escapeChar((tt&1023)+56320))}).join("")+'"'}function _toUtf8String(et){return et.map(_e=>_e<=65535?String.fromCharCode(_e):(_e-=65536,String.fromCharCode((_e>>10&1023)+55296,(_e&1023)+56320))).join("")}function toUtf8String(et,_e){return _toUtf8String(getUtf8CodePoints(et,_e))}function toUtf8CodePoints(et,_e=UnicodeNormalizationForm.current){return getUtf8CodePoints(toUtf8Bytes(et,_e))}function formatBytes32String(et){const _e=toUtf8Bytes(et);if(_e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return hexlify(concat$3([_e,HashZero]).slice(0,32))}function parseBytes32String(et){const _e=arrayify(et);if(_e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(_e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let tt=31;for(;_e[tt-1]===0;)tt--;return toUtf8String(_e.slice(0,tt))}function bytes2(et){if(et.length%4!==0)throw new Error("bad data");let _e=[];for(let tt=0;tt<et.length;tt+=4)_e.push(parseInt(et.substring(tt,tt+4),16));return _e}function createTable(et,_e){_e||(_e=function(nt){return[parseInt(nt,16)]});let tt=0,rt={};return et.split(",").forEach(nt=>{let it=nt.split(":");tt+=parseInt(it[0],16),rt[tt]=_e(it[1])}),rt}function createRangeTable(et){let _e=0;return et.split(",").map(tt=>{let rt=tt.split("-");rt.length===1?rt[1]="0":rt[1]===""&&(rt[1]="1");let nt=_e+parseInt(rt[0],16);return _e=parseInt(rt[1],16),{l:nt,h:_e}})}function matchMap(et,_e){let tt=0;for(let rt=0;rt<_e.length;rt++){let nt=_e[rt];if(tt+=nt.l,et>=tt&&et<=tt+nt.h&&(et-tt)%(nt.d||1)===0){if(nt.e&&nt.e.indexOf(et-tt)!==-1)continue;return nt}}return null}const Table_A_1_ranges=createRangeTable("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(et=>parseInt(et,16)),Table_B_2_ranges=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs=createTable("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel=createTable("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex=createTable("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2),Table_C_ranges=createRangeTable("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten(et){return et.reduce((_e,tt)=>(tt.forEach(rt=>{_e.push(rt)}),_e),[])}function _nameprepTableA1(et){return!!matchMap(et,Table_A_1_ranges)}function _nameprepTableB2(et){let _e=matchMap(et,Table_B_2_ranges);if(_e)return[et+_e.s];let tt=Table_B_2_lut_abs[et];if(tt)return tt;let rt=Table_B_2_lut_rel[et];if(rt)return[et+rt[0]];let nt=Table_B_2_complex[et];return nt||null}function _nameprepTableC(et){return!!matchMap(et,Table_C_ranges)}function nameprep(et){if(et.match(/^[a-z0-9-]*$/i)&&et.length<=59)return et.toLowerCase();let _e=toUtf8CodePoints(et);_e=flatten(_e.map(rt=>{if(Table_B_1_flags.indexOf(rt)>=0)return[];if(rt>=65024&&rt<=65039)return[];let nt=_nameprepTableB2(rt);return nt||[rt]})),_e=toUtf8CodePoints(_toUtf8String(_e),UnicodeNormalizationForm.NFKC),_e.forEach(rt=>{if(_nameprepTableC(rt))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),_e.forEach(rt=>{if(_nameprepTableA1(rt))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let tt=_toUtf8String(_e);if(tt.substring(0,1)==="-"||tt.substring(2,4)==="--"||tt.substring(tt.length-1)==="-")throw new Error("invalid hyphen");return tt}var lib_esm$e=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String,toUtf8Bytes,toUtf8CodePoints,toUtf8String,Utf8ErrorFuncs,get Utf8ErrorReason(){return Utf8ErrorReason},get UnicodeNormalizationForm(){return UnicodeNormalizationForm},formatBytes32String,parseBytes32String,nameprep},Symbol.toStringTag,{value:"Module"}));class StringCoder extends DynamicBytesCoder{constructor(_e){super("string",_e)}defaultValue(){return""}encode(_e,tt){return super.encode(_e,toUtf8Bytes(tt))}decode(_e){return toUtf8String(super.decode(_e))}}class TupleCoder extends Coder{constructor(_e,tt){let rt=!1;const nt=[];_e.forEach(at=>{at.dynamic&&(rt=!0),nt.push(at.type)});const it="tuple("+nt.join(",")+")";super("tuple",it,tt,rt),this.coders=_e}defaultValue(){const _e=[];this.coders.forEach(rt=>{_e.push(rt.defaultValue())});const tt=this.coders.reduce((rt,nt)=>{const it=nt.localName;return it&&(rt[it]||(rt[it]=0),rt[it]++),rt},{});return this.coders.forEach((rt,nt)=>{let it=rt.localName;!it||tt[it]!==1||(it==="length"&&(it="_length"),_e[it]==null&&(_e[it]=_e[nt]))}),Object.freeze(_e)}encode(_e,tt){return pack$1(_e,this.coders,tt)}decode(_e){return _e.coerce(this.name,unpack(_e,this.coders))}}const logger$z=new Logger$1(version$q),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(_e){defineReadOnly(this,"coerceFunc",_e||null)}_getCoder(_e){switch(_e.baseType){case"address":return new AddressCoder(_e.name);case"bool":return new BooleanCoder(_e.name);case"string":return new StringCoder(_e.name);case"bytes":return new BytesCoder(_e.name);case"array":return new ArrayCoder(this._getCoder(_e.arrayChildren),_e.arrayLength,_e.name);case"tuple":return new TupleCoder((_e.components||[]).map(rt=>this._getCoder(rt)),_e.name);case"":return new NullCoder(_e.name)}let tt=_e.type.match(paramTypeNumber);if(tt){let rt=parseInt(tt[2]||"256");return(rt===0||rt>256||rt%8!==0)&&logger$z.throwArgumentError("invalid "+tt[1]+" bit length","param",_e),new NumberCoder(rt/8,tt[1]==="int",_e.name)}if(tt=_e.type.match(paramTypeBytes),tt){let rt=parseInt(tt[1]);return(rt===0||rt>32)&&logger$z.throwArgumentError("invalid bytes length","param",_e),new FixedBytesCoder(rt,_e.name)}return logger$z.throwArgumentError("invalid type","type",_e.type)}_getWordSize(){return 32}_getReader(_e,tt){return new Reader(_e,this._getWordSize(),this.coerceFunc,tt)}_getWriter(){return new Writer(this._getWordSize())}getDefaultValue(_e){const tt=_e.map(nt=>this._getCoder(ParamType.from(nt)));return new TupleCoder(tt,"_").defaultValue()}encode(_e,tt){_e.length!==tt.length&&logger$z.throwError("types/values length mismatch",Logger$1.errors.INVALID_ARGUMENT,{count:{types:_e.length,values:tt.length},value:{types:_e,values:tt}});const rt=_e.map(at=>this._getCoder(ParamType.from(at))),nt=new TupleCoder(rt,"_"),it=this._getWriter();return nt.encode(it,tt),it.data}decode(_e,tt,rt){const nt=_e.map(at=>this._getCoder(ParamType.from(at)));return new TupleCoder(nt,"_").decode(this._getReader(arrayify(tt),rt))}}const defaultAbiCoder=new AbiCoder;function id(et){return keccak256$1(toUtf8Bytes(et))}const version$m="hash/5.7.0";function decode$4(et){et=atob(et);const _e=[];for(let tt=0;tt<et.length;tt++)_e.push(et.charCodeAt(tt));return arrayify(_e)}function encode$2(et){et=arrayify(et);let _e="";for(let tt=0;tt<et.length;tt++)_e+=String.fromCharCode(et[tt]);return btoa(_e)}var lib_esm$d=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$4,encode:encode$2},Symbol.toStringTag,{value:"Module"}));function flat(et,_e){_e==null&&(_e=1);const tt=[],rt=tt.forEach,nt=function(it,at){rt.call(it,function(st){at>0&&Array.isArray(st)?nt(st,at-1):tt.push(st)})};return nt(et,_e),tt}function fromEntries(et){const _e={};for(let tt=0;tt<et.length;tt++){const rt=et[tt];_e[rt[0]]=rt[1]}return _e}function decode_arithmetic(et){let _e=0;function tt(){return et[_e++]<<8|et[_e++]}let rt=tt(),nt=1,it=[0,1];for(let Wt=1;Wt<rt;Wt++)it.push(nt+=tt());let at=tt(),st=_e;_e+=at;let ct=0,ut=0;function ft(){return ct==0&&(ut=ut<<8|et[_e++],ct=8),ut>>--ct&1}const gt=31,_t=Math.pow(2,gt),Et=_t>>>1,$t=Et>>1,It=_t-1;let Tt=0;for(let Wt=0;Wt<gt;Wt++)Tt=Tt<<1|ft();let At=[],Rt=0,kt=_t;for(;;){let Wt=Math.floor(((Tt-Rt+1)*nt-1)/kt),zt=0,Kt=rt;for(;Kt-zt>1;){let jt=zt+Kt>>>1;Wt<it[jt]?Kt=jt:zt=jt}if(zt==0)break;At.push(zt);let Jt=Rt+Math.floor(kt*it[zt]/nt),ar=Rt+Math.floor(kt*it[zt+1]/nt)-1;for(;((Jt^ar)&Et)==0;)Tt=Tt<<1&It|ft(),Jt=Jt<<1&It,ar=ar<<1&It|1;for(;Jt&~ar&$t;)Tt=Tt&Et|Tt<<1&It>>>1|ft(),Jt=Jt<<1^Et,ar=(ar^Et)<<1|Et|1;Rt=Jt,kt=1+ar-Jt}let Ot=rt-4;return At.map(Wt=>{switch(Wt-Ot){case 3:return Ot+65792+(et[st++]<<16|et[st++]<<8|et[st++]);case 2:return Ot+256+(et[st++]<<8|et[st++]);case 1:return Ot+et[st++];default:return Wt-1}})}function read_payload(et){let _e=0;return()=>et[_e++]}function read_compressed_payload(et){return read_payload(decode_arithmetic(et))}function signed(et){return et&1?~et>>1:et>>1}function read_counts(et,_e){let tt=Array(et);for(let rt=0;rt<et;rt++)tt[rt]=1+_e();return tt}function read_ascending(et,_e){let tt=Array(et);for(let rt=0,nt=-1;rt<et;rt++)tt[rt]=nt+=1+_e();return tt}function read_deltas(et,_e){let tt=Array(et);for(let rt=0,nt=0;rt<et;rt++)tt[rt]=nt+=signed(_e());return tt}function read_member_array(et,_e){let tt=read_ascending(et(),et),rt=et(),nt=read_ascending(rt,et),it=read_counts(rt,et);for(let at=0;at<rt;at++)for(let st=0;st<it[at];st++)tt.push(nt[at]+st);return _e?tt.map(at=>_e[at]):tt}function read_mapped_map(et){let _e=[];for(;;){let tt=et();if(tt==0)break;_e.push(read_linear_table(tt,et))}for(;;){let tt=et()-1;if(tt<0)break;_e.push(read_replacement_table(tt,et))}return fromEntries(flat(_e))}function read_zero_terminated_array(et){let _e=[];for(;;){let tt=et();if(tt==0)break;_e.push(tt)}return _e}function read_transposed(et,_e,tt){let rt=Array(et).fill(void 0).map(()=>[]);for(let nt=0;nt<_e;nt++)read_deltas(et,tt).forEach((it,at)=>rt[at].push(it));return rt}function read_linear_table(et,_e){let tt=1+_e(),rt=_e(),nt=read_zero_terminated_array(_e),it=read_transposed(nt.length,1+et,_e);return flat(it.map((at,st)=>{const ct=at[0],ut=at.slice(1);return Array(nt[st]).fill(void 0).map((ft,gt)=>{let _t=gt*rt;return[ct+gt*tt,ut.map(Et=>Et+_t)]})}))}function read_replacement_table(et,_e){let tt=1+_e();return read_transposed(tt,1+et,_e).map(nt=>[nt[0],nt.slice(1)])}function read_emoji_trie(et){let _e=read_member_array(et).sort((rt,nt)=>rt-nt);return tt();function tt(){let rt=[];for(;;){let ut=read_member_array(et,_e);if(ut.length==0)break;rt.push({set:new Set(ut),node:tt()})}rt.sort((ut,ft)=>ft.set.size-ut.set.size);let nt=et(),it=nt%3;nt=nt/3|0;let at=!!(nt&1);nt>>=1;let st=nt==1,ct=nt==2;return{branches:rt,valid:it,fe0f:at,save:st,check:ct}}}function getData(){return read_compressed_payload(decode$4("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const r$6=getData(),VALID=new Set(read_member_array(r$6)),IGNORED=new Set(read_member_array(r$6)),MAPPED=read_mapped_map(r$6),EMOJI_ROOT=read_emoji_trie(r$6),HYPHEN=45,UNDERSCORE=95;function explode_cp(et){return toUtf8CodePoints(et)}function filter_fe0f(et){return et.filter(_e=>_e!=65039)}function ens_normalize_post_check(et){for(let _e of et.split(".")){let tt=explode_cp(_e);try{for(let rt=tt.lastIndexOf(UNDERSCORE)-1;rt>=0;rt--)if(tt[rt]!==UNDERSCORE)throw new Error("underscore only allowed at start");if(tt.length>=4&&tt.every(rt=>rt<128)&&tt[2]===HYPHEN&&tt[3]===HYPHEN)throw new Error("invalid label extension")}catch(rt){throw new Error(`Invalid label "${_e}": ${rt.message}`)}}return et}function ens_normalize(et){return ens_normalize_post_check(normalize(et,filter_fe0f))}function normalize(et,_e){let tt=explode_cp(et).reverse(),rt=[];for(;tt.length;){let nt=consume_emoji_reversed(tt);if(nt){rt.push(..._e(nt));continue}let it=tt.pop();if(VALID.has(it)){rt.push(it);continue}if(IGNORED.has(it))continue;let at=MAPPED[it];if(at){rt.push(...at);continue}throw new Error(`Disallowed codepoint: 0x${it.toString(16).toUpperCase()}`)}return ens_normalize_post_check(nfc(String.fromCodePoint(...rt)))}function nfc(et){return et.normalize("NFC")}function consume_emoji_reversed(et,_e){var tt;let rt=EMOJI_ROOT,nt,it,at=[],st=et.length;for(_e&&(_e.length=0);st;){let ct=et[--st];if(rt=(tt=rt.branches.find(ut=>ut.set.has(ct)))===null||tt===void 0?void 0:tt.node,!rt)break;if(rt.save)it=ct;else if(rt.check&&ct===it)break;at.push(ct),rt.fe0f&&(at.push(65039),st>0&&et[st-1]==65039&&st--),rt.valid&&(nt=at.slice(),rt.valid==2&&nt.splice(1,1),_e&&_e.push(...et.slice(st).reverse()),et.length=st)}return nt}const logger$y=new Logger$1(version$m),Zeros$1=new Uint8Array(32);Zeros$1.fill(0);function checkComponent(et){if(et.length===0)throw new Error("invalid ENS name; empty component");return et}function ensNameSplit(et){const _e=toUtf8Bytes(ens_normalize(et)),tt=[];if(et.length===0)return tt;let rt=0;for(let nt=0;nt<_e.length;nt++)_e[nt]===46&&(tt.push(checkComponent(_e.slice(rt,nt))),rt=nt+1);if(rt>=_e.length)throw new Error("invalid ENS name; empty component");return tt.push(checkComponent(_e.slice(rt))),tt}function ensNormalize(et){return ensNameSplit(et).map(_e=>toUtf8String(_e)).join(".")}function isValidName(et){try{return ensNameSplit(et).length!==0}catch{}return!1}function namehash(et){typeof et!="string"&&logger$y.throwArgumentError("invalid ENS name; not a string","name",et);let _e=Zeros$1;const tt=ensNameSplit(et);for(;tt.length;)_e=keccak256$1(concat$3([_e,keccak256$1(tt.pop())]));return hexlify(_e)}function dnsEncode(et){return hexlify(concat$3(ensNameSplit(et).map(_e=>{if(_e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const tt=new Uint8Array(_e.length+1);return tt.set(_e,1),tt[0]=tt.length-1,tt})))+"00"}const messagePrefix=`Ethereum Signed Message:
`;function hashMessage(et){return typeof et=="string"&&(et=toUtf8Bytes(et)),keccak256$1(concat$3([toUtf8Bytes(messagePrefix),toUtf8Bytes(String(et.length)),et]))}var __awaiter$e=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$x=new Logger$1(version$m),padding=new Uint8Array(32);padding.fill(0);const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(et){const _e=arrayify(et),tt=_e.length%32;return tt?hexConcat([_e,padding.slice(tt)]):hexlify(_e)}const hexTrue=hexZeroPad(One.toHexString(),32),hexFalse=hexZeroPad(Zero.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(et){return function(_e){return typeof _e!="string"&&logger$x.throwArgumentError(`invalid domain value for ${JSON.stringify(et)}`,`domain.${et}`,_e),_e}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(et){try{return BigNumber.from(et).toString()}catch{}return logger$x.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",et)},verifyingContract:function(et){try{return getAddress(et).toLowerCase()}catch{}return logger$x.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",et)},salt:function(et){try{const _e=arrayify(et);if(_e.length!==32)throw new Error("bad length");return hexlify(_e)}catch{}return logger$x.throwArgumentError('invalid domain value "salt"',"domain.salt",et)}};function getBaseEncoder(et){{const _e=et.match(/^(u?)int(\d*)$/);if(_e){const tt=_e[1]==="",rt=parseInt(_e[2]||"256");(rt%8!==0||rt>256||_e[2]&&_e[2]!==String(rt))&&logger$x.throwArgumentError("invalid numeric width","type",et);const nt=MaxUint256.mask(tt?rt-1:rt),it=tt?nt.add(One).mul(NegativeOne):Zero;return function(at){const st=BigNumber.from(at);return(st.lt(it)||st.gt(nt))&&logger$x.throwArgumentError(`value out-of-bounds for ${et}`,"value",at),hexZeroPad(st.toTwos(256).toHexString(),32)}}}{const _e=et.match(/^bytes(\d+)$/);if(_e){const tt=parseInt(_e[1]);return(tt===0||tt>32||_e[1]!==String(tt))&&logger$x.throwArgumentError("invalid bytes width","type",et),function(rt){return arrayify(rt).length!==tt&&logger$x.throwArgumentError(`invalid length for ${et}`,"value",rt),hexPadRight(rt)}}}switch(et){case"address":return function(_e){return hexZeroPad(getAddress(_e),32)};case"bool":return function(_e){return _e?hexTrue:hexFalse};case"bytes":return function(_e){return keccak256$1(_e)};case"string":return function(_e){return id(_e)}}return null}function encodeType(et,_e){return`${et}(${_e.map(({name:tt,type:rt})=>rt+" "+tt).join(",")})`}class TypedDataEncoder{constructor(_e){defineReadOnly(this,"types",Object.freeze(deepCopy(_e))),defineReadOnly(this,"_encoderCache",{}),defineReadOnly(this,"_types",{});const tt={},rt={},nt={};Object.keys(_e).forEach(st=>{tt[st]={},rt[st]=[],nt[st]={}});for(const st in _e){const ct={};_e[st].forEach(ut=>{ct[ut.name]&&logger$x.throwArgumentError(`duplicate variable name ${JSON.stringify(ut.name)} in ${JSON.stringify(st)}`,"types",_e),ct[ut.name]=!0;const ft=ut.type.match(/^([^\x5b]*)(\x5b|$)/)[1];ft===st&&logger$x.throwArgumentError(`circular type reference to ${JSON.stringify(ft)}`,"types",_e),!getBaseEncoder(ft)&&(rt[ft]||logger$x.throwArgumentError(`unknown type ${JSON.stringify(ft)}`,"types",_e),rt[ft].push(st),tt[st][ft]=!0)})}const it=Object.keys(rt).filter(st=>rt[st].length===0);it.length===0?logger$x.throwArgumentError("missing primary type","types",_e):it.length>1&&logger$x.throwArgumentError(`ambiguous primary types or unused types: ${it.map(st=>JSON.stringify(st)).join(", ")}`,"types",_e),defineReadOnly(this,"primaryType",it[0]);function at(st,ct){ct[st]&&logger$x.throwArgumentError(`circular type reference to ${JSON.stringify(st)}`,"types",_e),ct[st]=!0,Object.keys(tt[st]).forEach(ut=>{!rt[ut]||(at(ut,ct),Object.keys(ct).forEach(ft=>{nt[ft][ut]=!0}))}),delete ct[st]}at(this.primaryType,{});for(const st in nt){const ct=Object.keys(nt[st]);ct.sort(),this._types[st]=encodeType(st,_e[st])+ct.map(ut=>encodeType(ut,_e[ut])).join("")}}getEncoder(_e){let tt=this._encoderCache[_e];return tt||(tt=this._encoderCache[_e]=this._getEncoder(_e)),tt}_getEncoder(_e){{const nt=getBaseEncoder(_e);if(nt)return nt}const tt=_e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(tt){const nt=tt[1],it=this.getEncoder(nt),at=parseInt(tt[3]);return st=>{at>=0&&st.length!==at&&logger$x.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",st);let ct=st.map(it);return this._types[nt]&&(ct=ct.map(keccak256$1)),keccak256$1(hexConcat(ct))}}const rt=this.types[_e];if(rt){const nt=id(this._types[_e]);return it=>{const at=rt.map(({name:st,type:ct})=>{const ut=this.getEncoder(ct)(it[st]);return this._types[ct]?keccak256$1(ut):ut});return at.unshift(nt),hexConcat(at)}}return logger$x.throwArgumentError(`unknown type: ${_e}`,"type",_e)}encodeType(_e){const tt=this._types[_e];return tt||logger$x.throwArgumentError(`unknown type: ${JSON.stringify(_e)}`,"name",_e),tt}encodeData(_e,tt){return this.getEncoder(_e)(tt)}hashStruct(_e,tt){return keccak256$1(this.encodeData(_e,tt))}encode(_e){return this.encodeData(this.primaryType,_e)}hash(_e){return this.hashStruct(this.primaryType,_e)}_visit(_e,tt,rt){if(getBaseEncoder(_e))return rt(_e,tt);const nt=_e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(nt){const at=nt[1],st=parseInt(nt[3]);return st>=0&&tt.length!==st&&logger$x.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",tt),tt.map(ct=>this._visit(at,ct,rt))}const it=this.types[_e];return it?it.reduce((at,{name:st,type:ct})=>(at[st]=this._visit(ct,tt[st],rt),at),{}):logger$x.throwArgumentError(`unknown type: ${_e}`,"type",_e)}visit(_e,tt){return this._visit(this.primaryType,_e,tt)}static from(_e){return new TypedDataEncoder(_e)}static getPrimaryType(_e){return TypedDataEncoder.from(_e).primaryType}static hashStruct(_e,tt,rt){return TypedDataEncoder.from(tt).hashStruct(_e,rt)}static hashDomain(_e){const tt=[];for(const rt in _e){const nt=domainFieldTypes[rt];nt||logger$x.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(rt)}`,"domain",_e),tt.push({name:rt,type:nt})}return tt.sort((rt,nt)=>domainFieldNames.indexOf(rt.name)-domainFieldNames.indexOf(nt.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:tt},_e)}static encode(_e,tt,rt){return hexConcat(["0x1901",TypedDataEncoder.hashDomain(_e),TypedDataEncoder.from(tt).hash(rt)])}static hash(_e,tt,rt){return keccak256$1(TypedDataEncoder.encode(_e,tt,rt))}static resolveNames(_e,tt,rt,nt){return __awaiter$e(this,void 0,void 0,function*(){_e=shallowCopy(_e);const it={};_e.verifyingContract&&!isHexString$4(_e.verifyingContract,20)&&(it[_e.verifyingContract]="0x");const at=TypedDataEncoder.from(tt);at.visit(rt,(st,ct)=>(st==="address"&&!isHexString$4(ct,20)&&(it[ct]="0x"),ct));for(const st in it)it[st]=yield nt(st);return _e.verifyingContract&&it[_e.verifyingContract]&&(_e.verifyingContract=it[_e.verifyingContract]),rt=at.visit(rt,(st,ct)=>st==="address"&&it[ct]?it[ct]:ct),{domain:_e,value:rt}})}static getPayload(_e,tt,rt){TypedDataEncoder.hashDomain(_e);const nt={},it=[];domainFieldNames.forEach(ct=>{const ut=_e[ct];ut!=null&&(nt[ct]=domainChecks[ct](ut),it.push({name:ct,type:domainFieldTypes[ct]}))});const at=TypedDataEncoder.from(tt),st=shallowCopy(tt);return st.EIP712Domain?logger$x.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",tt):st.EIP712Domain=it,at.encode(rt),{types:st,domain:nt,primaryType:at.primaryType,message:at.visit(rt,(ct,ut)=>{if(ct.match(/^bytes(\d*)/))return hexlify(arrayify(ut));if(ct.match(/^u?int/))return BigNumber.from(ut).toString();switch(ct){case"address":return ut.toLowerCase();case"bool":return!!ut;case"string":return typeof ut!="string"&&logger$x.throwArgumentError("invalid string","value",ut),ut}return logger$x.throwArgumentError("unsupported type","type",ct)})}}}var lib_esm$c=Object.freeze(Object.defineProperty({__proto__:null,id,dnsEncode,namehash,isValidName,ensNormalize,messagePrefix,hashMessage,_TypedDataEncoder:TypedDataEncoder},Symbol.toStringTag,{value:"Module"}));const logger$w=new Logger$1(version$q);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(_e){return!!(_e&&_e._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(et,_e){const tt=new Error(`deferred error during ABI decoding triggered accessing ${et}`);return tt.error=_e,tt}class Interface{constructor(_e){let tt=[];typeof _e=="string"?tt=JSON.parse(_e):tt=_e,defineReadOnly(this,"fragments",tt.map(rt=>Fragment.from(rt)).filter(rt=>rt!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(rt=>{let nt=null;switch(rt.type){case"constructor":if(this.deploy){logger$w.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",rt);return;case"function":nt=this.functions;break;case"event":nt=this.events;break;case"error":nt=this.errors;break;default:return}let it=rt.format();if(nt[it]){logger$w.warn("duplicate definition - "+it);return}nt[it]=rt}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(_e){_e||(_e=FormatTypes.full),_e===FormatTypes.sighash&&logger$w.throwArgumentError("interface does not support formatting sighash","format",_e);const tt=this.fragments.map(rt=>rt.format(_e));return _e===FormatTypes.json?JSON.stringify(tt.map(rt=>JSON.parse(rt))):tt}static getAbiCoder(){return defaultAbiCoder}static getAddress(_e){return getAddress(_e)}static getSighash(_e){return hexDataSlice(id(_e.format()),0,4)}static getEventTopic(_e){return id(_e.format())}getFunction(_e){if(isHexString$4(_e)){for(const rt in this.functions)if(_e===this.getSighash(rt))return this.functions[rt];logger$w.throwArgumentError("no matching function","sighash",_e)}if(_e.indexOf("(")===-1){const rt=_e.trim(),nt=Object.keys(this.functions).filter(it=>it.split("(")[0]===rt);return nt.length===0?logger$w.throwArgumentError("no matching function","name",rt):nt.length>1&&logger$w.throwArgumentError("multiple matching functions","name",rt),this.functions[nt[0]]}const tt=this.functions[FunctionFragment.fromString(_e).format()];return tt||logger$w.throwArgumentError("no matching function","signature",_e),tt}getEvent(_e){if(isHexString$4(_e)){const rt=_e.toLowerCase();for(const nt in this.events)if(rt===this.getEventTopic(nt))return this.events[nt];logger$w.throwArgumentError("no matching event","topichash",rt)}if(_e.indexOf("(")===-1){const rt=_e.trim(),nt=Object.keys(this.events).filter(it=>it.split("(")[0]===rt);return nt.length===0?logger$w.throwArgumentError("no matching event","name",rt):nt.length>1&&logger$w.throwArgumentError("multiple matching events","name",rt),this.events[nt[0]]}const tt=this.events[EventFragment.fromString(_e).format()];return tt||logger$w.throwArgumentError("no matching event","signature",_e),tt}getError(_e){if(isHexString$4(_e)){const rt=getStatic(this.constructor,"getSighash");for(const nt in this.errors){const it=this.errors[nt];if(_e===rt(it))return this.errors[nt]}logger$w.throwArgumentError("no matching error","sighash",_e)}if(_e.indexOf("(")===-1){const rt=_e.trim(),nt=Object.keys(this.errors).filter(it=>it.split("(")[0]===rt);return nt.length===0?logger$w.throwArgumentError("no matching error","name",rt):nt.length>1&&logger$w.throwArgumentError("multiple matching errors","name",rt),this.errors[nt[0]]}const tt=this.errors[FunctionFragment.fromString(_e).format()];return tt||logger$w.throwArgumentError("no matching error","signature",_e),tt}getSighash(_e){if(typeof _e=="string")try{_e=this.getFunction(_e)}catch(tt){try{_e=this.getError(_e)}catch{throw tt}}return getStatic(this.constructor,"getSighash")(_e)}getEventTopic(_e){return typeof _e=="string"&&(_e=this.getEvent(_e)),getStatic(this.constructor,"getEventTopic")(_e)}_decodeParams(_e,tt){return this._abiCoder.decode(_e,tt)}_encodeParams(_e,tt){return this._abiCoder.encode(_e,tt)}encodeDeploy(_e){return this._encodeParams(this.deploy.inputs,_e||[])}decodeErrorResult(_e,tt){typeof _e=="string"&&(_e=this.getError(_e));const rt=arrayify(tt);return hexlify(rt.slice(0,4))!==this.getSighash(_e)&&logger$w.throwArgumentError(`data signature does not match error ${_e.name}.`,"data",hexlify(rt)),this._decodeParams(_e.inputs,rt.slice(4))}encodeErrorResult(_e,tt){return typeof _e=="string"&&(_e=this.getError(_e)),hexlify(concat$3([this.getSighash(_e),this._encodeParams(_e.inputs,tt||[])]))}decodeFunctionData(_e,tt){typeof _e=="string"&&(_e=this.getFunction(_e));const rt=arrayify(tt);return hexlify(rt.slice(0,4))!==this.getSighash(_e)&&logger$w.throwArgumentError(`data signature does not match function ${_e.name}.`,"data",hexlify(rt)),this._decodeParams(_e.inputs,rt.slice(4))}encodeFunctionData(_e,tt){return typeof _e=="string"&&(_e=this.getFunction(_e)),hexlify(concat$3([this.getSighash(_e),this._encodeParams(_e.inputs,tt||[])]))}decodeFunctionResult(_e,tt){typeof _e=="string"&&(_e=this.getFunction(_e));let rt=arrayify(tt),nt=null,it="",at=null,st=null,ct=null;switch(rt.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(_e.outputs,rt)}catch{}break;case 4:{const ut=hexlify(rt.slice(0,4)),ft=BuiltinErrors[ut];if(ft)at=this._abiCoder.decode(ft.inputs,rt.slice(4)),st=ft.name,ct=ft.signature,ft.reason&&(nt=at[0]),st==="Error"?it=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(at[0])}`:st==="Panic"&&(it=`; VM Exception while processing transaction: reverted with panic code ${at[0]}`);else try{const gt=this.getError(ut);at=this._abiCoder.decode(gt.inputs,rt.slice(4)),st=gt.name,ct=gt.format()}catch{}break}}return logger$w.throwError("call revert exception"+it,Logger$1.errors.CALL_EXCEPTION,{method:_e.format(),data:hexlify(tt),errorArgs:at,errorName:st,errorSignature:ct,reason:nt})}encodeFunctionResult(_e,tt){return typeof _e=="string"&&(_e=this.getFunction(_e)),hexlify(this._abiCoder.encode(_e.outputs,tt||[]))}encodeFilterTopics(_e,tt){typeof _e=="string"&&(_e=this.getEvent(_e)),tt.length>_e.inputs.length&&logger$w.throwError("too many arguments for "+_e.format(),Logger$1.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:tt});let rt=[];_e.anonymous||rt.push(this.getEventTopic(_e));const nt=(it,at)=>it.type==="string"?id(at):it.type==="bytes"?keccak256$1(hexlify(at)):(it.type==="bool"&&typeof at=="boolean"&&(at=at?"0x01":"0x00"),it.type.match(/^u?int/)&&(at=BigNumber.from(at).toHexString()),it.type==="address"&&this._abiCoder.encode(["address"],[at]),hexZeroPad(hexlify(at),32));for(tt.forEach((it,at)=>{let st=_e.inputs[at];if(!st.indexed){it!=null&&logger$w.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+st.name,it);return}it==null?rt.push(null):st.baseType==="array"||st.baseType==="tuple"?logger$w.throwArgumentError("filtering with tuples or arrays not supported","contract."+st.name,it):Array.isArray(it)?rt.push(it.map(ct=>nt(st,ct))):rt.push(nt(st,it))});rt.length&&rt[rt.length-1]===null;)rt.pop();return rt}encodeEventLog(_e,tt){typeof _e=="string"&&(_e=this.getEvent(_e));const rt=[],nt=[],it=[];return _e.anonymous||rt.push(this.getEventTopic(_e)),tt.length!==_e.inputs.length&&logger$w.throwArgumentError("event arguments/values mismatch","values",tt),_e.inputs.forEach((at,st)=>{const ct=tt[st];if(at.indexed)if(at.type==="string")rt.push(id(ct));else if(at.type==="bytes")rt.push(keccak256$1(ct));else{if(at.baseType==="tuple"||at.baseType==="array")throw new Error("not implemented");rt.push(this._abiCoder.encode([at.type],[ct]))}else nt.push(at),it.push(ct)}),{data:this._abiCoder.encode(nt,it),topics:rt}}decodeEventLog(_e,tt,rt){if(typeof _e=="string"&&(_e=this.getEvent(_e)),rt!=null&&!_e.anonymous){let _t=this.getEventTopic(_e);(!isHexString$4(rt[0],32)||rt[0].toLowerCase()!==_t)&&logger$w.throwError("fragment/topic mismatch",Logger$1.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:_t,value:rt[0]}),rt=rt.slice(1)}let nt=[],it=[],at=[];_e.inputs.forEach((_t,Et)=>{_t.indexed?_t.type==="string"||_t.type==="bytes"||_t.baseType==="tuple"||_t.baseType==="array"?(nt.push(ParamType.fromObject({type:"bytes32",name:_t.name})),at.push(!0)):(nt.push(_t),at.push(!1)):(it.push(_t),at.push(!1))});let st=rt!=null?this._abiCoder.decode(nt,concat$3(rt)):null,ct=this._abiCoder.decode(it,tt,!0),ut=[],ft=0,gt=0;_e.inputs.forEach((_t,Et)=>{if(_t.indexed)if(st==null)ut[Et]=new Indexed({_isIndexed:!0,hash:null});else if(at[Et])ut[Et]=new Indexed({_isIndexed:!0,hash:st[gt++]});else try{ut[Et]=st[gt++]}catch($t){ut[Et]=$t}else try{ut[Et]=ct[ft++]}catch($t){ut[Et]=$t}if(_t.name&&ut[_t.name]==null){const $t=ut[Et];$t instanceof Error?Object.defineProperty(ut,_t.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(_t.name)}`,$t)}}):ut[_t.name]=$t}});for(let _t=0;_t<ut.length;_t++){const Et=ut[_t];Et instanceof Error&&Object.defineProperty(ut,_t,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${_t}`,Et)}})}return Object.freeze(ut)}parseTransaction(_e){let tt=this.getFunction(_e.data.substring(0,10).toLowerCase());return tt?new TransactionDescription({args:this._abiCoder.decode(tt.inputs,"0x"+_e.data.substring(10)),functionFragment:tt,name:tt.name,signature:tt.format(),sighash:this.getSighash(tt),value:BigNumber.from(_e.value||"0")}):null}parseLog(_e){let tt=this.getEvent(_e.topics[0]);return!tt||tt.anonymous?null:new LogDescription({eventFragment:tt,name:tt.name,signature:tt.format(),topic:this.getEventTopic(tt),args:this.decodeEventLog(tt,_e.data,_e.topics)})}parseError(_e){const tt=hexlify(_e);let rt=this.getError(tt.substring(0,10).toLowerCase());return rt?new ErrorDescription({args:this._abiCoder.decode(rt.inputs,"0x"+tt.substring(10)),errorFragment:rt,name:rt.name,signature:rt.format(),sighash:this.getSighash(rt)}):null}static isInterface(_e){return!!(_e&&_e._isInterface)}}var lib_esm$b=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment,ErrorFragment,EventFragment,Fragment,FunctionFragment,ParamType,FormatTypes,AbiCoder,defaultAbiCoder,Interface,Indexed,checkResultErrors,LogDescription,TransactionDescription},Symbol.toStringTag,{value:"Module"}));const version$l="abstract-provider/5.7.0";var __awaiter$d=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$v=new Logger$1(version$l);class ForkEvent extends Description{static isForkEvent(_e){return!!(_e&&_e._isForkEvent)}}class Provider$2{constructor(){logger$v.checkAbstract(new.target,Provider$2),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$d(this,void 0,void 0,function*(){const{block:_e,gasPrice:tt}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(at=>null)});let rt=null,nt=null,it=null;return _e&&_e.baseFeePerGas&&(rt=_e.baseFeePerGas,it=BigNumber.from("1500000000"),nt=_e.baseFeePerGas.mul(2).add(it)),{lastBaseFeePerGas:rt,maxFeePerGas:nt,maxPriorityFeePerGas:it,gasPrice:tt}})}addListener(_e,tt){return this.on(_e,tt)}removeListener(_e,tt){return this.off(_e,tt)}static isProvider(_e){return!!(_e&&_e._isProvider)}}const version$k="abstract-signer/5.7.0";var __awaiter$c=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$u=new Logger$1(version$k),allowedTransactionKeys$3=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger$1.errors.INSUFFICIENT_FUNDS,Logger$1.errors.NONCE_EXPIRED,Logger$1.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$u.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(_e){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),_e)})}getTransactionCount(_e){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),_e)})}estimateGas(_e){return __awaiter$c(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const tt=yield resolveProperties(this.checkTransaction(_e));return yield this.provider.estimateGas(tt)})}call(_e,tt){return __awaiter$c(this,void 0,void 0,function*(){this._checkProvider("call");const rt=yield resolveProperties(this.checkTransaction(_e));return yield this.provider.call(rt,tt)})}sendTransaction(_e){return __awaiter$c(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const tt=yield this.populateTransaction(_e),rt=yield this.signTransaction(tt);return yield this.provider.sendTransaction(rt)})}getChainId(){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(_e){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(_e)})}checkTransaction(_e){for(const rt in _e)allowedTransactionKeys$3.indexOf(rt)===-1&&logger$u.throwArgumentError("invalid transaction key: "+rt,"transaction",_e);const tt=shallowCopy(_e);return tt.from==null?tt.from=this.getAddress():tt.from=Promise.all([Promise.resolve(tt.from),this.getAddress()]).then(rt=>(rt[0].toLowerCase()!==rt[1].toLowerCase()&&logger$u.throwArgumentError("from address mismatch","transaction",_e),rt[0])),tt}populateTransaction(_e){return __awaiter$c(this,void 0,void 0,function*(){const tt=yield resolveProperties(this.checkTransaction(_e));tt.to!=null&&(tt.to=Promise.resolve(tt.to).then(nt=>__awaiter$c(this,void 0,void 0,function*(){if(nt==null)return null;const it=yield this.resolveName(nt);return it==null&&logger$u.throwArgumentError("provided ENS name resolves to null","tx.to",nt),it})),tt.to.catch(nt=>{}));const rt=tt.maxFeePerGas!=null||tt.maxPriorityFeePerGas!=null;if(tt.gasPrice!=null&&(tt.type===2||rt)?logger$u.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",_e):(tt.type===0||tt.type===1)&&rt&&logger$u.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",_e),(tt.type===2||tt.type==null)&&tt.maxFeePerGas!=null&&tt.maxPriorityFeePerGas!=null)tt.type=2;else if(tt.type===0||tt.type===1)tt.gasPrice==null&&(tt.gasPrice=this.getGasPrice());else{const nt=yield this.getFeeData();if(tt.type==null)if(nt.maxFeePerGas!=null&&nt.maxPriorityFeePerGas!=null)if(tt.type=2,tt.gasPrice!=null){const it=tt.gasPrice;delete tt.gasPrice,tt.maxFeePerGas=it,tt.maxPriorityFeePerGas=it}else tt.maxFeePerGas==null&&(tt.maxFeePerGas=nt.maxFeePerGas),tt.maxPriorityFeePerGas==null&&(tt.maxPriorityFeePerGas=nt.maxPriorityFeePerGas);else nt.gasPrice!=null?(rt&&logger$u.throwError("network does not support EIP-1559",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),tt.gasPrice==null&&(tt.gasPrice=nt.gasPrice),tt.type=0):logger$u.throwError("failed to get consistent fee data",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else tt.type===2&&(tt.maxFeePerGas==null&&(tt.maxFeePerGas=nt.maxFeePerGas),tt.maxPriorityFeePerGas==null&&(tt.maxPriorityFeePerGas=nt.maxPriorityFeePerGas))}return tt.nonce==null&&(tt.nonce=this.getTransactionCount("pending")),tt.gasLimit==null&&(tt.gasLimit=this.estimateGas(tt).catch(nt=>{if(forwardErrors.indexOf(nt.code)>=0)throw nt;return logger$u.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$1.errors.UNPREDICTABLE_GAS_LIMIT,{error:nt,tx:tt})})),tt.chainId==null?tt.chainId=this.getChainId():tt.chainId=Promise.all([Promise.resolve(tt.chainId),this.getChainId()]).then(nt=>(nt[1]!==0&&nt[0]!==nt[1]&&logger$u.throwArgumentError("chainId address mismatch","transaction",_e),nt[0])),yield resolveProperties(tt)})}_checkProvider(_e){this.provider||logger$u.throwError("missing provider",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:_e||"_checkProvider"})}static isSigner(_e){return!!(_e&&_e._isSigner)}}class VoidSigner extends Signer{constructor(_e,tt){super(),defineReadOnly(this,"address",_e),defineReadOnly(this,"provider",tt||null)}getAddress(){return Promise.resolve(this.address)}_fail(_e,tt){return Promise.resolve().then(()=>{logger$u.throwError(_e,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:tt})})}signMessage(_e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(_e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(_e,tt,rt){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(_e){return new VoidSigner(this.address,_e)}}var bn$3={exports:{}};(function(et){(function(_e,tt){function rt(ht,ot){if(!ht)throw new Error(ot||"Assertion failed")}function nt(ht,ot){ht.super_=ot;var dt=function(){};dt.prototype=ot.prototype,ht.prototype=new dt,ht.prototype.constructor=ht}function it(ht,ot,dt){if(it.isBN(ht))return ht;this.negative=0,this.words=null,this.length=0,this.red=null,ht!==null&&((ot==="le"||ot==="be")&&(dt=ot,ot=10),this._init(ht||0,ot||10,dt||"be"))}typeof _e=="object"?_e.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?at=window.Buffer:at=require("buffer").Buffer}catch{}it.isBN=function(ot){return ot instanceof it?!0:ot!==null&&typeof ot=="object"&&ot.constructor.wordSize===it.wordSize&&Array.isArray(ot.words)},it.max=function(ot,dt){return ot.cmp(dt)>0?ot:dt},it.min=function(ot,dt){return ot.cmp(dt)<0?ot:dt},it.prototype._init=function(ot,dt,mt){if(typeof ot=="number")return this._initNumber(ot,dt,mt);if(typeof ot=="object")return this._initArray(ot,dt,mt);dt==="hex"&&(dt=16),rt(dt===(dt|0)&&dt>=2&&dt<=36),ot=ot.toString().replace(/\s+/g,"");var wt=0;ot[0]==="-"&&(wt++,this.negative=1),wt<ot.length&&(dt===16?this._parseHex(ot,wt,mt):(this._parseBase(ot,dt,wt),mt==="le"&&this._initArray(this.toArray(),dt,mt)))},it.prototype._initNumber=function(ot,dt,mt){ot<0&&(this.negative=1,ot=-ot),ot<67108864?(this.words=[ot&67108863],this.length=1):ot<4503599627370496?(this.words=[ot&67108863,ot/67108864&67108863],this.length=2):(rt(ot<9007199254740992),this.words=[ot&67108863,ot/67108864&67108863,1],this.length=3),mt==="le"&&this._initArray(this.toArray(),dt,mt)},it.prototype._initArray=function(ot,dt,mt){if(rt(typeof ot.length=="number"),ot.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ot.length/3),this.words=new Array(this.length);for(var wt=0;wt<this.length;wt++)this.words[wt]=0;var bt,vt,St=0;if(mt==="be")for(wt=ot.length-1,bt=0;wt>=0;wt-=3)vt=ot[wt]|ot[wt-1]<<8|ot[wt-2]<<16,this.words[bt]|=vt<<St&67108863,this.words[bt+1]=vt>>>26-St&67108863,St+=24,St>=26&&(St-=26,bt++);else if(mt==="le")for(wt=0,bt=0;wt<ot.length;wt+=3)vt=ot[wt]|ot[wt+1]<<8|ot[wt+2]<<16,this.words[bt]|=vt<<St&67108863,this.words[bt+1]=vt>>>26-St&67108863,St+=24,St>=26&&(St-=26,bt++);return this._strip()};function st(ht,ot){var dt=ht.charCodeAt(ot);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;rt(!1,"Invalid character in "+ht)}function ct(ht,ot,dt){var mt=st(ht,dt);return dt-1>=ot&&(mt|=st(ht,dt-1)<<4),mt}it.prototype._parseHex=function(ot,dt,mt){this.length=Math.ceil((ot.length-dt)/6),this.words=new Array(this.length);for(var wt=0;wt<this.length;wt++)this.words[wt]=0;var bt=0,vt=0,St;if(mt==="be")for(wt=ot.length-1;wt>=dt;wt-=2)St=ct(ot,dt,wt)<<bt,this.words[vt]|=St&67108863,bt>=18?(bt-=18,vt+=1,this.words[vt]|=St>>>26):bt+=8;else{var yt=ot.length-dt;for(wt=yt%2===0?dt+1:dt;wt<ot.length;wt+=2)St=ct(ot,dt,wt)<<bt,this.words[vt]|=St&67108863,bt>=18?(bt-=18,vt+=1,this.words[vt]|=St>>>26):bt+=8}this._strip()};function ut(ht,ot,dt,mt){for(var wt=0,bt=0,vt=Math.min(ht.length,dt),St=ot;St<vt;St++){var yt=ht.charCodeAt(St)-48;wt*=mt,yt>=49?bt=yt-49+10:yt>=17?bt=yt-17+10:bt=yt,rt(yt>=0&&bt<mt,"Invalid character"),wt+=bt}return wt}it.prototype._parseBase=function(ot,dt,mt){this.words=[0],this.length=1;for(var wt=0,bt=1;bt<=67108863;bt*=dt)wt++;wt--,bt=bt/dt|0;for(var vt=ot.length-mt,St=vt%wt,yt=Math.min(vt,vt-St)+mt,lt=0,xt=mt;xt<yt;xt+=wt)lt=ut(ot,xt,xt+wt,dt),this.imuln(bt),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt);if(St!==0){var Ut=1;for(lt=ut(ot,xt,ot.length,dt),xt=0;xt<St;xt++)Ut*=dt;this.imuln(Ut),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt)}this._strip()},it.prototype.copy=function(ot){ot.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)ot.words[dt]=this.words[dt];ot.length=this.length,ot.negative=this.negative,ot.red=this.red};function ft(ht,ot){ht.words=ot.words,ht.length=ot.length,ht.negative=ot.negative,ht.red=ot.red}if(it.prototype._move=function(ot){ft(ot,this)},it.prototype.clone=function(){var ot=new it(null);return this.copy(ot),ot},it.prototype._expand=function(ot){for(;this.length<ot;)this.words[this.length++]=0;return this},it.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{it.prototype[Symbol.for("nodejs.util.inspect.custom")]=gt}catch{it.prototype.inspect=gt}else it.prototype.inspect=gt;function gt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _t=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Et=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],$t=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(ot,dt){ot=ot||10,dt=dt|0||1;var mt;if(ot===16||ot==="hex"){mt="";for(var wt=0,bt=0,vt=0;vt<this.length;vt++){var St=this.words[vt],yt=((St<<wt|bt)&16777215).toString(16);bt=St>>>24-wt&16777215,wt+=2,wt>=26&&(wt-=26,vt--),bt!==0||vt!==this.length-1?mt=_t[6-yt.length]+yt+mt:mt=yt+mt}for(bt!==0&&(mt=bt.toString(16)+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}if(ot===(ot|0)&&ot>=2&&ot<=36){var lt=Et[ot],xt=$t[ot];mt="";var Ut=this.clone();for(Ut.negative=0;!Ut.isZero();){var Pt=Ut.modrn(xt).toString(ot);Ut=Ut.idivn(xt),Ut.isZero()?mt=Pt+mt:mt=_t[lt-Pt.length]+Pt+mt}for(this.isZero()&&(mt="0"+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}rt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var ot=this.words[0];return this.length===2?ot+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ot+=4503599627370496+this.words[1]*67108864:this.length>2&&rt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ot:ot},it.prototype.toJSON=function(){return this.toString(16,2)},at&&(it.prototype.toBuffer=function(ot,dt){return this.toArrayLike(at,ot,dt)}),it.prototype.toArray=function(ot,dt){return this.toArrayLike(Array,ot,dt)};var It=function(ot,dt){return ot.allocUnsafe?ot.allocUnsafe(dt):new ot(dt)};it.prototype.toArrayLike=function(ot,dt,mt){this._strip();var wt=this.byteLength(),bt=mt||Math.max(1,wt);rt(wt<=bt,"byte array longer than desired length"),rt(bt>0,"Requested array length <= 0");var vt=It(ot,bt),St=dt==="le"?"LE":"BE";return this["_toArrayLike"+St](vt,wt),vt},it.prototype._toArrayLikeLE=function(ot,dt){for(var mt=0,wt=0,bt=0,vt=0;bt<this.length;bt++){var St=this.words[bt]<<vt|wt;ot[mt++]=St&255,mt<ot.length&&(ot[mt++]=St>>8&255),mt<ot.length&&(ot[mt++]=St>>16&255),vt===6?(mt<ot.length&&(ot[mt++]=St>>24&255),wt=0,vt=0):(wt=St>>>24,vt+=2)}if(mt<ot.length)for(ot[mt++]=wt;mt<ot.length;)ot[mt++]=0},it.prototype._toArrayLikeBE=function(ot,dt){for(var mt=ot.length-1,wt=0,bt=0,vt=0;bt<this.length;bt++){var St=this.words[bt]<<vt|wt;ot[mt--]=St&255,mt>=0&&(ot[mt--]=St>>8&255),mt>=0&&(ot[mt--]=St>>16&255),vt===6?(mt>=0&&(ot[mt--]=St>>24&255),wt=0,vt=0):(wt=St>>>24,vt+=2)}if(mt>=0)for(ot[mt--]=wt;mt>=0;)ot[mt--]=0},Math.clz32?it.prototype._countBits=function(ot){return 32-Math.clz32(ot)}:it.prototype._countBits=function(ot){var dt=ot,mt=0;return dt>=4096&&(mt+=13,dt>>>=13),dt>=64&&(mt+=7,dt>>>=7),dt>=8&&(mt+=4,dt>>>=4),dt>=2&&(mt+=2,dt>>>=2),mt+dt},it.prototype._zeroBits=function(ot){if(ot===0)return 26;var dt=ot,mt=0;return(dt&8191)===0&&(mt+=13,dt>>>=13),(dt&127)===0&&(mt+=7,dt>>>=7),(dt&15)===0&&(mt+=4,dt>>>=4),(dt&3)===0&&(mt+=2,dt>>>=2),(dt&1)===0&&mt++,mt},it.prototype.bitLength=function(){var ot=this.words[this.length-1],dt=this._countBits(ot);return(this.length-1)*26+dt};function Tt(ht){for(var ot=new Array(ht.bitLength()),dt=0;dt<ot.length;dt++){var mt=dt/26|0,wt=dt%26;ot[dt]=ht.words[mt]>>>wt&1}return ot}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ot=0,dt=0;dt<this.length;dt++){var mt=this._zeroBits(this.words[dt]);if(ot+=mt,mt!==26)break}return ot},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(ot){return this.negative!==0?this.abs().inotn(ot).iaddn(1):this.clone()},it.prototype.fromTwos=function(ot){return this.testn(ot-1)?this.notn(ot).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(ot){for(;this.length<ot.length;)this.words[this.length++]=0;for(var dt=0;dt<ot.length;dt++)this.words[dt]=this.words[dt]|ot.words[dt];return this._strip()},it.prototype.ior=function(ot){return rt((this.negative|ot.negative)===0),this.iuor(ot)},it.prototype.or=function(ot){return this.length>ot.length?this.clone().ior(ot):ot.clone().ior(this)},it.prototype.uor=function(ot){return this.length>ot.length?this.clone().iuor(ot):ot.clone().iuor(this)},it.prototype.iuand=function(ot){var dt;this.length>ot.length?dt=ot:dt=this;for(var mt=0;mt<dt.length;mt++)this.words[mt]=this.words[mt]&ot.words[mt];return this.length=dt.length,this._strip()},it.prototype.iand=function(ot){return rt((this.negative|ot.negative)===0),this.iuand(ot)},it.prototype.and=function(ot){return this.length>ot.length?this.clone().iand(ot):ot.clone().iand(this)},it.prototype.uand=function(ot){return this.length>ot.length?this.clone().iuand(ot):ot.clone().iuand(this)},it.prototype.iuxor=function(ot){var dt,mt;this.length>ot.length?(dt=this,mt=ot):(dt=ot,mt=this);for(var wt=0;wt<mt.length;wt++)this.words[wt]=dt.words[wt]^mt.words[wt];if(this!==dt)for(;wt<dt.length;wt++)this.words[wt]=dt.words[wt];return this.length=dt.length,this._strip()},it.prototype.ixor=function(ot){return rt((this.negative|ot.negative)===0),this.iuxor(ot)},it.prototype.xor=function(ot){return this.length>ot.length?this.clone().ixor(ot):ot.clone().ixor(this)},it.prototype.uxor=function(ot){return this.length>ot.length?this.clone().iuxor(ot):ot.clone().iuxor(this)},it.prototype.inotn=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=Math.ceil(ot/26)|0,mt=ot%26;this._expand(dt),mt>0&&dt--;for(var wt=0;wt<dt;wt++)this.words[wt]=~this.words[wt]&67108863;return mt>0&&(this.words[wt]=~this.words[wt]&67108863>>26-mt),this._strip()},it.prototype.notn=function(ot){return this.clone().inotn(ot)},it.prototype.setn=function(ot,dt){rt(typeof ot=="number"&&ot>=0);var mt=ot/26|0,wt=ot%26;return this._expand(mt+1),dt?this.words[mt]=this.words[mt]|1<<wt:this.words[mt]=this.words[mt]&~(1<<wt),this._strip()},it.prototype.iadd=function(ot){var dt;if(this.negative!==0&&ot.negative===0)return this.negative=0,dt=this.isub(ot),this.negative^=1,this._normSign();if(this.negative===0&&ot.negative!==0)return ot.negative=0,dt=this.isub(ot),ot.negative=1,dt._normSign();var mt,wt;this.length>ot.length?(mt=this,wt=ot):(mt=ot,wt=this);for(var bt=0,vt=0;vt<wt.length;vt++)dt=(mt.words[vt]|0)+(wt.words[vt]|0)+bt,this.words[vt]=dt&67108863,bt=dt>>>26;for(;bt!==0&&vt<mt.length;vt++)dt=(mt.words[vt]|0)+bt,this.words[vt]=dt&67108863,bt=dt>>>26;if(this.length=mt.length,bt!==0)this.words[this.length]=bt,this.length++;else if(mt!==this)for(;vt<mt.length;vt++)this.words[vt]=mt.words[vt];return this},it.prototype.add=function(ot){var dt;return ot.negative!==0&&this.negative===0?(ot.negative=0,dt=this.sub(ot),ot.negative^=1,dt):ot.negative===0&&this.negative!==0?(this.negative=0,dt=ot.sub(this),this.negative=1,dt):this.length>ot.length?this.clone().iadd(ot):ot.clone().iadd(this)},it.prototype.isub=function(ot){if(ot.negative!==0){ot.negative=0;var dt=this.iadd(ot);return ot.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ot),this.negative=1,this._normSign();var mt=this.cmp(ot);if(mt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var wt,bt;mt>0?(wt=this,bt=ot):(wt=ot,bt=this);for(var vt=0,St=0;St<bt.length;St++)dt=(wt.words[St]|0)-(bt.words[St]|0)+vt,vt=dt>>26,this.words[St]=dt&67108863;for(;vt!==0&&St<wt.length;St++)dt=(wt.words[St]|0)+vt,vt=dt>>26,this.words[St]=dt&67108863;if(vt===0&&St<wt.length&&wt!==this)for(;St<wt.length;St++)this.words[St]=wt.words[St];return this.length=Math.max(this.length,St),wt!==this&&(this.negative=1),this._strip()},it.prototype.sub=function(ot){return this.clone().isub(ot)};function At(ht,ot,dt){dt.negative=ot.negative^ht.negative;var mt=ht.length+ot.length|0;dt.length=mt,mt=mt-1|0;var wt=ht.words[0]|0,bt=ot.words[0]|0,vt=wt*bt,St=vt&67108863,yt=vt/67108864|0;dt.words[0]=St;for(var lt=1;lt<mt;lt++){for(var xt=yt>>>26,Ut=yt&67108863,Pt=Math.min(lt,ot.length-1),qt=Math.max(0,lt-ht.length+1);qt<=Pt;qt++){var ir=lt-qt|0;wt=ht.words[ir]|0,bt=ot.words[qt]|0,vt=wt*bt+Ut,xt+=vt/67108864|0,Ut=vt&67108863}dt.words[lt]=Ut|0,yt=xt|0}return yt!==0?dt.words[lt]=yt|0:dt.length--,dt._strip()}var Rt=function(ot,dt,mt){var wt=ot.words,bt=dt.words,vt=mt.words,St=0,yt,lt,xt,Ut=wt[0]|0,Pt=Ut&8191,qt=Ut>>>13,ir=wt[1]|0,Yt=ir&8191,rr=ir>>>13,Sr=wt[2]|0,lr=Sr&8191,ur=Sr>>>13,Ur=wt[3]|0,dr=Ur&8191,xr=Ur>>>13,er=wt[4]|0,Ft=er&8191,Lt=er>>>13,Qt=wt[5]|0,tr=Qt&8191,sr=Qt>>>13,Er=wt[6]|0,mr=Er&8191,gr=Er>>>13,Qr=wt[7]|0,wr=Qr&8191,Vt=Qr>>>13,Dt=wt[8]|0,Bt=Dt&8191,Gt=Dt>>>13,cr=wt[9]|0,nr=cr&8191,or=cr>>>13,qr=bt[0]|0,vr=qr&8191,br=qr>>>13,Zr=bt[1]|0,yr=Zr&8191,Rr=Zr>>>13,dn=bt[2]|0,Mr=dn&8191,$r=dn>>>13,Sn=bt[3]|0,Ir=Sn&8191,kr=Sn>>>13,xn=bt[4]|0,Pr=xn&8191,Nr=xn>>>13,wn=bt[5]|0,Fr=wn&8191,Or=wn>>>13,rn=bt[6]|0,Cr=rn&8191,Br=rn>>>13,Tn=bt[7]|0,Dr=Tn&8191,Lr=Tn>>>13,In=bt[8]|0,Ar=In&8191,Tr=In>>>13,pn=bt[9]|0,jr=pn&8191,Hr=pn>>>13;mt.negative=ot.negative^dt.negative,mt.length=19,yt=Math.imul(Pt,vr),lt=Math.imul(Pt,br),lt=lt+Math.imul(qt,vr)|0,xt=Math.imul(qt,br);var mn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(mn>>>26)|0,mn&=67108863,yt=Math.imul(Yt,vr),lt=Math.imul(Yt,br),lt=lt+Math.imul(rr,vr)|0,xt=Math.imul(rr,br),yt=yt+Math.imul(Pt,yr)|0,lt=lt+Math.imul(Pt,Rr)|0,lt=lt+Math.imul(qt,yr)|0,xt=xt+Math.imul(qt,Rr)|0;var sn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(sn>>>26)|0,sn&=67108863,yt=Math.imul(lr,vr),lt=Math.imul(lr,br),lt=lt+Math.imul(ur,vr)|0,xt=Math.imul(ur,br),yt=yt+Math.imul(Yt,yr)|0,lt=lt+Math.imul(Yt,Rr)|0,lt=lt+Math.imul(rr,yr)|0,xt=xt+Math.imul(rr,Rr)|0,yt=yt+Math.imul(Pt,Mr)|0,lt=lt+Math.imul(Pt,$r)|0,lt=lt+Math.imul(qt,Mr)|0,xt=xt+Math.imul(qt,$r)|0;var cn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(cn>>>26)|0,cn&=67108863,yt=Math.imul(dr,vr),lt=Math.imul(dr,br),lt=lt+Math.imul(xr,vr)|0,xt=Math.imul(xr,br),yt=yt+Math.imul(lr,yr)|0,lt=lt+Math.imul(lr,Rr)|0,lt=lt+Math.imul(ur,yr)|0,xt=xt+Math.imul(ur,Rr)|0,yt=yt+Math.imul(Yt,Mr)|0,lt=lt+Math.imul(Yt,$r)|0,lt=lt+Math.imul(rr,Mr)|0,xt=xt+Math.imul(rr,$r)|0,yt=yt+Math.imul(Pt,Ir)|0,lt=lt+Math.imul(Pt,kr)|0,lt=lt+Math.imul(qt,Ir)|0,xt=xt+Math.imul(qt,kr)|0;var fn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(fn>>>26)|0,fn&=67108863,yt=Math.imul(Ft,vr),lt=Math.imul(Ft,br),lt=lt+Math.imul(Lt,vr)|0,xt=Math.imul(Lt,br),yt=yt+Math.imul(dr,yr)|0,lt=lt+Math.imul(dr,Rr)|0,lt=lt+Math.imul(xr,yr)|0,xt=xt+Math.imul(xr,Rr)|0,yt=yt+Math.imul(lr,Mr)|0,lt=lt+Math.imul(lr,$r)|0,lt=lt+Math.imul(ur,Mr)|0,xt=xt+Math.imul(ur,$r)|0,yt=yt+Math.imul(Yt,Ir)|0,lt=lt+Math.imul(Yt,kr)|0,lt=lt+Math.imul(rr,Ir)|0,xt=xt+Math.imul(rr,kr)|0,yt=yt+Math.imul(Pt,Pr)|0,lt=lt+Math.imul(Pt,Nr)|0,lt=lt+Math.imul(qt,Pr)|0,xt=xt+Math.imul(qt,Nr)|0;var ln=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(ln>>>26)|0,ln&=67108863,yt=Math.imul(tr,vr),lt=Math.imul(tr,br),lt=lt+Math.imul(sr,vr)|0,xt=Math.imul(sr,br),yt=yt+Math.imul(Ft,yr)|0,lt=lt+Math.imul(Ft,Rr)|0,lt=lt+Math.imul(Lt,yr)|0,xt=xt+Math.imul(Lt,Rr)|0,yt=yt+Math.imul(dr,Mr)|0,lt=lt+Math.imul(dr,$r)|0,lt=lt+Math.imul(xr,Mr)|0,xt=xt+Math.imul(xr,$r)|0,yt=yt+Math.imul(lr,Ir)|0,lt=lt+Math.imul(lr,kr)|0,lt=lt+Math.imul(ur,Ir)|0,xt=xt+Math.imul(ur,kr)|0,yt=yt+Math.imul(Yt,Pr)|0,lt=lt+Math.imul(Yt,Nr)|0,lt=lt+Math.imul(rr,Pr)|0,xt=xt+Math.imul(rr,Nr)|0,yt=yt+Math.imul(Pt,Fr)|0,lt=lt+Math.imul(Pt,Or)|0,lt=lt+Math.imul(qt,Fr)|0,xt=xt+Math.imul(qt,Or)|0;var $n=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+($n>>>26)|0,$n&=67108863,yt=Math.imul(mr,vr),lt=Math.imul(mr,br),lt=lt+Math.imul(gr,vr)|0,xt=Math.imul(gr,br),yt=yt+Math.imul(tr,yr)|0,lt=lt+Math.imul(tr,Rr)|0,lt=lt+Math.imul(sr,yr)|0,xt=xt+Math.imul(sr,Rr)|0,yt=yt+Math.imul(Ft,Mr)|0,lt=lt+Math.imul(Ft,$r)|0,lt=lt+Math.imul(Lt,Mr)|0,xt=xt+Math.imul(Lt,$r)|0,yt=yt+Math.imul(dr,Ir)|0,lt=lt+Math.imul(dr,kr)|0,lt=lt+Math.imul(xr,Ir)|0,xt=xt+Math.imul(xr,kr)|0,yt=yt+Math.imul(lr,Pr)|0,lt=lt+Math.imul(lr,Nr)|0,lt=lt+Math.imul(ur,Pr)|0,xt=xt+Math.imul(ur,Nr)|0,yt=yt+Math.imul(Yt,Fr)|0,lt=lt+Math.imul(Yt,Or)|0,lt=lt+Math.imul(rr,Fr)|0,xt=xt+Math.imul(rr,Or)|0,yt=yt+Math.imul(Pt,Cr)|0,lt=lt+Math.imul(Pt,Br)|0,lt=lt+Math.imul(qt,Cr)|0,xt=xt+Math.imul(qt,Br)|0;var Pn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,yt=Math.imul(wr,vr),lt=Math.imul(wr,br),lt=lt+Math.imul(Vt,vr)|0,xt=Math.imul(Vt,br),yt=yt+Math.imul(mr,yr)|0,lt=lt+Math.imul(mr,Rr)|0,lt=lt+Math.imul(gr,yr)|0,xt=xt+Math.imul(gr,Rr)|0,yt=yt+Math.imul(tr,Mr)|0,lt=lt+Math.imul(tr,$r)|0,lt=lt+Math.imul(sr,Mr)|0,xt=xt+Math.imul(sr,$r)|0,yt=yt+Math.imul(Ft,Ir)|0,lt=lt+Math.imul(Ft,kr)|0,lt=lt+Math.imul(Lt,Ir)|0,xt=xt+Math.imul(Lt,kr)|0,yt=yt+Math.imul(dr,Pr)|0,lt=lt+Math.imul(dr,Nr)|0,lt=lt+Math.imul(xr,Pr)|0,xt=xt+Math.imul(xr,Nr)|0,yt=yt+Math.imul(lr,Fr)|0,lt=lt+Math.imul(lr,Or)|0,lt=lt+Math.imul(ur,Fr)|0,xt=xt+Math.imul(ur,Or)|0,yt=yt+Math.imul(Yt,Cr)|0,lt=lt+Math.imul(Yt,Br)|0,lt=lt+Math.imul(rr,Cr)|0,xt=xt+Math.imul(rr,Br)|0,yt=yt+Math.imul(Pt,Dr)|0,lt=lt+Math.imul(Pt,Lr)|0,lt=lt+Math.imul(qt,Dr)|0,xt=xt+Math.imul(qt,Lr)|0;var vn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(vn>>>26)|0,vn&=67108863,yt=Math.imul(Bt,vr),lt=Math.imul(Bt,br),lt=lt+Math.imul(Gt,vr)|0,xt=Math.imul(Gt,br),yt=yt+Math.imul(wr,yr)|0,lt=lt+Math.imul(wr,Rr)|0,lt=lt+Math.imul(Vt,yr)|0,xt=xt+Math.imul(Vt,Rr)|0,yt=yt+Math.imul(mr,Mr)|0,lt=lt+Math.imul(mr,$r)|0,lt=lt+Math.imul(gr,Mr)|0,xt=xt+Math.imul(gr,$r)|0,yt=yt+Math.imul(tr,Ir)|0,lt=lt+Math.imul(tr,kr)|0,lt=lt+Math.imul(sr,Ir)|0,xt=xt+Math.imul(sr,kr)|0,yt=yt+Math.imul(Ft,Pr)|0,lt=lt+Math.imul(Ft,Nr)|0,lt=lt+Math.imul(Lt,Pr)|0,xt=xt+Math.imul(Lt,Nr)|0,yt=yt+Math.imul(dr,Fr)|0,lt=lt+Math.imul(dr,Or)|0,lt=lt+Math.imul(xr,Fr)|0,xt=xt+Math.imul(xr,Or)|0,yt=yt+Math.imul(lr,Cr)|0,lt=lt+Math.imul(lr,Br)|0,lt=lt+Math.imul(ur,Cr)|0,xt=xt+Math.imul(ur,Br)|0,yt=yt+Math.imul(Yt,Dr)|0,lt=lt+Math.imul(Yt,Lr)|0,lt=lt+Math.imul(rr,Dr)|0,xt=xt+Math.imul(rr,Lr)|0,yt=yt+Math.imul(Pt,Ar)|0,lt=lt+Math.imul(Pt,Tr)|0,lt=lt+Math.imul(qt,Ar)|0,xt=xt+Math.imul(qt,Tr)|0;var kn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(kn>>>26)|0,kn&=67108863,yt=Math.imul(nr,vr),lt=Math.imul(nr,br),lt=lt+Math.imul(or,vr)|0,xt=Math.imul(or,br),yt=yt+Math.imul(Bt,yr)|0,lt=lt+Math.imul(Bt,Rr)|0,lt=lt+Math.imul(Gt,yr)|0,xt=xt+Math.imul(Gt,Rr)|0,yt=yt+Math.imul(wr,Mr)|0,lt=lt+Math.imul(wr,$r)|0,lt=lt+Math.imul(Vt,Mr)|0,xt=xt+Math.imul(Vt,$r)|0,yt=yt+Math.imul(mr,Ir)|0,lt=lt+Math.imul(mr,kr)|0,lt=lt+Math.imul(gr,Ir)|0,xt=xt+Math.imul(gr,kr)|0,yt=yt+Math.imul(tr,Pr)|0,lt=lt+Math.imul(tr,Nr)|0,lt=lt+Math.imul(sr,Pr)|0,xt=xt+Math.imul(sr,Nr)|0,yt=yt+Math.imul(Ft,Fr)|0,lt=lt+Math.imul(Ft,Or)|0,lt=lt+Math.imul(Lt,Fr)|0,xt=xt+Math.imul(Lt,Or)|0,yt=yt+Math.imul(dr,Cr)|0,lt=lt+Math.imul(dr,Br)|0,lt=lt+Math.imul(xr,Cr)|0,xt=xt+Math.imul(xr,Br)|0,yt=yt+Math.imul(lr,Dr)|0,lt=lt+Math.imul(lr,Lr)|0,lt=lt+Math.imul(ur,Dr)|0,xt=xt+Math.imul(ur,Lr)|0,yt=yt+Math.imul(Yt,Ar)|0,lt=lt+Math.imul(Yt,Tr)|0,lt=lt+Math.imul(rr,Ar)|0,xt=xt+Math.imul(rr,Tr)|0,yt=yt+Math.imul(Pt,jr)|0,lt=lt+Math.imul(Pt,Hr)|0,lt=lt+Math.imul(qt,jr)|0,xt=xt+Math.imul(qt,Hr)|0;var Nn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,yt=Math.imul(nr,yr),lt=Math.imul(nr,Rr),lt=lt+Math.imul(or,yr)|0,xt=Math.imul(or,Rr),yt=yt+Math.imul(Bt,Mr)|0,lt=lt+Math.imul(Bt,$r)|0,lt=lt+Math.imul(Gt,Mr)|0,xt=xt+Math.imul(Gt,$r)|0,yt=yt+Math.imul(wr,Ir)|0,lt=lt+Math.imul(wr,kr)|0,lt=lt+Math.imul(Vt,Ir)|0,xt=xt+Math.imul(Vt,kr)|0,yt=yt+Math.imul(mr,Pr)|0,lt=lt+Math.imul(mr,Nr)|0,lt=lt+Math.imul(gr,Pr)|0,xt=xt+Math.imul(gr,Nr)|0,yt=yt+Math.imul(tr,Fr)|0,lt=lt+Math.imul(tr,Or)|0,lt=lt+Math.imul(sr,Fr)|0,xt=xt+Math.imul(sr,Or)|0,yt=yt+Math.imul(Ft,Cr)|0,lt=lt+Math.imul(Ft,Br)|0,lt=lt+Math.imul(Lt,Cr)|0,xt=xt+Math.imul(Lt,Br)|0,yt=yt+Math.imul(dr,Dr)|0,lt=lt+Math.imul(dr,Lr)|0,lt=lt+Math.imul(xr,Dr)|0,xt=xt+Math.imul(xr,Lr)|0,yt=yt+Math.imul(lr,Ar)|0,lt=lt+Math.imul(lr,Tr)|0,lt=lt+Math.imul(ur,Ar)|0,xt=xt+Math.imul(ur,Tr)|0,yt=yt+Math.imul(Yt,jr)|0,lt=lt+Math.imul(Yt,Hr)|0,lt=lt+Math.imul(rr,jr)|0,xt=xt+Math.imul(rr,Hr)|0;var hn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(hn>>>26)|0,hn&=67108863,yt=Math.imul(nr,Mr),lt=Math.imul(nr,$r),lt=lt+Math.imul(or,Mr)|0,xt=Math.imul(or,$r),yt=yt+Math.imul(Bt,Ir)|0,lt=lt+Math.imul(Bt,kr)|0,lt=lt+Math.imul(Gt,Ir)|0,xt=xt+Math.imul(Gt,kr)|0,yt=yt+Math.imul(wr,Pr)|0,lt=lt+Math.imul(wr,Nr)|0,lt=lt+Math.imul(Vt,Pr)|0,xt=xt+Math.imul(Vt,Nr)|0,yt=yt+Math.imul(mr,Fr)|0,lt=lt+Math.imul(mr,Or)|0,lt=lt+Math.imul(gr,Fr)|0,xt=xt+Math.imul(gr,Or)|0,yt=yt+Math.imul(tr,Cr)|0,lt=lt+Math.imul(tr,Br)|0,lt=lt+Math.imul(sr,Cr)|0,xt=xt+Math.imul(sr,Br)|0,yt=yt+Math.imul(Ft,Dr)|0,lt=lt+Math.imul(Ft,Lr)|0,lt=lt+Math.imul(Lt,Dr)|0,xt=xt+Math.imul(Lt,Lr)|0,yt=yt+Math.imul(dr,Ar)|0,lt=lt+Math.imul(dr,Tr)|0,lt=lt+Math.imul(xr,Ar)|0,xt=xt+Math.imul(xr,Tr)|0,yt=yt+Math.imul(lr,jr)|0,lt=lt+Math.imul(lr,Hr)|0,lt=lt+Math.imul(ur,jr)|0,xt=xt+Math.imul(ur,Hr)|0;var Bn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,yt=Math.imul(nr,Ir),lt=Math.imul(nr,kr),lt=lt+Math.imul(or,Ir)|0,xt=Math.imul(or,kr),yt=yt+Math.imul(Bt,Pr)|0,lt=lt+Math.imul(Bt,Nr)|0,lt=lt+Math.imul(Gt,Pr)|0,xt=xt+Math.imul(Gt,Nr)|0,yt=yt+Math.imul(wr,Fr)|0,lt=lt+Math.imul(wr,Or)|0,lt=lt+Math.imul(Vt,Fr)|0,xt=xt+Math.imul(Vt,Or)|0,yt=yt+Math.imul(mr,Cr)|0,lt=lt+Math.imul(mr,Br)|0,lt=lt+Math.imul(gr,Cr)|0,xt=xt+Math.imul(gr,Br)|0,yt=yt+Math.imul(tr,Dr)|0,lt=lt+Math.imul(tr,Lr)|0,lt=lt+Math.imul(sr,Dr)|0,xt=xt+Math.imul(sr,Lr)|0,yt=yt+Math.imul(Ft,Ar)|0,lt=lt+Math.imul(Ft,Tr)|0,lt=lt+Math.imul(Lt,Ar)|0,xt=xt+Math.imul(Lt,Tr)|0,yt=yt+Math.imul(dr,jr)|0,lt=lt+Math.imul(dr,Hr)|0,lt=lt+Math.imul(xr,jr)|0,xt=xt+Math.imul(xr,Hr)|0;var yn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(yn>>>26)|0,yn&=67108863,yt=Math.imul(nr,Pr),lt=Math.imul(nr,Nr),lt=lt+Math.imul(or,Pr)|0,xt=Math.imul(or,Nr),yt=yt+Math.imul(Bt,Fr)|0,lt=lt+Math.imul(Bt,Or)|0,lt=lt+Math.imul(Gt,Fr)|0,xt=xt+Math.imul(Gt,Or)|0,yt=yt+Math.imul(wr,Cr)|0,lt=lt+Math.imul(wr,Br)|0,lt=lt+Math.imul(Vt,Cr)|0,xt=xt+Math.imul(Vt,Br)|0,yt=yt+Math.imul(mr,Dr)|0,lt=lt+Math.imul(mr,Lr)|0,lt=lt+Math.imul(gr,Dr)|0,xt=xt+Math.imul(gr,Lr)|0,yt=yt+Math.imul(tr,Ar)|0,lt=lt+Math.imul(tr,Tr)|0,lt=lt+Math.imul(sr,Ar)|0,xt=xt+Math.imul(sr,Tr)|0,yt=yt+Math.imul(Ft,jr)|0,lt=lt+Math.imul(Ft,Hr)|0,lt=lt+Math.imul(Lt,jr)|0,xt=xt+Math.imul(Lt,Hr)|0;var Cn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,yt=Math.imul(nr,Fr),lt=Math.imul(nr,Or),lt=lt+Math.imul(or,Fr)|0,xt=Math.imul(or,Or),yt=yt+Math.imul(Bt,Cr)|0,lt=lt+Math.imul(Bt,Br)|0,lt=lt+Math.imul(Gt,Cr)|0,xt=xt+Math.imul(Gt,Br)|0,yt=yt+Math.imul(wr,Dr)|0,lt=lt+Math.imul(wr,Lr)|0,lt=lt+Math.imul(Vt,Dr)|0,xt=xt+Math.imul(Vt,Lr)|0,yt=yt+Math.imul(mr,Ar)|0,lt=lt+Math.imul(mr,Tr)|0,lt=lt+Math.imul(gr,Ar)|0,xt=xt+Math.imul(gr,Tr)|0,yt=yt+Math.imul(tr,jr)|0,lt=lt+Math.imul(tr,Hr)|0,lt=lt+Math.imul(sr,jr)|0,xt=xt+Math.imul(sr,Hr)|0;var Dn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,yt=Math.imul(nr,Cr),lt=Math.imul(nr,Br),lt=lt+Math.imul(or,Cr)|0,xt=Math.imul(or,Br),yt=yt+Math.imul(Bt,Dr)|0,lt=lt+Math.imul(Bt,Lr)|0,lt=lt+Math.imul(Gt,Dr)|0,xt=xt+Math.imul(Gt,Lr)|0,yt=yt+Math.imul(wr,Ar)|0,lt=lt+Math.imul(wr,Tr)|0,lt=lt+Math.imul(Vt,Ar)|0,xt=xt+Math.imul(Vt,Tr)|0,yt=yt+Math.imul(mr,jr)|0,lt=lt+Math.imul(mr,Hr)|0,lt=lt+Math.imul(gr,jr)|0,xt=xt+Math.imul(gr,Hr)|0;var Fn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,yt=Math.imul(nr,Dr),lt=Math.imul(nr,Lr),lt=lt+Math.imul(or,Dr)|0,xt=Math.imul(or,Lr),yt=yt+Math.imul(Bt,Ar)|0,lt=lt+Math.imul(Bt,Tr)|0,lt=lt+Math.imul(Gt,Ar)|0,xt=xt+Math.imul(Gt,Tr)|0,yt=yt+Math.imul(wr,jr)|0,lt=lt+Math.imul(wr,Hr)|0,lt=lt+Math.imul(Vt,jr)|0,xt=xt+Math.imul(Vt,Hr)|0;var jn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(jn>>>26)|0,jn&=67108863,yt=Math.imul(nr,Ar),lt=Math.imul(nr,Tr),lt=lt+Math.imul(or,Ar)|0,xt=Math.imul(or,Tr),yt=yt+Math.imul(Bt,jr)|0,lt=lt+Math.imul(Bt,Hr)|0,lt=lt+Math.imul(Gt,jr)|0,xt=xt+Math.imul(Gt,Hr)|0;var Ln=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,yt=Math.imul(nr,jr),lt=Math.imul(nr,Hr),lt=lt+Math.imul(or,jr)|0,xt=Math.imul(or,Hr);var Wn=(St+yt|0)+((lt&8191)<<13)|0;return St=(xt+(lt>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,vt[0]=mn,vt[1]=sn,vt[2]=cn,vt[3]=fn,vt[4]=ln,vt[5]=$n,vt[6]=Pn,vt[7]=vn,vt[8]=kn,vt[9]=Nn,vt[10]=hn,vt[11]=Bn,vt[12]=yn,vt[13]=Cn,vt[14]=Dn,vt[15]=Fn,vt[16]=jn,vt[17]=Ln,vt[18]=Wn,St!==0&&(vt[19]=St,mt.length++),mt};Math.imul||(Rt=At);function kt(ht,ot,dt){dt.negative=ot.negative^ht.negative,dt.length=ht.length+ot.length;for(var mt=0,wt=0,bt=0;bt<dt.length-1;bt++){var vt=wt;wt=0;for(var St=mt&67108863,yt=Math.min(bt,ot.length-1),lt=Math.max(0,bt-ht.length+1);lt<=yt;lt++){var xt=bt-lt,Ut=ht.words[xt]|0,Pt=ot.words[lt]|0,qt=Ut*Pt,ir=qt&67108863;vt=vt+(qt/67108864|0)|0,ir=ir+St|0,St=ir&67108863,vt=vt+(ir>>>26)|0,wt+=vt>>>26,vt&=67108863}dt.words[bt]=St,mt=vt,vt=wt}return mt!==0?dt.words[bt]=mt:dt.length--,dt._strip()}function Ot(ht,ot,dt){return kt(ht,ot,dt)}it.prototype.mulTo=function(ot,dt){var mt,wt=this.length+ot.length;return this.length===10&&ot.length===10?mt=Rt(this,ot,dt):wt<63?mt=At(this,ot,dt):wt<1024?mt=kt(this,ot,dt):mt=Ot(this,ot,dt),mt},it.prototype.mul=function(ot){var dt=new it(null);return dt.words=new Array(this.length+ot.length),this.mulTo(ot,dt)},it.prototype.mulf=function(ot){var dt=new it(null);return dt.words=new Array(this.length+ot.length),Ot(this,ot,dt)},it.prototype.imul=function(ot){return this.clone().mulTo(ot,this)},it.prototype.imuln=function(ot){var dt=ot<0;dt&&(ot=-ot),rt(typeof ot=="number"),rt(ot<67108864);for(var mt=0,wt=0;wt<this.length;wt++){var bt=(this.words[wt]|0)*ot,vt=(bt&67108863)+(mt&67108863);mt>>=26,mt+=bt/67108864|0,mt+=vt>>>26,this.words[wt]=vt&67108863}return mt!==0&&(this.words[wt]=mt,this.length++),dt?this.ineg():this},it.prototype.muln=function(ot){return this.clone().imuln(ot)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(ot){var dt=Tt(ot);if(dt.length===0)return new it(1);for(var mt=this,wt=0;wt<dt.length&&dt[wt]===0;wt++,mt=mt.sqr());if(++wt<dt.length)for(var bt=mt.sqr();wt<dt.length;wt++,bt=bt.sqr())dt[wt]!==0&&(mt=mt.mul(bt));return mt},it.prototype.iushln=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=ot%26,mt=(ot-dt)/26,wt=67108863>>>26-dt<<26-dt,bt;if(dt!==0){var vt=0;for(bt=0;bt<this.length;bt++){var St=this.words[bt]&wt,yt=(this.words[bt]|0)-St<<dt;this.words[bt]=yt|vt,vt=St>>>26-dt}vt&&(this.words[bt]=vt,this.length++)}if(mt!==0){for(bt=this.length-1;bt>=0;bt--)this.words[bt+mt]=this.words[bt];for(bt=0;bt<mt;bt++)this.words[bt]=0;this.length+=mt}return this._strip()},it.prototype.ishln=function(ot){return rt(this.negative===0),this.iushln(ot)},it.prototype.iushrn=function(ot,dt,mt){rt(typeof ot=="number"&&ot>=0);var wt;dt?wt=(dt-dt%26)/26:wt=0;var bt=ot%26,vt=Math.min((ot-bt)/26,this.length),St=67108863^67108863>>>bt<<bt,yt=mt;if(wt-=vt,wt=Math.max(0,wt),yt){for(var lt=0;lt<vt;lt++)yt.words[lt]=this.words[lt];yt.length=vt}if(vt!==0)if(this.length>vt)for(this.length-=vt,lt=0;lt<this.length;lt++)this.words[lt]=this.words[lt+vt];else this.words[0]=0,this.length=1;var xt=0;for(lt=this.length-1;lt>=0&&(xt!==0||lt>=wt);lt--){var Ut=this.words[lt]|0;this.words[lt]=xt<<26-bt|Ut>>>bt,xt=Ut&St}return yt&&xt!==0&&(yt.words[yt.length++]=xt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},it.prototype.ishrn=function(ot,dt,mt){return rt(this.negative===0),this.iushrn(ot,dt,mt)},it.prototype.shln=function(ot){return this.clone().ishln(ot)},it.prototype.ushln=function(ot){return this.clone().iushln(ot)},it.prototype.shrn=function(ot){return this.clone().ishrn(ot)},it.prototype.ushrn=function(ot){return this.clone().iushrn(ot)},it.prototype.testn=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=ot%26,mt=(ot-dt)/26,wt=1<<dt;if(this.length<=mt)return!1;var bt=this.words[mt];return!!(bt&wt)},it.prototype.imaskn=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=ot%26,mt=(ot-dt)/26;if(rt(this.negative===0,"imaskn works only with positive numbers"),this.length<=mt)return this;if(dt!==0&&mt++,this.length=Math.min(mt,this.length),dt!==0){var wt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=wt}return this._strip()},it.prototype.maskn=function(ot){return this.clone().imaskn(ot)},it.prototype.iaddn=function(ot){return rt(typeof ot=="number"),rt(ot<67108864),ot<0?this.isubn(-ot):this.negative!==0?this.length===1&&(this.words[0]|0)<=ot?(this.words[0]=ot-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ot),this.negative=1,this):this._iaddn(ot)},it.prototype._iaddn=function(ot){this.words[0]+=ot;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(ot){if(rt(typeof ot=="number"),rt(ot<67108864),ot<0)return this.iaddn(-ot);if(this.negative!==0)return this.negative=0,this.iaddn(ot),this.negative=1,this;if(this.words[0]-=ot,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},it.prototype.addn=function(ot){return this.clone().iaddn(ot)},it.prototype.subn=function(ot){return this.clone().isubn(ot)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(ot,dt,mt){var wt=ot.length+mt,bt;this._expand(wt);var vt,St=0;for(bt=0;bt<ot.length;bt++){vt=(this.words[bt+mt]|0)+St;var yt=(ot.words[bt]|0)*dt;vt-=yt&67108863,St=(vt>>26)-(yt/67108864|0),this.words[bt+mt]=vt&67108863}for(;bt<this.length-mt;bt++)vt=(this.words[bt+mt]|0)+St,St=vt>>26,this.words[bt+mt]=vt&67108863;if(St===0)return this._strip();for(rt(St===-1),St=0,bt=0;bt<this.length;bt++)vt=-(this.words[bt]|0)+St,St=vt>>26,this.words[bt]=vt&67108863;return this.negative=1,this._strip()},it.prototype._wordDiv=function(ot,dt){var mt=this.length-ot.length,wt=this.clone(),bt=ot,vt=bt.words[bt.length-1]|0,St=this._countBits(vt);mt=26-St,mt!==0&&(bt=bt.ushln(mt),wt.iushln(mt),vt=bt.words[bt.length-1]|0);var yt=wt.length-bt.length,lt;if(dt!=="mod"){lt=new it(null),lt.length=yt+1,lt.words=new Array(lt.length);for(var xt=0;xt<lt.length;xt++)lt.words[xt]=0}var Ut=wt.clone()._ishlnsubmul(bt,1,yt);Ut.negative===0&&(wt=Ut,lt&&(lt.words[yt]=1));for(var Pt=yt-1;Pt>=0;Pt--){var qt=(wt.words[bt.length+Pt]|0)*67108864+(wt.words[bt.length+Pt-1]|0);for(qt=Math.min(qt/vt|0,67108863),wt._ishlnsubmul(bt,qt,Pt);wt.negative!==0;)qt--,wt.negative=0,wt._ishlnsubmul(bt,1,Pt),wt.isZero()||(wt.negative^=1);lt&&(lt.words[Pt]=qt)}return lt&&lt._strip(),wt._strip(),dt!=="div"&&mt!==0&&wt.iushrn(mt),{div:lt||null,mod:wt}},it.prototype.divmod=function(ot,dt,mt){if(rt(!ot.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var wt,bt,vt;return this.negative!==0&&ot.negative===0?(vt=this.neg().divmod(ot,dt),dt!=="mod"&&(wt=vt.div.neg()),dt!=="div"&&(bt=vt.mod.neg(),mt&&bt.negative!==0&&bt.iadd(ot)),{div:wt,mod:bt}):this.negative===0&&ot.negative!==0?(vt=this.divmod(ot.neg(),dt),dt!=="mod"&&(wt=vt.div.neg()),{div:wt,mod:vt.mod}):(this.negative&ot.negative)!==0?(vt=this.neg().divmod(ot.neg(),dt),dt!=="div"&&(bt=vt.mod.neg(),mt&&bt.negative!==0&&bt.isub(ot)),{div:vt.div,mod:bt}):ot.length>this.length||this.cmp(ot)<0?{div:new it(0),mod:this}:ot.length===1?dt==="div"?{div:this.divn(ot.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modrn(ot.words[0]))}:{div:this.divn(ot.words[0]),mod:new it(this.modrn(ot.words[0]))}:this._wordDiv(ot,dt)},it.prototype.div=function(ot){return this.divmod(ot,"div",!1).div},it.prototype.mod=function(ot){return this.divmod(ot,"mod",!1).mod},it.prototype.umod=function(ot){return this.divmod(ot,"mod",!0).mod},it.prototype.divRound=function(ot){var dt=this.divmod(ot);if(dt.mod.isZero())return dt.div;var mt=dt.div.negative!==0?dt.mod.isub(ot):dt.mod,wt=ot.ushrn(1),bt=ot.andln(1),vt=mt.cmp(wt);return vt<0||bt===1&&vt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modrn=function(ot){var dt=ot<0;dt&&(ot=-ot),rt(ot<=67108863);for(var mt=(1<<26)%ot,wt=0,bt=this.length-1;bt>=0;bt--)wt=(mt*wt+(this.words[bt]|0))%ot;return dt?-wt:wt},it.prototype.modn=function(ot){return this.modrn(ot)},it.prototype.idivn=function(ot){var dt=ot<0;dt&&(ot=-ot),rt(ot<=67108863);for(var mt=0,wt=this.length-1;wt>=0;wt--){var bt=(this.words[wt]|0)+mt*67108864;this.words[wt]=bt/ot|0,mt=bt%ot}return this._strip(),dt?this.ineg():this},it.prototype.divn=function(ot){return this.clone().idivn(ot)},it.prototype.egcd=function(ot){rt(ot.negative===0),rt(!ot.isZero());var dt=this,mt=ot.clone();dt.negative!==0?dt=dt.umod(ot):dt=dt.clone();for(var wt=new it(1),bt=new it(0),vt=new it(0),St=new it(1),yt=0;dt.isEven()&&mt.isEven();)dt.iushrn(1),mt.iushrn(1),++yt;for(var lt=mt.clone(),xt=dt.clone();!dt.isZero();){for(var Ut=0,Pt=1;(dt.words[0]&Pt)===0&&Ut<26;++Ut,Pt<<=1);if(Ut>0)for(dt.iushrn(Ut);Ut-- >0;)(wt.isOdd()||bt.isOdd())&&(wt.iadd(lt),bt.isub(xt)),wt.iushrn(1),bt.iushrn(1);for(var qt=0,ir=1;(mt.words[0]&ir)===0&&qt<26;++qt,ir<<=1);if(qt>0)for(mt.iushrn(qt);qt-- >0;)(vt.isOdd()||St.isOdd())&&(vt.iadd(lt),St.isub(xt)),vt.iushrn(1),St.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),wt.isub(vt),bt.isub(St)):(mt.isub(dt),vt.isub(wt),St.isub(bt))}return{a:vt,b:St,gcd:mt.iushln(yt)}},it.prototype._invmp=function(ot){rt(ot.negative===0),rt(!ot.isZero());var dt=this,mt=ot.clone();dt.negative!==0?dt=dt.umod(ot):dt=dt.clone();for(var wt=new it(1),bt=new it(0),vt=mt.clone();dt.cmpn(1)>0&&mt.cmpn(1)>0;){for(var St=0,yt=1;(dt.words[0]&yt)===0&&St<26;++St,yt<<=1);if(St>0)for(dt.iushrn(St);St-- >0;)wt.isOdd()&&wt.iadd(vt),wt.iushrn(1);for(var lt=0,xt=1;(mt.words[0]&xt)===0&&lt<26;++lt,xt<<=1);if(lt>0)for(mt.iushrn(lt);lt-- >0;)bt.isOdd()&&bt.iadd(vt),bt.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),wt.isub(bt)):(mt.isub(dt),bt.isub(wt))}var Ut;return dt.cmpn(1)===0?Ut=wt:Ut=bt,Ut.cmpn(0)<0&&Ut.iadd(ot),Ut},it.prototype.gcd=function(ot){if(this.isZero())return ot.abs();if(ot.isZero())return this.abs();var dt=this.clone(),mt=ot.clone();dt.negative=0,mt.negative=0;for(var wt=0;dt.isEven()&&mt.isEven();wt++)dt.iushrn(1),mt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;mt.isEven();)mt.iushrn(1);var bt=dt.cmp(mt);if(bt<0){var vt=dt;dt=mt,mt=vt}else if(bt===0||mt.cmpn(1)===0)break;dt.isub(mt)}while(!0);return mt.iushln(wt)},it.prototype.invm=function(ot){return this.egcd(ot).a.umod(ot)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(ot){return this.words[0]&ot},it.prototype.bincn=function(ot){rt(typeof ot=="number");var dt=ot%26,mt=(ot-dt)/26,wt=1<<dt;if(this.length<=mt)return this._expand(mt+1),this.words[mt]|=wt,this;for(var bt=wt,vt=mt;bt!==0&&vt<this.length;vt++){var St=this.words[vt]|0;St+=bt,bt=St>>>26,St&=67108863,this.words[vt]=St}return bt!==0&&(this.words[vt]=bt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(ot){var dt=ot<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var mt;if(this.length>1)mt=1;else{dt&&(ot=-ot),rt(ot<=67108863,"Number is too big");var wt=this.words[0]|0;mt=wt===ot?0:wt<ot?-1:1}return this.negative!==0?-mt|0:mt},it.prototype.cmp=function(ot){if(this.negative!==0&&ot.negative===0)return-1;if(this.negative===0&&ot.negative!==0)return 1;var dt=this.ucmp(ot);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(ot){if(this.length>ot.length)return 1;if(this.length<ot.length)return-1;for(var dt=0,mt=this.length-1;mt>=0;mt--){var wt=this.words[mt]|0,bt=ot.words[mt]|0;if(wt!==bt){wt<bt?dt=-1:wt>bt&&(dt=1);break}}return dt},it.prototype.gtn=function(ot){return this.cmpn(ot)===1},it.prototype.gt=function(ot){return this.cmp(ot)===1},it.prototype.gten=function(ot){return this.cmpn(ot)>=0},it.prototype.gte=function(ot){return this.cmp(ot)>=0},it.prototype.ltn=function(ot){return this.cmpn(ot)===-1},it.prototype.lt=function(ot){return this.cmp(ot)===-1},it.prototype.lten=function(ot){return this.cmpn(ot)<=0},it.prototype.lte=function(ot){return this.cmp(ot)<=0},it.prototype.eqn=function(ot){return this.cmpn(ot)===0},it.prototype.eq=function(ot){return this.cmp(ot)===0},it.red=function(ot){return new Ct(ot)},it.prototype.toRed=function(ot){return rt(!this.red,"Already a number in reduction context"),rt(this.negative===0,"red works only with positives"),ot.convertTo(this)._forceRed(ot)},it.prototype.fromRed=function(){return rt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(ot){return this.red=ot,this},it.prototype.forceRed=function(ot){return rt(!this.red,"Already a number in reduction context"),this._forceRed(ot)},it.prototype.redAdd=function(ot){return rt(this.red,"redAdd works only with red numbers"),this.red.add(this,ot)},it.prototype.redIAdd=function(ot){return rt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ot)},it.prototype.redSub=function(ot){return rt(this.red,"redSub works only with red numbers"),this.red.sub(this,ot)},it.prototype.redISub=function(ot){return rt(this.red,"redISub works only with red numbers"),this.red.isub(this,ot)},it.prototype.redShl=function(ot){return rt(this.red,"redShl works only with red numbers"),this.red.shl(this,ot)},it.prototype.redMul=function(ot){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,ot),this.red.mul(this,ot)},it.prototype.redIMul=function(ot){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,ot),this.red.imul(this,ot)},it.prototype.redSqr=function(){return rt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return rt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return rt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return rt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return rt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(ot){return rt(this.red&&!ot.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ot)};var Wt={k256:null,p224:null,p192:null,p25519:null};function zt(ht,ot){this.name=ht,this.p=new it(ot,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}zt.prototype._tmp=function(){var ot=new it(null);return ot.words=new Array(Math.ceil(this.n/13)),ot},zt.prototype.ireduce=function(ot){var dt=ot,mt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),mt=dt.bitLength();while(mt>this.n);var wt=mt<this.n?-1:dt.ucmp(this.p);return wt===0?(dt.words[0]=0,dt.length=1):wt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},zt.prototype.split=function(ot,dt){ot.iushrn(this.n,0,dt)},zt.prototype.imulK=function(ot){return ot.imul(this.k)};function Kt(){zt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}nt(Kt,zt),Kt.prototype.split=function(ot,dt){for(var mt=4194303,wt=Math.min(ot.length,9),bt=0;bt<wt;bt++)dt.words[bt]=ot.words[bt];if(dt.length=wt,ot.length<=9){ot.words[0]=0,ot.length=1;return}var vt=ot.words[9];for(dt.words[dt.length++]=vt&mt,bt=10;bt<ot.length;bt++){var St=ot.words[bt]|0;ot.words[bt-10]=(St&mt)<<4|vt>>>22,vt=St}vt>>>=22,ot.words[bt-10]=vt,vt===0&&ot.length>10?ot.length-=10:ot.length-=9},Kt.prototype.imulK=function(ot){ot.words[ot.length]=0,ot.words[ot.length+1]=0,ot.length+=2;for(var dt=0,mt=0;mt<ot.length;mt++){var wt=ot.words[mt]|0;dt+=wt*977,ot.words[mt]=dt&67108863,dt=wt*64+(dt/67108864|0)}return ot.words[ot.length-1]===0&&(ot.length--,ot.words[ot.length-1]===0&&ot.length--),ot};function Jt(){zt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}nt(Jt,zt);function ar(){zt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}nt(ar,zt);function jt(){zt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}nt(jt,zt),jt.prototype.imulK=function(ot){for(var dt=0,mt=0;mt<ot.length;mt++){var wt=(ot.words[mt]|0)*19+dt,bt=wt&67108863;wt>>>=26,ot.words[mt]=bt,dt=wt}return dt!==0&&(ot.words[ot.length++]=dt),ot},it._prime=function(ot){if(Wt[ot])return Wt[ot];var dt;if(ot==="k256")dt=new Kt;else if(ot==="p224")dt=new Jt;else if(ot==="p192")dt=new ar;else if(ot==="p25519")dt=new jt;else throw new Error("Unknown prime "+ot);return Wt[ot]=dt,dt};function Ct(ht){if(typeof ht=="string"){var ot=it._prime(ht);this.m=ot.p,this.prime=ot}else rt(ht.gtn(1),"modulus must be greater than 1"),this.m=ht,this.prime=null}Ct.prototype._verify1=function(ot){rt(ot.negative===0,"red works only with positives"),rt(ot.red,"red works only with red numbers")},Ct.prototype._verify2=function(ot,dt){rt((ot.negative|dt.negative)===0,"red works only with positives"),rt(ot.red&&ot.red===dt.red,"red works only with red numbers")},Ct.prototype.imod=function(ot){return this.prime?this.prime.ireduce(ot)._forceRed(this):(ft(ot,ot.umod(this.m)._forceRed(this)),ot)},Ct.prototype.neg=function(ot){return ot.isZero()?ot.clone():this.m.sub(ot)._forceRed(this)},Ct.prototype.add=function(ot,dt){this._verify2(ot,dt);var mt=ot.add(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt._forceRed(this)},Ct.prototype.iadd=function(ot,dt){this._verify2(ot,dt);var mt=ot.iadd(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt},Ct.prototype.sub=function(ot,dt){this._verify2(ot,dt);var mt=ot.sub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt._forceRed(this)},Ct.prototype.isub=function(ot,dt){this._verify2(ot,dt);var mt=ot.isub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt},Ct.prototype.shl=function(ot,dt){return this._verify1(ot),this.imod(ot.ushln(dt))},Ct.prototype.imul=function(ot,dt){return this._verify2(ot,dt),this.imod(ot.imul(dt))},Ct.prototype.mul=function(ot,dt){return this._verify2(ot,dt),this.imod(ot.mul(dt))},Ct.prototype.isqr=function(ot){return this.imul(ot,ot.clone())},Ct.prototype.sqr=function(ot){return this.mul(ot,ot)},Ct.prototype.sqrt=function(ot){if(ot.isZero())return ot.clone();var dt=this.m.andln(3);if(rt(dt%2===1),dt===3){var mt=this.m.add(new it(1)).iushrn(2);return this.pow(ot,mt)}for(var wt=this.m.subn(1),bt=0;!wt.isZero()&&wt.andln(1)===0;)bt++,wt.iushrn(1);rt(!wt.isZero());var vt=new it(1).toRed(this),St=vt.redNeg(),yt=this.m.subn(1).iushrn(1),lt=this.m.bitLength();for(lt=new it(2*lt*lt).toRed(this);this.pow(lt,yt).cmp(St)!==0;)lt.redIAdd(St);for(var xt=this.pow(lt,wt),Ut=this.pow(ot,wt.addn(1).iushrn(1)),Pt=this.pow(ot,wt),qt=bt;Pt.cmp(vt)!==0;){for(var ir=Pt,Yt=0;ir.cmp(vt)!==0;Yt++)ir=ir.redSqr();rt(Yt<qt);var rr=this.pow(xt,new it(1).iushln(qt-Yt-1));Ut=Ut.redMul(rr),xt=rr.redSqr(),Pt=Pt.redMul(xt),qt=Yt}return Ut},Ct.prototype.invm=function(ot){var dt=ot._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Ct.prototype.pow=function(ot,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return ot.clone();var mt=4,wt=new Array(1<<mt);wt[0]=new it(1).toRed(this),wt[1]=ot;for(var bt=2;bt<wt.length;bt++)wt[bt]=this.mul(wt[bt-1],ot);var vt=wt[0],St=0,yt=0,lt=dt.bitLength()%26;for(lt===0&&(lt=26),bt=dt.length-1;bt>=0;bt--){for(var xt=dt.words[bt],Ut=lt-1;Ut>=0;Ut--){var Pt=xt>>Ut&1;if(vt!==wt[0]&&(vt=this.sqr(vt)),Pt===0&&St===0){yt=0;continue}St<<=1,St|=Pt,yt++,!(yt!==mt&&(bt!==0||Ut!==0))&&(vt=this.mul(vt,wt[St]),yt=0,St=0)}lt=26}return vt},Ct.prototype.convertTo=function(ot){var dt=ot.umod(this.m);return dt===ot?dt.clone():dt},Ct.prototype.convertFrom=function(ot){var dt=ot.clone();return dt.red=null,dt},it.mont=function(ot){return new Nt(ot)};function Nt(ht){Ct.call(this,ht),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}nt(Nt,Ct),Nt.prototype.convertTo=function(ot){return this.imod(ot.ushln(this.shift))},Nt.prototype.convertFrom=function(ot){var dt=this.imod(ot.mul(this.rinv));return dt.red=null,dt},Nt.prototype.imul=function(ot,dt){if(ot.isZero()||dt.isZero())return ot.words[0]=0,ot.length=1,ot;var mt=ot.imul(dt),wt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bt=mt.isub(wt).iushrn(this.shift),vt=bt;return bt.cmp(this.m)>=0?vt=bt.isub(this.m):bt.cmpn(0)<0&&(vt=bt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.mul=function(ot,dt){if(ot.isZero()||dt.isZero())return new it(0)._forceRed(this);var mt=ot.mul(dt),wt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bt=mt.isub(wt).iushrn(this.shift),vt=bt;return bt.cmp(this.m)>=0?vt=bt.isub(this.m):bt.cmpn(0)<0&&(vt=bt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.invm=function(ot){var dt=this.imod(ot._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(et,commonjsGlobal)})(bn$3);var BN$4=bn$3.exports,hash$1={},utils$g={},minimalisticAssert$1=assert$b;function assert$b(et,_e){if(!et)throw new Error(_e||"Assertion failed")}assert$b.equal=function(_e,tt,rt){if(_e!=tt)throw new Error(rt||"Assertion failed: "+_e+" != "+tt)};var inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(_e,tt){tt&&(_e.super_=tt,_e.prototype=Object.create(tt.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(_e,tt){if(tt){_e.super_=tt;var rt=function(){};rt.prototype=tt.prototype,_e.prototype=new rt,_e.prototype.constructor=_e}};var assert$a=minimalisticAssert$1,inherits=inherits_browser$1.exports;utils$g.inherits=inherits;function isSurrogatePair(et,_e){return(et.charCodeAt(_e)&64512)!==55296||_e<0||_e+1>=et.length?!1:(et.charCodeAt(_e+1)&64512)===56320}function toArray$1(et,_e){if(Array.isArray(et))return et.slice();if(!et)return[];var tt=[];if(typeof et=="string")if(_e){if(_e==="hex")for(et=et.replace(/[^a-z0-9]+/ig,""),et.length%2!==0&&(et="0"+et),nt=0;nt<et.length;nt+=2)tt.push(parseInt(et[nt]+et[nt+1],16))}else for(var rt=0,nt=0;nt<et.length;nt++){var it=et.charCodeAt(nt);it<128?tt[rt++]=it:it<2048?(tt[rt++]=it>>6|192,tt[rt++]=it&63|128):isSurrogatePair(et,nt)?(it=65536+((it&1023)<<10)+(et.charCodeAt(++nt)&1023),tt[rt++]=it>>18|240,tt[rt++]=it>>12&63|128,tt[rt++]=it>>6&63|128,tt[rt++]=it&63|128):(tt[rt++]=it>>12|224,tt[rt++]=it>>6&63|128,tt[rt++]=it&63|128)}else for(nt=0;nt<et.length;nt++)tt[nt]=et[nt]|0;return tt}utils$g.toArray=toArray$1;function toHex(et){for(var _e="",tt=0;tt<et.length;tt++)_e+=zero2(et[tt].toString(16));return _e}utils$g.toHex=toHex;function htonl(et){var _e=et>>>24|et>>>8&65280|et<<8&16711680|(et&255)<<24;return _e>>>0}utils$g.htonl=htonl;function toHex32(et,_e){for(var tt="",rt=0;rt<et.length;rt++){var nt=et[rt];_e==="little"&&(nt=htonl(nt)),tt+=zero8(nt.toString(16))}return tt}utils$g.toHex32=toHex32;function zero2(et){return et.length===1?"0"+et:et}utils$g.zero2=zero2;function zero8(et){return et.length===7?"0"+et:et.length===6?"00"+et:et.length===5?"000"+et:et.length===4?"0000"+et:et.length===3?"00000"+et:et.length===2?"000000"+et:et.length===1?"0000000"+et:et}utils$g.zero8=zero8;function join32(et,_e,tt,rt){var nt=tt-_e;assert$a(nt%4===0);for(var it=new Array(nt/4),at=0,st=_e;at<it.length;at++,st+=4){var ct;rt==="big"?ct=et[st]<<24|et[st+1]<<16|et[st+2]<<8|et[st+3]:ct=et[st+3]<<24|et[st+2]<<16|et[st+1]<<8|et[st],it[at]=ct>>>0}return it}utils$g.join32=join32;function split32(et,_e){for(var tt=new Array(et.length*4),rt=0,nt=0;rt<et.length;rt++,nt+=4){var it=et[rt];_e==="big"?(tt[nt]=it>>>24,tt[nt+1]=it>>>16&255,tt[nt+2]=it>>>8&255,tt[nt+3]=it&255):(tt[nt+3]=it>>>24,tt[nt+2]=it>>>16&255,tt[nt+1]=it>>>8&255,tt[nt]=it&255)}return tt}utils$g.split32=split32;function rotr32$1(et,_e){return et>>>_e|et<<32-_e}utils$g.rotr32=rotr32$1;function rotl32$2(et,_e){return et<<_e|et>>>32-_e}utils$g.rotl32=rotl32$2;function sum32$3(et,_e){return et+_e>>>0}utils$g.sum32=sum32$3;function sum32_3$1(et,_e,tt){return et+_e+tt>>>0}utils$g.sum32_3=sum32_3$1;function sum32_4$2(et,_e,tt,rt){return et+_e+tt+rt>>>0}utils$g.sum32_4=sum32_4$2;function sum32_5$2(et,_e,tt,rt,nt){return et+_e+tt+rt+nt>>>0}utils$g.sum32_5=sum32_5$2;function sum64$1(et,_e,tt,rt){var nt=et[_e],it=et[_e+1],at=rt+it>>>0,st=(at<rt?1:0)+tt+nt;et[_e]=st>>>0,et[_e+1]=at}utils$g.sum64=sum64$1;function sum64_hi$1(et,_e,tt,rt){var nt=_e+rt>>>0,it=(nt<_e?1:0)+et+tt;return it>>>0}utils$g.sum64_hi=sum64_hi$1;function sum64_lo$1(et,_e,tt,rt){var nt=_e+rt;return nt>>>0}utils$g.sum64_lo=sum64_lo$1;function sum64_4_hi$1(et,_e,tt,rt,nt,it,at,st){var ct=0,ut=_e;ut=ut+rt>>>0,ct+=ut<_e?1:0,ut=ut+it>>>0,ct+=ut<it?1:0,ut=ut+st>>>0,ct+=ut<st?1:0;var ft=et+tt+nt+at+ct;return ft>>>0}utils$g.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(et,_e,tt,rt,nt,it,at,st){var ct=_e+rt+it+st;return ct>>>0}utils$g.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(et,_e,tt,rt,nt,it,at,st,ct,ut){var ft=0,gt=_e;gt=gt+rt>>>0,ft+=gt<_e?1:0,gt=gt+it>>>0,ft+=gt<it?1:0,gt=gt+st>>>0,ft+=gt<st?1:0,gt=gt+ut>>>0,ft+=gt<ut?1:0;var _t=et+tt+nt+at+ct+ft;return _t>>>0}utils$g.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(et,_e,tt,rt,nt,it,at,st,ct,ut){var ft=_e+rt+it+st+ut;return ft>>>0}utils$g.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(et,_e,tt){var rt=_e<<32-tt|et>>>tt;return rt>>>0}utils$g.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(et,_e,tt){var rt=et<<32-tt|_e>>>tt;return rt>>>0}utils$g.rotr64_lo=rotr64_lo$1;function shr64_hi$1(et,_e,tt){return et>>>tt}utils$g.shr64_hi=shr64_hi$1;function shr64_lo$1(et,_e,tt){var rt=et<<32-tt|_e>>>tt;return rt>>>0}utils$g.shr64_lo=shr64_lo$1;var common$5={},utils$f=utils$g,assert$9=minimalisticAssert$1;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(_e,tt){if(_e=utils$f.toArray(_e,tt),this.pending?this.pending=this.pending.concat(_e):this.pending=_e,this.pendingTotal+=_e.length,this.pending.length>=this._delta8){_e=this.pending;var rt=_e.length%this._delta8;this.pending=_e.slice(_e.length-rt,_e.length),this.pending.length===0&&(this.pending=null),_e=utils$f.join32(_e,0,_e.length-rt,this.endian);for(var nt=0;nt<_e.length;nt+=this._delta32)this._update(_e,nt,nt+this._delta32)}return this};BlockHash$4.prototype.digest=function(_e){return this.update(this._pad()),assert$9(this.pending===null),this._digest(_e)};BlockHash$4.prototype._pad=function(){var _e=this.pendingTotal,tt=this._delta8,rt=tt-(_e+this.padLength)%tt,nt=new Array(rt+this.padLength);nt[0]=128;for(var it=1;it<rt;it++)nt[it]=0;if(_e<<=3,this.endian==="big"){for(var at=8;at<this.padLength;at++)nt[it++]=0;nt[it++]=0,nt[it++]=0,nt[it++]=0,nt[it++]=0,nt[it++]=_e>>>24&255,nt[it++]=_e>>>16&255,nt[it++]=_e>>>8&255,nt[it++]=_e&255}else for(nt[it++]=_e&255,nt[it++]=_e>>>8&255,nt[it++]=_e>>>16&255,nt[it++]=_e>>>24&255,nt[it++]=0,nt[it++]=0,nt[it++]=0,nt[it++]=0,at=8;at<this.padLength;at++)nt[it++]=0;return nt};var sha={},common$4={},utils$e=utils$g,rotr32=utils$e.rotr32;function ft_1$1(et,_e,tt,rt){if(et===0)return ch32$1(_e,tt,rt);if(et===1||et===3)return p32(_e,tt,rt);if(et===2)return maj32$1(_e,tt,rt)}common$4.ft_1=ft_1$1;function ch32$1(et,_e,tt){return et&_e^~et&tt}common$4.ch32=ch32$1;function maj32$1(et,_e,tt){return et&_e^et&tt^_e&tt}common$4.maj32=maj32$1;function p32(et,_e,tt){return et^_e^tt}common$4.p32=p32;function s0_256$1(et){return rotr32(et,2)^rotr32(et,13)^rotr32(et,22)}common$4.s0_256=s0_256$1;function s1_256$1(et){return rotr32(et,6)^rotr32(et,11)^rotr32(et,25)}common$4.s1_256=s1_256$1;function g0_256$1(et){return rotr32(et,7)^rotr32(et,18)^et>>>3}common$4.g0_256=g0_256$1;function g1_256$1(et){return rotr32(et,17)^rotr32(et,19)^et>>>10}common$4.g1_256=g1_256$1;var utils$d=utils$g,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$d.rotl32,sum32$2=utils$d.sum32,sum32_5$1=utils$d.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$d.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(_e,tt){for(var rt=this.W,nt=0;nt<16;nt++)rt[nt]=_e[tt+nt];for(;nt<rt.length;nt++)rt[nt]=rotl32$1(rt[nt-3]^rt[nt-8]^rt[nt-14]^rt[nt-16],1);var it=this.h[0],at=this.h[1],st=this.h[2],ct=this.h[3],ut=this.h[4];for(nt=0;nt<rt.length;nt++){var ft=~~(nt/20),gt=sum32_5$1(rotl32$1(it,5),ft_1(ft,at,st,ct),ut,rt[nt],sha1_K[ft]);ut=ct,ct=st,st=rotl32$1(at,30),at=it,it=gt}this.h[0]=sum32$2(this.h[0],it),this.h[1]=sum32$2(this.h[1],at),this.h[2]=sum32$2(this.h[2],st),this.h[3]=sum32$2(this.h[3],ct),this.h[4]=sum32$2(this.h[4],ut)};SHA1.prototype._digest=function(_e){return _e==="hex"?utils$d.toHex32(this.h,"big"):utils$d.split32(this.h,"big")};var utils$c=utils$g,common$2=common$5,shaCommon=common$4,assert$8=minimalisticAssert$1,sum32$1=utils$c.sum32,sum32_4$1=utils$c.sum32_4,sum32_5=utils$c.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$c.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(_e,tt){for(var rt=this.W,nt=0;nt<16;nt++)rt[nt]=_e[tt+nt];for(;nt<rt.length;nt++)rt[nt]=sum32_4$1(g1_256(rt[nt-2]),rt[nt-7],g0_256(rt[nt-15]),rt[nt-16]);var it=this.h[0],at=this.h[1],st=this.h[2],ct=this.h[3],ut=this.h[4],ft=this.h[5],gt=this.h[6],_t=this.h[7];for(assert$8(this.k.length===rt.length),nt=0;nt<rt.length;nt++){var Et=sum32_5(_t,s1_256(ut),ch32(ut,ft,gt),this.k[nt],rt[nt]),$t=sum32$1(s0_256(it),maj32(it,at,st));_t=gt,gt=ft,ft=ut,ut=sum32$1(ct,Et),ct=st,st=at,at=it,it=sum32$1(Et,$t)}this.h[0]=sum32$1(this.h[0],it),this.h[1]=sum32$1(this.h[1],at),this.h[2]=sum32$1(this.h[2],st),this.h[3]=sum32$1(this.h[3],ct),this.h[4]=sum32$1(this.h[4],ut),this.h[5]=sum32$1(this.h[5],ft),this.h[6]=sum32$1(this.h[6],gt),this.h[7]=sum32$1(this.h[7],_t)};SHA256$1.prototype._digest=function(_e){return _e==="hex"?utils$c.toHex32(this.h,"big"):utils$c.split32(this.h,"big")};var utils$b=utils$g,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$b.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(_e){return _e==="hex"?utils$b.toHex32(this.h.slice(0,7),"big"):utils$b.split32(this.h.slice(0,7),"big")};var utils$a=utils$g,common$1=common$5,assert$7=minimalisticAssert$1,rotr64_hi=utils$a.rotr64_hi,rotr64_lo=utils$a.rotr64_lo,shr64_hi=utils$a.shr64_hi,shr64_lo=utils$a.shr64_lo,sum64=utils$a.sum64,sum64_hi=utils$a.sum64_hi,sum64_lo=utils$a.sum64_lo,sum64_4_hi=utils$a.sum64_4_hi,sum64_4_lo=utils$a.sum64_4_lo,sum64_5_hi=utils$a.sum64_5_hi,sum64_5_lo=utils$a.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$a.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(_e,tt){for(var rt=this.W,nt=0;nt<32;nt++)rt[nt]=_e[tt+nt];for(;nt<rt.length;nt+=2){var it=g1_512_hi(rt[nt-4],rt[nt-3]),at=g1_512_lo(rt[nt-4],rt[nt-3]),st=rt[nt-14],ct=rt[nt-13],ut=g0_512_hi(rt[nt-30],rt[nt-29]),ft=g0_512_lo(rt[nt-30],rt[nt-29]),gt=rt[nt-32],_t=rt[nt-31];rt[nt]=sum64_4_hi(it,at,st,ct,ut,ft,gt,_t),rt[nt+1]=sum64_4_lo(it,at,st,ct,ut,ft,gt,_t)}};SHA512$1.prototype._update=function(_e,tt){this._prepareBlock(_e,tt);var rt=this.W,nt=this.h[0],it=this.h[1],at=this.h[2],st=this.h[3],ct=this.h[4],ut=this.h[5],ft=this.h[6],gt=this.h[7],_t=this.h[8],Et=this.h[9],$t=this.h[10],It=this.h[11],Tt=this.h[12],At=this.h[13],Rt=this.h[14],kt=this.h[15];assert$7(this.k.length===rt.length);for(var Ot=0;Ot<rt.length;Ot+=2){var Wt=Rt,zt=kt,Kt=s1_512_hi(_t,Et),Jt=s1_512_lo(_t,Et),ar=ch64_hi(_t,Et,$t,It,Tt),jt=ch64_lo(_t,Et,$t,It,Tt,At),Ct=this.k[Ot],Nt=this.k[Ot+1],ht=rt[Ot],ot=rt[Ot+1],dt=sum64_5_hi(Wt,zt,Kt,Jt,ar,jt,Ct,Nt,ht,ot),mt=sum64_5_lo(Wt,zt,Kt,Jt,ar,jt,Ct,Nt,ht,ot);Wt=s0_512_hi(nt,it),zt=s0_512_lo(nt,it),Kt=maj64_hi(nt,it,at,st,ct),Jt=maj64_lo(nt,it,at,st,ct,ut);var wt=sum64_hi(Wt,zt,Kt,Jt),bt=sum64_lo(Wt,zt,Kt,Jt);Rt=Tt,kt=At,Tt=$t,At=It,$t=_t,It=Et,_t=sum64_hi(ft,gt,dt,mt),Et=sum64_lo(gt,gt,dt,mt),ft=ct,gt=ut,ct=at,ut=st,at=nt,st=it,nt=sum64_hi(dt,mt,wt,bt),it=sum64_lo(dt,mt,wt,bt)}sum64(this.h,0,nt,it),sum64(this.h,2,at,st),sum64(this.h,4,ct,ut),sum64(this.h,6,ft,gt),sum64(this.h,8,_t,Et),sum64(this.h,10,$t,It),sum64(this.h,12,Tt,At),sum64(this.h,14,Rt,kt)};SHA512$1.prototype._digest=function(_e){return _e==="hex"?utils$a.toHex32(this.h,"big"):utils$a.split32(this.h,"big")};function ch64_hi(et,_e,tt,rt,nt){var it=et&tt^~et&nt;return it<0&&(it+=4294967296),it}function ch64_lo(et,_e,tt,rt,nt,it){var at=_e&rt^~_e&it;return at<0&&(at+=4294967296),at}function maj64_hi(et,_e,tt,rt,nt){var it=et&tt^et&nt^tt&nt;return it<0&&(it+=4294967296),it}function maj64_lo(et,_e,tt,rt,nt,it){var at=_e&rt^_e&it^rt&it;return at<0&&(at+=4294967296),at}function s0_512_hi(et,_e){var tt=rotr64_hi(et,_e,28),rt=rotr64_hi(_e,et,2),nt=rotr64_hi(_e,et,7),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function s0_512_lo(et,_e){var tt=rotr64_lo(et,_e,28),rt=rotr64_lo(_e,et,2),nt=rotr64_lo(_e,et,7),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function s1_512_hi(et,_e){var tt=rotr64_hi(et,_e,14),rt=rotr64_hi(et,_e,18),nt=rotr64_hi(_e,et,9),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function s1_512_lo(et,_e){var tt=rotr64_lo(et,_e,14),rt=rotr64_lo(et,_e,18),nt=rotr64_lo(_e,et,9),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function g0_512_hi(et,_e){var tt=rotr64_hi(et,_e,1),rt=rotr64_hi(et,_e,8),nt=shr64_hi(et,_e,7),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function g0_512_lo(et,_e){var tt=rotr64_lo(et,_e,1),rt=rotr64_lo(et,_e,8),nt=shr64_lo(et,_e,7),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function g1_512_hi(et,_e){var tt=rotr64_hi(et,_e,19),rt=rotr64_hi(_e,et,29),nt=shr64_hi(et,_e,6),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function g1_512_lo(et,_e){var tt=rotr64_lo(et,_e,19),rt=rotr64_lo(_e,et,29),nt=shr64_lo(et,_e,6),it=tt^rt^nt;return it<0&&(it+=4294967296),it}var utils$9=utils$g,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$9.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(_e){return _e==="hex"?utils$9.toHex32(this.h.slice(0,12),"big"):utils$9.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$8=utils$g,common=common$5,rotl32=utils$8.rotl32,sum32=utils$8.sum32,sum32_3=utils$8.sum32_3,sum32_4=utils$8.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$8.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(_e,tt){for(var rt=this.h[0],nt=this.h[1],it=this.h[2],at=this.h[3],st=this.h[4],ct=rt,ut=nt,ft=it,gt=at,_t=st,Et=0;Et<80;Et++){var $t=sum32(rotl32(sum32_4(rt,f$5(Et,nt,it,at),_e[r$5[Et]+tt],K$1(Et)),s$4[Et]),st);rt=st,st=at,at=rotl32(it,10),it=nt,nt=$t,$t=sum32(rotl32(sum32_4(ct,f$5(79-Et,ut,ft,gt),_e[rh[Et]+tt],Kh(Et)),sh[Et]),_t),ct=_t,_t=gt,gt=rotl32(ft,10),ft=ut,ut=$t}$t=sum32_3(this.h[1],it,gt),this.h[1]=sum32_3(this.h[2],at,_t),this.h[2]=sum32_3(this.h[3],st,ct),this.h[3]=sum32_3(this.h[4],rt,ut),this.h[4]=sum32_3(this.h[0],nt,ft),this.h[0]=$t};RIPEMD160.prototype._digest=function(_e){return _e==="hex"?utils$8.toHex32(this.h,"little"):utils$8.split32(this.h,"little")};function f$5(et,_e,tt,rt){return et<=15?_e^tt^rt:et<=31?_e&tt|~_e&rt:et<=47?(_e|~tt)^rt:et<=63?_e&rt|tt&~rt:_e^(tt|~rt)}function K$1(et){return et<=15?0:et<=31?1518500249:et<=47?1859775393:et<=63?2400959708:2840853838}function Kh(et){return et<=15?1352829926:et<=31?1548603684:et<=47?1836072691:et<=63?2053994217:0}var r$5=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$4=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$7=utils$g,assert$6=minimalisticAssert$1;function Hmac(et,_e,tt){if(!(this instanceof Hmac))return new Hmac(et,_e,tt);this.Hash=et,this.blockSize=et.blockSize/8,this.outSize=et.outSize/8,this.inner=null,this.outer=null,this._init(utils$7.toArray(_e,tt))}var hmac$1=Hmac;Hmac.prototype._init=function(_e){_e.length>this.blockSize&&(_e=new this.Hash().update(_e).digest()),assert$6(_e.length<=this.blockSize);for(var tt=_e.length;tt<this.blockSize;tt++)_e.push(0);for(tt=0;tt<_e.length;tt++)_e[tt]^=54;for(this.inner=new this.Hash().update(_e),tt=0;tt<_e.length;tt++)_e[tt]^=106;this.outer=new this.Hash().update(_e)};Hmac.prototype.update=function(_e,tt){return this.inner.update(_e,tt),this};Hmac.prototype.digest=function(_e){return this.outer.update(this.inner.digest()),this.outer.digest(_e)};(function(et){var _e=et;_e.utils=utils$g,_e.common=common$5,_e.sha=sha,_e.ripemd=ripemd,_e.hmac=hmac$1,_e.sha1=_e.sha.sha1,_e.sha256=_e.sha.sha256,_e.sha224=_e.sha.sha224,_e.sha384=_e.sha.sha384,_e.sha512=_e.sha.sha512,_e.ripemd160=_e.ripemd.ripemd160})(hash$1);function createCommonjsModule(et,_e,tt){return tt={path:_e,exports:{},require:function(rt,nt){return commonjsRequire(rt,nt==null?tt.path:nt)}},et(tt,tt.exports),tt.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert;function assert(et,_e){if(!et)throw new Error(_e||"Assertion failed")}assert.equal=function(_e,tt,rt){if(_e!=tt)throw new Error(rt||"Assertion failed: "+_e+" != "+tt)};var utils_1$1=createCommonjsModule(function(et,_e){var tt=_e;function rt(at,st){if(Array.isArray(at))return at.slice();if(!at)return[];var ct=[];if(typeof at!="string"){for(var ut=0;ut<at.length;ut++)ct[ut]=at[ut]|0;return ct}if(st==="hex"){at=at.replace(/[^a-z0-9]+/ig,""),at.length%2!==0&&(at="0"+at);for(var ut=0;ut<at.length;ut+=2)ct.push(parseInt(at[ut]+at[ut+1],16))}else for(var ut=0;ut<at.length;ut++){var ft=at.charCodeAt(ut),gt=ft>>8,_t=ft&255;gt?ct.push(gt,_t):ct.push(_t)}return ct}tt.toArray=rt;function nt(at){return at.length===1?"0"+at:at}tt.zero2=nt;function it(at){for(var st="",ct=0;ct<at.length;ct++)st+=nt(at[ct].toString(16));return st}tt.toHex=it,tt.encode=function(st,ct){return ct==="hex"?it(st):st}}),utils_1$1$1=createCommonjsModule(function(et,_e){var tt=_e;tt.assert=minimalisticAssert,tt.toArray=utils_1$1.toArray,tt.zero2=utils_1$1.zero2,tt.toHex=utils_1$1.toHex,tt.encode=utils_1$1.encode;function rt(ct,ut,ft){var gt=new Array(Math.max(ct.bitLength(),ft)+1);gt.fill(0);for(var _t=1<<ut+1,Et=ct.clone(),$t=0;$t<gt.length;$t++){var It,Tt=Et.andln(_t-1);Et.isOdd()?(Tt>(_t>>1)-1?It=(_t>>1)-Tt:It=Tt,Et.isubn(It)):It=0,gt[$t]=It,Et.iushrn(1)}return gt}tt.getNAF=rt;function nt(ct,ut){var ft=[[],[]];ct=ct.clone(),ut=ut.clone();for(var gt=0,_t=0,Et;ct.cmpn(-gt)>0||ut.cmpn(-_t)>0;){var $t=ct.andln(3)+gt&3,It=ut.andln(3)+_t&3;$t===3&&($t=-1),It===3&&(It=-1);var Tt;($t&1)===0?Tt=0:(Et=ct.andln(7)+gt&7,(Et===3||Et===5)&&It===2?Tt=-$t:Tt=$t),ft[0].push(Tt);var At;(It&1)===0?At=0:(Et=ut.andln(7)+_t&7,(Et===3||Et===5)&&$t===2?At=-It:At=It),ft[1].push(At),2*gt===Tt+1&&(gt=1-gt),2*_t===At+1&&(_t=1-_t),ct.iushrn(1),ut.iushrn(1)}return ft}tt.getJSF=nt;function it(ct,ut,ft){var gt="_"+ut;ct.prototype[ut]=function(){return this[gt]!==void 0?this[gt]:this[gt]=ft.call(this)}}tt.cachedProperty=it;function at(ct){return typeof ct=="string"?tt.toArray(ct,"hex"):ct}tt.parseBytes=at;function st(ct){return new BN$4(ct,"hex","le")}tt.intFromLE=st}),getNAF=utils_1$1$1.getNAF,getJSF=utils_1$1$1.getJSF,assert$1=utils_1$1$1.assert;function BaseCurve(et,_e){this.type=et,this.p=new BN$4(_e.p,16),this.red=_e.prime?BN$4.red(_e.prime):BN$4.mont(this.p),this.zero=new BN$4(0).toRed(this.red),this.one=new BN$4(1).toRed(this.red),this.two=new BN$4(2).toRed(this.red),this.n=_e.n&&new BN$4(_e.n,16),this.g=_e.g&&this.pointFromJSON(_e.g,_e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var tt=this.n&&this.p.div(this.n);!tt||tt.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$2=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(_e,tt){assert$1(_e.precomputed);var rt=_e._getDoubles(),nt=getNAF(tt,1,this._bitLength),it=(1<<rt.step+1)-(rt.step%2===0?2:1);it/=3;var at=[],st,ct;for(st=0;st<nt.length;st+=rt.step){ct=0;for(var ut=st+rt.step-1;ut>=st;ut--)ct=(ct<<1)+nt[ut];at.push(ct)}for(var ft=this.jpoint(null,null,null),gt=this.jpoint(null,null,null),_t=it;_t>0;_t--){for(st=0;st<at.length;st++)ct=at[st],ct===_t?gt=gt.mixedAdd(rt.points[st]):ct===-_t&&(gt=gt.mixedAdd(rt.points[st].neg()));ft=ft.add(gt)}return ft.toP()};BaseCurve.prototype._wnafMul=function(_e,tt){var rt=4,nt=_e._getNAFPoints(rt);rt=nt.wnd;for(var it=nt.points,at=getNAF(tt,rt,this._bitLength),st=this.jpoint(null,null,null),ct=at.length-1;ct>=0;ct--){for(var ut=0;ct>=0&&at[ct]===0;ct--)ut++;if(ct>=0&&ut++,st=st.dblp(ut),ct<0)break;var ft=at[ct];assert$1(ft!==0),_e.type==="affine"?ft>0?st=st.mixedAdd(it[ft-1>>1]):st=st.mixedAdd(it[-ft-1>>1].neg()):ft>0?st=st.add(it[ft-1>>1]):st=st.add(it[-ft-1>>1].neg())}return _e.type==="affine"?st.toP():st};BaseCurve.prototype._wnafMulAdd=function(_e,tt,rt,nt,it){var at=this._wnafT1,st=this._wnafT2,ct=this._wnafT3,ut=0,ft,gt,_t;for(ft=0;ft<nt;ft++){_t=tt[ft];var Et=_t._getNAFPoints(_e);at[ft]=Et.wnd,st[ft]=Et.points}for(ft=nt-1;ft>=1;ft-=2){var $t=ft-1,It=ft;if(at[$t]!==1||at[It]!==1){ct[$t]=getNAF(rt[$t],at[$t],this._bitLength),ct[It]=getNAF(rt[It],at[It],this._bitLength),ut=Math.max(ct[$t].length,ut),ut=Math.max(ct[It].length,ut);continue}var Tt=[tt[$t],null,null,tt[It]];tt[$t].y.cmp(tt[It].y)===0?(Tt[1]=tt[$t].add(tt[It]),Tt[2]=tt[$t].toJ().mixedAdd(tt[It].neg())):tt[$t].y.cmp(tt[It].y.redNeg())===0?(Tt[1]=tt[$t].toJ().mixedAdd(tt[It]),Tt[2]=tt[$t].add(tt[It].neg())):(Tt[1]=tt[$t].toJ().mixedAdd(tt[It]),Tt[2]=tt[$t].toJ().mixedAdd(tt[It].neg()));var At=[-3,-1,-5,-7,0,7,5,1,3],Rt=getJSF(rt[$t],rt[It]);for(ut=Math.max(Rt[0].length,ut),ct[$t]=new Array(ut),ct[It]=new Array(ut),gt=0;gt<ut;gt++){var kt=Rt[0][gt]|0,Ot=Rt[1][gt]|0;ct[$t][gt]=At[(kt+1)*3+(Ot+1)],ct[It][gt]=0,st[$t]=Tt}}var Wt=this.jpoint(null,null,null),zt=this._wnafT4;for(ft=ut;ft>=0;ft--){for(var Kt=0;ft>=0;){var Jt=!0;for(gt=0;gt<nt;gt++)zt[gt]=ct[gt][ft]|0,zt[gt]!==0&&(Jt=!1);if(!Jt)break;Kt++,ft--}if(ft>=0&&Kt++,Wt=Wt.dblp(Kt),ft<0)break;for(gt=0;gt<nt;gt++){var ar=zt[gt];ar!==0&&(ar>0?_t=st[gt][ar-1>>1]:ar<0&&(_t=st[gt][-ar-1>>1].neg()),_t.type==="affine"?Wt=Wt.mixedAdd(_t):Wt=Wt.add(_t))}}for(ft=0;ft<nt;ft++)st[ft]=null;return it?Wt:Wt.toP()};function BasePoint(et,_e){this.curve=et,this.type=_e,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(_e,tt){_e=utils_1$1$1.toArray(_e,tt);var rt=this.p.byteLength();if((_e[0]===4||_e[0]===6||_e[0]===7)&&_e.length-1===2*rt){_e[0]===6?assert$1(_e[_e.length-1]%2===0):_e[0]===7&&assert$1(_e[_e.length-1]%2===1);var nt=this.point(_e.slice(1,1+rt),_e.slice(1+rt,1+2*rt));return nt}else if((_e[0]===2||_e[0]===3)&&_e.length-1===rt)return this.pointFromX(_e.slice(1,1+rt),_e[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(_e){return this.encode(_e,!0)};BasePoint.prototype._encode=function(_e){var tt=this.curve.p.byteLength(),rt=this.getX().toArray("be",tt);return _e?[this.getY().isEven()?2:3].concat(rt):[4].concat(rt,this.getY().toArray("be",tt))};BasePoint.prototype.encode=function(_e,tt){return utils_1$1$1.encode(this._encode(tt),_e)};BasePoint.prototype.precompute=function(_e){if(this.precomputed)return this;var tt={doubles:null,naf:null,beta:null};return tt.naf=this._getNAFPoints(8),tt.doubles=this._getDoubles(4,_e),tt.beta=this._getBeta(),this.precomputed=tt,this};BasePoint.prototype._hasDoubles=function(_e){if(!this.precomputed)return!1;var tt=this.precomputed.doubles;return tt?tt.points.length>=Math.ceil((_e.bitLength()+1)/tt.step):!1};BasePoint.prototype._getDoubles=function(_e,tt){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var rt=[this],nt=this,it=0;it<tt;it+=_e){for(var at=0;at<_e;at++)nt=nt.dbl();rt.push(nt)}return{step:_e,points:rt}};BasePoint.prototype._getNAFPoints=function(_e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var tt=[this],rt=(1<<_e)-1,nt=rt===1?null:this.dbl(),it=1;it<rt;it++)tt[it]=tt[it-1].add(nt);return{wnd:_e,points:tt}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(_e){for(var tt=this,rt=0;rt<_e;rt++)tt=tt.dbl();return tt};var inherits_browser=createCommonjsModule(function(et){typeof Object.create=="function"?et.exports=function(tt,rt){rt&&(tt.super_=rt,tt.prototype=Object.create(rt.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}))}:et.exports=function(tt,rt){if(rt){tt.super_=rt;var nt=function(){};nt.prototype=rt.prototype,tt.prototype=new nt,tt.prototype.constructor=tt}}}),assert$2=utils_1$1$1.assert;function ShortCurve(et){base$2.call(this,"short",et),this.a=new BN$4(et.a,16).toRed(this.red),this.b=new BN$4(et.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(et),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser(ShortCurve,base$2);var short_1=ShortCurve;ShortCurve.prototype._getEndomorphism=function(_e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var tt,rt;if(_e.beta)tt=new BN$4(_e.beta,16).toRed(this.red);else{var nt=this._getEndoRoots(this.p);tt=nt[0].cmp(nt[1])<0?nt[0]:nt[1],tt=tt.toRed(this.red)}if(_e.lambda)rt=new BN$4(_e.lambda,16);else{var it=this._getEndoRoots(this.n);this.g.mul(it[0]).x.cmp(this.g.x.redMul(tt))===0?rt=it[0]:(rt=it[1],assert$2(this.g.mul(rt).x.cmp(this.g.x.redMul(tt))===0))}var at;return _e.basis?at=_e.basis.map(function(st){return{a:new BN$4(st.a,16),b:new BN$4(st.b,16)}}):at=this._getEndoBasis(rt),{beta:tt,lambda:rt,basis:at}}};ShortCurve.prototype._getEndoRoots=function(_e){var tt=_e===this.p?this.red:BN$4.mont(_e),rt=new BN$4(2).toRed(tt).redInvm(),nt=rt.redNeg(),it=new BN$4(3).toRed(tt).redNeg().redSqrt().redMul(rt),at=nt.redAdd(it).fromRed(),st=nt.redSub(it).fromRed();return[at,st]};ShortCurve.prototype._getEndoBasis=function(_e){for(var tt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),rt=_e,nt=this.n.clone(),it=new BN$4(1),at=new BN$4(0),st=new BN$4(0),ct=new BN$4(1),ut,ft,gt,_t,Et,$t,It,Tt=0,At,Rt;rt.cmpn(0)!==0;){var kt=nt.div(rt);At=nt.sub(kt.mul(rt)),Rt=st.sub(kt.mul(it));var Ot=ct.sub(kt.mul(at));if(!gt&&At.cmp(tt)<0)ut=It.neg(),ft=it,gt=At.neg(),_t=Rt;else if(gt&&++Tt===2)break;It=At,nt=rt,rt=At,st=it,it=Rt,ct=at,at=Ot}Et=At.neg(),$t=Rt;var Wt=gt.sqr().add(_t.sqr()),zt=Et.sqr().add($t.sqr());return zt.cmp(Wt)>=0&&(Et=ut,$t=ft),gt.negative&&(gt=gt.neg(),_t=_t.neg()),Et.negative&&(Et=Et.neg(),$t=$t.neg()),[{a:gt,b:_t},{a:Et,b:$t}]};ShortCurve.prototype._endoSplit=function(_e){var tt=this.endo.basis,rt=tt[0],nt=tt[1],it=nt.b.mul(_e).divRound(this.n),at=rt.b.neg().mul(_e).divRound(this.n),st=it.mul(rt.a),ct=at.mul(nt.a),ut=it.mul(rt.b),ft=at.mul(nt.b),gt=_e.sub(st).sub(ct),_t=ut.add(ft).neg();return{k1:gt,k2:_t}};ShortCurve.prototype.pointFromX=function(_e,tt){_e=new BN$4(_e,16),_e.red||(_e=_e.toRed(this.red));var rt=_e.redSqr().redMul(_e).redIAdd(_e.redMul(this.a)).redIAdd(this.b),nt=rt.redSqrt();if(nt.redSqr().redSub(rt).cmp(this.zero)!==0)throw new Error("invalid point");var it=nt.fromRed().isOdd();return(tt&&!it||!tt&&it)&&(nt=nt.redNeg()),this.point(_e,nt)};ShortCurve.prototype.validate=function(_e){if(_e.inf)return!0;var tt=_e.x,rt=_e.y,nt=this.a.redMul(tt),it=tt.redSqr().redMul(tt).redIAdd(nt).redIAdd(this.b);return rt.redSqr().redISub(it).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(_e,tt,rt){for(var nt=this._endoWnafT1,it=this._endoWnafT2,at=0;at<_e.length;at++){var st=this._endoSplit(tt[at]),ct=_e[at],ut=ct._getBeta();st.k1.negative&&(st.k1.ineg(),ct=ct.neg(!0)),st.k2.negative&&(st.k2.ineg(),ut=ut.neg(!0)),nt[at*2]=ct,nt[at*2+1]=ut,it[at*2]=st.k1,it[at*2+1]=st.k2}for(var ft=this._wnafMulAdd(1,nt,it,at*2,rt),gt=0;gt<at*2;gt++)nt[gt]=null,it[gt]=null;return ft};function Point(et,_e,tt,rt){base$2.BasePoint.call(this,et,"affine"),_e===null&&tt===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$4(_e,16),this.y=new BN$4(tt,16),rt&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser(Point,base$2.BasePoint);ShortCurve.prototype.point=function(_e,tt,rt){return new Point(this,_e,tt,rt)};ShortCurve.prototype.pointFromJSON=function(_e,tt){return Point.fromJSON(this,_e,tt)};Point.prototype._getBeta=function(){if(!!this.curve.endo){var _e=this.precomputed;if(_e&&_e.beta)return _e.beta;var tt=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(_e){var rt=this.curve,nt=function(it){return rt.point(it.x.redMul(rt.endo.beta),it.y)};_e.beta=tt,tt.precomputed={beta:null,naf:_e.naf&&{wnd:_e.naf.wnd,points:_e.naf.points.map(nt)},doubles:_e.doubles&&{step:_e.doubles.step,points:_e.doubles.points.map(nt)}}}return tt}};Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point.fromJSON=function(_e,tt,rt){typeof tt=="string"&&(tt=JSON.parse(tt));var nt=_e.point(tt[0],tt[1],rt);if(!tt[2])return nt;function it(st){return _e.point(st[0],st[1],rt)}var at=tt[2];return nt.precomputed={beta:null,doubles:at.doubles&&{step:at.doubles.step,points:[nt].concat(at.doubles.points.map(it))},naf:at.naf&&{wnd:at.naf.wnd,points:[nt].concat(at.naf.points.map(it))}},nt};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.inf};Point.prototype.add=function(_e){if(this.inf)return _e;if(_e.inf)return this;if(this.eq(_e))return this.dbl();if(this.neg().eq(_e))return this.curve.point(null,null);if(this.x.cmp(_e.x)===0)return this.curve.point(null,null);var tt=this.y.redSub(_e.y);tt.cmpn(0)!==0&&(tt=tt.redMul(this.x.redSub(_e.x).redInvm()));var rt=tt.redSqr().redISub(this.x).redISub(_e.x),nt=tt.redMul(this.x.redSub(rt)).redISub(this.y);return this.curve.point(rt,nt)};Point.prototype.dbl=function(){if(this.inf)return this;var _e=this.y.redAdd(this.y);if(_e.cmpn(0)===0)return this.curve.point(null,null);var tt=this.curve.a,rt=this.x.redSqr(),nt=_e.redInvm(),it=rt.redAdd(rt).redIAdd(rt).redIAdd(tt).redMul(nt),at=it.redSqr().redISub(this.x.redAdd(this.x)),st=it.redMul(this.x.redSub(at)).redISub(this.y);return this.curve.point(at,st)};Point.prototype.getX=function(){return this.x.fromRed()};Point.prototype.getY=function(){return this.y.fromRed()};Point.prototype.mul=function(_e){return _e=new BN$4(_e,16),this.isInfinity()?this:this._hasDoubles(_e)?this.curve._fixedNafMul(this,_e):this.curve.endo?this.curve._endoWnafMulAdd([this],[_e]):this.curve._wnafMul(this,_e)};Point.prototype.mulAdd=function(_e,tt,rt){var nt=[this,tt],it=[_e,rt];return this.curve.endo?this.curve._endoWnafMulAdd(nt,it):this.curve._wnafMulAdd(1,nt,it,2)};Point.prototype.jmulAdd=function(_e,tt,rt){var nt=[this,tt],it=[_e,rt];return this.curve.endo?this.curve._endoWnafMulAdd(nt,it,!0):this.curve._wnafMulAdd(1,nt,it,2,!0)};Point.prototype.eq=function(_e){return this===_e||this.inf===_e.inf&&(this.inf||this.x.cmp(_e.x)===0&&this.y.cmp(_e.y)===0)};Point.prototype.neg=function(_e){if(this.inf)return this;var tt=this.curve.point(this.x,this.y.redNeg());if(_e&&this.precomputed){var rt=this.precomputed,nt=function(it){return it.neg()};tt.precomputed={naf:rt.naf&&{wnd:rt.naf.wnd,points:rt.naf.points.map(nt)},doubles:rt.doubles&&{step:rt.doubles.step,points:rt.doubles.points.map(nt)}}}return tt};Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var _e=this.curve.jpoint(this.x,this.y,this.curve.one);return _e};function JPoint(et,_e,tt,rt){base$2.BasePoint.call(this,et,"jacobian"),_e===null&&tt===null&&rt===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$4(0)):(this.x=new BN$4(_e,16),this.y=new BN$4(tt,16),this.z=new BN$4(rt,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser(JPoint,base$2.BasePoint);ShortCurve.prototype.jpoint=function(_e,tt,rt){return new JPoint(this,_e,tt,rt)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var _e=this.z.redInvm(),tt=_e.redSqr(),rt=this.x.redMul(tt),nt=this.y.redMul(tt).redMul(_e);return this.curve.point(rt,nt)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(_e){if(this.isInfinity())return _e;if(_e.isInfinity())return this;var tt=_e.z.redSqr(),rt=this.z.redSqr(),nt=this.x.redMul(tt),it=_e.x.redMul(rt),at=this.y.redMul(tt.redMul(_e.z)),st=_e.y.redMul(rt.redMul(this.z)),ct=nt.redSub(it),ut=at.redSub(st);if(ct.cmpn(0)===0)return ut.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ft=ct.redSqr(),gt=ft.redMul(ct),_t=nt.redMul(ft),Et=ut.redSqr().redIAdd(gt).redISub(_t).redISub(_t),$t=ut.redMul(_t.redISub(Et)).redISub(at.redMul(gt)),It=this.z.redMul(_e.z).redMul(ct);return this.curve.jpoint(Et,$t,It)};JPoint.prototype.mixedAdd=function(_e){if(this.isInfinity())return _e.toJ();if(_e.isInfinity())return this;var tt=this.z.redSqr(),rt=this.x,nt=_e.x.redMul(tt),it=this.y,at=_e.y.redMul(tt).redMul(this.z),st=rt.redSub(nt),ct=it.redSub(at);if(st.cmpn(0)===0)return ct.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ut=st.redSqr(),ft=ut.redMul(st),gt=rt.redMul(ut),_t=ct.redSqr().redIAdd(ft).redISub(gt).redISub(gt),Et=ct.redMul(gt.redISub(_t)).redISub(it.redMul(ft)),$t=this.z.redMul(st);return this.curve.jpoint(_t,Et,$t)};JPoint.prototype.dblp=function(_e){if(_e===0)return this;if(this.isInfinity())return this;if(!_e)return this.dbl();var tt;if(this.curve.zeroA||this.curve.threeA){var rt=this;for(tt=0;tt<_e;tt++)rt=rt.dbl();return rt}var nt=this.curve.a,it=this.curve.tinv,at=this.x,st=this.y,ct=this.z,ut=ct.redSqr().redSqr(),ft=st.redAdd(st);for(tt=0;tt<_e;tt++){var gt=at.redSqr(),_t=ft.redSqr(),Et=_t.redSqr(),$t=gt.redAdd(gt).redIAdd(gt).redIAdd(nt.redMul(ut)),It=at.redMul(_t),Tt=$t.redSqr().redISub(It.redAdd(It)),At=It.redISub(Tt),Rt=$t.redMul(At);Rt=Rt.redIAdd(Rt).redISub(Et);var kt=ft.redMul(ct);tt+1<_e&&(ut=ut.redMul(Et)),at=Tt,ct=kt,ft=Rt}return this.curve.jpoint(at,ft.redMul(it),ct)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var _e,tt,rt;if(this.zOne){var nt=this.x.redSqr(),it=this.y.redSqr(),at=it.redSqr(),st=this.x.redAdd(it).redSqr().redISub(nt).redISub(at);st=st.redIAdd(st);var ct=nt.redAdd(nt).redIAdd(nt),ut=ct.redSqr().redISub(st).redISub(st),ft=at.redIAdd(at);ft=ft.redIAdd(ft),ft=ft.redIAdd(ft),_e=ut,tt=ct.redMul(st.redISub(ut)).redISub(ft),rt=this.y.redAdd(this.y)}else{var gt=this.x.redSqr(),_t=this.y.redSqr(),Et=_t.redSqr(),$t=this.x.redAdd(_t).redSqr().redISub(gt).redISub(Et);$t=$t.redIAdd($t);var It=gt.redAdd(gt).redIAdd(gt),Tt=It.redSqr(),At=Et.redIAdd(Et);At=At.redIAdd(At),At=At.redIAdd(At),_e=Tt.redISub($t).redISub($t),tt=It.redMul($t.redISub(_e)).redISub(At),rt=this.y.redMul(this.z),rt=rt.redIAdd(rt)}return this.curve.jpoint(_e,tt,rt)};JPoint.prototype._threeDbl=function(){var _e,tt,rt;if(this.zOne){var nt=this.x.redSqr(),it=this.y.redSqr(),at=it.redSqr(),st=this.x.redAdd(it).redSqr().redISub(nt).redISub(at);st=st.redIAdd(st);var ct=nt.redAdd(nt).redIAdd(nt).redIAdd(this.curve.a),ut=ct.redSqr().redISub(st).redISub(st);_e=ut;var ft=at.redIAdd(at);ft=ft.redIAdd(ft),ft=ft.redIAdd(ft),tt=ct.redMul(st.redISub(ut)).redISub(ft),rt=this.y.redAdd(this.y)}else{var gt=this.z.redSqr(),_t=this.y.redSqr(),Et=this.x.redMul(_t),$t=this.x.redSub(gt).redMul(this.x.redAdd(gt));$t=$t.redAdd($t).redIAdd($t);var It=Et.redIAdd(Et);It=It.redIAdd(It);var Tt=It.redAdd(It);_e=$t.redSqr().redISub(Tt),rt=this.y.redAdd(this.z).redSqr().redISub(_t).redISub(gt);var At=_t.redSqr();At=At.redIAdd(At),At=At.redIAdd(At),At=At.redIAdd(At),tt=$t.redMul(It.redISub(_e)).redISub(At)}return this.curve.jpoint(_e,tt,rt)};JPoint.prototype._dbl=function(){var _e=this.curve.a,tt=this.x,rt=this.y,nt=this.z,it=nt.redSqr().redSqr(),at=tt.redSqr(),st=rt.redSqr(),ct=at.redAdd(at).redIAdd(at).redIAdd(_e.redMul(it)),ut=tt.redAdd(tt);ut=ut.redIAdd(ut);var ft=ut.redMul(st),gt=ct.redSqr().redISub(ft.redAdd(ft)),_t=ft.redISub(gt),Et=st.redSqr();Et=Et.redIAdd(Et),Et=Et.redIAdd(Et),Et=Et.redIAdd(Et);var $t=ct.redMul(_t).redISub(Et),It=rt.redAdd(rt).redMul(nt);return this.curve.jpoint(gt,$t,It)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var _e=this.x.redSqr(),tt=this.y.redSqr(),rt=this.z.redSqr(),nt=tt.redSqr(),it=_e.redAdd(_e).redIAdd(_e),at=it.redSqr(),st=this.x.redAdd(tt).redSqr().redISub(_e).redISub(nt);st=st.redIAdd(st),st=st.redAdd(st).redIAdd(st),st=st.redISub(at);var ct=st.redSqr(),ut=nt.redIAdd(nt);ut=ut.redIAdd(ut),ut=ut.redIAdd(ut),ut=ut.redIAdd(ut);var ft=it.redIAdd(st).redSqr().redISub(at).redISub(ct).redISub(ut),gt=tt.redMul(ft);gt=gt.redIAdd(gt),gt=gt.redIAdd(gt);var _t=this.x.redMul(ct).redISub(gt);_t=_t.redIAdd(_t),_t=_t.redIAdd(_t);var Et=this.y.redMul(ft.redMul(ut.redISub(ft)).redISub(st.redMul(ct)));Et=Et.redIAdd(Et),Et=Et.redIAdd(Et),Et=Et.redIAdd(Et);var $t=this.z.redAdd(st).redSqr().redISub(rt).redISub(ct);return this.curve.jpoint(_t,Et,$t)};JPoint.prototype.mul=function(_e,tt){return _e=new BN$4(_e,tt),this.curve._wnafMul(this,_e)};JPoint.prototype.eq=function(_e){if(_e.type==="affine")return this.eq(_e.toJ());if(this===_e)return!0;var tt=this.z.redSqr(),rt=_e.z.redSqr();if(this.x.redMul(rt).redISub(_e.x.redMul(tt)).cmpn(0)!==0)return!1;var nt=tt.redMul(this.z),it=rt.redMul(_e.z);return this.y.redMul(it).redISub(_e.y.redMul(nt)).cmpn(0)===0};JPoint.prototype.eqXToP=function(_e){var tt=this.z.redSqr(),rt=_e.toRed(this.curve.red).redMul(tt);if(this.x.cmp(rt)===0)return!0;for(var nt=_e.clone(),it=this.curve.redN.redMul(tt);;){if(nt.iadd(this.curve.n),nt.cmp(this.curve.p)>=0)return!1;if(rt.redIAdd(it),this.x.cmp(rt)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var curve_1=createCommonjsModule(function(et,_e){var tt=_e;tt.base=base$2,tt.short=short_1,tt.mont=null,tt.edwards=null}),curves_1=createCommonjsModule(function(et,_e){var tt=_e,rt=utils_1$1$1.assert;function nt(st){st.type==="short"?this.curve=new curve_1.short(st):st.type==="edwards"?this.curve=new curve_1.edwards(st):this.curve=new curve_1.mont(st),this.g=this.curve.g,this.n=this.curve.n,this.hash=st.hash,rt(this.g.validate(),"Invalid curve"),rt(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}tt.PresetCurve=nt;function it(st,ct){Object.defineProperty(tt,st,{configurable:!0,enumerable:!0,get:function(){var ut=new nt(ct);return Object.defineProperty(tt,st,{configurable:!0,enumerable:!0,value:ut}),ut}})}it("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$1.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),it("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$1.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),it("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$1.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),it("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$1.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),it("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$1.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),it("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$1.sha256,gRed:!1,g:["9"]}),it("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$1.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var at;try{at=null.crash()}catch{at=void 0}it("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$1.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",at]})});function HmacDRBG(et){if(!(this instanceof HmacDRBG))return new HmacDRBG(et);this.hash=et.hash,this.predResist=!!et.predResist,this.outLen=this.hash.outSize,this.minEntropy=et.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var _e=utils_1$1.toArray(et.entropy,et.entropyEnc||"hex"),tt=utils_1$1.toArray(et.nonce,et.nonceEnc||"hex"),rt=utils_1$1.toArray(et.pers,et.persEnc||"hex");minimalisticAssert(_e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(_e,tt,rt)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(_e,tt,rt){var nt=_e.concat(tt).concat(rt);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var it=0;it<this.V.length;it++)this.K[it]=0,this.V[it]=1;this._update(nt),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash$1.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function(_e){var tt=this._hmac().update(this.V).update([0]);_e&&(tt=tt.update(_e)),this.K=tt.digest(),this.V=this._hmac().update(this.V).digest(),_e&&(this.K=this._hmac().update(this.V).update([1]).update(_e).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function(_e,tt,rt,nt){typeof tt!="string"&&(nt=rt,rt=tt,tt=null),_e=utils_1$1.toArray(_e,tt),rt=utils_1$1.toArray(rt,nt),minimalisticAssert(_e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(_e.concat(rt||[])),this._reseed=1};HmacDRBG.prototype.generate=function(_e,tt,rt,nt){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof tt!="string"&&(nt=rt,rt=tt,tt=null),rt&&(rt=utils_1$1.toArray(rt,nt||"hex"),this._update(rt));for(var it=[];it.length<_e;)this.V=this._hmac().update(this.V).digest(),it=it.concat(this.V);var at=it.slice(0,_e);return this._update(rt),this._reseed++,utils_1$1.encode(at,tt)};var assert$3=utils_1$1$1.assert;function KeyPair(et,_e){this.ec=et,this.priv=null,this.pub=null,_e.priv&&this._importPrivate(_e.priv,_e.privEnc),_e.pub&&this._importPublic(_e.pub,_e.pubEnc)}var key=KeyPair;KeyPair.fromPublic=function(_e,tt,rt){return tt instanceof KeyPair?tt:new KeyPair(_e,{pub:tt,pubEnc:rt})};KeyPair.fromPrivate=function(_e,tt,rt){return tt instanceof KeyPair?tt:new KeyPair(_e,{priv:tt,privEnc:rt})};KeyPair.prototype.validate=function(){var _e=this.getPublic();return _e.isInfinity()?{result:!1,reason:"Invalid public key"}:_e.validate()?_e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair.prototype.getPublic=function(_e,tt){return typeof _e=="string"&&(tt=_e,_e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),tt?this.pub.encode(tt,_e):this.pub};KeyPair.prototype.getPrivate=function(_e){return _e==="hex"?this.priv.toString(16,2):this.priv};KeyPair.prototype._importPrivate=function(_e,tt){this.priv=new BN$4(_e,tt||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function(_e,tt){if(_e.x||_e.y){this.ec.curve.type==="mont"?assert$3(_e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3(_e.x&&_e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(_e.x,_e.y);return}this.pub=this.ec.curve.decodePoint(_e,tt)};KeyPair.prototype.derive=function(_e){return _e.validate()||assert$3(_e.validate(),"public point not validated"),_e.mul(this.priv).getX()};KeyPair.prototype.sign=function(_e,tt,rt){return this.ec.sign(_e,this,tt,rt)};KeyPair.prototype.verify=function(_e,tt){return this.ec.verify(_e,tt,this)};KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4=utils_1$1$1.assert;function Signature(et,_e){if(et instanceof Signature)return et;this._importDER(et,_e)||(assert$4(et.r&&et.s,"Signature without r or s"),this.r=new BN$4(et.r,16),this.s=new BN$4(et.s,16),et.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=et.recoveryParam)}var signature=Signature;function Position(){this.place=0}function getLength(et,_e){var tt=et[_e.place++];if(!(tt&128))return tt;var rt=tt&15;if(rt===0||rt>4)return!1;for(var nt=0,it=0,at=_e.place;it<rt;it++,at++)nt<<=8,nt|=et[at],nt>>>=0;return nt<=127?!1:(_e.place=at,nt)}function rmPadding(et){for(var _e=0,tt=et.length-1;!et[_e]&&!(et[_e+1]&128)&&_e<tt;)_e++;return _e===0?et:et.slice(_e)}Signature.prototype._importDER=function(_e,tt){_e=utils_1$1$1.toArray(_e,tt);var rt=new Position;if(_e[rt.place++]!==48)return!1;var nt=getLength(_e,rt);if(nt===!1||nt+rt.place!==_e.length||_e[rt.place++]!==2)return!1;var it=getLength(_e,rt);if(it===!1)return!1;var at=_e.slice(rt.place,it+rt.place);if(rt.place+=it,_e[rt.place++]!==2)return!1;var st=getLength(_e,rt);if(st===!1||_e.length!==st+rt.place)return!1;var ct=_e.slice(rt.place,st+rt.place);if(at[0]===0)if(at[1]&128)at=at.slice(1);else return!1;if(ct[0]===0)if(ct[1]&128)ct=ct.slice(1);else return!1;return this.r=new BN$4(at),this.s=new BN$4(ct),this.recoveryParam=null,!0};function constructLength(et,_e){if(_e<128){et.push(_e);return}var tt=1+(Math.log(_e)/Math.LN2>>>3);for(et.push(tt|128);--tt;)et.push(_e>>>(tt<<3)&255);et.push(_e)}Signature.prototype.toDER=function(_e){var tt=this.r.toArray(),rt=this.s.toArray();for(tt[0]&128&&(tt=[0].concat(tt)),rt[0]&128&&(rt=[0].concat(rt)),tt=rmPadding(tt),rt=rmPadding(rt);!rt[0]&&!(rt[1]&128);)rt=rt.slice(1);var nt=[2];constructLength(nt,tt.length),nt=nt.concat(tt),nt.push(2),constructLength(nt,rt.length);var it=nt.concat(rt),at=[48];return constructLength(at,it.length),at=at.concat(it),utils_1$1$1.encode(at,_e)};var rand=function(){throw new Error("unsupported")},assert$5=utils_1$1$1.assert;function EC(et){if(!(this instanceof EC))return new EC(et);typeof et=="string"&&(assert$5(Object.prototype.hasOwnProperty.call(curves_1,et),"Unknown curve "+et),et=curves_1[et]),et instanceof curves_1.PresetCurve&&(et={curve:et}),this.curve=et.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=et.curve.g,this.g.precompute(et.curve.n.bitLength()+1),this.hash=et.hash||et.curve.hash}var ec=EC;EC.prototype.keyPair=function(_e){return new key(this,_e)};EC.prototype.keyFromPrivate=function(_e,tt){return key.fromPrivate(this,_e,tt)};EC.prototype.keyFromPublic=function(_e,tt){return key.fromPublic(this,_e,tt)};EC.prototype.genKeyPair=function(_e){_e||(_e={});for(var tt=new hmacDrbg({hash:this.hash,pers:_e.pers,persEnc:_e.persEnc||"utf8",entropy:_e.entropy||rand(this.hash.hmacStrength),entropyEnc:_e.entropy&&_e.entropyEnc||"utf8",nonce:this.n.toArray()}),rt=this.n.byteLength(),nt=this.n.sub(new BN$4(2));;){var it=new BN$4(tt.generate(rt));if(!(it.cmp(nt)>0))return it.iaddn(1),this.keyFromPrivate(it)}};EC.prototype._truncateToN=function(_e,tt){var rt=_e.byteLength()*8-this.n.bitLength();return rt>0&&(_e=_e.ushrn(rt)),!tt&&_e.cmp(this.n)>=0?_e.sub(this.n):_e};EC.prototype.sign=function(_e,tt,rt,nt){typeof rt=="object"&&(nt=rt,rt=null),nt||(nt={}),tt=this.keyFromPrivate(tt,rt),_e=this._truncateToN(new BN$4(_e,16));for(var it=this.n.byteLength(),at=tt.getPrivate().toArray("be",it),st=_e.toArray("be",it),ct=new hmacDrbg({hash:this.hash,entropy:at,nonce:st,pers:nt.pers,persEnc:nt.persEnc||"utf8"}),ut=this.n.sub(new BN$4(1)),ft=0;;ft++){var gt=nt.k?nt.k(ft):new BN$4(ct.generate(this.n.byteLength()));if(gt=this._truncateToN(gt,!0),!(gt.cmpn(1)<=0||gt.cmp(ut)>=0)){var _t=this.g.mul(gt);if(!_t.isInfinity()){var Et=_t.getX(),$t=Et.umod(this.n);if($t.cmpn(0)!==0){var It=gt.invm(this.n).mul($t.mul(tt.getPrivate()).iadd(_e));if(It=It.umod(this.n),It.cmpn(0)!==0){var Tt=(_t.getY().isOdd()?1:0)|(Et.cmp($t)!==0?2:0);return nt.canonical&&It.cmp(this.nh)>0&&(It=this.n.sub(It),Tt^=1),new signature({r:$t,s:It,recoveryParam:Tt})}}}}}};EC.prototype.verify=function(_e,tt,rt,nt){_e=this._truncateToN(new BN$4(_e,16)),rt=this.keyFromPublic(rt,nt),tt=new signature(tt,"hex");var it=tt.r,at=tt.s;if(it.cmpn(1)<0||it.cmp(this.n)>=0||at.cmpn(1)<0||at.cmp(this.n)>=0)return!1;var st=at.invm(this.n),ct=st.mul(_e).umod(this.n),ut=st.mul(it).umod(this.n),ft;return this.curve._maxwellTrick?(ft=this.g.jmulAdd(ct,rt.getPublic(),ut),ft.isInfinity()?!1:ft.eqXToP(it)):(ft=this.g.mulAdd(ct,rt.getPublic(),ut),ft.isInfinity()?!1:ft.getX().umod(this.n).cmp(it)===0)};EC.prototype.recoverPubKey=function(et,_e,tt,rt){assert$5((3&tt)===tt,"The recovery param is more than two bits"),_e=new signature(_e,rt);var nt=this.n,it=new BN$4(et),at=_e.r,st=_e.s,ct=tt&1,ut=tt>>1;if(at.cmp(this.curve.p.umod(this.curve.n))>=0&&ut)throw new Error("Unable to find sencond key candinate");ut?at=this.curve.pointFromX(at.add(this.curve.n),ct):at=this.curve.pointFromX(at,ct);var ft=_e.r.invm(nt),gt=nt.sub(it).mul(ft).umod(nt),_t=st.mul(ft).umod(nt);return this.g.mulAdd(gt,at,_t)};EC.prototype.getKeyRecoveryParam=function(et,_e,tt,rt){if(_e=new signature(_e,rt),_e.recoveryParam!==null)return _e.recoveryParam;for(var nt=0;nt<4;nt++){var it;try{it=this.recoverPubKey(et,_e,nt)}catch{continue}if(it.eq(tt))return nt}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule(function(et,_e){var tt=_e;tt.version="6.5.4",tt.utils=utils_1$1$1,tt.rand=function(){throw new Error("unsupported")},tt.curve=curve_1,tt.curves=curves_1,tt.ec=ec,tt.eddsa=null}),EC$1=elliptic_1.ec;const version$j="signing-key/5.7.0",logger$t=new Logger$1(version$j);let _curve=null;function getCurve(){return _curve||(_curve=new EC$1("secp256k1")),_curve}class SigningKey{constructor(_e){defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify(_e)),hexDataLength(this.privateKey)!==32&&logger$t.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const tt=getCurve().keyFromPrivate(arrayify(this.privateKey));defineReadOnly(this,"publicKey","0x"+tt.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+tt.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}_addPoint(_e){const tt=getCurve().keyFromPublic(arrayify(this.publicKey)),rt=getCurve().keyFromPublic(arrayify(_e));return"0x"+tt.pub.add(rt.pub).encodeCompressed("hex")}signDigest(_e){const tt=getCurve().keyFromPrivate(arrayify(this.privateKey)),rt=arrayify(_e);rt.length!==32&&logger$t.throwArgumentError("bad digest length","digest",_e);const nt=tt.sign(rt,{canonical:!0});return splitSignature({recoveryParam:nt.recoveryParam,r:hexZeroPad("0x"+nt.r.toString(16),32),s:hexZeroPad("0x"+nt.s.toString(16),32)})}computeSharedSecret(_e){const tt=getCurve().keyFromPrivate(arrayify(this.privateKey)),rt=getCurve().keyFromPublic(arrayify(computePublicKey(_e)));return hexZeroPad("0x"+tt.derive(rt.getPublic()).toString(16),32)}static isSigningKey(_e){return!!(_e&&_e._isSigningKey)}}function recoverPublicKey(et,_e){const tt=splitSignature(_e),rt={r:arrayify(tt.r),s:arrayify(tt.s)};return"0x"+getCurve().recoverPubKey(arrayify(et),rt,tt.recoveryParam).encode("hex",!1)}function computePublicKey(et,_e){const tt=arrayify(et);if(tt.length===32){const rt=new SigningKey(tt);return _e?"0x"+getCurve().keyFromPrivate(tt).getPublic(!0,"hex"):rt.publicKey}else{if(tt.length===33)return _e?hexlify(tt):"0x"+getCurve().keyFromPublic(tt).getPublic(!1,"hex");if(tt.length===65)return _e?"0x"+getCurve().keyFromPublic(tt).getPublic(!0,"hex"):hexlify(tt)}return logger$t.throwArgumentError("invalid public or private key","key","[REDACTED]")}var lib_esm$a=Object.freeze(Object.defineProperty({__proto__:null,SigningKey,recoverPublicKey,computePublicKey},Symbol.toStringTag,{value:"Module"}));const version$i="transactions/5.7.0",logger$s=new Logger$1(version$i);var TransactionTypes;(function(et){et[et.legacy=0]="legacy",et[et.eip2930=1]="eip2930",et[et.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function handleAddress(et){return et==="0x"?null:getAddress(et)}function handleNumber(et){return et==="0x"?Zero$1:BigNumber.from(et)}const transactionFields=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys$2={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress(et){const _e=computePublicKey(et);return getAddress(hexDataSlice(keccak256$1(hexDataSlice(_e,1)),12))}function recoverAddress(et,_e){return computeAddress(recoverPublicKey(arrayify(et),_e))}function formatNumber(et,_e){const tt=stripZeros(BigNumber.from(et).toHexString());return tt.length>32&&logger$s.throwArgumentError("invalid length for "+_e,"transaction:"+_e,et),tt}function accessSetify(et,_e){return{address:getAddress(et),storageKeys:(_e||[]).map((tt,rt)=>(hexDataLength(tt)!==32&&logger$s.throwArgumentError("invalid access list storageKey",`accessList[${et}:${rt}]`,tt),tt.toLowerCase()))}}function accessListify(et){if(Array.isArray(et))return et.map((tt,rt)=>Array.isArray(tt)?(tt.length>2&&logger$s.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${rt}]`,tt),accessSetify(tt[0],tt[1])):accessSetify(tt.address,tt.storageKeys));const _e=Object.keys(et).map(tt=>{const rt=et[tt].reduce((nt,it)=>(nt[it]=!0,nt),{});return accessSetify(tt,Object.keys(rt).sort())});return _e.sort((tt,rt)=>tt.address.localeCompare(rt.address)),_e}function formatAccessList(et){return accessListify(et).map(_e=>[_e.address,_e.storageKeys])}function _serializeEip1559(et,_e){if(et.gasPrice!=null){const rt=BigNumber.from(et.gasPrice),nt=BigNumber.from(et.maxFeePerGas||0);rt.eq(nt)||logger$s.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:rt,maxFeePerGas:nt})}const tt=[formatNumber(et.chainId||0,"chainId"),formatNumber(et.nonce||0,"nonce"),formatNumber(et.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(et.maxFeePerGas||0,"maxFeePerGas"),formatNumber(et.gasLimit||0,"gasLimit"),et.to!=null?getAddress(et.to):"0x",formatNumber(et.value||0,"value"),et.data||"0x",formatAccessList(et.accessList||[])];if(_e){const rt=splitSignature(_e);tt.push(formatNumber(rt.recoveryParam,"recoveryParam")),tt.push(stripZeros(rt.r)),tt.push(stripZeros(rt.s))}return hexConcat(["0x02",encode$3(tt)])}function _serializeEip2930(et,_e){const tt=[formatNumber(et.chainId||0,"chainId"),formatNumber(et.nonce||0,"nonce"),formatNumber(et.gasPrice||0,"gasPrice"),formatNumber(et.gasLimit||0,"gasLimit"),et.to!=null?getAddress(et.to):"0x",formatNumber(et.value||0,"value"),et.data||"0x",formatAccessList(et.accessList||[])];if(_e){const rt=splitSignature(_e);tt.push(formatNumber(rt.recoveryParam,"recoveryParam")),tt.push(stripZeros(rt.r)),tt.push(stripZeros(rt.s))}return hexConcat(["0x01",encode$3(tt)])}function _serialize(et,_e){checkProperties(et,allowedTransactionKeys$2);const tt=[];transactionFields.forEach(function(at){let st=et[at.name]||[];const ct={};at.numeric&&(ct.hexPad="left"),st=arrayify(hexlify(st,ct)),at.length&&st.length!==at.length&&st.length>0&&logger$s.throwArgumentError("invalid length for "+at.name,"transaction:"+at.name,st),at.maxLength&&(st=stripZeros(st),st.length>at.maxLength&&logger$s.throwArgumentError("invalid length for "+at.name,"transaction:"+at.name,st)),tt.push(hexlify(st))});let rt=0;if(et.chainId!=null?(rt=et.chainId,typeof rt!="number"&&logger$s.throwArgumentError("invalid transaction.chainId","transaction",et)):_e&&!isBytesLike(_e)&&_e.v>28&&(rt=Math.floor((_e.v-35)/2)),rt!==0&&(tt.push(hexlify(rt)),tt.push("0x"),tt.push("0x")),!_e)return encode$3(tt);const nt=splitSignature(_e);let it=27+nt.recoveryParam;return rt!==0?(tt.pop(),tt.pop(),tt.pop(),it+=rt*2+8,nt.v>28&&nt.v!==it&&logger$s.throwArgumentError("transaction.chainId/signature.v mismatch","signature",_e)):nt.v!==it&&logger$s.throwArgumentError("transaction.chainId/signature.v mismatch","signature",_e),tt.push(hexlify(it)),tt.push(stripZeros(arrayify(nt.r))),tt.push(stripZeros(arrayify(nt.s))),encode$3(tt)}function serialize$2(et,_e){if(et.type==null||et.type===0)return et.accessList!=null&&logger$s.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",et),_serialize(et,_e);switch(et.type){case 1:return _serializeEip2930(et,_e);case 2:return _serializeEip1559(et,_e)}return logger$s.throwError(`unsupported transaction type: ${et.type}`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:et.type})}function _parseEipSignature(et,_e,tt){try{const rt=handleNumber(_e[0]).toNumber();if(rt!==0&&rt!==1)throw new Error("bad recid");et.v=rt}catch{logger$s.throwArgumentError("invalid v for transaction type: 1","v",_e[0])}et.r=hexZeroPad(_e[1],32),et.s=hexZeroPad(_e[2],32);try{const rt=keccak256$1(tt(et));et.from=recoverAddress(rt,{r:et.r,s:et.s,recoveryParam:et.v})}catch{}}function _parseEip1559(et){const _e=decode$5(et.slice(1));_e.length!==9&&_e.length!==12&&logger$s.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(et));const tt=handleNumber(_e[2]),rt=handleNumber(_e[3]),nt={type:2,chainId:handleNumber(_e[0]).toNumber(),nonce:handleNumber(_e[1]).toNumber(),maxPriorityFeePerGas:tt,maxFeePerGas:rt,gasPrice:null,gasLimit:handleNumber(_e[4]),to:handleAddress(_e[5]),value:handleNumber(_e[6]),data:_e[7],accessList:accessListify(_e[8])};return _e.length===9||(nt.hash=keccak256$1(et),_parseEipSignature(nt,_e.slice(9),_serializeEip1559)),nt}function _parseEip2930(et){const _e=decode$5(et.slice(1));_e.length!==8&&_e.length!==11&&logger$s.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(et));const tt={type:1,chainId:handleNumber(_e[0]).toNumber(),nonce:handleNumber(_e[1]).toNumber(),gasPrice:handleNumber(_e[2]),gasLimit:handleNumber(_e[3]),to:handleAddress(_e[4]),value:handleNumber(_e[5]),data:_e[6],accessList:accessListify(_e[7])};return _e.length===8||(tt.hash=keccak256$1(et),_parseEipSignature(tt,_e.slice(8),_serializeEip2930)),tt}function _parse(et){const _e=decode$5(et);_e.length!==9&&_e.length!==6&&logger$s.throwArgumentError("invalid raw transaction","rawTransaction",et);const tt={nonce:handleNumber(_e[0]).toNumber(),gasPrice:handleNumber(_e[1]),gasLimit:handleNumber(_e[2]),to:handleAddress(_e[3]),value:handleNumber(_e[4]),data:_e[5],chainId:0};if(_e.length===6)return tt;try{tt.v=BigNumber.from(_e[6]).toNumber()}catch{return tt}if(tt.r=hexZeroPad(_e[7],32),tt.s=hexZeroPad(_e[8],32),BigNumber.from(tt.r).isZero()&&BigNumber.from(tt.s).isZero())tt.chainId=tt.v,tt.v=0;else{tt.chainId=Math.floor((tt.v-35)/2),tt.chainId<0&&(tt.chainId=0);let rt=tt.v-27;const nt=_e.slice(0,6);tt.chainId!==0&&(nt.push(hexlify(tt.chainId)),nt.push("0x"),nt.push("0x"),rt-=tt.chainId*2+8);const it=keccak256$1(encode$3(nt));try{tt.from=recoverAddress(it,{r:hexlify(tt.r),s:hexlify(tt.s),recoveryParam:rt})}catch{}tt.hash=keccak256$1(et)}return tt.type=null,tt}function parse$3(et){const _e=arrayify(et);if(_e[0]>127)return _parse(_e);switch(_e[0]){case 1:return _parseEip2930(_e);case 2:return _parseEip1559(_e)}return logger$s.throwError(`unsupported transaction type: ${_e[0]}`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:_e[0]})}var lib_esm$9=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return TransactionTypes},computeAddress,recoverAddress,accessListify,serialize:serialize$2,parse:parse$3},Symbol.toStringTag,{value:"Module"}));const version$h="contracts/5.7.0";var __awaiter$b=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$r=new Logger$1(version$h),allowedTransactionKeys$1={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function resolveName(et,_e){return __awaiter$b(this,void 0,void 0,function*(){const tt=yield _e;typeof tt!="string"&&logger$r.throwArgumentError("invalid address or ENS name","name",tt);try{return getAddress(tt)}catch{}et||logger$r.throwError("a provider or signer is needed to resolve ENS names",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const rt=yield et.resolveName(tt);return rt==null&&logger$r.throwArgumentError("resolver or addr is not configured for ENS name","name",tt),rt})}function resolveAddresses(et,_e,tt){return __awaiter$b(this,void 0,void 0,function*(){return Array.isArray(tt)?yield Promise.all(tt.map((rt,nt)=>resolveAddresses(et,Array.isArray(_e)?_e[nt]:_e[rt.name],rt))):tt.type==="address"?yield resolveName(et,_e):tt.type==="tuple"?yield resolveAddresses(et,_e,tt.components):tt.baseType==="array"?Array.isArray(_e)?yield Promise.all(_e.map(rt=>resolveAddresses(et,rt,tt.arrayChildren))):Promise.reject(logger$r.makeError("invalid value for array",Logger$1.errors.INVALID_ARGUMENT,{argument:"value",value:_e})):_e})}function populateTransaction(et,_e,tt){return __awaiter$b(this,void 0,void 0,function*(){let rt={};tt.length===_e.inputs.length+1&&typeof tt[tt.length-1]=="object"&&(rt=shallowCopy(tt.pop())),logger$r.checkArgumentCount(tt.length,_e.inputs.length,"passed to contract"),et.signer?rt.from?rt.from=resolveProperties({override:resolveName(et.signer,rt.from),signer:et.signer.getAddress()}).then(ut=>__awaiter$b(this,void 0,void 0,function*(){return getAddress(ut.signer)!==ut.override&&logger$r.throwError("Contract with a Signer cannot override from",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),ut.override})):rt.from=et.signer.getAddress():rt.from&&(rt.from=resolveName(et.provider,rt.from));const nt=yield resolveProperties({args:resolveAddresses(et.signer||et.provider,tt,_e.inputs),address:et.resolvedAddress,overrides:resolveProperties(rt)||{}}),it=et.interface.encodeFunctionData(_e,nt.args),at={data:it,to:nt.address},st=nt.overrides;if(st.nonce!=null&&(at.nonce=BigNumber.from(st.nonce).toNumber()),st.gasLimit!=null&&(at.gasLimit=BigNumber.from(st.gasLimit)),st.gasPrice!=null&&(at.gasPrice=BigNumber.from(st.gasPrice)),st.maxFeePerGas!=null&&(at.maxFeePerGas=BigNumber.from(st.maxFeePerGas)),st.maxPriorityFeePerGas!=null&&(at.maxPriorityFeePerGas=BigNumber.from(st.maxPriorityFeePerGas)),st.from!=null&&(at.from=st.from),st.type!=null&&(at.type=st.type),st.accessList!=null&&(at.accessList=accessListify(st.accessList)),at.gasLimit==null&&_e.gas!=null){let ut=21e3;const ft=arrayify(it);for(let gt=0;gt<ft.length;gt++)ut+=4,ft[gt]&&(ut+=64);at.gasLimit=BigNumber.from(_e.gas).add(ut)}if(st.value){const ut=BigNumber.from(st.value);!ut.isZero()&&!_e.payable&&logger$r.throwError("non-payable method cannot override value",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:rt.value}),at.value=ut}st.customData&&(at.customData=shallowCopy(st.customData)),st.ccipReadEnabled&&(at.ccipReadEnabled=!!st.ccipReadEnabled),delete rt.nonce,delete rt.gasLimit,delete rt.gasPrice,delete rt.from,delete rt.value,delete rt.type,delete rt.accessList,delete rt.maxFeePerGas,delete rt.maxPriorityFeePerGas,delete rt.customData,delete rt.ccipReadEnabled;const ct=Object.keys(rt).filter(ut=>rt[ut]!=null);return ct.length&&logger$r.throwError(`cannot override ${ct.map(ut=>JSON.stringify(ut)).join(",")}`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:ct}),at})}function buildPopulate(et,_e){return function(...tt){return populateTransaction(et,_e,tt)}}function buildEstimate(et,_e){const tt=et.signer||et.provider;return function(...rt){return __awaiter$b(this,void 0,void 0,function*(){tt||logger$r.throwError("estimate require a provider or signer",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const nt=yield populateTransaction(et,_e,rt);return yield tt.estimateGas(nt)})}}function addContractWait(et,_e){const tt=_e.wait.bind(_e);_e.wait=rt=>tt(rt).then(nt=>(nt.events=nt.logs.map(it=>{let at=deepCopy(it),st=null;try{st=et.interface.parseLog(it)}catch{}return st&&(at.args=st.args,at.decode=(ct,ut)=>et.interface.decodeEventLog(st.eventFragment,ct,ut),at.event=st.name,at.eventSignature=st.signature),at.removeListener=()=>et.provider,at.getBlock=()=>et.provider.getBlock(nt.blockHash),at.getTransaction=()=>et.provider.getTransaction(nt.transactionHash),at.getTransactionReceipt=()=>Promise.resolve(nt),at}),nt))}function buildCall(et,_e,tt){const rt=et.signer||et.provider;return function(...nt){return __awaiter$b(this,void 0,void 0,function*(){let it;if(nt.length===_e.inputs.length+1&&typeof nt[nt.length-1]=="object"){const ct=shallowCopy(nt.pop());ct.blockTag!=null&&(it=yield ct.blockTag),delete ct.blockTag,nt.push(ct)}et.deployTransaction!=null&&(yield et._deployed(it));const at=yield populateTransaction(et,_e,nt),st=yield rt.call(at,it);try{let ct=et.interface.decodeFunctionResult(_e,st);return tt&&_e.outputs.length===1&&(ct=ct[0]),ct}catch(ct){throw ct.code===Logger$1.errors.CALL_EXCEPTION&&(ct.address=et.address,ct.args=nt,ct.transaction=at),ct}})}}function buildSend(et,_e){return function(...tt){return __awaiter$b(this,void 0,void 0,function*(){et.signer||logger$r.throwError("sending a transaction requires a signer",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),et.deployTransaction!=null&&(yield et._deployed());const rt=yield populateTransaction(et,_e,tt),nt=yield et.signer.sendTransaction(rt);return addContractWait(et,nt),nt})}}function buildDefault(et,_e,tt){return _e.constant?buildCall(et,_e,tt):buildSend(et,_e)}function getEventTag$1(et){return et.address&&(et.topics==null||et.topics.length===0)?"*":(et.address||"*")+"@"+(et.topics?et.topics.map(_e=>Array.isArray(_e)?_e.join("|"):_e).join(":"):"")}class RunningEvent{constructor(_e,tt){defineReadOnly(this,"tag",_e),defineReadOnly(this,"filter",tt),this._listeners=[]}addListener(_e,tt){this._listeners.push({listener:_e,once:tt})}removeListener(_e){let tt=!1;this._listeners=this._listeners.filter(rt=>tt||rt.listener!==_e?!0:(tt=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(_e=>_e.listener)}listenerCount(){return this._listeners.length}run(_e){const tt=this.listenerCount();return this._listeners=this._listeners.filter(rt=>{const nt=_e.slice();return setTimeout(()=>{rt.listener.apply(this,nt)},0),!rt.once}),tt}prepareEvent(_e){}getEmit(_e){return[_e]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(_e,tt,rt,nt){const it={address:_e};let at=tt.getEventTopic(rt);nt?(at!==nt[0]&&logger$r.throwArgumentError("topic mismatch","topics",nt),it.topics=nt.slice()):it.topics=[at],super(getEventTag$1(it),it),defineReadOnly(this,"address",_e),defineReadOnly(this,"interface",tt),defineReadOnly(this,"fragment",rt)}prepareEvent(_e){super.prepareEvent(_e),_e.event=this.fragment.name,_e.eventSignature=this.fragment.format(),_e.decode=(tt,rt)=>this.interface.decodeEventLog(this.fragment,tt,rt);try{_e.args=this.interface.decodeEventLog(this.fragment,_e.data,_e.topics)}catch(tt){_e.args=null,_e.decodeError=tt}}getEmit(_e){const tt=checkResultErrors(_e.args);if(tt.length)throw tt[0].error;const rt=(_e.args||[]).slice();return rt.push(_e),rt}}class WildcardRunningEvent extends RunningEvent{constructor(_e,tt){super("*",{address:_e}),defineReadOnly(this,"address",_e),defineReadOnly(this,"interface",tt)}prepareEvent(_e){super.prepareEvent(_e);try{const tt=this.interface.parseLog(_e);_e.event=tt.name,_e.eventSignature=tt.signature,_e.decode=(rt,nt)=>this.interface.decodeEventLog(tt.eventFragment,rt,nt),_e.args=tt.args}catch{}}}class BaseContract{constructor(_e,tt,rt){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(tt)),rt==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(rt)?(defineReadOnly(this,"provider",rt.provider||null),defineReadOnly(this,"signer",rt)):Provider$2.isProvider(rt)?(defineReadOnly(this,"provider",rt),defineReadOnly(this,"signer",null)):logger$r.throwArgumentError("invalid signer or provider","signerOrProvider",rt),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const at={};Object.keys(this.interface.events).forEach(st=>{const ct=this.interface.events[st];defineReadOnly(this.filters,st,(...ut)=>({address:this.address,topics:this.interface.encodeFilterTopics(ct,ut)})),at[ct.name]||(at[ct.name]=[]),at[ct.name].push(st)}),Object.keys(at).forEach(st=>{const ct=at[st];ct.length===1?defineReadOnly(this.filters,st,this.filters[ct[0]]):logger$r.warn(`Duplicate definition of ${st} (${ct.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),_e==null&&logger$r.throwArgumentError("invalid contract address or ENS name","addressOrName",_e),defineReadOnly(this,"address",_e),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,_e));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress(_e)))}catch{logger$r.throwError("provider is required to use ENS name as contract address",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(at=>{});const nt={},it={};Object.keys(this.interface.functions).forEach(at=>{const st=this.interface.functions[at];if(it[at]){logger$r.warn(`Duplicate ABI entry for ${JSON.stringify(at)}`);return}it[at]=!0;{const ct=st.name;nt[`%${ct}`]||(nt[`%${ct}`]=[]),nt[`%${ct}`].push(at)}this[at]==null&&defineReadOnly(this,at,buildDefault(this,st,!0)),this.functions[at]==null&&defineReadOnly(this.functions,at,buildDefault(this,st,!1)),this.callStatic[at]==null&&defineReadOnly(this.callStatic,at,buildCall(this,st,!0)),this.populateTransaction[at]==null&&defineReadOnly(this.populateTransaction,at,buildPopulate(this,st)),this.estimateGas[at]==null&&defineReadOnly(this.estimateGas,at,buildEstimate(this,st))}),Object.keys(nt).forEach(at=>{const st=nt[at];if(st.length>1)return;at=at.substring(1);const ct=st[0];try{this[at]==null&&defineReadOnly(this,at,this[ct])}catch{}this.functions[at]==null&&defineReadOnly(this.functions,at,this.functions[ct]),this.callStatic[at]==null&&defineReadOnly(this.callStatic,at,this.callStatic[ct]),this.populateTransaction[at]==null&&defineReadOnly(this.populateTransaction,at,this.populateTransaction[ct]),this.estimateGas[at]==null&&defineReadOnly(this.estimateGas,at,this.estimateGas[ct])})}static getContractAddress(_e){return getContractAddress(_e)}static getInterface(_e){return Interface.isInterface(_e)?_e:new Interface(_e)}deployed(){return this._deployed()}_deployed(_e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,_e).then(tt=>(tt==="0x"&&logger$r.throwError("contract not deployed",Logger$1.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(_e){this.signer||logger$r.throwError("sending a transactions require a signer",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const tt=shallowCopy(_e||{});return["from","to"].forEach(function(rt){tt[rt]!=null&&logger$r.throwError("cannot override "+rt,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:rt})}),tt.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(tt))}connect(_e){typeof _e=="string"&&(_e=new VoidSigner(_e,this.provider));const tt=new this.constructor(this.address,this.interface,_e);return this.deployTransaction&&defineReadOnly(tt,"deployTransaction",this.deployTransaction),tt}attach(_e){return new this.constructor(_e,this.interface,this.signer||this.provider)}static isIndexed(_e){return Indexed.isIndexed(_e)}_normalizeRunningEvent(_e){return this._runningEvents[_e.tag]?this._runningEvents[_e.tag]:_e}_getRunningEvent(_e){if(typeof _e=="string"){if(_e==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(_e==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(_e==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const tt=this.interface.getEvent(_e);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,tt))}if(_e.topics&&_e.topics.length>0){try{const rt=_e.topics[0];if(typeof rt!="string")throw new Error("invalid topic");const nt=this.interface.getEvent(rt);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,nt,_e.topics))}catch{}const tt={address:this.address,topics:_e.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag$1(tt),tt))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(_e){if(_e.listenerCount()===0){delete this._runningEvents[_e.tag];const tt=this._wrappedEmits[_e.tag];tt&&_e.filter&&(this.provider.off(_e.filter,tt),delete this._wrappedEmits[_e.tag])}}_wrapEvent(_e,tt,rt){const nt=deepCopy(tt);return nt.removeListener=()=>{!rt||(_e.removeListener(rt),this._checkRunningEvents(_e))},nt.getBlock=()=>this.provider.getBlock(tt.blockHash),nt.getTransaction=()=>this.provider.getTransaction(tt.transactionHash),nt.getTransactionReceipt=()=>this.provider.getTransactionReceipt(tt.transactionHash),_e.prepareEvent(nt),nt}_addEventListener(_e,tt,rt){if(this.provider||logger$r.throwError("events require a provider or a signer with a provider",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"once"}),_e.addListener(tt,rt),this._runningEvents[_e.tag]=_e,!this._wrappedEmits[_e.tag]){const nt=it=>{let at=this._wrapEvent(_e,it,tt);if(at.decodeError==null)try{const st=_e.getEmit(at);this.emit(_e.filter,...st)}catch(st){at.decodeError=st.error}_e.filter!=null&&this.emit("event",at),at.decodeError!=null&&this.emit("error",at.decodeError,at)};this._wrappedEmits[_e.tag]=nt,_e.filter!=null&&this.provider.on(_e.filter,nt)}}queryFilter(_e,tt,rt){const nt=this._getRunningEvent(_e),it=shallowCopy(nt.filter);return typeof tt=="string"&&isHexString$4(tt,32)?(rt!=null&&logger$r.throwArgumentError("cannot specify toBlock with blockhash","toBlock",rt),it.blockHash=tt):(it.fromBlock=tt!=null?tt:0,it.toBlock=rt!=null?rt:"latest"),this.provider.getLogs(it).then(at=>at.map(st=>this._wrapEvent(nt,st,null)))}on(_e,tt){return this._addEventListener(this._getRunningEvent(_e),tt,!1),this}once(_e,tt){return this._addEventListener(this._getRunningEvent(_e),tt,!0),this}emit(_e,...tt){if(!this.provider)return!1;const rt=this._getRunningEvent(_e),nt=rt.run(tt)>0;return this._checkRunningEvents(rt),nt}listenerCount(_e){return this.provider?_e==null?Object.keys(this._runningEvents).reduce((tt,rt)=>tt+this._runningEvents[rt].listenerCount(),0):this._getRunningEvent(_e).listenerCount():0}listeners(_e){if(!this.provider)return[];if(_e==null){const tt=[];for(let rt in this._runningEvents)this._runningEvents[rt].listeners().forEach(nt=>{tt.push(nt)});return tt}return this._getRunningEvent(_e).listeners()}removeAllListeners(_e){if(!this.provider)return this;if(_e==null){for(const rt in this._runningEvents){const nt=this._runningEvents[rt];nt.removeAllListeners(),this._checkRunningEvents(nt)}return this}const tt=this._getRunningEvent(_e);return tt.removeAllListeners(),this._checkRunningEvents(tt),this}off(_e,tt){if(!this.provider)return this;const rt=this._getRunningEvent(_e);return rt.removeListener(tt),this._checkRunningEvents(rt),this}removeListener(_e,tt){return this.off(_e,tt)}}class Contract extends BaseContract{}class ContractFactory$1{constructor(_e,tt,rt){let nt=null;typeof tt=="string"?nt=tt:isBytes(tt)?nt=hexlify(tt):tt&&typeof tt.object=="string"?nt=tt.object:nt="!",nt.substring(0,2)!=="0x"&&(nt="0x"+nt),(!isHexString$4(nt)||nt.length%2)&&logger$r.throwArgumentError("invalid bytecode","bytecode",tt),rt&&!Signer.isSigner(rt)&&logger$r.throwArgumentError("invalid signer","signer",rt),defineReadOnly(this,"bytecode",nt),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(_e)),defineReadOnly(this,"signer",rt||null)}getDeployTransaction(..._e){let tt={};if(_e.length===this.interface.deploy.inputs.length+1&&typeof _e[_e.length-1]=="object"){tt=shallowCopy(_e.pop());for(const rt in tt)if(!allowedTransactionKeys$1[rt])throw new Error("unknown transaction override "+rt)}return["data","from","to"].forEach(rt=>{tt[rt]!=null&&logger$r.throwError("cannot override "+rt,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:rt})}),tt.value&&!BigNumber.from(tt.value).isZero()&&!this.interface.deploy.payable&&logger$r.throwError("non-payable constructor cannot override value",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:tt.value}),logger$r.checkArgumentCount(_e.length,this.interface.deploy.inputs.length," in Contract constructor"),tt.data=hexlify(concat$3([this.bytecode,this.interface.encodeDeploy(_e)])),tt}deploy(..._e){return __awaiter$b(this,void 0,void 0,function*(){let tt={};_e.length===this.interface.deploy.inputs.length+1&&(tt=_e.pop()),logger$r.checkArgumentCount(_e.length,this.interface.deploy.inputs.length," in Contract constructor");const rt=yield resolveAddresses(this.signer,_e,this.interface.deploy.inputs);rt.push(tt);const nt=this.getDeployTransaction(...rt),it=yield this.signer.sendTransaction(nt),at=getStatic(this.constructor,"getContractAddress")(it),st=getStatic(this.constructor,"getContract")(at,this.interface,this.signer);return addContractWait(st,it),defineReadOnly(st,"deployTransaction",it),st})}attach(_e){return this.constructor.getContract(_e,this.interface,this.signer)}connect(_e){return new this.constructor(this.interface,this.bytecode,_e)}static fromSolidity(_e,tt){_e==null&&logger$r.throwError("missing compiler output",Logger$1.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof _e=="string"&&(_e=JSON.parse(_e));const rt=_e.abi;let nt=null;return _e.bytecode?nt=_e.bytecode:_e.evm&&_e.evm.bytecode&&(nt=_e.evm.bytecode),new this(rt,nt,tt)}static getInterface(_e){return Contract.getInterface(_e)}static getContractAddress(_e){return getContractAddress(_e)}static getContract(_e,tt,rt){return new Contract(_e,tt,rt)}}class BaseX{constructor(_e){defineReadOnly(this,"alphabet",_e),defineReadOnly(this,"base",_e.length),defineReadOnly(this,"_alphabetMap",{}),defineReadOnly(this,"_leader",_e.charAt(0));for(let tt=0;tt<_e.length;tt++)this._alphabetMap[_e.charAt(tt)]=tt}encode(_e){let tt=arrayify(_e);if(tt.length===0)return"";let rt=[0];for(let it=0;it<tt.length;++it){let at=tt[it];for(let st=0;st<rt.length;++st)at+=rt[st]<<8,rt[st]=at%this.base,at=at/this.base|0;for(;at>0;)rt.push(at%this.base),at=at/this.base|0}let nt="";for(let it=0;tt[it]===0&&it<tt.length-1;++it)nt+=this._leader;for(let it=rt.length-1;it>=0;--it)nt+=this.alphabet[rt[it]];return nt}decode(_e){if(typeof _e!="string")throw new TypeError("Expected String");let tt=[];if(_e.length===0)return new Uint8Array(tt);tt.push(0);for(let rt=0;rt<_e.length;rt++){let nt=this._alphabetMap[_e[rt]];if(nt===void 0)throw new Error("Non-base"+this.base+" character");let it=nt;for(let at=0;at<tt.length;++at)it+=tt[at]*this.base,tt[at]=it&255,it>>=8;for(;it>0;)tt.push(it&255),it>>=8}for(let rt=0;_e[rt]===this._leader&&rt<_e.length-1;++rt)tt.push(0);return arrayify(new Uint8Array(tt.reverse()))}}const Base32=new BaseX("abcdefghijklmnopqrstuvwxyz234567"),Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var lib_esm$8=Object.freeze(Object.defineProperty({__proto__:null,BaseX,Base32,Base58},Symbol.toStringTag,{value:"Module"})),SupportedAlgorithm;(function(et){et.sha256="sha256",et.sha512="sha512"})(SupportedAlgorithm||(SupportedAlgorithm={}));const version$g="sha2/5.7.0",logger$q=new Logger$1(version$g);function ripemd160$1(et){return"0x"+hash$1.ripemd160().update(arrayify(et)).digest("hex")}function sha256$3(et){return"0x"+hash$1.sha256().update(arrayify(et)).digest("hex")}function sha512$1(et){return"0x"+hash$1.sha512().update(arrayify(et)).digest("hex")}function computeHmac(et,_e,tt){return SupportedAlgorithm[et]||logger$q.throwError("unsupported algorithm "+et,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:et}),"0x"+hash$1.hmac(hash$1[et],arrayify(_e)).update(arrayify(tt)).digest("hex")}var lib_esm$7=Object.freeze(Object.defineProperty({__proto__:null,computeHmac,ripemd160:ripemd160$1,sha256:sha256$3,sha512:sha512$1,get SupportedAlgorithm(){return SupportedAlgorithm}},Symbol.toStringTag,{value:"Module"}));function pbkdf2$2(et,_e,tt,rt,nt){et=arrayify(et),_e=arrayify(_e);let it,at=1;const st=new Uint8Array(rt),ct=new Uint8Array(_e.length+4);ct.set(_e);let ut,ft;for(let gt=1;gt<=at;gt++){ct[_e.length]=gt>>24&255,ct[_e.length+1]=gt>>16&255,ct[_e.length+2]=gt>>8&255,ct[_e.length+3]=gt&255;let _t=arrayify(computeHmac(nt,et,ct));it||(it=_t.length,ft=new Uint8Array(it),at=Math.ceil(rt/it),ut=rt-(at-1)*it),ft.set(_t);for(let It=1;It<tt;It++){_t=arrayify(computeHmac(nt,et,_t));for(let Tt=0;Tt<it;Tt++)ft[Tt]^=_t[Tt]}const Et=(gt-1)*it,$t=gt===at?ut:it;st.set(arrayify(ft).slice(0,$t),Et)}return hexlify(st)}const version$f="wordlists/5.7.0",logger$p=new Logger$1(version$f);class Wordlist{constructor(_e){logger$p.checkAbstract(new.target,Wordlist),defineReadOnly(this,"locale",_e)}split(_e){return _e.toLowerCase().split(/ +/g)}join(_e){return _e.join(" ")}static check(_e){const tt=[];for(let rt=0;rt<2048;rt++){const nt=_e.getWord(rt);if(rt!==_e.getWordIndex(nt))return"0x";tt.push(nt)}return id(tt.join(`
`)+`
`)}static register(_e,tt){tt||(tt=_e.locale)}}const words="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist=null;function loadWords(et){if(wordlist==null&&(wordlist=words.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Wordlist.check(et)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw wordlist=null,new Error("BIP39 Wordlist for en (English) FAILED")}class LangEn extends Wordlist{constructor(){super("en")}getWord(_e){return loadWords(this),wordlist[_e]}getWordIndex(_e){return loadWords(this),wordlist.indexOf(_e)}}const langEn=new LangEn;Wordlist.register(langEn);const wordlists={en:langEn},version$e="hdnode/5.7.0",logger$o=new Logger$1(version$e),N$3=BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=toUtf8Bytes("Bitcoin seed"),HardenedBit=2147483648;function getUpperMask(et){return(1<<et)-1<<8-et}function getLowerMask(et){return(1<<et)-1}function bytes32(et){return hexZeroPad(hexlify(et),32)}function base58check(et){return Base58.encode(concat$3([et,hexDataSlice(sha256$3(sha256$3(et)),0,4)]))}function getWordlist(et){if(et==null)return wordlists.en;if(typeof et=="string"){const _e=wordlists[et];return _e==null&&logger$o.throwArgumentError("unknown locale","wordlist",et),_e}return et}const _constructorGuard$1={},defaultPath="m/44'/60'/0'/0/0";class HDNode{constructor(_e,tt,rt,nt,it,at,st,ct){if(_e!==_constructorGuard$1)throw new Error("HDNode constructor cannot be called directly");if(tt){const ut=new SigningKey(tt);defineReadOnly(this,"privateKey",ut.privateKey),defineReadOnly(this,"publicKey",ut.compressedPublicKey)}else defineReadOnly(this,"privateKey",null),defineReadOnly(this,"publicKey",hexlify(rt));defineReadOnly(this,"parentFingerprint",nt),defineReadOnly(this,"fingerprint",hexDataSlice(ripemd160$1(sha256$3(this.publicKey)),0,4)),defineReadOnly(this,"address",computeAddress(this.publicKey)),defineReadOnly(this,"chainCode",it),defineReadOnly(this,"index",at),defineReadOnly(this,"depth",st),ct==null?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",null)):typeof ct=="string"?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",ct)):(defineReadOnly(this,"mnemonic",ct),defineReadOnly(this,"path",ct.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return base58check(concat$3([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",hexlify(this.depth),this.parentFingerprint,hexZeroPad(hexlify(this.index),4),this.chainCode,this.privateKey!=null?concat$3(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(_constructorGuard$1,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(_e){if(_e>4294967295)throw new Error("invalid index - "+String(_e));let tt=this.path;tt&&(tt+="/"+(_e&~HardenedBit));const rt=new Uint8Array(37);if(_e&HardenedBit){if(!this.privateKey)throw new Error("cannot derive child of neutered node");rt.set(arrayify(this.privateKey),1),tt&&(tt+="'")}else rt.set(arrayify(this.publicKey));for(let gt=24;gt>=0;gt-=8)rt[33+(gt>>3)]=_e>>24-gt&255;const nt=arrayify(computeHmac(SupportedAlgorithm.sha512,this.chainCode,rt)),it=nt.slice(0,32),at=nt.slice(32);let st=null,ct=null;this.privateKey?st=bytes32(BigNumber.from(it).add(this.privateKey).mod(N$3)):ct=new SigningKey(hexlify(it))._addPoint(this.publicKey);let ut=tt;const ft=this.mnemonic;return ft&&(ut=Object.freeze({phrase:ft.phrase,path:tt,locale:ft.locale||"en"})),new HDNode(_constructorGuard$1,st,ct,this.fingerprint,bytes32(at),_e,this.depth+1,ut)}derivePath(_e){const tt=_e.split("/");if(tt.length===0||tt[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+_e);tt[0]==="m"&&tt.shift();let rt=this;for(let nt=0;nt<tt.length;nt++){const it=tt[nt];if(it.match(/^[0-9]+'$/)){const at=parseInt(it.substring(0,it.length-1));if(at>=HardenedBit)throw new Error("invalid path index - "+it);rt=rt._derive(HardenedBit+at)}else if(it.match(/^[0-9]+$/)){const at=parseInt(it);if(at>=HardenedBit)throw new Error("invalid path index - "+it);rt=rt._derive(at)}else throw new Error("invalid path component - "+it)}return rt}static _fromSeed(_e,tt){const rt=arrayify(_e);if(rt.length<16||rt.length>64)throw new Error("invalid seed");const nt=arrayify(computeHmac(SupportedAlgorithm.sha512,MasterSecret,rt));return new HDNode(_constructorGuard$1,bytes32(nt.slice(0,32)),null,"0x00000000",bytes32(nt.slice(32)),0,0,tt)}static fromMnemonic(_e,tt,rt){return rt=getWordlist(rt),_e=entropyToMnemonic(mnemonicToEntropy(_e,rt),rt),HDNode._fromSeed(mnemonicToSeed(_e,tt),{phrase:_e,path:"m",locale:rt.locale})}static fromSeed(_e){return HDNode._fromSeed(_e,null)}static fromExtendedKey(_e){const tt=Base58.decode(_e);(tt.length!==82||base58check(tt.slice(0,78))!==_e)&&logger$o.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const rt=tt[4],nt=hexlify(tt.slice(5,9)),it=parseInt(hexlify(tt.slice(9,13)).substring(2),16),at=hexlify(tt.slice(13,45)),st=tt.slice(45,78);switch(hexlify(tt.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(_constructorGuard$1,null,hexlify(st),nt,at,it,rt,null);case"0x0488ade4":case"0x04358394 ":if(st[0]!==0)break;return new HDNode(_constructorGuard$1,hexlify(st.slice(1)),null,nt,at,it,rt,null)}return logger$o.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed(et,_e){_e||(_e="");const tt=toUtf8Bytes("mnemonic"+_e,UnicodeNormalizationForm.NFKD);return pbkdf2$2(toUtf8Bytes(et,UnicodeNormalizationForm.NFKD),tt,2048,64,"sha512")}function mnemonicToEntropy(et,_e){_e=getWordlist(_e),logger$o.checkNormalize();const tt=_e.split(et);if(tt.length%3!==0)throw new Error("invalid mnemonic");const rt=arrayify(new Uint8Array(Math.ceil(11*tt.length/8)));let nt=0;for(let ut=0;ut<tt.length;ut++){let ft=_e.getWordIndex(tt[ut].normalize("NFKD"));if(ft===-1)throw new Error("invalid mnemonic");for(let gt=0;gt<11;gt++)ft&1<<10-gt&&(rt[nt>>3]|=1<<7-nt%8),nt++}const it=32*tt.length/3,at=tt.length/3,st=getUpperMask(at);if((arrayify(sha256$3(rt.slice(0,it/8)))[0]&st)!==(rt[rt.length-1]&st))throw new Error("invalid checksum");return hexlify(rt.slice(0,it/8))}function entropyToMnemonic(et,_e){if(_e=getWordlist(_e),et=arrayify(et),et.length%4!==0||et.length<16||et.length>32)throw new Error("invalid entropy");const tt=[0];let rt=11;for(let at=0;at<et.length;at++)rt>8?(tt[tt.length-1]<<=8,tt[tt.length-1]|=et[at],rt-=8):(tt[tt.length-1]<<=rt,tt[tt.length-1]|=et[at]>>8-rt,tt.push(et[at]&getLowerMask(8-rt)),rt+=3);const nt=et.length/4,it=arrayify(sha256$3(et))[0]&getUpperMask(nt);return tt[tt.length-1]<<=nt,tt[tt.length-1]|=it>>8-nt,_e.join(tt.map(at=>_e.getWord(at)))}function isValidMnemonic(et,_e){try{return mnemonicToEntropy(et,_e),!0}catch{}return!1}function getAccountPath(et){return(typeof et!="number"||et<0||et>=HardenedBit||et%1)&&logger$o.throwArgumentError("invalid account index","index",et),`m/44'/60'/${et}'/0/0`}var lib_esm$6=Object.freeze(Object.defineProperty({__proto__:null,defaultPath,HDNode,mnemonicToSeed,mnemonicToEntropy,entropyToMnemonic,isValidMnemonic,getAccountPath},Symbol.toStringTag,{value:"Module"}));const version$d="random/5.7.0",logger$n=new Logger$1(version$d);function getGlobal$1(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof globalThis!="undefined")return globalThis;throw new Error("unable to locate globalThis object")}const anyGlobal=getGlobal$1();let crypto$2=anyGlobal.crypto||anyGlobal.msCrypto;(!crypto$2||!crypto$2.getRandomValues)&&(logger$n.warn("WARNING: Missing strong random number source"),crypto$2={getRandomValues:function(et){return logger$n.throwError("no secure random source avaialble",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function randomBytes$1(et){(et<=0||et>1024||et%1||et!=et)&&logger$n.throwArgumentError("invalid length","length",et);const _e=new Uint8Array(et);return crypto$2.getRandomValues(_e),arrayify(_e)}function shuffled(et){et=et.slice();for(let _e=et.length-1;_e>0;_e--){const tt=Math.floor(Math.random()*(_e+1)),rt=et[_e];et[_e]=et[tt],et[tt]=rt}return et}var lib_esm$5=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:randomBytes$1,shuffled},Symbol.toStringTag,{value:"Module"})),aesJs={exports:{}};(function(et,_e){(function(tt){function rt(yt){return parseInt(yt)===yt}function nt(yt){if(!rt(yt.length))return!1;for(var lt=0;lt<yt.length;lt++)if(!rt(yt[lt])||yt[lt]<0||yt[lt]>255)return!1;return!0}function it(yt,lt){if(yt.buffer&&ArrayBuffer.isView(yt)&&yt.name==="Uint8Array")return lt&&(yt.slice?yt=yt.slice():yt=Array.prototype.slice.call(yt)),yt;if(Array.isArray(yt)){if(!nt(yt))throw new Error("Array contains invalid value: "+yt);return new Uint8Array(yt)}if(rt(yt.length)&&nt(yt))return new Uint8Array(yt);throw new Error("unsupported array-like object")}function at(yt){return new Uint8Array(yt)}function st(yt,lt,xt,Ut,Pt){(Ut!=null||Pt!=null)&&(yt.slice?yt=yt.slice(Ut,Pt):yt=Array.prototype.slice.call(yt,Ut,Pt)),lt.set(yt,xt)}var ct=function(){function yt(xt){var Ut=[],Pt=0;for(xt=encodeURI(xt);Pt<xt.length;){var qt=xt.charCodeAt(Pt++);qt===37?(Ut.push(parseInt(xt.substr(Pt,2),16)),Pt+=2):Ut.push(qt)}return it(Ut)}function lt(xt){for(var Ut=[],Pt=0;Pt<xt.length;){var qt=xt[Pt];qt<128?(Ut.push(String.fromCharCode(qt)),Pt++):qt>191&&qt<224?(Ut.push(String.fromCharCode((qt&31)<<6|xt[Pt+1]&63)),Pt+=2):(Ut.push(String.fromCharCode((qt&15)<<12|(xt[Pt+1]&63)<<6|xt[Pt+2]&63)),Pt+=3)}return Ut.join("")}return{toBytes:yt,fromBytes:lt}}(),ut=function(){function yt(Ut){for(var Pt=[],qt=0;qt<Ut.length;qt+=2)Pt.push(parseInt(Ut.substr(qt,2),16));return Pt}var lt="0123456789abcdef";function xt(Ut){for(var Pt=[],qt=0;qt<Ut.length;qt++){var ir=Ut[qt];Pt.push(lt[(ir&240)>>4]+lt[ir&15])}return Pt.join("")}return{toBytes:yt,fromBytes:xt}}(),ft={16:10,24:12,32:14},gt=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],_t=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Et=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],$t=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],It=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Tt=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],At=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Rt=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],kt=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Ot=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Wt=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],zt=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Kt=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Jt=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],ar=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function jt(yt){for(var lt=[],xt=0;xt<yt.length;xt+=4)lt.push(yt[xt]<<24|yt[xt+1]<<16|yt[xt+2]<<8|yt[xt+3]);return lt}var Ct=function(yt){if(!(this instanceof Ct))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:it(yt,!0)}),this._prepare()};Ct.prototype._prepare=function(){var yt=ft[this.key.length];if(yt==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var lt=0;lt<=yt;lt++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var xt=(yt+1)*4,Ut=this.key.length/4,Pt=jt(this.key),qt,lt=0;lt<Ut;lt++)qt=lt>>2,this._Ke[qt][lt%4]=Pt[lt],this._Kd[yt-qt][lt%4]=Pt[lt];for(var ir=0,Yt=Ut,rr;Yt<xt;){if(rr=Pt[Ut-1],Pt[0]^=_t[rr>>16&255]<<24^_t[rr>>8&255]<<16^_t[rr&255]<<8^_t[rr>>24&255]^gt[ir]<<24,ir+=1,Ut!=8)for(var lt=1;lt<Ut;lt++)Pt[lt]^=Pt[lt-1];else{for(var lt=1;lt<Ut/2;lt++)Pt[lt]^=Pt[lt-1];rr=Pt[Ut/2-1],Pt[Ut/2]^=_t[rr&255]^_t[rr>>8&255]<<8^_t[rr>>16&255]<<16^_t[rr>>24&255]<<24;for(var lt=Ut/2+1;lt<Ut;lt++)Pt[lt]^=Pt[lt-1]}for(var lt=0,Sr,lr;lt<Ut&&Yt<xt;)Sr=Yt>>2,lr=Yt%4,this._Ke[Sr][lr]=Pt[lt],this._Kd[yt-Sr][lr]=Pt[lt++],Yt++}for(var Sr=1;Sr<yt;Sr++)for(var lr=0;lr<4;lr++)rr=this._Kd[Sr][lr],this._Kd[Sr][lr]=zt[rr>>24&255]^Kt[rr>>16&255]^Jt[rr>>8&255]^ar[rr&255]},Ct.prototype.encrypt=function(yt){if(yt.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var lt=this._Ke.length-1,xt=[0,0,0,0],Ut=jt(yt),Pt=0;Pt<4;Pt++)Ut[Pt]^=this._Ke[0][Pt];for(var qt=1;qt<lt;qt++){for(var Pt=0;Pt<4;Pt++)xt[Pt]=$t[Ut[Pt]>>24&255]^It[Ut[(Pt+1)%4]>>16&255]^Tt[Ut[(Pt+2)%4]>>8&255]^At[Ut[(Pt+3)%4]&255]^this._Ke[qt][Pt];Ut=xt.slice()}for(var ir=at(16),Yt,Pt=0;Pt<4;Pt++)Yt=this._Ke[lt][Pt],ir[4*Pt]=(_t[Ut[Pt]>>24&255]^Yt>>24)&255,ir[4*Pt+1]=(_t[Ut[(Pt+1)%4]>>16&255]^Yt>>16)&255,ir[4*Pt+2]=(_t[Ut[(Pt+2)%4]>>8&255]^Yt>>8)&255,ir[4*Pt+3]=(_t[Ut[(Pt+3)%4]&255]^Yt)&255;return ir},Ct.prototype.decrypt=function(yt){if(yt.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var lt=this._Kd.length-1,xt=[0,0,0,0],Ut=jt(yt),Pt=0;Pt<4;Pt++)Ut[Pt]^=this._Kd[0][Pt];for(var qt=1;qt<lt;qt++){for(var Pt=0;Pt<4;Pt++)xt[Pt]=Rt[Ut[Pt]>>24&255]^kt[Ut[(Pt+3)%4]>>16&255]^Ot[Ut[(Pt+2)%4]>>8&255]^Wt[Ut[(Pt+1)%4]&255]^this._Kd[qt][Pt];Ut=xt.slice()}for(var ir=at(16),Yt,Pt=0;Pt<4;Pt++)Yt=this._Kd[lt][Pt],ir[4*Pt]=(Et[Ut[Pt]>>24&255]^Yt>>24)&255,ir[4*Pt+1]=(Et[Ut[(Pt+3)%4]>>16&255]^Yt>>16)&255,ir[4*Pt+2]=(Et[Ut[(Pt+2)%4]>>8&255]^Yt>>8)&255,ir[4*Pt+3]=(Et[Ut[(Pt+1)%4]&255]^Yt)&255;return ir};var Nt=function(yt){if(!(this instanceof Nt))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Ct(yt)};Nt.prototype.encrypt=function(yt){if(yt=it(yt),yt.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var lt=at(yt.length),xt=at(16),Ut=0;Ut<yt.length;Ut+=16)st(yt,xt,0,Ut,Ut+16),xt=this._aes.encrypt(xt),st(xt,lt,Ut);return lt},Nt.prototype.decrypt=function(yt){if(yt=it(yt),yt.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var lt=at(yt.length),xt=at(16),Ut=0;Ut<yt.length;Ut+=16)st(yt,xt,0,Ut,Ut+16),xt=this._aes.decrypt(xt),st(xt,lt,Ut);return lt};var ht=function(yt,lt){if(!(this instanceof ht))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!lt)lt=at(16);else if(lt.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=it(lt,!0),this._aes=new Ct(yt)};ht.prototype.encrypt=function(yt){if(yt=it(yt),yt.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var lt=at(yt.length),xt=at(16),Ut=0;Ut<yt.length;Ut+=16){st(yt,xt,0,Ut,Ut+16);for(var Pt=0;Pt<16;Pt++)xt[Pt]^=this._lastCipherblock[Pt];this._lastCipherblock=this._aes.encrypt(xt),st(this._lastCipherblock,lt,Ut)}return lt},ht.prototype.decrypt=function(yt){if(yt=it(yt),yt.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var lt=at(yt.length),xt=at(16),Ut=0;Ut<yt.length;Ut+=16){st(yt,xt,0,Ut,Ut+16),xt=this._aes.decrypt(xt);for(var Pt=0;Pt<16;Pt++)lt[Ut+Pt]=xt[Pt]^this._lastCipherblock[Pt];st(yt,this._lastCipherblock,0,Ut,Ut+16)}return lt};var ot=function(yt,lt,xt){if(!(this instanceof ot))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!lt)lt=at(16);else if(lt.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");xt||(xt=1),this.segmentSize=xt,this._shiftRegister=it(lt,!0),this._aes=new Ct(yt)};ot.prototype.encrypt=function(yt){if(yt.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var lt=it(yt,!0),xt,Ut=0;Ut<lt.length;Ut+=this.segmentSize){xt=this._aes.encrypt(this._shiftRegister);for(var Pt=0;Pt<this.segmentSize;Pt++)lt[Ut+Pt]^=xt[Pt];st(this._shiftRegister,this._shiftRegister,0,this.segmentSize),st(lt,this._shiftRegister,16-this.segmentSize,Ut,Ut+this.segmentSize)}return lt},ot.prototype.decrypt=function(yt){if(yt.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var lt=it(yt,!0),xt,Ut=0;Ut<lt.length;Ut+=this.segmentSize){xt=this._aes.encrypt(this._shiftRegister);for(var Pt=0;Pt<this.segmentSize;Pt++)lt[Ut+Pt]^=xt[Pt];st(this._shiftRegister,this._shiftRegister,0,this.segmentSize),st(yt,this._shiftRegister,16-this.segmentSize,Ut,Ut+this.segmentSize)}return lt};var dt=function(yt,lt){if(!(this instanceof dt))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!lt)lt=at(16);else if(lt.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=it(lt,!0),this._lastPrecipherIndex=16,this._aes=new Ct(yt)};dt.prototype.encrypt=function(yt){for(var lt=it(yt,!0),xt=0;xt<lt.length;xt++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),lt[xt]^=this._lastPrecipher[this._lastPrecipherIndex++];return lt},dt.prototype.decrypt=dt.prototype.encrypt;var mt=function(yt){if(!(this instanceof mt))throw Error("Counter must be instanitated with `new`");yt!==0&&!yt&&(yt=1),typeof yt=="number"?(this._counter=at(16),this.setValue(yt)):this.setBytes(yt)};mt.prototype.setValue=function(yt){if(typeof yt!="number"||parseInt(yt)!=yt)throw new Error("invalid counter value (must be an integer)");for(var lt=15;lt>=0;--lt)this._counter[lt]=yt%256,yt=yt>>8},mt.prototype.setBytes=function(yt){if(yt=it(yt,!0),yt.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=yt},mt.prototype.increment=function(){for(var yt=15;yt>=0;yt--)if(this._counter[yt]===255)this._counter[yt]=0;else{this._counter[yt]++;break}};var wt=function(yt,lt){if(!(this instanceof wt))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",lt instanceof mt||(lt=new mt(lt)),this._counter=lt,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Ct(yt)};wt.prototype.encrypt=function(yt){for(var lt=it(yt,!0),xt=0;xt<lt.length;xt++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),lt[xt]^=this._remainingCounter[this._remainingCounterIndex++];return lt},wt.prototype.decrypt=wt.prototype.encrypt;function bt(yt){yt=it(yt,!0);var lt=16-yt.length%16,xt=at(yt.length+lt);st(yt,xt);for(var Ut=yt.length;Ut<xt.length;Ut++)xt[Ut]=lt;return xt}function vt(yt){if(yt=it(yt,!0),yt.length<16)throw new Error("PKCS#7 invalid length");var lt=yt[yt.length-1];if(lt>16)throw new Error("PKCS#7 padding byte out of range");for(var xt=yt.length-lt,Ut=0;Ut<lt;Ut++)if(yt[xt+Ut]!==lt)throw new Error("PKCS#7 invalid padding byte");var Pt=at(xt);return st(yt,Pt,0,0,xt),Pt}var St={AES:Ct,Counter:mt,ModeOfOperation:{ecb:Nt,cbc:ht,cfb:ot,ofb:dt,ctr:wt},utils:{hex:ut,utf8:ct},padding:{pkcs7:{pad:bt,strip:vt}},_arrayTest:{coerceArray:it,createArray:at,copyArray:st}};et.exports=St})()})(aesJs);var aes$1=aesJs.exports;const version$c="json-wallets/5.7.0";function looseArrayify(et){return typeof et=="string"&&et.substring(0,2)!=="0x"&&(et="0x"+et),arrayify(et)}function zpad(et,_e){for(et=String(et);et.length<_e;)et="0"+et;return et}function getPassword(et){return typeof et=="string"?toUtf8Bytes(et,UnicodeNormalizationForm.NFKC):arrayify(et)}function searchPath(et,_e){let tt=et;const rt=_e.toLowerCase().split("/");for(let nt=0;nt<rt.length;nt++){let it=null;for(const at in tt)if(at.toLowerCase()===rt[nt]){it=tt[at];break}if(it===null)return null;tt=it}return tt}function uuidV4(et){const _e=arrayify(et);_e[6]=_e[6]&15|64,_e[8]=_e[8]&63|128;const tt=hexlify(_e);return[tt.substring(2,10),tt.substring(10,14),tt.substring(14,18),tt.substring(18,22),tt.substring(22,34)].join("-")}const logger$m=new Logger$1(version$c);class CrowdsaleAccount extends Description{isCrowdsaleAccount(_e){return!!(_e&&_e._isCrowdsaleAccount)}}function decrypt$3(et,_e){const tt=JSON.parse(et);_e=getPassword(_e);const rt=getAddress(searchPath(tt,"ethaddr")),nt=looseArrayify(searchPath(tt,"encseed"));(!nt||nt.length%16!==0)&&logger$m.throwArgumentError("invalid encseed","json",et);const it=arrayify(pbkdf2$2(_e,_e,2e3,32,"sha256")).slice(0,16),at=nt.slice(0,16),st=nt.slice(16),ct=new aes$1.ModeOfOperation.cbc(it,at),ut=aes$1.padding.pkcs7.strip(arrayify(ct.decrypt(st)));let ft="";for(let Et=0;Et<ut.length;Et++)ft+=String.fromCharCode(ut[Et]);const gt=toUtf8Bytes(ft),_t=keccak256$1(gt);return new CrowdsaleAccount({_isCrowdsaleAccount:!0,address:rt,privateKey:_t})}function isCrowdsaleWallet(et){let _e=null;try{_e=JSON.parse(et)}catch{return!1}return _e.encseed&&_e.ethaddr}function isKeystoreWallet(et){let _e=null;try{_e=JSON.parse(et)}catch{return!1}return!(!_e.version||parseInt(_e.version)!==_e.version||parseInt(_e.version)!==3)}function getJsonWalletAddress(et){if(isCrowdsaleWallet(et))try{return getAddress(JSON.parse(et).ethaddr)}catch{return null}if(isKeystoreWallet(et))try{return getAddress(JSON.parse(et).address)}catch{return null}return null}var scrypt$1={exports:{}};(function(et,_e){(function(tt){function nt(It){const Tt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let At=1779033703,Rt=3144134277,kt=1013904242,Ot=2773480762,Wt=1359893119,zt=2600822924,Kt=528734635,Jt=1541459225;const ar=new Uint32Array(64);function jt(wt){let bt=0,vt=wt.length;for(;vt>=64;){let St=At,yt=Rt,lt=kt,xt=Ot,Ut=Wt,Pt=zt,qt=Kt,ir=Jt,Yt,rr,Sr,lr,ur;for(rr=0;rr<16;rr++)Sr=bt+rr*4,ar[rr]=(wt[Sr]&255)<<24|(wt[Sr+1]&255)<<16|(wt[Sr+2]&255)<<8|wt[Sr+3]&255;for(rr=16;rr<64;rr++)Yt=ar[rr-2],lr=(Yt>>>17|Yt<<32-17)^(Yt>>>19|Yt<<32-19)^Yt>>>10,Yt=ar[rr-15],ur=(Yt>>>7|Yt<<32-7)^(Yt>>>18|Yt<<32-18)^Yt>>>3,ar[rr]=(lr+ar[rr-7]|0)+(ur+ar[rr-16]|0)|0;for(rr=0;rr<64;rr++)lr=(((Ut>>>6|Ut<<32-6)^(Ut>>>11|Ut<<32-11)^(Ut>>>25|Ut<<32-25))+(Ut&Pt^~Ut&qt)|0)+(ir+(Tt[rr]+ar[rr]|0)|0)|0,ur=((St>>>2|St<<32-2)^(St>>>13|St<<32-13)^(St>>>22|St<<32-22))+(St&yt^St&lt^yt&lt)|0,ir=qt,qt=Pt,Pt=Ut,Ut=xt+lr|0,xt=lt,lt=yt,yt=St,St=lr+ur|0;At=At+St|0,Rt=Rt+yt|0,kt=kt+lt|0,Ot=Ot+xt|0,Wt=Wt+Ut|0,zt=zt+Pt|0,Kt=Kt+qt|0,Jt=Jt+ir|0,bt+=64,vt-=64}}jt(It);let Ct,Nt=It.length%64,ht=It.length/536870912|0,ot=It.length<<3,dt=Nt<56?56:120,mt=It.slice(It.length-Nt,It.length);for(mt.push(128),Ct=Nt+1;Ct<dt;Ct++)mt.push(0);return mt.push(ht>>>24&255),mt.push(ht>>>16&255),mt.push(ht>>>8&255),mt.push(ht>>>0&255),mt.push(ot>>>24&255),mt.push(ot>>>16&255),mt.push(ot>>>8&255),mt.push(ot>>>0&255),jt(mt),[At>>>24&255,At>>>16&255,At>>>8&255,At>>>0&255,Rt>>>24&255,Rt>>>16&255,Rt>>>8&255,Rt>>>0&255,kt>>>24&255,kt>>>16&255,kt>>>8&255,kt>>>0&255,Ot>>>24&255,Ot>>>16&255,Ot>>>8&255,Ot>>>0&255,Wt>>>24&255,Wt>>>16&255,Wt>>>8&255,Wt>>>0&255,zt>>>24&255,zt>>>16&255,zt>>>8&255,zt>>>0&255,Kt>>>24&255,Kt>>>16&255,Kt>>>8&255,Kt>>>0&255,Jt>>>24&255,Jt>>>16&255,Jt>>>8&255,Jt>>>0&255]}function it(It,Tt,At){It=It.length<=64?It:nt(It);const Rt=64+Tt.length+4,kt=new Array(Rt),Ot=new Array(64);let Wt,zt=[];for(Wt=0;Wt<64;Wt++)kt[Wt]=54;for(Wt=0;Wt<It.length;Wt++)kt[Wt]^=It[Wt];for(Wt=0;Wt<Tt.length;Wt++)kt[64+Wt]=Tt[Wt];for(Wt=Rt-4;Wt<Rt;Wt++)kt[Wt]=0;for(Wt=0;Wt<64;Wt++)Ot[Wt]=92;for(Wt=0;Wt<It.length;Wt++)Ot[Wt]^=It[Wt];function Kt(){for(let Jt=Rt-1;Jt>=Rt-4;Jt--){if(kt[Jt]++,kt[Jt]<=255)return;kt[Jt]=0}}for(;At>=32;)Kt(),zt=zt.concat(nt(Ot.concat(nt(kt)))),At-=32;return At>0&&(Kt(),zt=zt.concat(nt(Ot.concat(nt(kt))).slice(0,At))),zt}function at(It,Tt,At,Rt,kt){let Ot;for(ft(It,(2*At-1)*16,kt,0,16),Ot=0;Ot<2*At;Ot++)ut(It,Ot*16,kt,16),ct(kt,Rt),ft(kt,0,It,Tt+Ot*16,16);for(Ot=0;Ot<At;Ot++)ft(It,Tt+Ot*2*16,It,Ot*16,16);for(Ot=0;Ot<At;Ot++)ft(It,Tt+(Ot*2+1)*16,It,(Ot+At)*16,16)}function st(It,Tt){return It<<Tt|It>>>32-Tt}function ct(It,Tt){ft(It,0,Tt,0,16);for(let At=8;At>0;At-=2)Tt[4]^=st(Tt[0]+Tt[12],7),Tt[8]^=st(Tt[4]+Tt[0],9),Tt[12]^=st(Tt[8]+Tt[4],13),Tt[0]^=st(Tt[12]+Tt[8],18),Tt[9]^=st(Tt[5]+Tt[1],7),Tt[13]^=st(Tt[9]+Tt[5],9),Tt[1]^=st(Tt[13]+Tt[9],13),Tt[5]^=st(Tt[1]+Tt[13],18),Tt[14]^=st(Tt[10]+Tt[6],7),Tt[2]^=st(Tt[14]+Tt[10],9),Tt[6]^=st(Tt[2]+Tt[14],13),Tt[10]^=st(Tt[6]+Tt[2],18),Tt[3]^=st(Tt[15]+Tt[11],7),Tt[7]^=st(Tt[3]+Tt[15],9),Tt[11]^=st(Tt[7]+Tt[3],13),Tt[15]^=st(Tt[11]+Tt[7],18),Tt[1]^=st(Tt[0]+Tt[3],7),Tt[2]^=st(Tt[1]+Tt[0],9),Tt[3]^=st(Tt[2]+Tt[1],13),Tt[0]^=st(Tt[3]+Tt[2],18),Tt[6]^=st(Tt[5]+Tt[4],7),Tt[7]^=st(Tt[6]+Tt[5],9),Tt[4]^=st(Tt[7]+Tt[6],13),Tt[5]^=st(Tt[4]+Tt[7],18),Tt[11]^=st(Tt[10]+Tt[9],7),Tt[8]^=st(Tt[11]+Tt[10],9),Tt[9]^=st(Tt[8]+Tt[11],13),Tt[10]^=st(Tt[9]+Tt[8],18),Tt[12]^=st(Tt[15]+Tt[14],7),Tt[13]^=st(Tt[12]+Tt[15],9),Tt[14]^=st(Tt[13]+Tt[12],13),Tt[15]^=st(Tt[14]+Tt[13],18);for(let At=0;At<16;++At)It[At]+=Tt[At]}function ut(It,Tt,At,Rt){for(let kt=0;kt<Rt;kt++)At[kt]^=It[Tt+kt]}function ft(It,Tt,At,Rt,kt){for(;kt--;)At[Rt++]=It[Tt++]}function gt(It){if(!It||typeof It.length!="number")return!1;for(let Tt=0;Tt<It.length;Tt++){const At=It[Tt];if(typeof At!="number"||At%1||At<0||At>=256)return!1}return!0}function _t(It,Tt){if(typeof It!="number"||It%1)throw new Error("invalid "+Tt);return It}function Et(It,Tt,At,Rt,kt,Ot,Wt){if(At=_t(At,"N"),Rt=_t(Rt,"r"),kt=_t(kt,"p"),Ot=_t(Ot,"dkLen"),At===0||(At&At-1)!==0)throw new Error("N must be power of 2");if(At>2147483647/128/Rt)throw new Error("N too large");if(Rt>2147483647/128/kt)throw new Error("r too large");if(!gt(It))throw new Error("password must be an array or buffer");if(It=Array.prototype.slice.call(It),!gt(Tt))throw new Error("salt must be an array or buffer");Tt=Array.prototype.slice.call(Tt);let zt=it(It,Tt,kt*128*Rt);const Kt=new Uint32Array(kt*32*Rt);for(let Ut=0;Ut<Kt.length;Ut++){const Pt=Ut*4;Kt[Ut]=(zt[Pt+3]&255)<<24|(zt[Pt+2]&255)<<16|(zt[Pt+1]&255)<<8|(zt[Pt+0]&255)<<0}const Jt=new Uint32Array(64*Rt),ar=new Uint32Array(32*Rt*At),jt=32*Rt,Ct=new Uint32Array(16),Nt=new Uint32Array(16),ht=kt*At*2;let ot=0,dt=null,mt=!1,wt=0,bt=0,vt,St;const yt=Wt?parseInt(1e3/Rt):4294967295,lt=typeof setImmediate!="undefined"?setImmediate:setTimeout,xt=function(){if(mt)return Wt(new Error("cancelled"),ot/ht);let Ut;switch(wt){case 0:St=bt*32*Rt,ft(Kt,St,Jt,0,jt),wt=1,vt=0;case 1:Ut=At-vt,Ut>yt&&(Ut=yt);for(let qt=0;qt<Ut;qt++)ft(Jt,0,ar,(vt+qt)*jt,jt),at(Jt,jt,Rt,Ct,Nt);if(vt+=Ut,ot+=Ut,Wt){const qt=parseInt(1e3*ot/ht);if(qt!==dt){if(mt=Wt(null,ot/ht),mt)break;dt=qt}}if(vt<At)break;vt=0,wt=2;case 2:Ut=At-vt,Ut>yt&&(Ut=yt);for(let qt=0;qt<Ut;qt++){const ir=(2*Rt-1)*16,Yt=Jt[ir]&At-1;ut(ar,Yt*jt,Jt,jt),at(Jt,jt,Rt,Ct,Nt)}if(vt+=Ut,ot+=Ut,Wt){const qt=parseInt(1e3*ot/ht);if(qt!==dt){if(mt=Wt(null,ot/ht),mt)break;dt=qt}}if(vt<At)break;if(ft(Jt,0,Kt,St,jt),bt++,bt<kt){wt=0;break}zt=[];for(let qt=0;qt<Kt.length;qt++)zt.push(Kt[qt]>>0&255),zt.push(Kt[qt]>>8&255),zt.push(Kt[qt]>>16&255),zt.push(Kt[qt]>>24&255);const Pt=it(It,zt,Ot);return Wt&&Wt(null,1,Pt),Pt}Wt&&lt(xt)};if(!Wt)for(;;){const Ut=xt();if(Ut!=null)return Ut}xt()}const $t={scrypt:function(It,Tt,At,Rt,kt,Ot,Wt){return new Promise(function(zt,Kt){let Jt=0;Wt&&Wt(0),Et(It,Tt,At,Rt,kt,Ot,function(ar,jt,Ct){if(ar)Kt(ar);else if(Ct)Wt&&Jt!==1&&Wt(1),zt(new Uint8Array(Ct));else if(Wt&&jt!==Jt)return Jt=jt,Wt(jt)})})},syncScrypt:function(It,Tt,At,Rt,kt,Ot){return new Uint8Array(Et(It,Tt,At,Rt,kt,Ot))}};et.exports=$t})()})(scrypt$1);var scrypt=scrypt$1.exports,__awaiter$a=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$l=new Logger$1(version$c);function hasMnemonic$1(et){return et!=null&&et.mnemonic&&et.mnemonic.phrase}class KeystoreAccount extends Description{isKeystoreAccount(_e){return!!(_e&&_e._isKeystoreAccount)}}function _decrypt(et,_e,tt){if(searchPath(et,"crypto/cipher")==="aes-128-ctr"){const nt=looseArrayify(searchPath(et,"crypto/cipherparams/iv")),it=new aes$1.Counter(nt),at=new aes$1.ModeOfOperation.ctr(_e,it);return arrayify(at.decrypt(tt))}return null}function _getAccount(et,_e){const tt=looseArrayify(searchPath(et,"crypto/ciphertext"));if(hexlify(keccak256$1(concat$3([_e.slice(16,32),tt]))).substring(2)!==searchPath(et,"crypto/mac").toLowerCase())throw new Error("invalid password");const nt=_decrypt(et,_e.slice(0,16),tt);nt||logger$l.throwError("unsupported cipher",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const it=_e.slice(32,64),at=computeAddress(nt);if(et.address){let ct=et.address.toLowerCase();if(ct.substring(0,2)!=="0x"&&(ct="0x"+ct),getAddress(ct)!==at)throw new Error("address mismatch")}const st={_isKeystoreAccount:!0,address:at,privateKey:hexlify(nt)};if(searchPath(et,"x-ethers/version")==="0.1"){const ct=looseArrayify(searchPath(et,"x-ethers/mnemonicCiphertext")),ut=looseArrayify(searchPath(et,"x-ethers/mnemonicCounter")),ft=new aes$1.Counter(ut),gt=new aes$1.ModeOfOperation.ctr(it,ft),_t=searchPath(et,"x-ethers/path")||defaultPath,Et=searchPath(et,"x-ethers/locale")||"en",$t=arrayify(gt.decrypt(ct));try{const It=entropyToMnemonic($t,Et),Tt=HDNode.fromMnemonic(It,null,Et).derivePath(_t);if(Tt.privateKey!=st.privateKey)throw new Error("mnemonic mismatch");st.mnemonic=Tt.mnemonic}catch(It){if(It.code!==Logger$1.errors.INVALID_ARGUMENT||It.argument!=="wordlist")throw It}}return new KeystoreAccount(st)}function pbkdf2Sync(et,_e,tt,rt,nt){return arrayify(pbkdf2$2(et,_e,tt,rt,nt))}function pbkdf2$1(et,_e,tt,rt,nt){return Promise.resolve(pbkdf2Sync(et,_e,tt,rt,nt))}function _computeKdfKey(et,_e,tt,rt,nt){const it=getPassword(_e),at=searchPath(et,"crypto/kdf");if(at&&typeof at=="string"){const st=function(ct,ut){return logger$l.throwArgumentError("invalid key-derivation function parameters",ct,ut)};if(at.toLowerCase()==="scrypt"){const ct=looseArrayify(searchPath(et,"crypto/kdfparams/salt")),ut=parseInt(searchPath(et,"crypto/kdfparams/n")),ft=parseInt(searchPath(et,"crypto/kdfparams/r")),gt=parseInt(searchPath(et,"crypto/kdfparams/p"));(!ut||!ft||!gt)&&st("kdf",at),(ut&ut-1)!==0&&st("N",ut);const _t=parseInt(searchPath(et,"crypto/kdfparams/dklen"));return _t!==32&&st("dklen",_t),rt(it,ct,ut,ft,gt,64,nt)}else if(at.toLowerCase()==="pbkdf2"){const ct=looseArrayify(searchPath(et,"crypto/kdfparams/salt"));let ut=null;const ft=searchPath(et,"crypto/kdfparams/prf");ft==="hmac-sha256"?ut="sha256":ft==="hmac-sha512"?ut="sha512":st("prf",ft);const gt=parseInt(searchPath(et,"crypto/kdfparams/c")),_t=parseInt(searchPath(et,"crypto/kdfparams/dklen"));return _t!==32&&st("dklen",_t),tt(it,ct,gt,_t,ut)}}return logger$l.throwArgumentError("unsupported key-derivation function","kdf",at)}function decryptSync(et,_e){const tt=JSON.parse(et),rt=_computeKdfKey(tt,_e,pbkdf2Sync,scrypt.syncScrypt);return _getAccount(tt,rt)}function decrypt$2(et,_e,tt){return __awaiter$a(this,void 0,void 0,function*(){const rt=JSON.parse(et),nt=yield _computeKdfKey(rt,_e,pbkdf2$1,scrypt.scrypt,tt);return _getAccount(rt,nt)})}function encrypt$2(et,_e,tt,rt){try{if(getAddress(et.address)!==computeAddress(et.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic$1(et)){const Tt=et.mnemonic;if(HDNode.fromMnemonic(Tt.phrase,null,Tt.locale).derivePath(Tt.path||defaultPath).privateKey!=et.privateKey)throw new Error("mnemonic mismatch")}}catch(Tt){return Promise.reject(Tt)}typeof tt=="function"&&!rt&&(rt=tt,tt={}),tt||(tt={});const nt=arrayify(et.privateKey),it=getPassword(_e);let at=null,st=null,ct=null;if(hasMnemonic$1(et)){const Tt=et.mnemonic;at=arrayify(mnemonicToEntropy(Tt.phrase,Tt.locale||"en")),st=Tt.path||defaultPath,ct=Tt.locale||"en"}let ut=tt.client;ut||(ut="ethers.js");let ft=null;tt.salt?ft=arrayify(tt.salt):ft=randomBytes$1(32);let gt=null;if(tt.iv){if(gt=arrayify(tt.iv),gt.length!==16)throw new Error("invalid iv")}else gt=randomBytes$1(16);let _t=null;if(tt.uuid){if(_t=arrayify(tt.uuid),_t.length!==16)throw new Error("invalid uuid")}else _t=randomBytes$1(16);let Et=1<<17,$t=8,It=1;return tt.scrypt&&(tt.scrypt.N&&(Et=tt.scrypt.N),tt.scrypt.r&&($t=tt.scrypt.r),tt.scrypt.p&&(It=tt.scrypt.p)),scrypt.scrypt(it,ft,Et,$t,It,64,rt).then(Tt=>{Tt=arrayify(Tt);const At=Tt.slice(0,16),Rt=Tt.slice(16,32),kt=Tt.slice(32,64),Ot=new aes$1.Counter(gt),Wt=new aes$1.ModeOfOperation.ctr(At,Ot),zt=arrayify(Wt.encrypt(nt)),Kt=keccak256$1(concat$3([Rt,zt])),Jt={address:et.address.substring(2).toLowerCase(),id:uuidV4(_t),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify(gt).substring(2)},ciphertext:hexlify(zt).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify(ft).substring(2),n:Et,dklen:32,p:It,r:$t},mac:Kt.substring(2)}};if(at){const ar=randomBytes$1(16),jt=new aes$1.Counter(ar),Ct=new aes$1.ModeOfOperation.ctr(kt,jt),Nt=arrayify(Ct.encrypt(at)),ht=new Date,ot=ht.getUTCFullYear()+"-"+zpad(ht.getUTCMonth()+1,2)+"-"+zpad(ht.getUTCDate(),2)+"T"+zpad(ht.getUTCHours(),2)+"-"+zpad(ht.getUTCMinutes(),2)+"-"+zpad(ht.getUTCSeconds(),2)+".0Z";Jt["x-ethers"]={client:ut,gethFilename:"UTC--"+ot+"--"+Jt.address,mnemonicCounter:hexlify(ar).substring(2),mnemonicCiphertext:hexlify(Nt).substring(2),path:st,locale:ct,version:"0.1"}}return JSON.stringify(Jt)})}function decryptJsonWallet(et,_e,tt){if(isCrowdsaleWallet(et)){tt&&tt(0);const rt=decrypt$3(et,_e);return tt&&tt(1),Promise.resolve(rt)}return isKeystoreWallet(et)?decrypt$2(et,_e,tt):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(et,_e){if(isCrowdsaleWallet(et))return decrypt$3(et,_e);if(isKeystoreWallet(et))return decryptSync(et,_e);throw new Error("invalid JSON wallet")}var lib_esm$4=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:decrypt$3,decryptKeystore:decrypt$2,decryptKeystoreSync:decryptSync,encryptKeystore:encrypt$2,isCrowdsaleWallet,isKeystoreWallet,getJsonWalletAddress,decryptJsonWallet,decryptJsonWalletSync},Symbol.toStringTag,{value:"Module"}));const version$b="wallet/5.7.0";var __awaiter$9=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$k=new Logger$1(version$b);function isAccount(et){return et!=null&&isHexString$4(et.privateKey,32)&&et.address!=null}function hasMnemonic(et){const _e=et.mnemonic;return _e&&_e.phrase}class Wallet extends Signer{constructor(_e,tt){if(super(),isAccount(_e)){const rt=new SigningKey(_e.privateKey);if(defineReadOnly(this,"_signingKey",()=>rt),defineReadOnly(this,"address",computeAddress(this.publicKey)),this.address!==getAddress(_e.address)&&logger$k.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),hasMnemonic(_e)){const nt=_e.mnemonic;defineReadOnly(this,"_mnemonic",()=>({phrase:nt.phrase,path:nt.path||defaultPath,locale:nt.locale||"en"}));const it=this.mnemonic,at=HDNode.fromMnemonic(it.phrase,null,it.locale).derivePath(it.path);computeAddress(at.privateKey)!==this.address&&logger$k.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else defineReadOnly(this,"_mnemonic",()=>null)}else{if(SigningKey.isSigningKey(_e))_e.curve!=="secp256k1"&&logger$k.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),defineReadOnly(this,"_signingKey",()=>_e);else{typeof _e=="string"&&_e.match(/^[0-9a-f]*$/i)&&_e.length===64&&(_e="0x"+_e);const rt=new SigningKey(_e);defineReadOnly(this,"_signingKey",()=>rt)}defineReadOnly(this,"_mnemonic",()=>null),defineReadOnly(this,"address",computeAddress(this.publicKey))}tt&&!Provider$2.isProvider(tt)&&logger$k.throwArgumentError("invalid provider","provider",tt),defineReadOnly(this,"provider",tt||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(_e){return new Wallet(this,_e)}signTransaction(_e){return resolveProperties(_e).then(tt=>{tt.from!=null&&(getAddress(tt.from)!==this.address&&logger$k.throwArgumentError("transaction from address mismatch","transaction.from",_e.from),delete tt.from);const rt=this._signingKey().signDigest(keccak256$1(serialize$2(tt)));return serialize$2(tt,rt)})}signMessage(_e){return __awaiter$9(this,void 0,void 0,function*(){return joinSignature(this._signingKey().signDigest(hashMessage(_e)))})}_signTypedData(_e,tt,rt){return __awaiter$9(this,void 0,void 0,function*(){const nt=yield TypedDataEncoder.resolveNames(_e,tt,rt,it=>(this.provider==null&&logger$k.throwError("cannot resolve ENS names without a provider",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:it}),this.provider.resolveName(it)));return joinSignature(this._signingKey().signDigest(TypedDataEncoder.hash(nt.domain,tt,nt.value)))})}encrypt(_e,tt,rt){if(typeof tt=="function"&&!rt&&(rt=tt,tt={}),rt&&typeof rt!="function")throw new Error("invalid callback");return tt||(tt={}),encrypt$2(this,_e,tt,rt)}static createRandom(_e){let tt=randomBytes$1(16);_e||(_e={}),_e.extraEntropy&&(tt=arrayify(hexDataSlice(keccak256$1(concat$3([tt,_e.extraEntropy])),0,16)));const rt=entropyToMnemonic(tt,_e.locale);return Wallet.fromMnemonic(rt,_e.path,_e.locale)}static fromEncryptedJson(_e,tt,rt){return decryptJsonWallet(_e,tt,rt).then(nt=>new Wallet(nt))}static fromEncryptedJsonSync(_e,tt){return new Wallet(decryptJsonWalletSync(_e,tt))}static fromMnemonic(_e,tt,rt){return tt||(tt=defaultPath),new Wallet(HDNode.fromMnemonic(_e,null,rt).derivePath(tt))}}function verifyMessage(et,_e){return recoverAddress(hashMessage(et),_e)}function verifyTypedData(et,_e,tt,rt){return recoverAddress(TypedDataEncoder.hash(et,_e,tt),rt)}var lib_esm$3=Object.freeze(Object.defineProperty({__proto__:null,Wallet,verifyMessage,verifyTypedData},Symbol.toStringTag,{value:"Module"}));const version$a="networks/5.7.1",logger$j=new Logger$1(version$a);function isRenetworkable(et){return et&&typeof et.renetwork=="function"}function ethDefaultProvider(et){const _e=function(tt,rt){rt==null&&(rt={});const nt=[];if(tt.InfuraProvider&&rt.infura!=="-")try{nt.push(new tt.InfuraProvider(et,rt.infura))}catch{}if(tt.EtherscanProvider&&rt.etherscan!=="-")try{nt.push(new tt.EtherscanProvider(et,rt.etherscan))}catch{}if(tt.AlchemyProvider&&rt.alchemy!=="-")try{nt.push(new tt.AlchemyProvider(et,rt.alchemy))}catch{}if(tt.PocketProvider&&rt.pocket!=="-"){const it=["goerli","ropsten","rinkeby","sepolia"];try{const at=new tt.PocketProvider(et,rt.pocket);at.network&&it.indexOf(at.network.name)===-1&&nt.push(at)}catch{}}if(tt.CloudflareProvider&&rt.cloudflare!=="-")try{nt.push(new tt.CloudflareProvider(et))}catch{}if(tt.AnkrProvider&&rt.ankr!=="-")try{const it=["ropsten"],at=new tt.AnkrProvider(et,rt.ankr);at.network&&it.indexOf(at.network.name)===-1&&nt.push(at)}catch{}if(nt.length===0)return null;if(tt.FallbackProvider){let it=1;return rt.quorum!=null?it=rt.quorum:et==="homestead"&&(it=2),new tt.FallbackProvider(nt,it)}return nt[0]};return _e.renetwork=function(tt){return ethDefaultProvider(tt)},_e}function etcDefaultProvider(et,_e){const tt=function(rt,nt){return rt.JsonRpcProvider?new rt.JsonRpcProvider(et,_e):null};return tt.renetwork=function(rt){return etcDefaultProvider(et,rt)},tt}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ethDefaultProvider("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ethDefaultProvider("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ethDefaultProvider("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork(et){if(et==null)return null;if(typeof et=="number"){for(const rt in networks){const nt=networks[rt];if(nt.chainId===et)return{name:nt.name,chainId:nt.chainId,ensAddress:nt.ensAddress||null,_defaultProvider:nt._defaultProvider||null}}return{chainId:et,name:"unknown"}}if(typeof et=="string"){const rt=networks[et];return rt==null?null:{name:rt.name,chainId:rt.chainId,ensAddress:rt.ensAddress,_defaultProvider:rt._defaultProvider||null}}const _e=networks[et.name];if(!_e)return typeof et.chainId!="number"&&logger$j.throwArgumentError("invalid network chainId","network",et),et;et.chainId!==0&&et.chainId!==_e.chainId&&logger$j.throwArgumentError("network chainId mismatch","network",et);let tt=et._defaultProvider||null;return tt==null&&_e._defaultProvider&&(isRenetworkable(_e._defaultProvider)?tt=_e._defaultProvider.renetwork(et):tt=_e._defaultProvider),{name:et.name,chainId:_e.chainId,ensAddress:et.ensAddress||_e.ensAddress||null,_defaultProvider:tt}}const version$9="web/5.7.1";var __awaiter$8=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};function getUrl(et,_e){return __awaiter$8(this,void 0,void 0,function*(){_e==null&&(_e={});const tt={method:_e.method||"GET",headers:_e.headers||{},body:_e.body||void 0};if(_e.skipFetchSetup!==!0&&(tt.mode="cors",tt.cache="no-cache",tt.credentials="same-origin",tt.redirect="follow",tt.referrer="client"),_e.fetchOptions!=null){const at=_e.fetchOptions;at.mode&&(tt.mode=at.mode),at.cache&&(tt.cache=at.cache),at.credentials&&(tt.credentials=at.credentials),at.redirect&&(tt.redirect=at.redirect),at.referrer&&(tt.referrer=at.referrer)}const rt=yield fetch(et,tt),nt=yield rt.arrayBuffer(),it={};return rt.headers.forEach?rt.headers.forEach((at,st)=>{it[st.toLowerCase()]=at}):rt.headers.keys().forEach(at=>{it[at.toLowerCase()]=rt.headers.get(at)}),{headers:it,statusCode:rt.status,statusMessage:rt.statusText,body:arrayify(new Uint8Array(nt))}})}var __awaiter$7=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$i=new Logger$1(version$9);function staller(et){return new Promise(_e=>{setTimeout(_e,et)})}function bodyify(et,_e){if(et==null)return null;if(typeof et=="string")return et;if(isBytesLike(et)){if(_e&&(_e.split("/")[0]==="text"||_e.split(";")[0].trim()==="application/json"))try{return toUtf8String(et)}catch{}return hexlify(et)}return et}function unpercent(et){return toUtf8Bytes(et.replace(/%([0-9a-f][0-9a-f])/gi,(_e,tt)=>String.fromCharCode(parseInt(tt,16))))}function _fetchData(et,_e,tt){const rt=typeof et=="object"&&et.throttleLimit!=null?et.throttleLimit:12;logger$i.assertArgument(rt>0&&rt%1===0,"invalid connection throttle limit","connection.throttleLimit",rt);const nt=typeof et=="object"?et.throttleCallback:null,it=typeof et=="object"&&typeof et.throttleSlotInterval=="number"?et.throttleSlotInterval:100;logger$i.assertArgument(it>0&&it%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",it);const at=typeof et=="object"?!!et.errorPassThrough:!1,st={};let ct=null;const ut={method:"GET"};let ft=!1,gt=2*60*1e3;if(typeof et=="string")ct=et;else if(typeof et=="object"){if((et==null||et.url==null)&&logger$i.throwArgumentError("missing URL","connection.url",et),ct=et.url,typeof et.timeout=="number"&&et.timeout>0&&(gt=et.timeout),et.headers)for(const At in et.headers)st[At.toLowerCase()]={key:At,value:String(et.headers[At])},["if-none-match","if-modified-since"].indexOf(At.toLowerCase())>=0&&(ft=!0);if(ut.allowGzip=!!et.allowGzip,et.user!=null&&et.password!=null){ct.substring(0,6)!=="https:"&&et.allowInsecureAuthentication!==!0&&logger$i.throwError("basic authentication requires a secure https url",Logger$1.errors.INVALID_ARGUMENT,{argument:"url",url:ct,user:et.user,password:"[REDACTED]"});const At=et.user+":"+et.password;st.authorization={key:"Authorization",value:"Basic "+encode$2(toUtf8Bytes(At))}}et.skipFetchSetup!=null&&(ut.skipFetchSetup=!!et.skipFetchSetup),et.fetchOptions!=null&&(ut.fetchOptions=shallowCopy(et.fetchOptions))}const _t=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Et=ct?ct.match(_t):null;if(Et)try{const At={statusCode:200,statusMessage:"OK",headers:{"content-type":Et[1]||"text/plain"},body:Et[2]?decode$4(Et[3]):unpercent(Et[3])};let Rt=At.body;return tt&&(Rt=tt(At.body,At)),Promise.resolve(Rt)}catch(At){logger$i.throwError("processing response error",Logger$1.errors.SERVER_ERROR,{body:bodyify(Et[1],Et[2]),error:At,requestBody:null,requestMethod:"GET",url:ct})}_e&&(ut.method="POST",ut.body=_e,st["content-type"]==null&&(st["content-type"]={key:"Content-Type",value:"application/octet-stream"}),st["content-length"]==null&&(st["content-length"]={key:"Content-Length",value:String(_e.length)}));const $t={};Object.keys(st).forEach(At=>{const Rt=st[At];$t[Rt.key]=Rt.value}),ut.headers=$t;const It=function(){let At=null;return{promise:new Promise(function(Ot,Wt){gt&&(At=setTimeout(()=>{At!=null&&(At=null,Wt(logger$i.makeError("timeout",Logger$1.errors.TIMEOUT,{requestBody:bodyify(ut.body,$t["content-type"]),requestMethod:ut.method,timeout:gt,url:ct})))},gt))}),cancel:function(){At!=null&&(clearTimeout(At),At=null)}}}(),Tt=function(){return __awaiter$7(this,void 0,void 0,function*(){for(let At=0;At<rt;At++){let Rt=null;try{if(Rt=yield getUrl(ct,ut),At<rt){if(Rt.statusCode===301||Rt.statusCode===302){const Ot=Rt.headers.location||"";if(ut.method==="GET"&&Ot.match(/^https:/)){ct=Rt.headers.location;continue}}else if(Rt.statusCode===429){let Ot=!0;if(nt&&(Ot=yield nt(At,ct)),Ot){let Wt=0;const zt=Rt.headers["retry-after"];typeof zt=="string"&&zt.match(/^[1-9][0-9]*$/)?Wt=parseInt(zt)*1e3:Wt=it*parseInt(String(Math.random()*Math.pow(2,At))),yield staller(Wt);continue}}}}catch(Ot){Rt=Ot.response,Rt==null&&(It.cancel(),logger$i.throwError("missing response",Logger$1.errors.SERVER_ERROR,{requestBody:bodyify(ut.body,$t["content-type"]),requestMethod:ut.method,serverError:Ot,url:ct}))}let kt=Rt.body;if(ft&&Rt.statusCode===304?kt=null:!at&&(Rt.statusCode<200||Rt.statusCode>=300)&&(It.cancel(),logger$i.throwError("bad response",Logger$1.errors.SERVER_ERROR,{status:Rt.statusCode,headers:Rt.headers,body:bodyify(kt,Rt.headers?Rt.headers["content-type"]:null),requestBody:bodyify(ut.body,$t["content-type"]),requestMethod:ut.method,url:ct})),tt)try{const Ot=yield tt(kt,Rt);return It.cancel(),Ot}catch(Ot){if(Ot.throttleRetry&&At<rt){let Wt=!0;if(nt&&(Wt=yield nt(At,ct)),Wt){const zt=it*parseInt(String(Math.random()*Math.pow(2,At)));yield staller(zt);continue}}It.cancel(),logger$i.throwError("processing response error",Logger$1.errors.SERVER_ERROR,{body:bodyify(kt,Rt.headers?Rt.headers["content-type"]:null),error:Ot,requestBody:bodyify(ut.body,$t["content-type"]),requestMethod:ut.method,url:ct})}return It.cancel(),kt}return logger$i.throwError("failed response",Logger$1.errors.SERVER_ERROR,{requestBody:bodyify(ut.body,$t["content-type"]),requestMethod:ut.method,url:ct})})}();return Promise.race([It.promise,Tt])}function fetchJson(et,_e,tt){let rt=(it,at)=>{let st=null;if(it!=null)try{st=JSON.parse(toUtf8String(it))}catch(ct){logger$i.throwError("invalid JSON",Logger$1.errors.SERVER_ERROR,{body:it,error:ct})}return tt&&(st=tt(st,at)),st},nt=null;if(_e!=null){nt=toUtf8Bytes(_e);const it=typeof et=="string"?{url:et}:shallowCopy(et);it.headers?Object.keys(it.headers).filter(st=>st.toLowerCase()==="content-type").length!==0||(it.headers=shallowCopy(it.headers),it.headers["content-type"]="application/json"):it.headers={"content-type":"application/json"},et=it}return _fetchData(et,nt,rt)}function poll(et,_e){return _e||(_e={}),_e=shallowCopy(_e),_e.floor==null&&(_e.floor=0),_e.ceiling==null&&(_e.ceiling=1e4),_e.interval==null&&(_e.interval=250),new Promise(function(tt,rt){let nt=null,it=!1;const at=()=>it?!1:(it=!0,nt&&clearTimeout(nt),!0);_e.timeout&&(nt=setTimeout(()=>{at()&&rt(new Error("timeout"))},_e.timeout));const st=_e.retryLimit;let ct=0;function ut(){return et().then(function(ft){if(ft!==void 0)at()&&tt(ft);else if(_e.oncePoll)_e.oncePoll.once("poll",ut);else if(_e.onceBlock)_e.onceBlock.once("block",ut);else if(!it){if(ct++,ct>st){at()&&rt(new Error("retry limit reached"));return}let gt=_e.interval*parseInt(String(Math.random()*Math.pow(2,ct)));gt<_e.floor&&(gt=_e.floor),gt>_e.ceiling&&(gt=_e.ceiling),setTimeout(ut,gt)}return null},function(ft){at()&&rt(ft)})}ut()})}var lib_esm$2=Object.freeze(Object.defineProperty({__proto__:null,_fetchData,fetchJson,poll},Symbol.toStringTag,{value:"Module"})),ALPHABET$1="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(var z$4=0;z$4<ALPHABET$1.length;z$4++){var x$5=ALPHABET$1.charAt(z$4);if(ALPHABET_MAP[x$5]!==void 0)throw new TypeError(x$5+" is ambiguous");ALPHABET_MAP[x$5]=z$4}function polymodStep(et){var _e=et>>25;return(et&33554431)<<5^-(_e>>0&1)&996825010^-(_e>>1&1)&642813549^-(_e>>2&1)&513874426^-(_e>>3&1)&1027748829^-(_e>>4&1)&705979059}function prefixChk(et){for(var _e=1,tt=0;tt<et.length;++tt){var rt=et.charCodeAt(tt);if(rt<33||rt>126)return"Invalid prefix ("+et+")";_e=polymodStep(_e)^rt>>5}for(_e=polymodStep(_e),tt=0;tt<et.length;++tt){var nt=et.charCodeAt(tt);_e=polymodStep(_e)^nt&31}return _e}function encode$1(et,_e,tt){if(tt=tt||90,et.length+7+_e.length>tt)throw new TypeError("Exceeds length limit");et=et.toLowerCase();var rt=prefixChk(et);if(typeof rt=="string")throw new Error(rt);for(var nt=et+"1",it=0;it<_e.length;++it){var at=_e[it];if(at>>5!==0)throw new Error("Non 5-bit word");rt=polymodStep(rt)^at,nt+=ALPHABET$1.charAt(at)}for(it=0;it<6;++it)rt=polymodStep(rt);for(rt^=1,it=0;it<6;++it){var st=rt>>(5-it)*5&31;nt+=ALPHABET$1.charAt(st)}return nt}function __decode(et,_e){if(_e=_e||90,et.length<8)return et+" too short";if(et.length>_e)return"Exceeds length limit";var tt=et.toLowerCase(),rt=et.toUpperCase();if(et!==tt&&et!==rt)return"Mixed-case string "+et;et=tt;var nt=et.lastIndexOf("1");if(nt===-1)return"No separator character for "+et;if(nt===0)return"Missing prefix for "+et;var it=et.slice(0,nt),at=et.slice(nt+1);if(at.length<6)return"Data too short";var st=prefixChk(it);if(typeof st=="string")return st;for(var ct=[],ut=0;ut<at.length;++ut){var ft=at.charAt(ut),gt=ALPHABET_MAP[ft];if(gt===void 0)return"Unknown character "+ft;st=polymodStep(st)^gt,!(ut+6>=at.length)&&ct.push(gt)}return st!==1?"Invalid checksum for "+et:{prefix:it,words:ct}}function decodeUnsafe(){var et=__decode.apply(null,arguments);if(typeof et=="object")return et}function decode$3(et){var _e=__decode.apply(null,arguments);if(typeof _e=="object")return _e;throw new Error(_e)}function convert$3(et,_e,tt,rt){for(var nt=0,it=0,at=(1<<tt)-1,st=[],ct=0;ct<et.length;++ct)for(nt=nt<<_e|et[ct],it+=_e;it>=tt;)it-=tt,st.push(nt>>it&at);if(rt)it>0&&st.push(nt<<tt-it&at);else{if(it>=_e)return"Excess padding";if(nt<<tt-it&at)return"Non-zero padding"}return st}function toWordsUnsafe(et){var _e=convert$3(et,8,5,!0);if(Array.isArray(_e))return _e}function toWords(et){var _e=convert$3(et,8,5,!0);if(Array.isArray(_e))return _e;throw new Error(_e)}function fromWordsUnsafe(et){var _e=convert$3(et,5,8,!1);if(Array.isArray(_e))return _e}function fromWords(et){var _e=convert$3(et,5,8,!1);if(Array.isArray(_e))return _e;throw new Error(_e)}var bech32={decodeUnsafe,decode:decode$3,encode:encode$1,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords};const version$8="providers/5.7.2",logger$h=new Logger$1(version$8);class Formatter{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const _e={},tt=this.address.bind(this),rt=this.bigNumber.bind(this),nt=this.blockTag.bind(this),it=this.data.bind(this),at=this.hash.bind(this),st=this.hex.bind(this),ct=this.number.bind(this),ut=this.type.bind(this),ft=gt=>this.data(gt,!0);return _e.transaction={hash:at,type:ut,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(at,null),blockNumber:Formatter.allowNull(ct,null),transactionIndex:Formatter.allowNull(ct,null),confirmations:Formatter.allowNull(ct,null),from:tt,gasPrice:Formatter.allowNull(rt),maxPriorityFeePerGas:Formatter.allowNull(rt),maxFeePerGas:Formatter.allowNull(rt),gasLimit:rt,to:Formatter.allowNull(tt,null),value:rt,nonce:ct,data:it,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(ct),creates:Formatter.allowNull(tt,null),raw:Formatter.allowNull(it)},_e.transactionRequest={from:Formatter.allowNull(tt),nonce:Formatter.allowNull(ct),gasLimit:Formatter.allowNull(rt),gasPrice:Formatter.allowNull(rt),maxPriorityFeePerGas:Formatter.allowNull(rt),maxFeePerGas:Formatter.allowNull(rt),to:Formatter.allowNull(tt),value:Formatter.allowNull(rt),data:Formatter.allowNull(ft),type:Formatter.allowNull(ct),accessList:Formatter.allowNull(this.accessList.bind(this),null)},_e.receiptLog={transactionIndex:ct,blockNumber:ct,transactionHash:at,address:tt,topics:Formatter.arrayOf(at),data:it,logIndex:ct,blockHash:at},_e.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(tt,null),transactionIndex:ct,root:Formatter.allowNull(st),gasUsed:rt,logsBloom:Formatter.allowNull(it),blockHash:at,transactionHash:at,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:ct,confirmations:Formatter.allowNull(ct,null),cumulativeGasUsed:rt,effectiveGasPrice:Formatter.allowNull(rt),status:Formatter.allowNull(ct),type:ut},_e.block={hash:Formatter.allowNull(at),parentHash:at,number:ct,timestamp:ct,nonce:Formatter.allowNull(st),difficulty:this.difficulty.bind(this),gasLimit:rt,gasUsed:rt,miner:Formatter.allowNull(tt),extraData:it,transactions:Formatter.allowNull(Formatter.arrayOf(at)),baseFeePerGas:Formatter.allowNull(rt)},_e.blockWithTransactions=shallowCopy(_e.block),_e.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),_e.filter={fromBlock:Formatter.allowNull(nt,void 0),toBlock:Formatter.allowNull(nt,void 0),blockHash:Formatter.allowNull(at,void 0),address:Formatter.allowNull(tt,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)},_e.filterLog={blockNumber:Formatter.allowNull(ct),blockHash:Formatter.allowNull(at),transactionIndex:ct,removed:Formatter.allowNull(this.boolean.bind(this)),address:tt,data:Formatter.allowFalsish(it,"0x"),topics:Formatter.arrayOf(at),transactionHash:at,logIndex:ct},_e}accessList(_e){return accessListify(_e||[])}number(_e){return _e==="0x"?0:BigNumber.from(_e).toNumber()}type(_e){return _e==="0x"||_e==null?0:BigNumber.from(_e).toNumber()}bigNumber(_e){return BigNumber.from(_e)}boolean(_e){if(typeof _e=="boolean")return _e;if(typeof _e=="string"){if(_e=_e.toLowerCase(),_e==="true")return!0;if(_e==="false")return!1}throw new Error("invalid boolean - "+_e)}hex(_e,tt){return typeof _e=="string"&&(!tt&&_e.substring(0,2)!=="0x"&&(_e="0x"+_e),isHexString$4(_e))?_e.toLowerCase():logger$h.throwArgumentError("invalid hash","value",_e)}data(_e,tt){const rt=this.hex(_e,tt);if(rt.length%2!==0)throw new Error("invalid data; odd-length - "+_e);return rt}address(_e){return getAddress(_e)}callAddress(_e){if(!isHexString$4(_e,32))return null;const tt=getAddress(hexDataSlice(_e,12));return tt===AddressZero?null:tt}contractAddress(_e){return getContractAddress(_e)}blockTag(_e){if(_e==null)return"latest";if(_e==="earliest")return"0x0";switch(_e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return _e}if(typeof _e=="number"||isHexString$4(_e))return hexValue(_e);throw new Error("invalid blockTag")}hash(_e,tt){const rt=this.hex(_e,tt);return hexDataLength(rt)!==32?logger$h.throwArgumentError("invalid hash","value",_e):rt}difficulty(_e){if(_e==null)return null;const tt=BigNumber.from(_e);try{return tt.toNumber()}catch{}return null}uint256(_e){if(!isHexString$4(_e))throw new Error("invalid uint256");return hexZeroPad(_e,32)}_block(_e,tt){_e.author!=null&&_e.miner==null&&(_e.miner=_e.author);const rt=_e._difficulty!=null?_e._difficulty:_e.difficulty,nt=Formatter.check(tt,_e);return nt._difficulty=rt==null?null:BigNumber.from(rt),nt}block(_e){return this._block(_e,this.formats.block)}blockWithTransactions(_e){return this._block(_e,this.formats.blockWithTransactions)}transactionRequest(_e){return Formatter.check(this.formats.transactionRequest,_e)}transactionResponse(_e){_e.gas!=null&&_e.gasLimit==null&&(_e.gasLimit=_e.gas),_e.to&&BigNumber.from(_e.to).isZero()&&(_e.to="0x0000000000000000000000000000000000000000"),_e.input!=null&&_e.data==null&&(_e.data=_e.input),_e.to==null&&_e.creates==null&&(_e.creates=this.contractAddress(_e)),(_e.type===1||_e.type===2)&&_e.accessList==null&&(_e.accessList=[]);const tt=Formatter.check(this.formats.transaction,_e);if(_e.chainId!=null){let rt=_e.chainId;isHexString$4(rt)&&(rt=BigNumber.from(rt).toNumber()),tt.chainId=rt}else{let rt=_e.networkId;rt==null&&tt.v==null&&(rt=_e.chainId),isHexString$4(rt)&&(rt=BigNumber.from(rt).toNumber()),typeof rt!="number"&&tt.v!=null&&(rt=(tt.v-35)/2,rt<0&&(rt=0),rt=parseInt(rt)),typeof rt!="number"&&(rt=0),tt.chainId=rt}return tt.blockHash&&tt.blockHash.replace(/0/g,"")==="x"&&(tt.blockHash=null),tt}transaction(_e){return parse$3(_e)}receiptLog(_e){return Formatter.check(this.formats.receiptLog,_e)}receipt(_e){const tt=Formatter.check(this.formats.receipt,_e);if(tt.root!=null)if(tt.root.length<=4){const rt=BigNumber.from(tt.root).toNumber();rt===0||rt===1?(tt.status!=null&&tt.status!==rt&&logger$h.throwArgumentError("alt-root-status/status mismatch","value",{root:tt.root,status:tt.status}),tt.status=rt,delete tt.root):logger$h.throwArgumentError("invalid alt-root-status","value.root",tt.root)}else tt.root.length!==66&&logger$h.throwArgumentError("invalid root hash","value.root",tt.root);return tt.status!=null&&(tt.byzantium=!0),tt}topics(_e){return Array.isArray(_e)?_e.map(tt=>this.topics(tt)):_e!=null?this.hash(_e,!0):null}filter(_e){return Formatter.check(this.formats.filter,_e)}filterLog(_e){return Formatter.check(this.formats.filterLog,_e)}static check(_e,tt){const rt={};for(const nt in _e)try{const it=_e[nt](tt[nt]);it!==void 0&&(rt[nt]=it)}catch(it){throw it.checkKey=nt,it.checkValue=tt[nt],it}return rt}static allowNull(_e,tt){return function(rt){return rt==null?tt:_e(rt)}}static allowFalsish(_e,tt){return function(rt){return rt?_e(rt):tt}}static arrayOf(_e){return function(tt){if(!Array.isArray(tt))throw new Error("not an array");const rt=[];return tt.forEach(function(nt){rt.push(_e(nt))}),rt}}}function isCommunityResourcable(et){return et&&typeof et.isCommunityResource=="function"}function isCommunityResource(et){return isCommunityResourcable(et)&&et.isCommunityResource()}let throttleMessage=!1;function showThrottleMessage(){throttleMessage||(throttleMessage=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var __awaiter$6=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$g=new Logger$1(version$8),MAX_CCIP_REDIRECTS=10;function checkTopic(et){return et==null?"null":(hexDataLength(et)!==32&&logger$g.throwArgumentError("invalid topic","topic",et),et.toLowerCase())}function serializeTopics(et){for(et=et.slice();et.length>0&&et[et.length-1]==null;)et.pop();return et.map(_e=>{if(Array.isArray(_e)){const tt={};_e.forEach(nt=>{tt[checkTopic(nt)]=!0});const rt=Object.keys(tt);return rt.sort(),rt.join("|")}else return checkTopic(_e)}).join("&")}function deserializeTopics(et){return et===""?[]:et.split(/&/g).map(_e=>{if(_e==="")return[];const tt=_e.split("|").map(rt=>rt==="null"?null:rt);return tt.length===1?tt[0]:tt})}function getEventTag(et){if(typeof et=="string"){if(et=et.toLowerCase(),hexDataLength(et)===32)return"tx:"+et;if(et.indexOf(":")===-1)return et}else{if(Array.isArray(et))return"filter:*:"+serializeTopics(et);if(ForkEvent.isForkEvent(et))throw logger$g.warn("not implemented"),new Error("not implemented");if(et&&typeof et=="object")return"filter:"+(et.address||"*")+":"+serializeTopics(et.topics||[])}throw new Error("invalid event - "+et)}function getTime(){return new Date().getTime()}function stall$1(et){return new Promise(_e=>{setTimeout(_e,et)})}const PollableEvents=["block","network","pending","poll"];class Event$1{constructor(_e,tt,rt){defineReadOnly(this,"tag",_e),defineReadOnly(this,"listener",tt),defineReadOnly(this,"once",rt),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const _e=this.tag.split(":");return _e[0]!=="tx"?null:_e[1]}get filter(){const _e=this.tag.split(":");if(_e[0]!=="filter")return null;const tt=_e[1],rt=deserializeTopics(_e[2]),nt={};return rt.length>0&&(nt.topics=rt),tt&&tt!=="*"&&(nt.address=tt),nt}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}const coinInfos={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify(et){return hexZeroPad(BigNumber.from(et).toHexString(),32)}function base58Encode(et){return Base58.encode(concat$3([et,hexDataSlice(sha256$3(sha256$3(et)),0,4)]))}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString(et,_e){try{return toUtf8String(_parseBytes(et,_e))}catch{}return null}function _parseBytes(et,_e){if(et==="0x")return null;const tt=BigNumber.from(hexDataSlice(et,_e,_e+32)).toNumber(),rt=BigNumber.from(hexDataSlice(et,tt,tt+32)).toNumber();return hexDataSlice(et,tt+32,tt+32+rt)}function getIpfsLink(et){return et.match(/^ipfs:\/\/ipfs\//i)?et=et.substring(12):et.match(/^ipfs:\/\//i)?et=et.substring(7):logger$g.throwArgumentError("unsupported IPFS format","link",et),`https://gateway.ipfs.io/ipfs/${et}`}function numPad(et){const _e=arrayify(et);if(_e.length>32)throw new Error("internal; should not happen");const tt=new Uint8Array(32);return tt.set(_e,32-_e.length),tt}function bytesPad(et){if(et.length%32===0)return et;const _e=new Uint8Array(Math.ceil(et.length/32)*32);return _e.set(et),_e}function encodeBytes(et){const _e=[];let tt=0;for(let rt=0;rt<et.length;rt++)_e.push(null),tt+=32;for(let rt=0;rt<et.length;rt++){const nt=arrayify(et[rt]);_e[rt]=numPad(tt),_e.push(numPad(nt.length)),_e.push(bytesPad(nt)),tt+=32+Math.ceil(nt.length/32)*32}return hexConcat(_e)}class Resolver{constructor(_e,tt,rt,nt){defineReadOnly(this,"provider",_e),defineReadOnly(this,"name",rt),defineReadOnly(this,"address",_e.formatter.address(tt)),defineReadOnly(this,"_resolvedAddress",nt)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(_e=>BigNumber.from(_e).eq(1)).catch(_e=>{if(_e.code===Logger$1.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,_e})),this._supportsEip2544}_fetch(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){const rt={to:this.address,ccipReadEnabled:!0,data:hexConcat([_e,namehash(this.name),tt||"0x"])};let nt=!1;(yield this.supportsWildcard())&&(nt=!0,rt.data=hexConcat(["0x9061b923",encodeBytes([dnsEncode(this.name),rt.data])]));try{let it=yield this.provider.call(rt);return arrayify(it).length%32===4&&logger$g.throwError("resolver threw error",Logger$1.errors.CALL_EXCEPTION,{transaction:rt,data:it}),nt&&(it=_parseBytes(it,0)),it}catch(it){if(it.code===Logger$1.errors.CALL_EXCEPTION)return null;throw it}})}_fetchBytes(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){const rt=yield this._fetch(_e,tt);return rt!=null?_parseBytes(rt,0):null})}_getAddress(_e,tt){const rt=coinInfos[String(_e)];if(rt==null&&logger$g.throwError(`unsupported coin type: ${_e}`,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${_e})`}),rt.ilk==="eth")return this.provider.formatter.address(tt);const nt=arrayify(tt);if(rt.p2pkh!=null){const it=tt.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(it){const at=parseInt(it[1],16);if(it[2].length===at*2&&at>=1&&at<=75)return base58Encode(concat$3([[rt.p2pkh],"0x"+it[2]]))}}if(rt.p2sh!=null){const it=tt.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(it){const at=parseInt(it[1],16);if(it[2].length===at*2&&at>=1&&at<=75)return base58Encode(concat$3([[rt.p2sh],"0x"+it[2]]))}}if(rt.prefix!=null){const it=nt[1];let at=nt[0];if(at===0?it!==20&&it!==32&&(at=-1):at=-1,at>=0&&nt.length===2+it&&it>=1&&it<=75){const st=bech32.toWords(nt.slice(2));return st.unshift(at),bech32.encode(rt.prefix,st)}}return null}getAddress(_e){return __awaiter$6(this,void 0,void 0,function*(){if(_e==null&&(_e=60),_e===60)try{const nt=yield this._fetch("0x3b3b57de");return nt==="0x"||nt===HashZero?null:this.provider.formatter.callAddress(nt)}catch(nt){if(nt.code===Logger$1.errors.CALL_EXCEPTION)return null;throw nt}const tt=yield this._fetchBytes("0xf1cb7e06",bytes32ify(_e));if(tt==null||tt==="0x")return null;const rt=this._getAddress(_e,tt);return rt==null&&logger$g.throwError("invalid or unsupported coin data",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${_e})`,coinType:_e,data:tt}),rt})}getAvatar(){return __awaiter$6(this,void 0,void 0,function*(){const _e=[{type:"name",content:this.name}];try{const tt=yield this.getText("avatar");if(tt==null)return null;for(let rt=0;rt<matchers.length;rt++){const nt=tt.match(matchers[rt]);if(nt==null)continue;const it=nt[1].toLowerCase();switch(it){case"https":return _e.push({type:"url",content:tt}),{linkage:_e,url:tt};case"data":return _e.push({type:"data",content:tt}),{linkage:_e,url:tt};case"ipfs":return _e.push({type:"ipfs",content:tt}),{linkage:_e,url:getIpfsLink(tt)};case"erc721":case"erc1155":{const at=it==="erc721"?"0xc87b56dd":"0x0e89341c";_e.push({type:it,content:tt});const st=this._resolvedAddress||(yield this.getAddress()),ct=(nt[2]||"").split("/");if(ct.length!==2)return null;const ut=yield this.provider.formatter.address(ct[0]),ft=hexZeroPad(BigNumber.from(ct[1]).toHexString(),32);if(it==="erc721"){const It=this.provider.formatter.callAddress(yield this.provider.call({to:ut,data:hexConcat(["0x6352211e",ft])}));if(st!==It)return null;_e.push({type:"owner",content:It})}else if(it==="erc1155"){const It=BigNumber.from(yield this.provider.call({to:ut,data:hexConcat(["0x00fdd58e",hexZeroPad(st,32),ft])}));if(It.isZero())return null;_e.push({type:"balance",content:It.toString()})}const gt={to:this.provider.formatter.address(ct[0]),data:hexConcat([at,ft])};let _t=_parseString(yield this.provider.call(gt),0);if(_t==null)return null;_e.push({type:"metadata-url-base",content:_t}),it==="erc1155"&&(_t=_t.replace("{id}",ft.substring(2)),_e.push({type:"metadata-url-expanded",content:_t})),_t.match(/^ipfs:/i)&&(_t=getIpfsLink(_t)),_e.push({type:"metadata-url",content:_t});const Et=yield fetchJson(_t);if(!Et)return null;_e.push({type:"metadata",content:JSON.stringify(Et)});let $t=Et.image;if(typeof $t!="string")return null;if(!$t.match(/^(https:\/\/|data:)/i)){if($t.match(matcherIpfs)==null)return null;_e.push({type:"url-ipfs",content:$t}),$t=getIpfsLink($t)}return _e.push({type:"url",content:$t}),{linkage:_e,url:$t}}}}}catch{}return null})}getContentHash(){return __awaiter$6(this,void 0,void 0,function*(){const _e=yield this._fetchBytes("0xbc1c58d1");if(_e==null||_e==="0x")return null;const tt=_e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(tt){const at=parseInt(tt[3],16);if(tt[4].length===at*2)return"ipfs://"+Base58.encode("0x"+tt[1])}const rt=_e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(rt){const at=parseInt(rt[3],16);if(rt[4].length===at*2)return"ipns://"+Base58.encode("0x"+rt[1])}const nt=_e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(nt&&nt[1].length===32*2)return"bzz://"+nt[1];const it=_e.match(/^0x90b2c605([0-9a-f]*)$/);if(it&&it[1].length===34*2){const at={"=":"","+":"-","/":"_"},st=encode$2("0x"+it[1]).replace(/[=+\/]/g,ct=>at[ct]);return"sia://"+st}return logger$g.throwError("invalid or unsupported content hash data",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:_e})})}getText(_e){return __awaiter$6(this,void 0,void 0,function*(){let tt=toUtf8Bytes(_e);tt=concat$3([bytes32ify(64),bytes32ify(tt.length),tt]),tt.length%32!==0&&(tt=concat$3([tt,hexZeroPad("0x",32-_e.length%32)]));const rt=yield this._fetchBytes("0x59d1d43c",hexlify(tt));return rt==null||rt==="0x"?null:toUtf8String(rt)})}}let defaultFormatter=null,nextPollId=1;class BaseProvider extends Provider$2{constructor(_e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),defineReadOnly(this,"anyNetwork",_e==="any"),this.anyNetwork&&(_e=this.detectNetwork()),_e instanceof Promise)this._networkPromise=_e,_e.catch(tt=>{}),this._ready().catch(tt=>{});else{const tt=getStatic(new.target,"getNetwork")(_e);tt?(defineReadOnly(this,"_network",tt),this.emit("network",tt,null)):logger$g.throwArgumentError("invalid network","network",_e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return __awaiter$6(this,void 0,void 0,function*(){if(this._network==null){let _e=null;if(this._networkPromise)try{_e=yield this._networkPromise}catch{}_e==null&&(_e=yield this.detectNetwork()),_e||logger$g.throwError("no network detected",Logger$1.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=_e:defineReadOnly(this,"_network",_e),this.emit("network",_e,null))}return this._network})}get ready(){return poll(()=>this._ready().then(_e=>_e,_e=>{if(!(_e.code===Logger$1.errors.NETWORK_ERROR&&_e.event==="noNetwork"))throw _e}))}static getFormatter(){return defaultFormatter==null&&(defaultFormatter=new Formatter),defaultFormatter}static getNetwork(_e){return getNetwork(_e==null?"homestead":_e)}ccipReadFetch(_e,tt,rt){return __awaiter$6(this,void 0,void 0,function*(){if(this.disableCcipRead||rt.length===0)return null;const nt=_e.to.toLowerCase(),it=tt.toLowerCase(),at=[];for(let st=0;st<rt.length;st++){const ct=rt[st],ut=ct.replace("{sender}",nt).replace("{data}",it),ft=ct.indexOf("{data}")>=0?null:JSON.stringify({data:it,sender:nt}),gt=yield fetchJson({url:ut,errorPassThrough:!0},ft,(Et,$t)=>(Et.status=$t.statusCode,Et));if(gt.data)return gt.data;const _t=gt.message||"unknown error";if(gt.status>=400&&gt.status<500)return logger$g.throwError(`response not found during CCIP fetch: ${_t}`,Logger$1.errors.SERVER_ERROR,{url:ct,errorMessage:_t});at.push(_t)}return logger$g.throwError(`error encountered during CCIP fetch: ${at.map(st=>JSON.stringify(st)).join(", ")}`,Logger$1.errors.SERVER_ERROR,{urls:rt,errorMessages:at})})}_getInternalBlockNumber(_e){return __awaiter$6(this,void 0,void 0,function*(){if(yield this._ready(),_e>0)for(;this._internalBlockNumber;){const nt=this._internalBlockNumber;try{const it=yield nt;if(getTime()-it.respTime<=_e)return it.blockNumber;break}catch{if(this._internalBlockNumber===nt)break}}const tt=getTime(),rt=resolveProperties({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(nt=>null,nt=>nt)}).then(({blockNumber:nt,networkError:it})=>{if(it)throw this._internalBlockNumber===rt&&(this._internalBlockNumber=null),it;const at=getTime();return nt=BigNumber.from(nt).toNumber(),nt<this._maxInternalBlockNumber&&(nt=this._maxInternalBlockNumber),this._maxInternalBlockNumber=nt,this._setFastBlockNumber(nt),{blockNumber:nt,reqTime:tt,respTime:at}});return this._internalBlockNumber=rt,rt.catch(nt=>{this._internalBlockNumber===rt&&(this._internalBlockNumber=null)}),(yield rt).blockNumber})}poll(){return __awaiter$6(this,void 0,void 0,function*(){const _e=nextPollId++,tt=[];let rt=null;try{rt=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(nt){this.emit("error",nt);return}if(this._setFastBlockNumber(rt),this.emit("poll",_e,rt),rt===this._lastBlockNumber){this.emit("didPoll",_e);return}if(this._emitted.block===-2&&(this._emitted.block=rt-1),Math.abs(this._emitted.block-rt)>1e3)logger$g.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${rt})`),this.emit("error",logger$g.makeError("network block skew detected",Logger$1.errors.NETWORK_ERROR,{blockNumber:rt,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",rt);else for(let nt=this._emitted.block+1;nt<=rt;nt++)this.emit("block",nt);this._emitted.block!==rt&&(this._emitted.block=rt,Object.keys(this._emitted).forEach(nt=>{if(nt==="block")return;const it=this._emitted[nt];it!=="pending"&&rt-it>12&&delete this._emitted[nt]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=rt-1),this._events.forEach(nt=>{switch(nt.type){case"tx":{const it=nt.hash;let at=this.getTransactionReceipt(it).then(st=>(!st||st.blockNumber==null||(this._emitted["t:"+it]=st.blockNumber,this.emit(it,st)),null)).catch(st=>{this.emit("error",st)});tt.push(at);break}case"filter":{if(!nt._inflight){nt._inflight=!0,nt._lastBlockNumber===-2&&(nt._lastBlockNumber=rt-1);const it=nt.filter;it.fromBlock=nt._lastBlockNumber+1,it.toBlock=rt;const at=it.toBlock-this._maxFilterBlockRange;at>it.fromBlock&&(it.fromBlock=at),it.fromBlock<0&&(it.fromBlock=0);const st=this.getLogs(it).then(ct=>{nt._inflight=!1,ct.length!==0&&ct.forEach(ut=>{ut.blockNumber>nt._lastBlockNumber&&(nt._lastBlockNumber=ut.blockNumber),this._emitted["b:"+ut.blockHash]=ut.blockNumber,this._emitted["t:"+ut.transactionHash]=ut.blockNumber,this.emit(it,ut)})}).catch(ct=>{this.emit("error",ct),nt._inflight=!1});tt.push(st)}break}}}),this._lastBlockNumber=rt,Promise.all(tt).then(()=>{this.emit("didPoll",_e)}).catch(nt=>{this.emit("error",nt)})})}resetEventsBlock(_e){this._lastBlockNumber=_e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return __awaiter$6(this,void 0,void 0,function*(){return logger$g.throwError("provider does not support network detection",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return __awaiter$6(this,void 0,void 0,function*(){const _e=yield this._ready(),tt=yield this.detectNetwork();if(_e.chainId!==tt.chainId){if(this.anyNetwork)return this._network=tt,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",tt,_e),yield stall$1(0),this._network;const rt=logger$g.makeError("underlying network changed",Logger$1.errors.NETWORK_ERROR,{event:"changed",network:_e,detectedNetwork:tt});throw this.emit("error",rt),rt}return _e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(_e=>{this._setFastBlockNumber(_e)},_e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(_e){_e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!_e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(_e){if(typeof _e!="number"||_e<=0||parseInt(String(_e))!=_e)throw new Error("invalid polling interval");this._pollingInterval=_e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const _e=getTime();return _e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=_e,this._fastBlockNumberPromise=this.getBlockNumber().then(tt=>((this._fastBlockNumber==null||tt>this._fastBlockNumber)&&(this._fastBlockNumber=tt),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(_e){this._fastBlockNumber!=null&&_e<this._fastBlockNumber||(this._fastQueryDate=getTime(),(this._fastBlockNumber==null||_e>this._fastBlockNumber)&&(this._fastBlockNumber=_e,this._fastBlockNumberPromise=Promise.resolve(_e)))}waitForTransaction(_e,tt,rt){return __awaiter$6(this,void 0,void 0,function*(){return this._waitForTransaction(_e,tt==null?1:tt,rt||0,null)})}_waitForTransaction(_e,tt,rt,nt){return __awaiter$6(this,void 0,void 0,function*(){const it=yield this.getTransactionReceipt(_e);return(it?it.confirmations:0)>=tt?it:new Promise((at,st)=>{const ct=[];let ut=!1;const ft=function(){return ut?!0:(ut=!0,ct.forEach(_t=>{_t()}),!1)},gt=_t=>{_t.confirmations<tt||ft()||at(_t)};if(this.on(_e,gt),ct.push(()=>{this.removeListener(_e,gt)}),nt){let _t=nt.startBlock,Et=null;const $t=It=>__awaiter$6(this,void 0,void 0,function*(){ut||(yield stall$1(1e3),this.getTransactionCount(nt.from).then(Tt=>__awaiter$6(this,void 0,void 0,function*(){if(!ut){if(Tt<=nt.nonce)_t=It;else{{const At=yield this.getTransaction(_e);if(At&&At.blockNumber!=null)return}for(Et==null&&(Et=_t-3,Et<nt.startBlock&&(Et=nt.startBlock));Et<=It;){if(ut)return;const At=yield this.getBlockWithTransactions(Et);for(let Rt=0;Rt<At.transactions.length;Rt++){const kt=At.transactions[Rt];if(kt.hash===_e)return;if(kt.from===nt.from&&kt.nonce===nt.nonce){if(ut)return;const Ot=yield this.waitForTransaction(kt.hash,tt);if(ft())return;let Wt="replaced";kt.data===nt.data&&kt.to===nt.to&&kt.value.eq(nt.value)?Wt="repriced":kt.data==="0x"&&kt.from===kt.to&&kt.value.isZero()&&(Wt="cancelled"),st(logger$g.makeError("transaction was replaced",Logger$1.errors.TRANSACTION_REPLACED,{cancelled:Wt==="replaced"||Wt==="cancelled",reason:Wt,replacement:this._wrapTransaction(kt),hash:_e,receipt:Ot}));return}}Et++}}ut||this.once("block",$t)}}),Tt=>{ut||this.once("block",$t)}))});if(ut)return;this.once("block",$t),ct.push(()=>{this.removeListener("block",$t)})}if(typeof rt=="number"&&rt>0){const _t=setTimeout(()=>{ft()||st(logger$g.makeError("timeout exceeded",Logger$1.errors.TIMEOUT,{timeout:rt}))},rt);_t.unref&&_t.unref(),ct.push(()=>{clearTimeout(_t)})}})})}getBlockNumber(){return __awaiter$6(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const _e=yield this.perform("getGasPrice",{});try{return BigNumber.from(_e)}catch(tt){return logger$g.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"getGasPrice",result:_e,error:tt})}})}getBalance(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({address:this._getAddress(_e),blockTag:this._getBlockTag(tt)}),nt=yield this.perform("getBalance",rt);try{return BigNumber.from(nt)}catch(it){return logger$g.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"getBalance",params:rt,result:nt,error:it})}})}getTransactionCount(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({address:this._getAddress(_e),blockTag:this._getBlockTag(tt)}),nt=yield this.perform("getTransactionCount",rt);try{return BigNumber.from(nt).toNumber()}catch(it){return logger$g.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"getTransactionCount",params:rt,result:nt,error:it})}})}getCode(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({address:this._getAddress(_e),blockTag:this._getBlockTag(tt)}),nt=yield this.perform("getCode",rt);try{return hexlify(nt)}catch(it){return logger$g.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"getCode",params:rt,result:nt,error:it})}})}getStorageAt(_e,tt,rt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const nt=yield resolveProperties({address:this._getAddress(_e),blockTag:this._getBlockTag(rt),position:Promise.resolve(tt).then(at=>hexValue(at))}),it=yield this.perform("getStorageAt",nt);try{return hexlify(it)}catch(at){return logger$g.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"getStorageAt",params:nt,result:it,error:at})}})}_wrapTransaction(_e,tt,rt){if(tt!=null&&hexDataLength(tt)!==32)throw new Error("invalid response - sendTransaction");const nt=_e;return tt!=null&&_e.hash!==tt&&logger$g.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger$1.errors.UNKNOWN_ERROR,{expectedHash:_e.hash,returnedHash:tt}),nt.wait=(it,at)=>__awaiter$6(this,void 0,void 0,function*(){it==null&&(it=1),at==null&&(at=0);let st;it!==0&&rt!=null&&(st={data:_e.data,from:_e.from,nonce:_e.nonce,to:_e.to,value:_e.value,startBlock:rt});const ct=yield this._waitForTransaction(_e.hash,it,at,st);return ct==null&&it===0?null:(this._emitted["t:"+_e.hash]=ct.blockNumber,ct.status===0&&logger$g.throwError("transaction failed",Logger$1.errors.CALL_EXCEPTION,{transactionHash:_e.hash,transaction:_e,receipt:ct}),ct)}),nt}sendTransaction(_e){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const tt=yield Promise.resolve(_e).then(it=>hexlify(it)),rt=this.formatter.transaction(_e);rt.confirmations==null&&(rt.confirmations=0);const nt=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const it=yield this.perform("sendTransaction",{signedTransaction:tt});return this._wrapTransaction(rt,it,nt)}catch(it){throw it.transaction=rt,it.transactionHash=rt.hash,it}})}_getTransactionRequest(_e){return __awaiter$6(this,void 0,void 0,function*(){const tt=yield _e,rt={};return["from","to"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=Promise.resolve(tt[nt]).then(it=>it?this._getAddress(it):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=Promise.resolve(tt[nt]).then(it=>it?BigNumber.from(it):null))}),["type"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=Promise.resolve(tt[nt]).then(it=>it!=null?it:null))}),tt.accessList&&(rt.accessList=this.formatter.accessList(tt.accessList)),["data"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=Promise.resolve(tt[nt]).then(it=>it?hexlify(it):null))}),this.formatter.transactionRequest(yield resolveProperties(rt))})}_getFilter(_e){return __awaiter$6(this,void 0,void 0,function*(){_e=yield _e;const tt={};return _e.address!=null&&(tt.address=this._getAddress(_e.address)),["blockHash","topics"].forEach(rt=>{_e[rt]!=null&&(tt[rt]=_e[rt])}),["fromBlock","toBlock"].forEach(rt=>{_e[rt]!=null&&(tt[rt]=this._getBlockTag(_e[rt]))}),this.formatter.filter(yield resolveProperties(tt))})}_call(_e,tt,rt){return __awaiter$6(this,void 0,void 0,function*(){rt>=MAX_CCIP_REDIRECTS&&logger$g.throwError("CCIP read exceeded maximum redirections",Logger$1.errors.SERVER_ERROR,{redirects:rt,transaction:_e});const nt=_e.to,it=yield this.perform("call",{transaction:_e,blockTag:tt});if(rt>=0&&tt==="latest"&&nt!=null&&it.substring(0,10)==="0x556f1830"&&hexDataLength(it)%32===4)try{const at=hexDataSlice(it,4),st=hexDataSlice(at,0,32);BigNumber.from(st).eq(nt)||logger$g.throwError("CCIP Read sender did not match",Logger$1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:_e,data:it});const ct=[],ut=BigNumber.from(hexDataSlice(at,32,64)).toNumber(),ft=BigNumber.from(hexDataSlice(at,ut,ut+32)).toNumber(),gt=hexDataSlice(at,ut+32);for(let At=0;At<ft;At++){const Rt=_parseString(gt,At*32);Rt==null&&logger$g.throwError("CCIP Read contained corrupt URL string",Logger$1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:_e,data:it}),ct.push(Rt)}const _t=_parseBytes(at,64);BigNumber.from(hexDataSlice(at,100,128)).isZero()||logger$g.throwError("CCIP Read callback selector included junk",Logger$1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:_e,data:it});const Et=hexDataSlice(at,96,100),$t=_parseBytes(at,128),It=yield this.ccipReadFetch(_e,_t,ct);It==null&&logger$g.throwError("CCIP Read disabled or provided no URLs",Logger$1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:_e,data:it});const Tt={to:nt,data:hexConcat([Et,encodeBytes([It,$t])])};return this._call(Tt,tt,rt+1)}catch(at){if(at.code===Logger$1.errors.SERVER_ERROR)throw at}try{return hexlify(it)}catch(at){return logger$g.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"call",params:{transaction:_e,blockTag:tt},result:it,error:at})}})}call(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({transaction:this._getTransactionRequest(_e),blockTag:this._getBlockTag(tt),ccipReadEnabled:Promise.resolve(_e.ccipReadEnabled)});return this._call(rt.transaction,rt.blockTag,rt.ccipReadEnabled?0:-1)})}estimateGas(_e){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const tt=yield resolveProperties({transaction:this._getTransactionRequest(_e)}),rt=yield this.perform("estimateGas",tt);try{return BigNumber.from(rt)}catch(nt){return logger$g.throwError("bad result from backend",Logger$1.errors.SERVER_ERROR,{method:"estimateGas",params:tt,result:rt,error:nt})}})}_getAddress(_e){return __awaiter$6(this,void 0,void 0,function*(){_e=yield _e,typeof _e!="string"&&logger$g.throwArgumentError("invalid address or ENS name","name",_e);const tt=yield this.resolveName(_e);return tt==null&&logger$g.throwError("ENS name not configured",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(_e)})`}),tt})}_getBlock(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork(),_e=yield _e;let rt=-128;const nt={includeTransactions:!!tt};if(isHexString$4(_e,32))nt.blockHash=_e;else try{nt.blockTag=yield this._getBlockTag(_e),isHexString$4(nt.blockTag)&&(rt=parseInt(nt.blockTag.substring(2),16))}catch{logger$g.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",_e)}return poll(()=>__awaiter$6(this,void 0,void 0,function*(){const it=yield this.perform("getBlock",nt);if(it==null)return nt.blockHash!=null&&this._emitted["b:"+nt.blockHash]==null||nt.blockTag!=null&&rt>this._emitted.block?null:void 0;if(tt){let at=null;for(let ct=0;ct<it.transactions.length;ct++){const ut=it.transactions[ct];if(ut.blockNumber==null)ut.confirmations=0;else if(ut.confirmations==null){at==null&&(at=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let ft=at-ut.blockNumber+1;ft<=0&&(ft=1),ut.confirmations=ft}}const st=this.formatter.blockWithTransactions(it);return st.transactions=st.transactions.map(ct=>this._wrapTransaction(ct)),st}return this.formatter.block(it)}),{oncePoll:this})})}getBlock(_e){return this._getBlock(_e,!1)}getBlockWithTransactions(_e){return this._getBlock(_e,!0)}getTransaction(_e){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork(),_e=yield _e;const tt={transactionHash:this.formatter.hash(_e,!0)};return poll(()=>__awaiter$6(this,void 0,void 0,function*(){const rt=yield this.perform("getTransaction",tt);if(rt==null)return this._emitted["t:"+_e]==null?null:void 0;const nt=this.formatter.transactionResponse(rt);if(nt.blockNumber==null)nt.confirmations=0;else if(nt.confirmations==null){let at=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-nt.blockNumber+1;at<=0&&(at=1),nt.confirmations=at}return this._wrapTransaction(nt)}),{oncePoll:this})})}getTransactionReceipt(_e){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork(),_e=yield _e;const tt={transactionHash:this.formatter.hash(_e,!0)};return poll(()=>__awaiter$6(this,void 0,void 0,function*(){const rt=yield this.perform("getTransactionReceipt",tt);if(rt==null)return this._emitted["t:"+_e]==null?null:void 0;if(rt.blockHash==null)return;const nt=this.formatter.receipt(rt);if(nt.blockNumber==null)nt.confirmations=0;else if(nt.confirmations==null){let at=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-nt.blockNumber+1;at<=0&&(at=1),nt.confirmations=at}return nt}),{oncePoll:this})})}getLogs(_e){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const tt=yield resolveProperties({filter:this._getFilter(_e)}),rt=yield this.perform("getLogs",tt);return rt.forEach(nt=>{nt.removed==null&&(nt.removed=!1)}),Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(rt)})}getEtherPrice(){return __awaiter$6(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(_e){return __awaiter$6(this,void 0,void 0,function*(){if(_e=yield _e,typeof _e=="number"&&_e<0){_e%1&&logger$g.throwArgumentError("invalid BlockTag","blockTag",_e);let tt=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return tt+=_e,tt<0&&(tt=0),this.formatter.blockTag(tt)}return this.formatter.blockTag(_e)})}getResolver(_e){return __awaiter$6(this,void 0,void 0,function*(){let tt=_e;for(;;){if(tt===""||tt==="."||_e!=="eth"&&tt==="eth")return null;const rt=yield this._getResolver(tt,"getResolver");if(rt!=null){const nt=new Resolver(this,rt,_e);return tt!==_e&&!(yield nt.supportsWildcard())?null:nt}tt=tt.split(".").slice(1).join(".")}})}_getResolver(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){tt==null&&(tt="ENS");const rt=yield this.getNetwork();rt.ensAddress||logger$g.throwError("network does not support ENS",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:tt,network:rt.name});try{const nt=yield this.call({to:rt.ensAddress,data:"0x0178b8bf"+namehash(_e).substring(2)});return this.formatter.callAddress(nt)}catch{}return null})}resolveName(_e){return __awaiter$6(this,void 0,void 0,function*(){_e=yield _e;try{return Promise.resolve(this.formatter.address(_e))}catch(rt){if(isHexString$4(_e))throw rt}typeof _e!="string"&&logger$g.throwArgumentError("invalid ENS name","name",_e);const tt=yield this.getResolver(_e);return tt?yield tt.getAddress():null})}lookupAddress(_e){return __awaiter$6(this,void 0,void 0,function*(){_e=yield _e,_e=this.formatter.address(_e);const tt=_e.substring(2).toLowerCase()+".addr.reverse",rt=yield this._getResolver(tt,"lookupAddress");if(rt==null)return null;const nt=_parseString(yield this.call({to:rt,data:"0x691f3431"+namehash(tt).substring(2)}),0);return(yield this.resolveName(nt))!=_e?null:nt})}getAvatar(_e){return __awaiter$6(this,void 0,void 0,function*(){let tt=null;if(isHexString$4(_e)){const it=this.formatter.address(_e).substring(2).toLowerCase()+".addr.reverse",at=yield this._getResolver(it,"getAvatar");if(!at)return null;tt=new Resolver(this,at,it);try{const st=yield tt.getAvatar();if(st)return st.url}catch(st){if(st.code!==Logger$1.errors.CALL_EXCEPTION)throw st}try{const st=_parseString(yield this.call({to:at,data:"0x691f3431"+namehash(it).substring(2)}),0);tt=yield this.getResolver(st)}catch(st){if(st.code!==Logger$1.errors.CALL_EXCEPTION)throw st;return null}}else if(tt=yield this.getResolver(_e),!tt)return null;const rt=yield tt.getAvatar();return rt==null?null:rt.url})}perform(_e,tt){return logger$g.throwError(_e+" not implemented",Logger$1.errors.NOT_IMPLEMENTED,{operation:_e})}_startEvent(_e){this.polling=this._events.filter(tt=>tt.pollable()).length>0}_stopEvent(_e){this.polling=this._events.filter(tt=>tt.pollable()).length>0}_addEventListener(_e,tt,rt){const nt=new Event$1(getEventTag(_e),tt,rt);return this._events.push(nt),this._startEvent(nt),this}on(_e,tt){return this._addEventListener(_e,tt,!1)}once(_e,tt){return this._addEventListener(_e,tt,!0)}emit(_e,...tt){let rt=!1,nt=[],it=getEventTag(_e);return this._events=this._events.filter(at=>at.tag!==it?!0:(setTimeout(()=>{at.listener.apply(this,tt)},0),rt=!0,at.once?(nt.push(at),!1):!0)),nt.forEach(at=>{this._stopEvent(at)}),rt}listenerCount(_e){if(!_e)return this._events.length;let tt=getEventTag(_e);return this._events.filter(rt=>rt.tag===tt).length}listeners(_e){if(_e==null)return this._events.map(rt=>rt.listener);let tt=getEventTag(_e);return this._events.filter(rt=>rt.tag===tt).map(rt=>rt.listener)}off(_e,tt){if(tt==null)return this.removeAllListeners(_e);const rt=[];let nt=!1,it=getEventTag(_e);return this._events=this._events.filter(at=>at.tag!==it||at.listener!=tt||nt?!0:(nt=!0,rt.push(at),!1)),rt.forEach(at=>{this._stopEvent(at)}),this}removeAllListeners(_e){let tt=[];if(_e==null)tt=this._events,this._events=[];else{const rt=getEventTag(_e);this._events=this._events.filter(nt=>nt.tag!==rt?!0:(tt.push(nt),!1))}return tt.forEach(rt=>{this._stopEvent(rt)}),this}}var __awaiter$5=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$f=new Logger$1(version$8),errorGas=["call","estimateGas"];function spelunk(et,_e){if(et==null)return null;if(typeof et.message=="string"&&et.message.match("reverted")){const tt=isHexString$4(et.data)?et.data:null;if(!_e||tt)return{message:et.message,data:tt}}if(typeof et=="object"){for(const tt in et){const rt=spelunk(et[tt],_e);if(rt)return rt}return null}if(typeof et=="string")try{return spelunk(JSON.parse(et),_e)}catch{}return null}function checkError$1(et,_e,tt){const rt=tt.transaction||tt.signedTransaction;if(et==="call"){const it=spelunk(_e,!0);if(it)return it.data;logger$f.throwError("missing revert data in call exception; Transaction reverted without a reason string",Logger$1.errors.CALL_EXCEPTION,{data:"0x",transaction:rt,error:_e})}if(et==="estimateGas"){let it=spelunk(_e.body,!1);it==null&&(it=spelunk(_e,!1)),it&&logger$f.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$1.errors.UNPREDICTABLE_GAS_LIMIT,{reason:it.message,method:et,transaction:rt,error:_e})}let nt=_e.message;throw _e.code===Logger$1.errors.SERVER_ERROR&&_e.error&&typeof _e.error.message=="string"?nt=_e.error.message:typeof _e.body=="string"?nt=_e.body:typeof _e.responseText=="string"&&(nt=_e.responseText),nt=(nt||"").toLowerCase(),nt.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&logger$f.throwError("insufficient funds for intrinsic transaction cost",Logger$1.errors.INSUFFICIENT_FUNDS,{error:_e,method:et,transaction:rt}),nt.match(/nonce (is )?too low/i)&&logger$f.throwError("nonce has already been used",Logger$1.errors.NONCE_EXPIRED,{error:_e,method:et,transaction:rt}),nt.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&logger$f.throwError("replacement fee too low",Logger$1.errors.REPLACEMENT_UNDERPRICED,{error:_e,method:et,transaction:rt}),nt.match(/only replay-protected/i)&&logger$f.throwError("legacy pre-eip-155 transactions not supported",Logger$1.errors.UNSUPPORTED_OPERATION,{error:_e,method:et,transaction:rt}),errorGas.indexOf(et)>=0&&nt.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&logger$f.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$1.errors.UNPREDICTABLE_GAS_LIMIT,{error:_e,method:et,transaction:rt}),_e}function timer$1(et){return new Promise(function(_e){setTimeout(_e,et)})}function getResult$1(et){if(et.error){const _e=new Error(et.error.message);throw _e.code=et.error.code,_e.data=et.error.data,_e}return et.result}function getLowerCase(et){return et&&et.toLowerCase()}const _constructorGuard={};class JsonRpcSigner extends Signer{constructor(_e,tt,rt){if(super(),_e!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");defineReadOnly(this,"provider",tt),rt==null&&(rt=0),typeof rt=="string"?(defineReadOnly(this,"_address",this.provider.formatter.address(rt)),defineReadOnly(this,"_index",null)):typeof rt=="number"?(defineReadOnly(this,"_index",rt),defineReadOnly(this,"_address",null)):logger$f.throwArgumentError("invalid address or index","addressOrIndex",rt)}connect(_e){return logger$f.throwError("cannot alter JSON-RPC Signer connection",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(_e=>(_e.length<=this._index&&logger$f.throwError("unknown account #"+this._index,Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(_e[this._index])))}sendUncheckedTransaction(_e){_e=shallowCopy(_e);const tt=this.getAddress().then(rt=>(rt&&(rt=rt.toLowerCase()),rt));if(_e.gasLimit==null){const rt=shallowCopy(_e);rt.from=tt,_e.gasLimit=this.provider.estimateGas(rt)}return _e.to!=null&&(_e.to=Promise.resolve(_e.to).then(rt=>__awaiter$5(this,void 0,void 0,function*(){if(rt==null)return null;const nt=yield this.provider.resolveName(rt);return nt==null&&logger$f.throwArgumentError("provided ENS name resolves to null","tx.to",rt),nt}))),resolveProperties({tx:resolveProperties(_e),sender:tt}).then(({tx:rt,sender:nt})=>{rt.from!=null?rt.from.toLowerCase()!==nt&&logger$f.throwArgumentError("from address mismatch","transaction",_e):rt.from=nt;const it=this.provider.constructor.hexlifyTransaction(rt,{from:!0});return this.provider.send("eth_sendTransaction",[it]).then(at=>at,at=>(typeof at.message=="string"&&at.message.match(/user denied/i)&&logger$f.throwError("user rejected transaction",Logger$1.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:rt}),checkError$1("sendTransaction",at,it)))})}signTransaction(_e){return logger$f.throwError("signing transactions is unsupported",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(_e){return __awaiter$5(this,void 0,void 0,function*(){const tt=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),rt=yield this.sendUncheckedTransaction(_e);try{return yield poll(()=>__awaiter$5(this,void 0,void 0,function*(){const nt=yield this.provider.getTransaction(rt);if(nt!==null)return this.provider._wrapTransaction(nt,rt,tt)}),{oncePoll:this.provider})}catch(nt){throw nt.transactionHash=rt,nt}})}signMessage(_e){return __awaiter$5(this,void 0,void 0,function*(){const tt=typeof _e=="string"?toUtf8Bytes(_e):_e,rt=yield this.getAddress();try{return yield this.provider.send("personal_sign",[hexlify(tt),rt.toLowerCase()])}catch(nt){throw typeof nt.message=="string"&&nt.message.match(/user denied/i)&&logger$f.throwError("user rejected signing",Logger$1.errors.ACTION_REJECTED,{action:"signMessage",from:rt,messageData:_e}),nt}})}_legacySignMessage(_e){return __awaiter$5(this,void 0,void 0,function*(){const tt=typeof _e=="string"?toUtf8Bytes(_e):_e,rt=yield this.getAddress();try{return yield this.provider.send("eth_sign",[rt.toLowerCase(),hexlify(tt)])}catch(nt){throw typeof nt.message=="string"&&nt.message.match(/user denied/i)&&logger$f.throwError("user rejected signing",Logger$1.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:rt,messageData:_e}),nt}})}_signTypedData(_e,tt,rt){return __awaiter$5(this,void 0,void 0,function*(){const nt=yield TypedDataEncoder.resolveNames(_e,tt,rt,at=>this.provider.resolveName(at)),it=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[it.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(nt.domain,tt,nt.value))])}catch(at){throw typeof at.message=="string"&&at.message.match(/user denied/i)&&logger$f.throwError("user rejected signing",Logger$1.errors.ACTION_REJECTED,{action:"_signTypedData",from:it,messageData:{domain:nt.domain,types:tt,value:nt.value}}),at}})}unlock(_e){return __awaiter$5(this,void 0,void 0,function*(){const tt=this.provider,rt=yield this.getAddress();return tt.send("personal_unlockAccount",[rt.toLowerCase(),_e,null])})}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(_e){return this.sendUncheckedTransaction(_e).then(tt=>({hash:tt,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:rt=>this.provider.waitForTransaction(tt,rt)}))}}const allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class JsonRpcProvider$1 extends BaseProvider{constructor(_e,tt){let rt=tt;rt==null&&(rt=new Promise((nt,it)=>{setTimeout(()=>{this.detectNetwork().then(at=>{nt(at)},at=>{it(at)})},0)})),super(rt),_e||(_e=getStatic(this.constructor,"defaultUrl")()),typeof _e=="string"?defineReadOnly(this,"connection",Object.freeze({url:_e})):defineReadOnly(this,"connection",Object.freeze(shallowCopy(_e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return __awaiter$5(this,void 0,void 0,function*(){yield timer$1(0);let _e=null;try{_e=yield this.send("eth_chainId",[])}catch{try{_e=yield this.send("net_version",[])}catch{}}if(_e!=null){const tt=getStatic(this.constructor,"getNetwork");try{return tt(BigNumber.from(_e).toNumber())}catch(rt){return logger$f.throwError("could not detect network",Logger$1.errors.NETWORK_ERROR,{chainId:_e,event:"invalidNetwork",serverError:rt})}}return logger$f.throwError("could not detect network",Logger$1.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(_e){return new JsonRpcSigner(_constructorGuard,this,_e)}getUncheckedSigner(_e){return this.getSigner(_e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(_e=>_e.map(tt=>this.formatter.address(tt)))}send(_e,tt){const rt={method:_e,params:tt,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy(rt),provider:this});const nt=["eth_chainId","eth_blockNumber"].indexOf(_e)>=0;if(nt&&this._cache[_e])return this._cache[_e];const it=fetchJson(this.connection,JSON.stringify(rt),getResult$1).then(at=>(this.emit("debug",{action:"response",request:rt,response:at,provider:this}),at),at=>{throw this.emit("debug",{action:"response",error:at,request:rt,provider:this}),at});return nt&&(this._cache[_e]=it,setTimeout(()=>{this._cache[_e]=null},0)),it}prepareRequest(_e,tt){switch(_e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(tt.address),tt.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(tt.address),tt.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(tt.address),tt.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(tt.address),hexZeroPad(tt.position,32),tt.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[tt.signedTransaction]];case"getBlock":return tt.blockTag?["eth_getBlockByNumber",[tt.blockTag,!!tt.includeTransactions]]:tt.blockHash?["eth_getBlockByHash",[tt.blockHash,!!tt.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[tt.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[tt.transactionHash]];case"call":{const rt=getStatic(this.constructor,"hexlifyTransaction");return["eth_call",[rt(tt.transaction,{from:!0}),tt.blockTag]]}case"estimateGas":{const rt=getStatic(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[rt(tt.transaction,{from:!0})]]}case"getLogs":return tt.filter&&tt.filter.address!=null&&(tt.filter.address=getLowerCase(tt.filter.address)),["eth_getLogs",[tt.filter]]}return null}perform(_e,tt){return __awaiter$5(this,void 0,void 0,function*(){if(_e==="call"||_e==="estimateGas"){const nt=tt.transaction;if(nt&&nt.type!=null&&BigNumber.from(nt.type).isZero()&&nt.maxFeePerGas==null&&nt.maxPriorityFeePerGas==null){const it=yield this.getFeeData();it.maxFeePerGas==null&&it.maxPriorityFeePerGas==null&&(tt=shallowCopy(tt),tt.transaction=shallowCopy(nt),delete tt.transaction.type)}}const rt=this.prepareRequest(_e,tt);rt==null&&logger$f.throwError(_e+" not implemented",Logger$1.errors.NOT_IMPLEMENTED,{operation:_e});try{return yield this.send(rt[0],rt[1])}catch(nt){return checkError$1(_e,nt,tt)}})}_startEvent(_e){_e.tag==="pending"&&this._startPending(),super._startEvent(_e)}_startPending(){if(this._pendingFilter!=null)return;const _e=this,tt=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=tt,tt.then(function(rt){function nt(){_e.send("eth_getFilterChanges",[rt]).then(function(it){if(_e._pendingFilter!=tt)return null;let at=Promise.resolve();return it.forEach(function(st){_e._emitted["t:"+st.toLowerCase()]="pending",at=at.then(function(){return _e.getTransaction(st).then(function(ct){return _e.emit("pending",ct),null})})}),at.then(function(){return timer$1(1e3)})}).then(function(){if(_e._pendingFilter!=tt){_e.send("eth_uninstallFilter",[rt]);return}return setTimeout(function(){nt()},0),null}).catch(it=>{})}return nt(),rt}).catch(rt=>{})}_stopEvent(_e){_e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(_e)}static hexlifyTransaction(_e,tt){const rt=shallowCopy(allowedTransactionKeys);if(tt)for(const it in tt)tt[it]&&(rt[it]=!0);checkProperties(_e,rt);const nt={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(it){if(_e[it]==null)return;const at=hexValue(BigNumber.from(_e[it]));it==="gasLimit"&&(it="gas"),nt[it]=at}),["from","to","data"].forEach(function(it){_e[it]!=null&&(nt[it]=hexlify(_e[it]))}),_e.accessList&&(nt.accessList=accessListify(_e.accessList)),nt}}let WS$1=null;try{if(WS$1=WebSocket,WS$1==null)throw new Error("inject please")}catch{const _e=new Logger$1(version$8);WS$1=function(){_e.throwError("WebSockets not supported in this environment",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var __awaiter$4=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$e=new Logger$1(version$8);let NextId=1;class WebSocketProvider extends JsonRpcProvider$1{constructor(_e,tt){tt==="any"&&logger$e.throwError("WebSocketProvider does not support 'any' network yet",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof _e=="string"?super(_e,tt):super("_websocket",tt),this._pollingInterval=-1,this._wsReady=!1,typeof _e=="string"?defineReadOnly(this,"_websocket",new WS$1(this.connection.url)):defineReadOnly(this,"_websocket",_e),defineReadOnly(this,"_requests",{}),defineReadOnly(this,"_subs",{}),defineReadOnly(this,"_subIds",{}),defineReadOnly(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(nt=>{this.websocket.send(this._requests[nt].payload)})},this.websocket.onmessage=nt=>{const it=nt.data,at=JSON.parse(it);if(at.id!=null){const st=String(at.id),ct=this._requests[st];if(delete this._requests[st],at.result!==void 0)ct.callback(null,at.result),this.emit("debug",{action:"response",request:JSON.parse(ct.payload),response:at.result,provider:this});else{let ut=null;at.error?(ut=new Error(at.error.message||"unknown error"),defineReadOnly(ut,"code",at.error.code||null),defineReadOnly(ut,"response",it)):ut=new Error("unknown error"),ct.callback(ut,void 0),this.emit("debug",{action:"response",error:ut,request:JSON.parse(ct.payload),provider:this})}}else if(at.method==="eth_subscription"){const st=this._subs[at.params.subscription];st&&st.processFunc(at.params.result)}else console.warn("this should not happen")};const rt=setInterval(()=>{this.emit("poll")},1e3);rt.unref&&rt.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(_e){logger$e.throwError("cannot reset events block on WebSocketProvider",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(_e){logger$e.throwError("cannot set polling interval on WebSocketProvider",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return __awaiter$4(this,void 0,void 0,function*(){return null})}set polling(_e){!_e||logger$e.throwError("cannot set polling on WebSocketProvider",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(_e,tt){const rt=NextId++;return new Promise((nt,it)=>{function at(ct,ut){return ct?it(ct):nt(ut)}const st=JSON.stringify({method:_e,params:tt,id:rt,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(st),provider:this}),this._requests[String(rt)]={callback:at,payload:st},this._wsReady&&this.websocket.send(st)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(_e,tt,rt){return __awaiter$4(this,void 0,void 0,function*(){let nt=this._subIds[_e];nt==null&&(nt=Promise.all(tt).then(at=>this.send("eth_subscribe",at)),this._subIds[_e]=nt);const it=yield nt;this._subs[it]={tag:_e,processFunc:rt}})}_startEvent(_e){switch(_e.type){case"block":this._subscribe("block",["newHeads"],tt=>{const rt=BigNumber.from(tt.number).toNumber();this._emitted.block=rt,this.emit("block",rt)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],tt=>{this.emit("pending",tt)});break;case"filter":this._subscribe(_e.tag,["logs",this._getFilter(_e.filter)],tt=>{tt.removed==null&&(tt.removed=!1),this.emit(_e.filter,this.formatter.filterLog(tt))});break;case"tx":{const tt=rt=>{const nt=rt.hash;this.getTransactionReceipt(nt).then(it=>{!it||this.emit(nt,it)})};tt(_e),this._subscribe("tx",["newHeads"],rt=>{this._events.filter(nt=>nt.type==="tx").forEach(tt)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",_e);break}}_stopEvent(_e){let tt=_e.tag;if(_e.type==="tx"){if(this._events.filter(nt=>nt.type==="tx").length)return;tt="tx"}else if(this.listenerCount(_e.event))return;const rt=this._subIds[tt];!rt||(delete this._subIds[tt],rt.then(nt=>{!this._subs[nt]||(delete this._subs[nt],this.send("eth_unsubscribe",[nt]))}))}destroy(){return __awaiter$4(this,void 0,void 0,function*(){this.websocket.readyState===WS$1.CONNECTING&&(yield new Promise(_e=>{this.websocket.onopen=function(){_e(!0)},this.websocket.onerror=function(){_e(!1)}})),this.websocket.close(1e3)})}}var __awaiter$3=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$d=new Logger$1(version$8);class StaticJsonRpcProvider extends JsonRpcProvider$1{detectNetwork(){const _e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return __awaiter$3(this,void 0,void 0,function*(){let tt=this.network;return tt==null&&(tt=yield _e.detectNetwork.call(this),tt||logger$d.throwError("no network detected",Logger$1.errors.UNKNOWN_ERROR,{}),this._network==null&&(defineReadOnly(this,"_network",tt),this.emit("network",tt,null))),tt})}}class UrlJsonRpcProvider extends StaticJsonRpcProvider{constructor(_e,tt){logger$d.checkAbstract(new.target,UrlJsonRpcProvider),_e=getStatic(new.target,"getNetwork")(_e),tt=getStatic(new.target,"getApiKey")(tt);const rt=getStatic(new.target,"getUrl")(_e,tt);super(rt,_e),typeof tt=="string"?defineReadOnly(this,"apiKey",tt):tt!=null&&Object.keys(tt).forEach(nt=>{defineReadOnly(this,nt,tt[nt])})}_startPending(){logger$d.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(_e){return logger$d.throwError("API provider does not support signing",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(_e){return _e}static getUrl(_e,tt){return logger$d.throwError("not implemented; sub-classes must override getUrl",Logger$1.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const logger$c=new Logger$1(version$8),defaultApiKey$2="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class AlchemyWebSocketProvider extends WebSocketProvider{constructor(_e,tt){const rt=new AlchemyProvider(_e,tt),nt=rt.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(nt,rt.network),defineReadOnly(this,"apiKey",rt.apiKey)}isCommunityResource(){return this.apiKey===defaultApiKey$2}}class AlchemyProvider extends UrlJsonRpcProvider{static getWebSocketProvider(_e,tt){return new AlchemyWebSocketProvider(_e,tt)}static getApiKey(_e){return _e==null?defaultApiKey$2:(_e&&typeof _e!="string"&&logger$c.throwArgumentError("invalid apiKey","apiKey",_e),_e)}static getUrl(_e,tt){let rt=null;switch(_e.name){case"homestead":rt="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":rt="eth-goerli.g.alchemy.com/v2/";break;case"matic":rt="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":rt="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":rt="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":rt="arb-goerli.g.alchemy.com/v2/";break;case"optimism":rt="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":rt="opt-goerli.g.alchemy.com/v2/";break;default:logger$c.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+rt+tt,throttleCallback:(nt,it)=>(tt===defaultApiKey$2&&showThrottleMessage(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===defaultApiKey$2}}const logger$b=new Logger$1(version$8),defaultApiKey$1="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function getHost(et){switch(et){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return logger$b.throwArgumentError("unsupported network","name",et)}class AnkrProvider extends UrlJsonRpcProvider{isCommunityResource(){return this.apiKey===defaultApiKey$1}static getApiKey(_e){return _e==null?defaultApiKey$1:_e}static getUrl(_e,tt){tt==null&&(tt=defaultApiKey$1);const rt={allowGzip:!0,url:"https://"+getHost(_e.name)+tt,throttleCallback:(nt,it)=>(tt.apiKey===defaultApiKey$1&&showThrottleMessage(),Promise.resolve(!0))};return tt.projectSecret!=null&&(rt.user="",rt.password=tt.projectSecret),rt}}var __awaiter$2=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$a=new Logger$1(version$8);class CloudflareProvider extends UrlJsonRpcProvider{static getApiKey(_e){return _e!=null&&logger$a.throwArgumentError("apiKey not supported for cloudflare","apiKey",_e),null}static getUrl(_e,tt){let rt=null;switch(_e.name){case"homestead":rt="https://cloudflare-eth.com/";break;default:logger$a.throwArgumentError("unsupported network","network",arguments[0])}return rt}perform(_e,tt){const rt=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$2(this,void 0,void 0,function*(){return _e==="getBlockNumber"?(yield rt.perform.call(this,"getBlock",{blockTag:"latest"})).number:rt.perform.call(this,_e,tt)})}}var __awaiter$1=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$9=new Logger$1(version$8);function getTransactionPostData(et){const _e={};for(let tt in et){if(et[tt]==null)continue;let rt=et[tt];tt==="type"&&rt===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[tt]?rt=hexValue(hexlify(rt)):tt==="accessList"?rt="["+accessListify(rt).map(nt=>`{address:"${nt.address}",storageKeys:["${nt.storageKeys.join('","')}"]}`).join(",")+"]":rt=hexlify(rt),_e[tt]=rt)}return _e}function getResult(et){if(et.status==0&&(et.message==="No records found"||et.message==="No transactions found"))return et.result;if(et.status!=1||typeof et.message!="string"||!et.message.match(/^OK/)){const _e=new Error("invalid response");throw _e.result=JSON.stringify(et),(et.result||"").toLowerCase().indexOf("rate limit")>=0&&(_e.throttleRetry=!0),_e}return et.result}function getJsonResult(et){if(et&&et.status==0&&et.message=="NOTOK"&&(et.result||"").toLowerCase().indexOf("rate limit")>=0){const _e=new Error("throttled response");throw _e.result=JSON.stringify(et),_e.throttleRetry=!0,_e}if(et.jsonrpc!="2.0"){const _e=new Error("invalid response");throw _e.result=JSON.stringify(et),_e}if(et.error){const _e=new Error(et.error.message||"unknown error");throw et.error.code&&(_e.code=et.error.code),et.error.data&&(_e.data=et.error.data),_e}return et.result}function checkLogTag(et){if(et==="pending")throw new Error("pending not supported");return et==="latest"?et:parseInt(et.substring(2),16)}function checkError(et,_e,tt){if(et==="call"&&_e.code===Logger$1.errors.SERVER_ERROR){const nt=_e.error;if(nt&&(nt.message.match(/reverted/i)||nt.message.match(/VM execution error/i))){let it=nt.data;if(it&&(it="0x"+it.replace(/^.*0x/i,"")),isHexString$4(it))return it;logger$9.throwError("missing revert data in call exception",Logger$1.errors.CALL_EXCEPTION,{error:_e,data:"0x"})}}let rt=_e.message;throw _e.code===Logger$1.errors.SERVER_ERROR&&(_e.error&&typeof _e.error.message=="string"?rt=_e.error.message:typeof _e.body=="string"?rt=_e.body:typeof _e.responseText=="string"&&(rt=_e.responseText)),rt=(rt||"").toLowerCase(),rt.match(/insufficient funds/)&&logger$9.throwError("insufficient funds for intrinsic transaction cost",Logger$1.errors.INSUFFICIENT_FUNDS,{error:_e,method:et,transaction:tt}),rt.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&logger$9.throwError("nonce has already been used",Logger$1.errors.NONCE_EXPIRED,{error:_e,method:et,transaction:tt}),rt.match(/another transaction with same nonce/)&&logger$9.throwError("replacement fee too low",Logger$1.errors.REPLACEMENT_UNDERPRICED,{error:_e,method:et,transaction:tt}),rt.match(/execution failed due to an exception|execution reverted/)&&logger$9.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger$1.errors.UNPREDICTABLE_GAS_LIMIT,{error:_e,method:et,transaction:tt}),_e}class EtherscanProvider extends BaseProvider{constructor(_e,tt){super(_e),defineReadOnly(this,"baseUrl",this.getBaseUrl()),defineReadOnly(this,"apiKey",tt||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return logger$9.throwArgumentError("unsupported network","network",this.network.name)}getUrl(_e,tt){const rt=Object.keys(tt).reduce((it,at)=>{const st=tt[at];return st!=null&&(it+=`&${at}=${st}`),it},""),nt=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${_e}${rt}${nt}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(_e,tt){return tt.module=_e,tt.apikey=this.apiKey,tt}fetch(_e,tt,rt){return __awaiter$1(this,void 0,void 0,function*(){const nt=rt?this.getPostUrl():this.getUrl(_e,tt),it=rt?this.getPostData(_e,tt):null,at=_e==="proxy"?getJsonResult:getResult;this.emit("debug",{action:"request",request:nt,provider:this});const st={url:nt,throttleSlotInterval:1e3,throttleCallback:(ft,gt)=>(this.isCommunityResource()&&showThrottleMessage(),Promise.resolve(!0))};let ct=null;it&&(st.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},ct=Object.keys(it).map(ft=>`${ft}=${it[ft]}`).join("&"));const ut=yield fetchJson(st,ct,at||getJsonResult);return this.emit("debug",{action:"response",request:nt,response:deepCopy(ut),provider:this}),ut})}detectNetwork(){return __awaiter$1(this,void 0,void 0,function*(){return this.network})}perform(_e,tt){const rt=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$1(this,void 0,void 0,function*(){switch(_e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:tt.address,tag:tt.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:tt.address,tag:tt.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:tt.address,tag:tt.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:tt.address,position:tt.position,tag:tt.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:tt.signedTransaction},!0).catch(nt=>checkError("sendTransaction",nt,tt.signedTransaction));case"getBlock":if(tt.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:tt.blockTag,boolean:tt.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:tt.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:tt.transactionHash});case"call":{if(tt.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const nt=getTransactionPostData(tt.transaction);nt.module="proxy",nt.action="eth_call";try{return yield this.fetch("proxy",nt,!0)}catch(it){return checkError("call",it,tt.transaction)}}case"estimateGas":{const nt=getTransactionPostData(tt.transaction);nt.module="proxy",nt.action="eth_estimateGas";try{return yield this.fetch("proxy",nt,!0)}catch(it){return checkError("estimateGas",it,tt.transaction)}}case"getLogs":{const nt={action:"getLogs"};if(tt.filter.fromBlock&&(nt.fromBlock=checkLogTag(tt.filter.fromBlock)),tt.filter.toBlock&&(nt.toBlock=checkLogTag(tt.filter.toBlock)),tt.filter.address&&(nt.address=tt.filter.address),tt.filter.topics&&tt.filter.topics.length>0&&(tt.filter.topics.length>1&&logger$9.throwError("unsupported topic count",Logger$1.errors.UNSUPPORTED_OPERATION,{topics:tt.filter.topics}),tt.filter.topics.length===1)){const st=tt.filter.topics[0];(typeof st!="string"||st.length!==66)&&logger$9.throwError("unsupported topic format",Logger$1.errors.UNSUPPORTED_OPERATION,{topic0:st}),nt.topic0=st}const it=yield this.fetch("logs",nt);let at={};for(let st=0;st<it.length;st++){const ct=it[st];if(ct.blockHash==null){if(at[ct.blockNumber]==null){const ut=yield this.getBlock(ct.blockNumber);ut&&(at[ct.blockNumber]=ut.hash)}ct.blockHash=at[ct.blockNumber]}}return it}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return rt.perform.call(this,_e,tt)})}getHistory(_e,tt,rt){return __awaiter$1(this,void 0,void 0,function*(){const nt={action:"txlist",address:yield this.resolveName(_e),startblock:tt==null?0:tt,endblock:rt==null?99999999:rt,sort:"asc"};return(yield this.fetch("account",nt)).map(at=>{["contractAddress","to"].forEach(function(ct){at[ct]==""&&delete at[ct]}),at.creates==null&&at.contractAddress!=null&&(at.creates=at.contractAddress);const st=this.formatter.transactionResponse(at);return at.timeStamp&&(st.timestamp=parseInt(at.timeStamp)),st})})}isCommunityResource(){return this.apiKey==null}}var __awaiter=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ft){try{ut(rt.next(ft))}catch(gt){at(gt)}}function ct(ft){try{ut(rt.throw(ft))}catch(gt){at(gt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(st,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$8=new Logger$1(version$8);function now(){return new Date().getTime()}function checkNetworks(et){let _e=null;for(let tt=0;tt<et.length;tt++){const rt=et[tt];if(rt==null)return null;_e?_e.name===rt.name&&_e.chainId===rt.chainId&&(_e.ensAddress===rt.ensAddress||_e.ensAddress==null&&rt.ensAddress==null)||logger$8.throwArgumentError("provider mismatch","networks",et):_e=rt}return _e}function median(et,_e){et=et.slice().sort();const tt=Math.floor(et.length/2);if(et.length%2)return et[tt];const rt=et[tt-1],nt=et[tt];return _e!=null&&Math.abs(rt-nt)>_e?null:(rt+nt)/2}function serialize$1(et){if(et===null)return"null";if(typeof et=="number"||typeof et=="boolean")return JSON.stringify(et);if(typeof et=="string")return et;if(BigNumber.isBigNumber(et))return et.toString();if(Array.isArray(et))return JSON.stringify(et.map(_e=>serialize$1(_e)));if(typeof et=="object"){const _e=Object.keys(et);return _e.sort(),"{"+_e.map(tt=>{let rt=et[tt];return typeof rt=="function"?rt="[function]":rt=serialize$1(rt),JSON.stringify(tt)+":"+rt}).join(",")+"}"}throw new Error("unknown value type: "+typeof et)}let nextRid=1;function stall(et){let _e=null,tt=null,rt=new Promise(at=>{_e=function(){tt&&(clearTimeout(tt),tt=null),at()},tt=setTimeout(_e,et)});const nt=at=>(rt=rt.then(at),rt);function it(){return rt}return{cancel:_e,getPromise:it,wait:nt}}const ForwardErrors=[Logger$1.errors.CALL_EXCEPTION,Logger$1.errors.INSUFFICIENT_FUNDS,Logger$1.errors.NONCE_EXPIRED,Logger$1.errors.REPLACEMENT_UNDERPRICED,Logger$1.errors.UNPREDICTABLE_GAS_LIMIT],ForwardProperties=["address","args","errorArgs","errorSignature","method","transaction"];function exposeDebugConfig(et,_e){const tt={weight:et.weight};return Object.defineProperty(tt,"provider",{get:()=>et.provider}),et.start&&(tt.start=et.start),_e&&(tt.duration=_e-et.start),et.done&&(et.error?tt.error=et.error:tt.result=et.result||null),tt}function normalizedTally(et,_e){return function(tt){const rt={};tt.forEach(it=>{const at=et(it.result);rt[at]||(rt[at]={count:0,result:it.result}),rt[at].count++});const nt=Object.keys(rt);for(let it=0;it<nt.length;it++){const at=rt[nt[it]];if(at.count>=_e)return at.result}}}function getProcessFunc(et,_e,tt){let rt=serialize$1;switch(_e){case"getBlockNumber":return function(nt){const it=nt.map(st=>st.result);let at=median(nt.map(st=>st.result),2);if(at!=null)return at=Math.ceil(at),it.indexOf(at+1)>=0&&at++,at>=et._highestBlockNumber&&(et._highestBlockNumber=at),et._highestBlockNumber};case"getGasPrice":return function(nt){const it=nt.map(at=>at.result);return it.sort(),it[Math.floor(it.length/2)]};case"getEtherPrice":return function(nt){return median(nt.map(it=>it.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":rt=function(nt){return nt==null?null:(nt=shallowCopy(nt),nt.confirmations=-1,serialize$1(nt))};break;case"getBlock":tt.includeTransactions?rt=function(nt){return nt==null?null:(nt=shallowCopy(nt),nt.transactions=nt.transactions.map(it=>(it=shallowCopy(it),it.confirmations=-1,it)),serialize$1(nt))}:rt=function(nt){return nt==null?null:serialize$1(nt)};break;default:throw new Error("unknown method: "+_e)}return normalizedTally(rt,et.quorum)}function waitForSync(et,_e){return __awaiter(this,void 0,void 0,function*(){const tt=et.provider;return tt.blockNumber!=null&&tt.blockNumber>=_e||_e===-1?tt:poll(()=>new Promise((rt,nt)=>{setTimeout(function(){return tt.blockNumber>=_e?rt(tt):et.cancelled?rt(null):rt(void 0)},0)}),{oncePoll:tt})})}function getRunner(et,_e,tt,rt){return __awaiter(this,void 0,void 0,function*(){let nt=et.provider;switch(tt){case"getBlockNumber":case"getGasPrice":return nt[tt]();case"getEtherPrice":if(nt.getEtherPrice)return nt.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return rt.blockTag&&isHexString$4(rt.blockTag)&&(nt=yield waitForSync(et,_e)),nt[tt](rt.address,rt.blockTag||"latest");case"getStorageAt":return rt.blockTag&&isHexString$4(rt.blockTag)&&(nt=yield waitForSync(et,_e)),nt.getStorageAt(rt.address,rt.position,rt.blockTag||"latest");case"getBlock":return rt.blockTag&&isHexString$4(rt.blockTag)&&(nt=yield waitForSync(et,_e)),nt[rt.includeTransactions?"getBlockWithTransactions":"getBlock"](rt.blockTag||rt.blockHash);case"call":case"estimateGas":return rt.blockTag&&isHexString$4(rt.blockTag)&&(nt=yield waitForSync(et,_e)),tt==="call"&&rt.blockTag?nt[tt](rt.transaction,rt.blockTag):nt[tt](rt.transaction);case"getTransaction":case"getTransactionReceipt":return nt[tt](rt.transactionHash);case"getLogs":{let it=rt.filter;return(it.fromBlock&&isHexString$4(it.fromBlock)||it.toBlock&&isHexString$4(it.toBlock))&&(nt=yield waitForSync(et,_e)),nt.getLogs(it)}}return logger$8.throwError("unknown method error",Logger$1.errors.UNKNOWN_ERROR,{method:tt,params:rt})})}class FallbackProvider extends BaseProvider{constructor(_e,tt){_e.length===0&&logger$8.throwArgumentError("missing providers","providers",_e);const rt=_e.map((at,st)=>{if(Provider$2.isProvider(at)){const ft=isCommunityResource(at)?2e3:750;return Object.freeze({provider:at,weight:1,stallTimeout:ft,priority:1})}const ct=shallowCopy(at);ct.priority==null&&(ct.priority=1),ct.stallTimeout==null&&(ct.stallTimeout=isCommunityResource(at)?2e3:750),ct.weight==null&&(ct.weight=1);const ut=ct.weight;return(ut%1||ut>512||ut<1)&&logger$8.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${st}].weight`,ut),Object.freeze(ct)}),nt=rt.reduce((at,st)=>at+st.weight,0);tt==null?tt=nt/2:tt>nt&&logger$8.throwArgumentError("quorum will always fail; larger than total weight","quorum",tt);let it=checkNetworks(rt.map(at=>at.provider.network));it==null&&(it=new Promise((at,st)=>{setTimeout(()=>{this.detectNetwork().then(at,st)},0)})),super(it),defineReadOnly(this,"providerConfigs",Object.freeze(rt)),defineReadOnly(this,"quorum",tt),this._highestBlockNumber=-1}detectNetwork(){return __awaiter(this,void 0,void 0,function*(){const _e=yield Promise.all(this.providerConfigs.map(tt=>tt.provider.getNetwork()));return checkNetworks(_e)})}perform(_e,tt){return __awaiter(this,void 0,void 0,function*(){if(_e==="sendTransaction"){const ct=yield Promise.all(this.providerConfigs.map(ut=>ut.provider.sendTransaction(tt.signedTransaction).then(ft=>ft.hash,ft=>ft)));for(let ut=0;ut<ct.length;ut++){const ft=ct[ut];if(typeof ft=="string")return ft}throw ct[0]}this._highestBlockNumber===-1&&_e!=="getBlockNumber"&&(yield this.getBlockNumber());const rt=getProcessFunc(this,_e,tt),nt=shuffled(this.providerConfigs.map(shallowCopy));nt.sort((ct,ut)=>ct.priority-ut.priority);const it=this._highestBlockNumber;let at=0,st=!0;for(;;){const ct=now();let ut=nt.filter(Et=>Et.runner&&ct-Et.start<Et.stallTimeout).reduce((Et,$t)=>Et+$t.weight,0);for(;ut<this.quorum&&at<nt.length;){const Et=nt[at++],$t=nextRid++;Et.start=now(),Et.staller=stall(Et.stallTimeout),Et.staller.wait(()=>{Et.staller=null}),Et.runner=getRunner(Et,it,_e,tt).then(It=>{Et.done=!0,Et.result=It,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:$t,backend:exposeDebugConfig(Et,now()),request:{method:_e,params:deepCopy(tt)},provider:this})},It=>{Et.done=!0,Et.error=It,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:$t,backend:exposeDebugConfig(Et,now()),request:{method:_e,params:deepCopy(tt)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:$t,backend:exposeDebugConfig(Et,null),request:{method:_e,params:deepCopy(tt)},provider:this}),ut+=Et.weight}const ft=[];nt.forEach(Et=>{Et.done||!Et.runner||(ft.push(Et.runner),Et.staller&&ft.push(Et.staller.getPromise()))}),ft.length&&(yield Promise.race(ft));const gt=nt.filter(Et=>Et.done&&Et.error==null);if(gt.length>=this.quorum){const Et=rt(gt);if(Et!==void 0)return nt.forEach($t=>{$t.staller&&$t.staller.cancel(),$t.cancelled=!0}),Et;st||(yield stall(100).getPromise()),st=!1}const _t=nt.reduce((Et,$t)=>{if(!$t.done||$t.error==null)return Et;const It=$t.error.code;return ForwardErrors.indexOf(It)>=0&&(Et[It]||(Et[It]={error:$t.error,weight:0}),Et[It].weight+=$t.weight),Et},{});if(Object.keys(_t).forEach(Et=>{const $t=_t[Et];if($t.weight<this.quorum)return;nt.forEach(At=>{At.staller&&At.staller.cancel(),At.cancelled=!0});const It=$t.error,Tt={};ForwardProperties.forEach(At=>{It[At]!=null&&(Tt[At]=It[At])}),logger$8.throwError(It.reason||It.message,Et,Tt)}),nt.filter(Et=>!Et.done).length===0)break}return nt.forEach(ct=>{ct.staller&&ct.staller.cancel(),ct.cancelled=!0}),logger$8.throwError("failed to meet quorum",Logger$1.errors.SERVER_ERROR,{method:_e,params:tt,results:nt.map(ct=>exposeDebugConfig(ct)),provider:this})})}}const IpcProvider=null,logger$7=new Logger$1(version$8),defaultProjectId="84842078b09946638c03157f83405213";class InfuraWebSocketProvider extends WebSocketProvider{constructor(_e,tt){const rt=new InfuraProvider(_e,tt),nt=rt.connection;nt.password&&logger$7.throwError("INFURA WebSocket project secrets unsupported",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const it=nt.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(it,_e),defineReadOnly(this,"apiKey",rt.projectId),defineReadOnly(this,"projectId",rt.projectId),defineReadOnly(this,"projectSecret",rt.projectSecret)}isCommunityResource(){return this.projectId===defaultProjectId}}class InfuraProvider extends UrlJsonRpcProvider{static getWebSocketProvider(_e,tt){return new InfuraWebSocketProvider(_e,tt)}static getApiKey(_e){const tt={apiKey:defaultProjectId,projectId:defaultProjectId,projectSecret:null};return _e==null||(typeof _e=="string"?tt.projectId=_e:_e.projectSecret!=null?(logger$7.assertArgument(typeof _e.projectId=="string","projectSecret requires a projectId","projectId",_e.projectId),logger$7.assertArgument(typeof _e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),tt.projectId=_e.projectId,tt.projectSecret=_e.projectSecret):_e.projectId&&(tt.projectId=_e.projectId),tt.apiKey=tt.projectId),tt}static getUrl(_e,tt){let rt=null;switch(_e?_e.name:"unknown"){case"homestead":rt="mainnet.infura.io";break;case"goerli":rt="goerli.infura.io";break;case"sepolia":rt="sepolia.infura.io";break;case"matic":rt="polygon-mainnet.infura.io";break;case"maticmum":rt="polygon-mumbai.infura.io";break;case"optimism":rt="optimism-mainnet.infura.io";break;case"optimism-goerli":rt="optimism-goerli.infura.io";break;case"arbitrum":rt="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":rt="arbitrum-goerli.infura.io";break;default:logger$7.throwError("unsupported network",Logger$1.errors.INVALID_ARGUMENT,{argument:"network",value:_e})}const nt={allowGzip:!0,url:"https://"+rt+"/v3/"+tt.projectId,throttleCallback:(it,at)=>(tt.projectId===defaultProjectId&&showThrottleMessage(),Promise.resolve(!0))};return tt.projectSecret!=null&&(nt.user="",nt.password=tt.projectSecret),nt}isCommunityResource(){return this.projectId===defaultProjectId}}class JsonRpcBatchProvider extends JsonRpcProvider$1{send(_e,tt){const rt={method:_e,params:tt,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const nt={request:rt,resolve:null,reject:null},it=new Promise((at,st)=>{nt.resolve=at,nt.reject=st});return this._pendingBatch.push(nt),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const at=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const st=at.map(ct=>ct.request);return this.emit("debug",{action:"requestBatch",request:deepCopy(st),provider:this}),fetchJson(this.connection,JSON.stringify(st)).then(ct=>{this.emit("debug",{action:"response",request:st,response:ct,provider:this}),at.forEach((ut,ft)=>{const gt=ct[ft];if(gt.error){const _t=new Error(gt.error.message);_t.code=gt.error.code,_t.data=gt.error.data,ut.reject(_t)}else ut.resolve(gt.result)})},ct=>{this.emit("debug",{action:"response",error:ct,request:st,provider:this}),at.forEach(ut=>{ut.reject(ct)})})},10)),it}}const logger$6=new Logger$1(version$8),defaultApiKey="ETHERS_JS_SHARED";class NodesmithProvider extends UrlJsonRpcProvider{static getApiKey(_e){return _e&&typeof _e!="string"&&logger$6.throwArgumentError("invalid apiKey","apiKey",_e),_e||defaultApiKey}static getUrl(_e,tt){logger$6.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let rt=null;switch(_e.name){case"homestead":rt="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":rt="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":rt="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":rt="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":rt="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:logger$6.throwArgumentError("unsupported network","network",arguments[0])}return rt+"?apiKey="+tt}}const logger$5=new Logger$1(version$8),defaultApplicationId="62e1ad51b37b8e00394bda3b";class PocketProvider extends UrlJsonRpcProvider{static getApiKey(_e){const tt={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return _e==null?tt.applicationId=defaultApplicationId:typeof _e=="string"?tt.applicationId=_e:_e.applicationSecretKey!=null?(tt.applicationId=_e.applicationId,tt.applicationSecretKey=_e.applicationSecretKey):_e.applicationId?tt.applicationId=_e.applicationId:logger$5.throwArgumentError("unsupported PocketProvider apiKey","apiKey",_e),tt}static getUrl(_e,tt){let rt=null;switch(_e?_e.name:"unknown"){case"goerli":rt="eth-goerli.gateway.pokt.network";break;case"homestead":rt="eth-mainnet.gateway.pokt.network";break;case"kovan":rt="poa-kovan.gateway.pokt.network";break;case"matic":rt="poly-mainnet.gateway.pokt.network";break;case"maticmum":rt="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":rt="eth-rinkeby.gateway.pokt.network";break;case"ropsten":rt="eth-ropsten.gateway.pokt.network";break;default:logger$5.throwError("unsupported network",Logger$1.errors.INVALID_ARGUMENT,{argument:"network",value:_e})}const nt=`https://${rt}/v1/lb/${tt.applicationId}`,it={headers:{},url:nt};return tt.applicationSecretKey!=null&&(it.user="",it.password=tt.applicationSecretKey),it}isCommunityResource(){return this.applicationId===defaultApplicationId}}const logger$4=new Logger$1(version$8);let _nextId=1;function buildWeb3LegacyFetcher(et,_e){const tt="Web3LegacyFetcher";return function(rt,nt){const it={method:rt,params:nt,id:_nextId++,jsonrpc:"2.0"};return new Promise((at,st)=>{this.emit("debug",{action:"request",fetcher:tt,request:deepCopy(it),provider:this}),_e(it,(ct,ut)=>{if(ct)return this.emit("debug",{action:"response",fetcher:tt,error:ct,request:it,provider:this}),st(ct);if(this.emit("debug",{action:"response",fetcher:tt,request:it,response:ut,provider:this}),ut.error){const ft=new Error(ut.error.message);return ft.code=ut.error.code,ft.data=ut.error.data,st(ft)}at(ut.result)})})}}function buildEip1193Fetcher(et){return function(_e,tt){tt==null&&(tt=[]);const rt={method:_e,params:tt};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy(rt),provider:this}),et.request(rt).then(nt=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:rt,response:nt,provider:this}),nt),nt=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:rt,error:nt,provider:this}),nt})}}class Web3Provider extends JsonRpcProvider$1{constructor(_e,tt){_e==null&&logger$4.throwArgumentError("missing provider","provider",_e);let rt=null,nt=null,it=null;typeof _e=="function"?(rt="unknown:",nt=_e):(rt=_e.host||_e.path||"",!rt&&_e.isMetaMask&&(rt="metamask"),it=_e,_e.request?(rt===""&&(rt="eip-1193:"),nt=buildEip1193Fetcher(_e)):_e.sendAsync?nt=buildWeb3LegacyFetcher(_e,_e.sendAsync.bind(_e)):_e.send?nt=buildWeb3LegacyFetcher(_e,_e.send.bind(_e)):logger$4.throwArgumentError("unsupported provider","provider",_e),rt||(rt="unknown:")),super(rt,tt),defineReadOnly(this,"jsonRpcFetchFunc",nt),defineReadOnly(this,"provider",it)}send(_e,tt){return this.jsonRpcFetchFunc(_e,tt)}}const logger$3=new Logger$1(version$8);function getDefaultProvider(et,_e){if(et==null&&(et="homestead"),typeof et=="string"){const rt=et.match(/^(ws|http)s?:/i);if(rt)switch(rt[1].toLowerCase()){case"http":case"https":return new JsonRpcProvider$1(et);case"ws":case"wss":return new WebSocketProvider(et);default:logger$3.throwArgumentError("unsupported URL scheme","network",et)}}const tt=getNetwork(et);return(!tt||!tt._defaultProvider)&&logger$3.throwError("unsupported getDefaultProvider network",Logger$1.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:et}),tt._defaultProvider({FallbackProvider,AlchemyProvider,AnkrProvider,CloudflareProvider,EtherscanProvider,InfuraProvider,JsonRpcProvider:JsonRpcProvider$1,NodesmithProvider,PocketProvider,Web3Provider,IpcProvider},_e)}const version$7="solidity/5.7.0",regexBytes=new RegExp("^bytes([0-9]+)$"),regexNumber=new RegExp("^(u?int)([0-9]*)$"),regexArray=new RegExp("^(.*)\\[([0-9]*)\\]$"),Zeros="0000000000000000000000000000000000000000000000000000000000000000",logger$2=new Logger$1(version$7);function _pack(et,_e,tt){switch(et){case"address":return tt?zeroPad(_e,32):arrayify(_e);case"string":return toUtf8Bytes(_e);case"bytes":return arrayify(_e);case"bool":return _e=_e?"0x01":"0x00",tt?zeroPad(_e,32):arrayify(_e)}let rt=et.match(regexNumber);if(rt){let nt=parseInt(rt[2]||"256");return(rt[2]&&String(nt)!==rt[2]||nt%8!==0||nt===0||nt>256)&&logger$2.throwArgumentError("invalid number type","type",et),tt&&(nt=256),_e=BigNumber.from(_e).toTwos(nt),zeroPad(_e,nt/8)}if(rt=et.match(regexBytes),rt){const nt=parseInt(rt[1]);return(String(nt)!==rt[1]||nt===0||nt>32)&&logger$2.throwArgumentError("invalid bytes type","type",et),arrayify(_e).byteLength!==nt&&logger$2.throwArgumentError(`invalid value for ${et}`,"value",_e),tt?arrayify((_e+Zeros).substring(0,66)):_e}if(rt=et.match(regexArray),rt&&Array.isArray(_e)){const nt=rt[1];parseInt(rt[2]||String(_e.length))!=_e.length&&logger$2.throwArgumentError(`invalid array length for ${et}`,"value",_e);const at=[];return _e.forEach(function(st){at.push(_pack(nt,st,!0))}),concat$3(at)}return logger$2.throwArgumentError("invalid type","type",et)}function pack(et,_e){et.length!=_e.length&&logger$2.throwArgumentError("wrong number of values; expected ${ types.length }","values",_e);const tt=[];return et.forEach(function(rt,nt){tt.push(_pack(rt,_e[nt]))}),hexlify(concat$3(tt))}function keccak256(et,_e){return keccak256$1(pack(et,_e))}function sha256$2(et,_e){return sha256$3(pack(et,_e))}var lib_esm$1=Object.freeze(Object.defineProperty({__proto__:null,pack,keccak256,sha256:sha256$2},Symbol.toStringTag,{value:"Module"}));const version$6="units/5.7.0",logger$1=new Logger$1(version$6),names$1=["wei","kwei","mwei","gwei","szabo","finney","ether"];function commify(et){const _e=String(et).split(".");(_e.length>2||!_e[0].match(/^-?[0-9]*$/)||_e[1]&&!_e[1].match(/^[0-9]*$/)||et==="."||et==="-.")&&logger$1.throwArgumentError("invalid value","value",et);let tt=_e[0],rt="";for(tt.substring(0,1)==="-"&&(rt="-",tt=tt.substring(1));tt.substring(0,1)==="0";)tt=tt.substring(1);tt===""&&(tt="0");let nt="";for(_e.length===2&&(nt="."+(_e[1]||"0"));nt.length>2&&nt[nt.length-1]==="0";)nt=nt.substring(0,nt.length-1);const it=[];for(;tt.length;)if(tt.length<=3){it.unshift(tt);break}else{const at=tt.length-3;it.unshift(tt.substring(at)),tt=tt.substring(0,at)}return rt+it.join(",")+nt}function formatUnits(et,_e){if(typeof _e=="string"){const tt=names$1.indexOf(_e);tt!==-1&&(_e=3*tt)}return formatFixed(et,_e!=null?_e:18)}function parseUnits(et,_e){if(typeof et!="string"&&logger$1.throwArgumentError("value must be a string","value",et),typeof _e=="string"){const tt=names$1.indexOf(_e);tt!==-1&&(_e=3*tt)}return parseFixed(et,_e!=null?_e:18)}function formatEther(et){return formatUnits(et,18)}function parseEther(et){return parseUnits(et,18)}var lib_esm=Object.freeze(Object.defineProperty({__proto__:null,commify,formatUnits,parseUnits,formatEther,parseEther},Symbol.toStringTag,{value:"Module"}));const version$5="ethers/5.7.2";new Logger$1(version$5);var bn$2={exports:{}};(function(et){(function(_e,tt){function rt(ht,ot){if(!ht)throw new Error(ot||"Assertion failed")}function nt(ht,ot){ht.super_=ot;var dt=function(){};dt.prototype=ot.prototype,ht.prototype=new dt,ht.prototype.constructor=ht}function it(ht,ot,dt){if(it.isBN(ht))return ht;this.negative=0,this.words=null,this.length=0,this.red=null,ht!==null&&((ot==="le"||ot==="be")&&(dt=ot,ot=10),this._init(ht||0,ot||10,dt||"be"))}typeof _e=="object"?_e.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?at=window.Buffer:at=require("buffer").Buffer}catch{}it.isBN=function(ot){return ot instanceof it?!0:ot!==null&&typeof ot=="object"&&ot.constructor.wordSize===it.wordSize&&Array.isArray(ot.words)},it.max=function(ot,dt){return ot.cmp(dt)>0?ot:dt},it.min=function(ot,dt){return ot.cmp(dt)<0?ot:dt},it.prototype._init=function(ot,dt,mt){if(typeof ot=="number")return this._initNumber(ot,dt,mt);if(typeof ot=="object")return this._initArray(ot,dt,mt);dt==="hex"&&(dt=16),rt(dt===(dt|0)&&dt>=2&&dt<=36),ot=ot.toString().replace(/\s+/g,"");var wt=0;ot[0]==="-"&&(wt++,this.negative=1),wt<ot.length&&(dt===16?this._parseHex(ot,wt,mt):(this._parseBase(ot,dt,wt),mt==="le"&&this._initArray(this.toArray(),dt,mt)))},it.prototype._initNumber=function(ot,dt,mt){ot<0&&(this.negative=1,ot=-ot),ot<67108864?(this.words=[ot&67108863],this.length=1):ot<4503599627370496?(this.words=[ot&67108863,ot/67108864&67108863],this.length=2):(rt(ot<9007199254740992),this.words=[ot&67108863,ot/67108864&67108863,1],this.length=3),mt==="le"&&this._initArray(this.toArray(),dt,mt)},it.prototype._initArray=function(ot,dt,mt){if(rt(typeof ot.length=="number"),ot.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ot.length/3),this.words=new Array(this.length);for(var wt=0;wt<this.length;wt++)this.words[wt]=0;var bt,vt,St=0;if(mt==="be")for(wt=ot.length-1,bt=0;wt>=0;wt-=3)vt=ot[wt]|ot[wt-1]<<8|ot[wt-2]<<16,this.words[bt]|=vt<<St&67108863,this.words[bt+1]=vt>>>26-St&67108863,St+=24,St>=26&&(St-=26,bt++);else if(mt==="le")for(wt=0,bt=0;wt<ot.length;wt+=3)vt=ot[wt]|ot[wt+1]<<8|ot[wt+2]<<16,this.words[bt]|=vt<<St&67108863,this.words[bt+1]=vt>>>26-St&67108863,St+=24,St>=26&&(St-=26,bt++);return this._strip()};function st(ht,ot){var dt=ht.charCodeAt(ot);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;rt(!1,"Invalid character in "+ht)}function ct(ht,ot,dt){var mt=st(ht,dt);return dt-1>=ot&&(mt|=st(ht,dt-1)<<4),mt}it.prototype._parseHex=function(ot,dt,mt){this.length=Math.ceil((ot.length-dt)/6),this.words=new Array(this.length);for(var wt=0;wt<this.length;wt++)this.words[wt]=0;var bt=0,vt=0,St;if(mt==="be")for(wt=ot.length-1;wt>=dt;wt-=2)St=ct(ot,dt,wt)<<bt,this.words[vt]|=St&67108863,bt>=18?(bt-=18,vt+=1,this.words[vt]|=St>>>26):bt+=8;else{var yt=ot.length-dt;for(wt=yt%2===0?dt+1:dt;wt<ot.length;wt+=2)St=ct(ot,dt,wt)<<bt,this.words[vt]|=St&67108863,bt>=18?(bt-=18,vt+=1,this.words[vt]|=St>>>26):bt+=8}this._strip()};function ut(ht,ot,dt,mt){for(var wt=0,bt=0,vt=Math.min(ht.length,dt),St=ot;St<vt;St++){var yt=ht.charCodeAt(St)-48;wt*=mt,yt>=49?bt=yt-49+10:yt>=17?bt=yt-17+10:bt=yt,rt(yt>=0&&bt<mt,"Invalid character"),wt+=bt}return wt}it.prototype._parseBase=function(ot,dt,mt){this.words=[0],this.length=1;for(var wt=0,bt=1;bt<=67108863;bt*=dt)wt++;wt--,bt=bt/dt|0;for(var vt=ot.length-mt,St=vt%wt,yt=Math.min(vt,vt-St)+mt,lt=0,xt=mt;xt<yt;xt+=wt)lt=ut(ot,xt,xt+wt,dt),this.imuln(bt),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt);if(St!==0){var Ut=1;for(lt=ut(ot,xt,ot.length,dt),xt=0;xt<St;xt++)Ut*=dt;this.imuln(Ut),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt)}this._strip()},it.prototype.copy=function(ot){ot.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)ot.words[dt]=this.words[dt];ot.length=this.length,ot.negative=this.negative,ot.red=this.red};function ft(ht,ot){ht.words=ot.words,ht.length=ot.length,ht.negative=ot.negative,ht.red=ot.red}if(it.prototype._move=function(ot){ft(ot,this)},it.prototype.clone=function(){var ot=new it(null);return this.copy(ot),ot},it.prototype._expand=function(ot){for(;this.length<ot;)this.words[this.length++]=0;return this},it.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{it.prototype[Symbol.for("nodejs.util.inspect.custom")]=gt}catch{it.prototype.inspect=gt}else it.prototype.inspect=gt;function gt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _t=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Et=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],$t=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(ot,dt){ot=ot||10,dt=dt|0||1;var mt;if(ot===16||ot==="hex"){mt="";for(var wt=0,bt=0,vt=0;vt<this.length;vt++){var St=this.words[vt],yt=((St<<wt|bt)&16777215).toString(16);bt=St>>>24-wt&16777215,wt+=2,wt>=26&&(wt-=26,vt--),bt!==0||vt!==this.length-1?mt=_t[6-yt.length]+yt+mt:mt=yt+mt}for(bt!==0&&(mt=bt.toString(16)+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}if(ot===(ot|0)&&ot>=2&&ot<=36){var lt=Et[ot],xt=$t[ot];mt="";var Ut=this.clone();for(Ut.negative=0;!Ut.isZero();){var Pt=Ut.modrn(xt).toString(ot);Ut=Ut.idivn(xt),Ut.isZero()?mt=Pt+mt:mt=_t[lt-Pt.length]+Pt+mt}for(this.isZero()&&(mt="0"+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}rt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var ot=this.words[0];return this.length===2?ot+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ot+=4503599627370496+this.words[1]*67108864:this.length>2&&rt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ot:ot},it.prototype.toJSON=function(){return this.toString(16,2)},at&&(it.prototype.toBuffer=function(ot,dt){return this.toArrayLike(at,ot,dt)}),it.prototype.toArray=function(ot,dt){return this.toArrayLike(Array,ot,dt)};var It=function(ot,dt){return ot.allocUnsafe?ot.allocUnsafe(dt):new ot(dt)};it.prototype.toArrayLike=function(ot,dt,mt){this._strip();var wt=this.byteLength(),bt=mt||Math.max(1,wt);rt(wt<=bt,"byte array longer than desired length"),rt(bt>0,"Requested array length <= 0");var vt=It(ot,bt),St=dt==="le"?"LE":"BE";return this["_toArrayLike"+St](vt,wt),vt},it.prototype._toArrayLikeLE=function(ot,dt){for(var mt=0,wt=0,bt=0,vt=0;bt<this.length;bt++){var St=this.words[bt]<<vt|wt;ot[mt++]=St&255,mt<ot.length&&(ot[mt++]=St>>8&255),mt<ot.length&&(ot[mt++]=St>>16&255),vt===6?(mt<ot.length&&(ot[mt++]=St>>24&255),wt=0,vt=0):(wt=St>>>24,vt+=2)}if(mt<ot.length)for(ot[mt++]=wt;mt<ot.length;)ot[mt++]=0},it.prototype._toArrayLikeBE=function(ot,dt){for(var mt=ot.length-1,wt=0,bt=0,vt=0;bt<this.length;bt++){var St=this.words[bt]<<vt|wt;ot[mt--]=St&255,mt>=0&&(ot[mt--]=St>>8&255),mt>=0&&(ot[mt--]=St>>16&255),vt===6?(mt>=0&&(ot[mt--]=St>>24&255),wt=0,vt=0):(wt=St>>>24,vt+=2)}if(mt>=0)for(ot[mt--]=wt;mt>=0;)ot[mt--]=0},Math.clz32?it.prototype._countBits=function(ot){return 32-Math.clz32(ot)}:it.prototype._countBits=function(ot){var dt=ot,mt=0;return dt>=4096&&(mt+=13,dt>>>=13),dt>=64&&(mt+=7,dt>>>=7),dt>=8&&(mt+=4,dt>>>=4),dt>=2&&(mt+=2,dt>>>=2),mt+dt},it.prototype._zeroBits=function(ot){if(ot===0)return 26;var dt=ot,mt=0;return(dt&8191)===0&&(mt+=13,dt>>>=13),(dt&127)===0&&(mt+=7,dt>>>=7),(dt&15)===0&&(mt+=4,dt>>>=4),(dt&3)===0&&(mt+=2,dt>>>=2),(dt&1)===0&&mt++,mt},it.prototype.bitLength=function(){var ot=this.words[this.length-1],dt=this._countBits(ot);return(this.length-1)*26+dt};function Tt(ht){for(var ot=new Array(ht.bitLength()),dt=0;dt<ot.length;dt++){var mt=dt/26|0,wt=dt%26;ot[dt]=ht.words[mt]>>>wt&1}return ot}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ot=0,dt=0;dt<this.length;dt++){var mt=this._zeroBits(this.words[dt]);if(ot+=mt,mt!==26)break}return ot},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(ot){return this.negative!==0?this.abs().inotn(ot).iaddn(1):this.clone()},it.prototype.fromTwos=function(ot){return this.testn(ot-1)?this.notn(ot).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(ot){for(;this.length<ot.length;)this.words[this.length++]=0;for(var dt=0;dt<ot.length;dt++)this.words[dt]=this.words[dt]|ot.words[dt];return this._strip()},it.prototype.ior=function(ot){return rt((this.negative|ot.negative)===0),this.iuor(ot)},it.prototype.or=function(ot){return this.length>ot.length?this.clone().ior(ot):ot.clone().ior(this)},it.prototype.uor=function(ot){return this.length>ot.length?this.clone().iuor(ot):ot.clone().iuor(this)},it.prototype.iuand=function(ot){var dt;this.length>ot.length?dt=ot:dt=this;for(var mt=0;mt<dt.length;mt++)this.words[mt]=this.words[mt]&ot.words[mt];return this.length=dt.length,this._strip()},it.prototype.iand=function(ot){return rt((this.negative|ot.negative)===0),this.iuand(ot)},it.prototype.and=function(ot){return this.length>ot.length?this.clone().iand(ot):ot.clone().iand(this)},it.prototype.uand=function(ot){return this.length>ot.length?this.clone().iuand(ot):ot.clone().iuand(this)},it.prototype.iuxor=function(ot){var dt,mt;this.length>ot.length?(dt=this,mt=ot):(dt=ot,mt=this);for(var wt=0;wt<mt.length;wt++)this.words[wt]=dt.words[wt]^mt.words[wt];if(this!==dt)for(;wt<dt.length;wt++)this.words[wt]=dt.words[wt];return this.length=dt.length,this._strip()},it.prototype.ixor=function(ot){return rt((this.negative|ot.negative)===0),this.iuxor(ot)},it.prototype.xor=function(ot){return this.length>ot.length?this.clone().ixor(ot):ot.clone().ixor(this)},it.prototype.uxor=function(ot){return this.length>ot.length?this.clone().iuxor(ot):ot.clone().iuxor(this)},it.prototype.inotn=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=Math.ceil(ot/26)|0,mt=ot%26;this._expand(dt),mt>0&&dt--;for(var wt=0;wt<dt;wt++)this.words[wt]=~this.words[wt]&67108863;return mt>0&&(this.words[wt]=~this.words[wt]&67108863>>26-mt),this._strip()},it.prototype.notn=function(ot){return this.clone().inotn(ot)},it.prototype.setn=function(ot,dt){rt(typeof ot=="number"&&ot>=0);var mt=ot/26|0,wt=ot%26;return this._expand(mt+1),dt?this.words[mt]=this.words[mt]|1<<wt:this.words[mt]=this.words[mt]&~(1<<wt),this._strip()},it.prototype.iadd=function(ot){var dt;if(this.negative!==0&&ot.negative===0)return this.negative=0,dt=this.isub(ot),this.negative^=1,this._normSign();if(this.negative===0&&ot.negative!==0)return ot.negative=0,dt=this.isub(ot),ot.negative=1,dt._normSign();var mt,wt;this.length>ot.length?(mt=this,wt=ot):(mt=ot,wt=this);for(var bt=0,vt=0;vt<wt.length;vt++)dt=(mt.words[vt]|0)+(wt.words[vt]|0)+bt,this.words[vt]=dt&67108863,bt=dt>>>26;for(;bt!==0&&vt<mt.length;vt++)dt=(mt.words[vt]|0)+bt,this.words[vt]=dt&67108863,bt=dt>>>26;if(this.length=mt.length,bt!==0)this.words[this.length]=bt,this.length++;else if(mt!==this)for(;vt<mt.length;vt++)this.words[vt]=mt.words[vt];return this},it.prototype.add=function(ot){var dt;return ot.negative!==0&&this.negative===0?(ot.negative=0,dt=this.sub(ot),ot.negative^=1,dt):ot.negative===0&&this.negative!==0?(this.negative=0,dt=ot.sub(this),this.negative=1,dt):this.length>ot.length?this.clone().iadd(ot):ot.clone().iadd(this)},it.prototype.isub=function(ot){if(ot.negative!==0){ot.negative=0;var dt=this.iadd(ot);return ot.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ot),this.negative=1,this._normSign();var mt=this.cmp(ot);if(mt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var wt,bt;mt>0?(wt=this,bt=ot):(wt=ot,bt=this);for(var vt=0,St=0;St<bt.length;St++)dt=(wt.words[St]|0)-(bt.words[St]|0)+vt,vt=dt>>26,this.words[St]=dt&67108863;for(;vt!==0&&St<wt.length;St++)dt=(wt.words[St]|0)+vt,vt=dt>>26,this.words[St]=dt&67108863;if(vt===0&&St<wt.length&&wt!==this)for(;St<wt.length;St++)this.words[St]=wt.words[St];return this.length=Math.max(this.length,St),wt!==this&&(this.negative=1),this._strip()},it.prototype.sub=function(ot){return this.clone().isub(ot)};function At(ht,ot,dt){dt.negative=ot.negative^ht.negative;var mt=ht.length+ot.length|0;dt.length=mt,mt=mt-1|0;var wt=ht.words[0]|0,bt=ot.words[0]|0,vt=wt*bt,St=vt&67108863,yt=vt/67108864|0;dt.words[0]=St;for(var lt=1;lt<mt;lt++){for(var xt=yt>>>26,Ut=yt&67108863,Pt=Math.min(lt,ot.length-1),qt=Math.max(0,lt-ht.length+1);qt<=Pt;qt++){var ir=lt-qt|0;wt=ht.words[ir]|0,bt=ot.words[qt]|0,vt=wt*bt+Ut,xt+=vt/67108864|0,Ut=vt&67108863}dt.words[lt]=Ut|0,yt=xt|0}return yt!==0?dt.words[lt]=yt|0:dt.length--,dt._strip()}var Rt=function(ot,dt,mt){var wt=ot.words,bt=dt.words,vt=mt.words,St=0,yt,lt,xt,Ut=wt[0]|0,Pt=Ut&8191,qt=Ut>>>13,ir=wt[1]|0,Yt=ir&8191,rr=ir>>>13,Sr=wt[2]|0,lr=Sr&8191,ur=Sr>>>13,Ur=wt[3]|0,dr=Ur&8191,xr=Ur>>>13,er=wt[4]|0,Ft=er&8191,Lt=er>>>13,Qt=wt[5]|0,tr=Qt&8191,sr=Qt>>>13,Er=wt[6]|0,mr=Er&8191,gr=Er>>>13,Qr=wt[7]|0,wr=Qr&8191,Vt=Qr>>>13,Dt=wt[8]|0,Bt=Dt&8191,Gt=Dt>>>13,cr=wt[9]|0,nr=cr&8191,or=cr>>>13,qr=bt[0]|0,vr=qr&8191,br=qr>>>13,Zr=bt[1]|0,yr=Zr&8191,Rr=Zr>>>13,dn=bt[2]|0,Mr=dn&8191,$r=dn>>>13,Sn=bt[3]|0,Ir=Sn&8191,kr=Sn>>>13,xn=bt[4]|0,Pr=xn&8191,Nr=xn>>>13,wn=bt[5]|0,Fr=wn&8191,Or=wn>>>13,rn=bt[6]|0,Cr=rn&8191,Br=rn>>>13,Tn=bt[7]|0,Dr=Tn&8191,Lr=Tn>>>13,In=bt[8]|0,Ar=In&8191,Tr=In>>>13,pn=bt[9]|0,jr=pn&8191,Hr=pn>>>13;mt.negative=ot.negative^dt.negative,mt.length=19,yt=Math.imul(Pt,vr),lt=Math.imul(Pt,br),lt=lt+Math.imul(qt,vr)|0,xt=Math.imul(qt,br);var mn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(mn>>>26)|0,mn&=67108863,yt=Math.imul(Yt,vr),lt=Math.imul(Yt,br),lt=lt+Math.imul(rr,vr)|0,xt=Math.imul(rr,br),yt=yt+Math.imul(Pt,yr)|0,lt=lt+Math.imul(Pt,Rr)|0,lt=lt+Math.imul(qt,yr)|0,xt=xt+Math.imul(qt,Rr)|0;var sn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(sn>>>26)|0,sn&=67108863,yt=Math.imul(lr,vr),lt=Math.imul(lr,br),lt=lt+Math.imul(ur,vr)|0,xt=Math.imul(ur,br),yt=yt+Math.imul(Yt,yr)|0,lt=lt+Math.imul(Yt,Rr)|0,lt=lt+Math.imul(rr,yr)|0,xt=xt+Math.imul(rr,Rr)|0,yt=yt+Math.imul(Pt,Mr)|0,lt=lt+Math.imul(Pt,$r)|0,lt=lt+Math.imul(qt,Mr)|0,xt=xt+Math.imul(qt,$r)|0;var cn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(cn>>>26)|0,cn&=67108863,yt=Math.imul(dr,vr),lt=Math.imul(dr,br),lt=lt+Math.imul(xr,vr)|0,xt=Math.imul(xr,br),yt=yt+Math.imul(lr,yr)|0,lt=lt+Math.imul(lr,Rr)|0,lt=lt+Math.imul(ur,yr)|0,xt=xt+Math.imul(ur,Rr)|0,yt=yt+Math.imul(Yt,Mr)|0,lt=lt+Math.imul(Yt,$r)|0,lt=lt+Math.imul(rr,Mr)|0,xt=xt+Math.imul(rr,$r)|0,yt=yt+Math.imul(Pt,Ir)|0,lt=lt+Math.imul(Pt,kr)|0,lt=lt+Math.imul(qt,Ir)|0,xt=xt+Math.imul(qt,kr)|0;var fn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(fn>>>26)|0,fn&=67108863,yt=Math.imul(Ft,vr),lt=Math.imul(Ft,br),lt=lt+Math.imul(Lt,vr)|0,xt=Math.imul(Lt,br),yt=yt+Math.imul(dr,yr)|0,lt=lt+Math.imul(dr,Rr)|0,lt=lt+Math.imul(xr,yr)|0,xt=xt+Math.imul(xr,Rr)|0,yt=yt+Math.imul(lr,Mr)|0,lt=lt+Math.imul(lr,$r)|0,lt=lt+Math.imul(ur,Mr)|0,xt=xt+Math.imul(ur,$r)|0,yt=yt+Math.imul(Yt,Ir)|0,lt=lt+Math.imul(Yt,kr)|0,lt=lt+Math.imul(rr,Ir)|0,xt=xt+Math.imul(rr,kr)|0,yt=yt+Math.imul(Pt,Pr)|0,lt=lt+Math.imul(Pt,Nr)|0,lt=lt+Math.imul(qt,Pr)|0,xt=xt+Math.imul(qt,Nr)|0;var ln=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(ln>>>26)|0,ln&=67108863,yt=Math.imul(tr,vr),lt=Math.imul(tr,br),lt=lt+Math.imul(sr,vr)|0,xt=Math.imul(sr,br),yt=yt+Math.imul(Ft,yr)|0,lt=lt+Math.imul(Ft,Rr)|0,lt=lt+Math.imul(Lt,yr)|0,xt=xt+Math.imul(Lt,Rr)|0,yt=yt+Math.imul(dr,Mr)|0,lt=lt+Math.imul(dr,$r)|0,lt=lt+Math.imul(xr,Mr)|0,xt=xt+Math.imul(xr,$r)|0,yt=yt+Math.imul(lr,Ir)|0,lt=lt+Math.imul(lr,kr)|0,lt=lt+Math.imul(ur,Ir)|0,xt=xt+Math.imul(ur,kr)|0,yt=yt+Math.imul(Yt,Pr)|0,lt=lt+Math.imul(Yt,Nr)|0,lt=lt+Math.imul(rr,Pr)|0,xt=xt+Math.imul(rr,Nr)|0,yt=yt+Math.imul(Pt,Fr)|0,lt=lt+Math.imul(Pt,Or)|0,lt=lt+Math.imul(qt,Fr)|0,xt=xt+Math.imul(qt,Or)|0;var $n=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+($n>>>26)|0,$n&=67108863,yt=Math.imul(mr,vr),lt=Math.imul(mr,br),lt=lt+Math.imul(gr,vr)|0,xt=Math.imul(gr,br),yt=yt+Math.imul(tr,yr)|0,lt=lt+Math.imul(tr,Rr)|0,lt=lt+Math.imul(sr,yr)|0,xt=xt+Math.imul(sr,Rr)|0,yt=yt+Math.imul(Ft,Mr)|0,lt=lt+Math.imul(Ft,$r)|0,lt=lt+Math.imul(Lt,Mr)|0,xt=xt+Math.imul(Lt,$r)|0,yt=yt+Math.imul(dr,Ir)|0,lt=lt+Math.imul(dr,kr)|0,lt=lt+Math.imul(xr,Ir)|0,xt=xt+Math.imul(xr,kr)|0,yt=yt+Math.imul(lr,Pr)|0,lt=lt+Math.imul(lr,Nr)|0,lt=lt+Math.imul(ur,Pr)|0,xt=xt+Math.imul(ur,Nr)|0,yt=yt+Math.imul(Yt,Fr)|0,lt=lt+Math.imul(Yt,Or)|0,lt=lt+Math.imul(rr,Fr)|0,xt=xt+Math.imul(rr,Or)|0,yt=yt+Math.imul(Pt,Cr)|0,lt=lt+Math.imul(Pt,Br)|0,lt=lt+Math.imul(qt,Cr)|0,xt=xt+Math.imul(qt,Br)|0;var Pn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,yt=Math.imul(wr,vr),lt=Math.imul(wr,br),lt=lt+Math.imul(Vt,vr)|0,xt=Math.imul(Vt,br),yt=yt+Math.imul(mr,yr)|0,lt=lt+Math.imul(mr,Rr)|0,lt=lt+Math.imul(gr,yr)|0,xt=xt+Math.imul(gr,Rr)|0,yt=yt+Math.imul(tr,Mr)|0,lt=lt+Math.imul(tr,$r)|0,lt=lt+Math.imul(sr,Mr)|0,xt=xt+Math.imul(sr,$r)|0,yt=yt+Math.imul(Ft,Ir)|0,lt=lt+Math.imul(Ft,kr)|0,lt=lt+Math.imul(Lt,Ir)|0,xt=xt+Math.imul(Lt,kr)|0,yt=yt+Math.imul(dr,Pr)|0,lt=lt+Math.imul(dr,Nr)|0,lt=lt+Math.imul(xr,Pr)|0,xt=xt+Math.imul(xr,Nr)|0,yt=yt+Math.imul(lr,Fr)|0,lt=lt+Math.imul(lr,Or)|0,lt=lt+Math.imul(ur,Fr)|0,xt=xt+Math.imul(ur,Or)|0,yt=yt+Math.imul(Yt,Cr)|0,lt=lt+Math.imul(Yt,Br)|0,lt=lt+Math.imul(rr,Cr)|0,xt=xt+Math.imul(rr,Br)|0,yt=yt+Math.imul(Pt,Dr)|0,lt=lt+Math.imul(Pt,Lr)|0,lt=lt+Math.imul(qt,Dr)|0,xt=xt+Math.imul(qt,Lr)|0;var vn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(vn>>>26)|0,vn&=67108863,yt=Math.imul(Bt,vr),lt=Math.imul(Bt,br),lt=lt+Math.imul(Gt,vr)|0,xt=Math.imul(Gt,br),yt=yt+Math.imul(wr,yr)|0,lt=lt+Math.imul(wr,Rr)|0,lt=lt+Math.imul(Vt,yr)|0,xt=xt+Math.imul(Vt,Rr)|0,yt=yt+Math.imul(mr,Mr)|0,lt=lt+Math.imul(mr,$r)|0,lt=lt+Math.imul(gr,Mr)|0,xt=xt+Math.imul(gr,$r)|0,yt=yt+Math.imul(tr,Ir)|0,lt=lt+Math.imul(tr,kr)|0,lt=lt+Math.imul(sr,Ir)|0,xt=xt+Math.imul(sr,kr)|0,yt=yt+Math.imul(Ft,Pr)|0,lt=lt+Math.imul(Ft,Nr)|0,lt=lt+Math.imul(Lt,Pr)|0,xt=xt+Math.imul(Lt,Nr)|0,yt=yt+Math.imul(dr,Fr)|0,lt=lt+Math.imul(dr,Or)|0,lt=lt+Math.imul(xr,Fr)|0,xt=xt+Math.imul(xr,Or)|0,yt=yt+Math.imul(lr,Cr)|0,lt=lt+Math.imul(lr,Br)|0,lt=lt+Math.imul(ur,Cr)|0,xt=xt+Math.imul(ur,Br)|0,yt=yt+Math.imul(Yt,Dr)|0,lt=lt+Math.imul(Yt,Lr)|0,lt=lt+Math.imul(rr,Dr)|0,xt=xt+Math.imul(rr,Lr)|0,yt=yt+Math.imul(Pt,Ar)|0,lt=lt+Math.imul(Pt,Tr)|0,lt=lt+Math.imul(qt,Ar)|0,xt=xt+Math.imul(qt,Tr)|0;var kn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(kn>>>26)|0,kn&=67108863,yt=Math.imul(nr,vr),lt=Math.imul(nr,br),lt=lt+Math.imul(or,vr)|0,xt=Math.imul(or,br),yt=yt+Math.imul(Bt,yr)|0,lt=lt+Math.imul(Bt,Rr)|0,lt=lt+Math.imul(Gt,yr)|0,xt=xt+Math.imul(Gt,Rr)|0,yt=yt+Math.imul(wr,Mr)|0,lt=lt+Math.imul(wr,$r)|0,lt=lt+Math.imul(Vt,Mr)|0,xt=xt+Math.imul(Vt,$r)|0,yt=yt+Math.imul(mr,Ir)|0,lt=lt+Math.imul(mr,kr)|0,lt=lt+Math.imul(gr,Ir)|0,xt=xt+Math.imul(gr,kr)|0,yt=yt+Math.imul(tr,Pr)|0,lt=lt+Math.imul(tr,Nr)|0,lt=lt+Math.imul(sr,Pr)|0,xt=xt+Math.imul(sr,Nr)|0,yt=yt+Math.imul(Ft,Fr)|0,lt=lt+Math.imul(Ft,Or)|0,lt=lt+Math.imul(Lt,Fr)|0,xt=xt+Math.imul(Lt,Or)|0,yt=yt+Math.imul(dr,Cr)|0,lt=lt+Math.imul(dr,Br)|0,lt=lt+Math.imul(xr,Cr)|0,xt=xt+Math.imul(xr,Br)|0,yt=yt+Math.imul(lr,Dr)|0,lt=lt+Math.imul(lr,Lr)|0,lt=lt+Math.imul(ur,Dr)|0,xt=xt+Math.imul(ur,Lr)|0,yt=yt+Math.imul(Yt,Ar)|0,lt=lt+Math.imul(Yt,Tr)|0,lt=lt+Math.imul(rr,Ar)|0,xt=xt+Math.imul(rr,Tr)|0,yt=yt+Math.imul(Pt,jr)|0,lt=lt+Math.imul(Pt,Hr)|0,lt=lt+Math.imul(qt,jr)|0,xt=xt+Math.imul(qt,Hr)|0;var Nn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,yt=Math.imul(nr,yr),lt=Math.imul(nr,Rr),lt=lt+Math.imul(or,yr)|0,xt=Math.imul(or,Rr),yt=yt+Math.imul(Bt,Mr)|0,lt=lt+Math.imul(Bt,$r)|0,lt=lt+Math.imul(Gt,Mr)|0,xt=xt+Math.imul(Gt,$r)|0,yt=yt+Math.imul(wr,Ir)|0,lt=lt+Math.imul(wr,kr)|0,lt=lt+Math.imul(Vt,Ir)|0,xt=xt+Math.imul(Vt,kr)|0,yt=yt+Math.imul(mr,Pr)|0,lt=lt+Math.imul(mr,Nr)|0,lt=lt+Math.imul(gr,Pr)|0,xt=xt+Math.imul(gr,Nr)|0,yt=yt+Math.imul(tr,Fr)|0,lt=lt+Math.imul(tr,Or)|0,lt=lt+Math.imul(sr,Fr)|0,xt=xt+Math.imul(sr,Or)|0,yt=yt+Math.imul(Ft,Cr)|0,lt=lt+Math.imul(Ft,Br)|0,lt=lt+Math.imul(Lt,Cr)|0,xt=xt+Math.imul(Lt,Br)|0,yt=yt+Math.imul(dr,Dr)|0,lt=lt+Math.imul(dr,Lr)|0,lt=lt+Math.imul(xr,Dr)|0,xt=xt+Math.imul(xr,Lr)|0,yt=yt+Math.imul(lr,Ar)|0,lt=lt+Math.imul(lr,Tr)|0,lt=lt+Math.imul(ur,Ar)|0,xt=xt+Math.imul(ur,Tr)|0,yt=yt+Math.imul(Yt,jr)|0,lt=lt+Math.imul(Yt,Hr)|0,lt=lt+Math.imul(rr,jr)|0,xt=xt+Math.imul(rr,Hr)|0;var hn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(hn>>>26)|0,hn&=67108863,yt=Math.imul(nr,Mr),lt=Math.imul(nr,$r),lt=lt+Math.imul(or,Mr)|0,xt=Math.imul(or,$r),yt=yt+Math.imul(Bt,Ir)|0,lt=lt+Math.imul(Bt,kr)|0,lt=lt+Math.imul(Gt,Ir)|0,xt=xt+Math.imul(Gt,kr)|0,yt=yt+Math.imul(wr,Pr)|0,lt=lt+Math.imul(wr,Nr)|0,lt=lt+Math.imul(Vt,Pr)|0,xt=xt+Math.imul(Vt,Nr)|0,yt=yt+Math.imul(mr,Fr)|0,lt=lt+Math.imul(mr,Or)|0,lt=lt+Math.imul(gr,Fr)|0,xt=xt+Math.imul(gr,Or)|0,yt=yt+Math.imul(tr,Cr)|0,lt=lt+Math.imul(tr,Br)|0,lt=lt+Math.imul(sr,Cr)|0,xt=xt+Math.imul(sr,Br)|0,yt=yt+Math.imul(Ft,Dr)|0,lt=lt+Math.imul(Ft,Lr)|0,lt=lt+Math.imul(Lt,Dr)|0,xt=xt+Math.imul(Lt,Lr)|0,yt=yt+Math.imul(dr,Ar)|0,lt=lt+Math.imul(dr,Tr)|0,lt=lt+Math.imul(xr,Ar)|0,xt=xt+Math.imul(xr,Tr)|0,yt=yt+Math.imul(lr,jr)|0,lt=lt+Math.imul(lr,Hr)|0,lt=lt+Math.imul(ur,jr)|0,xt=xt+Math.imul(ur,Hr)|0;var Bn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,yt=Math.imul(nr,Ir),lt=Math.imul(nr,kr),lt=lt+Math.imul(or,Ir)|0,xt=Math.imul(or,kr),yt=yt+Math.imul(Bt,Pr)|0,lt=lt+Math.imul(Bt,Nr)|0,lt=lt+Math.imul(Gt,Pr)|0,xt=xt+Math.imul(Gt,Nr)|0,yt=yt+Math.imul(wr,Fr)|0,lt=lt+Math.imul(wr,Or)|0,lt=lt+Math.imul(Vt,Fr)|0,xt=xt+Math.imul(Vt,Or)|0,yt=yt+Math.imul(mr,Cr)|0,lt=lt+Math.imul(mr,Br)|0,lt=lt+Math.imul(gr,Cr)|0,xt=xt+Math.imul(gr,Br)|0,yt=yt+Math.imul(tr,Dr)|0,lt=lt+Math.imul(tr,Lr)|0,lt=lt+Math.imul(sr,Dr)|0,xt=xt+Math.imul(sr,Lr)|0,yt=yt+Math.imul(Ft,Ar)|0,lt=lt+Math.imul(Ft,Tr)|0,lt=lt+Math.imul(Lt,Ar)|0,xt=xt+Math.imul(Lt,Tr)|0,yt=yt+Math.imul(dr,jr)|0,lt=lt+Math.imul(dr,Hr)|0,lt=lt+Math.imul(xr,jr)|0,xt=xt+Math.imul(xr,Hr)|0;var yn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(yn>>>26)|0,yn&=67108863,yt=Math.imul(nr,Pr),lt=Math.imul(nr,Nr),lt=lt+Math.imul(or,Pr)|0,xt=Math.imul(or,Nr),yt=yt+Math.imul(Bt,Fr)|0,lt=lt+Math.imul(Bt,Or)|0,lt=lt+Math.imul(Gt,Fr)|0,xt=xt+Math.imul(Gt,Or)|0,yt=yt+Math.imul(wr,Cr)|0,lt=lt+Math.imul(wr,Br)|0,lt=lt+Math.imul(Vt,Cr)|0,xt=xt+Math.imul(Vt,Br)|0,yt=yt+Math.imul(mr,Dr)|0,lt=lt+Math.imul(mr,Lr)|0,lt=lt+Math.imul(gr,Dr)|0,xt=xt+Math.imul(gr,Lr)|0,yt=yt+Math.imul(tr,Ar)|0,lt=lt+Math.imul(tr,Tr)|0,lt=lt+Math.imul(sr,Ar)|0,xt=xt+Math.imul(sr,Tr)|0,yt=yt+Math.imul(Ft,jr)|0,lt=lt+Math.imul(Ft,Hr)|0,lt=lt+Math.imul(Lt,jr)|0,xt=xt+Math.imul(Lt,Hr)|0;var Cn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,yt=Math.imul(nr,Fr),lt=Math.imul(nr,Or),lt=lt+Math.imul(or,Fr)|0,xt=Math.imul(or,Or),yt=yt+Math.imul(Bt,Cr)|0,lt=lt+Math.imul(Bt,Br)|0,lt=lt+Math.imul(Gt,Cr)|0,xt=xt+Math.imul(Gt,Br)|0,yt=yt+Math.imul(wr,Dr)|0,lt=lt+Math.imul(wr,Lr)|0,lt=lt+Math.imul(Vt,Dr)|0,xt=xt+Math.imul(Vt,Lr)|0,yt=yt+Math.imul(mr,Ar)|0,lt=lt+Math.imul(mr,Tr)|0,lt=lt+Math.imul(gr,Ar)|0,xt=xt+Math.imul(gr,Tr)|0,yt=yt+Math.imul(tr,jr)|0,lt=lt+Math.imul(tr,Hr)|0,lt=lt+Math.imul(sr,jr)|0,xt=xt+Math.imul(sr,Hr)|0;var Dn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,yt=Math.imul(nr,Cr),lt=Math.imul(nr,Br),lt=lt+Math.imul(or,Cr)|0,xt=Math.imul(or,Br),yt=yt+Math.imul(Bt,Dr)|0,lt=lt+Math.imul(Bt,Lr)|0,lt=lt+Math.imul(Gt,Dr)|0,xt=xt+Math.imul(Gt,Lr)|0,yt=yt+Math.imul(wr,Ar)|0,lt=lt+Math.imul(wr,Tr)|0,lt=lt+Math.imul(Vt,Ar)|0,xt=xt+Math.imul(Vt,Tr)|0,yt=yt+Math.imul(mr,jr)|0,lt=lt+Math.imul(mr,Hr)|0,lt=lt+Math.imul(gr,jr)|0,xt=xt+Math.imul(gr,Hr)|0;var Fn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,yt=Math.imul(nr,Dr),lt=Math.imul(nr,Lr),lt=lt+Math.imul(or,Dr)|0,xt=Math.imul(or,Lr),yt=yt+Math.imul(Bt,Ar)|0,lt=lt+Math.imul(Bt,Tr)|0,lt=lt+Math.imul(Gt,Ar)|0,xt=xt+Math.imul(Gt,Tr)|0,yt=yt+Math.imul(wr,jr)|0,lt=lt+Math.imul(wr,Hr)|0,lt=lt+Math.imul(Vt,jr)|0,xt=xt+Math.imul(Vt,Hr)|0;var jn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(jn>>>26)|0,jn&=67108863,yt=Math.imul(nr,Ar),lt=Math.imul(nr,Tr),lt=lt+Math.imul(or,Ar)|0,xt=Math.imul(or,Tr),yt=yt+Math.imul(Bt,jr)|0,lt=lt+Math.imul(Bt,Hr)|0,lt=lt+Math.imul(Gt,jr)|0,xt=xt+Math.imul(Gt,Hr)|0;var Ln=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,yt=Math.imul(nr,jr),lt=Math.imul(nr,Hr),lt=lt+Math.imul(or,jr)|0,xt=Math.imul(or,Hr);var Wn=(St+yt|0)+((lt&8191)<<13)|0;return St=(xt+(lt>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,vt[0]=mn,vt[1]=sn,vt[2]=cn,vt[3]=fn,vt[4]=ln,vt[5]=$n,vt[6]=Pn,vt[7]=vn,vt[8]=kn,vt[9]=Nn,vt[10]=hn,vt[11]=Bn,vt[12]=yn,vt[13]=Cn,vt[14]=Dn,vt[15]=Fn,vt[16]=jn,vt[17]=Ln,vt[18]=Wn,St!==0&&(vt[19]=St,mt.length++),mt};Math.imul||(Rt=At);function kt(ht,ot,dt){dt.negative=ot.negative^ht.negative,dt.length=ht.length+ot.length;for(var mt=0,wt=0,bt=0;bt<dt.length-1;bt++){var vt=wt;wt=0;for(var St=mt&67108863,yt=Math.min(bt,ot.length-1),lt=Math.max(0,bt-ht.length+1);lt<=yt;lt++){var xt=bt-lt,Ut=ht.words[xt]|0,Pt=ot.words[lt]|0,qt=Ut*Pt,ir=qt&67108863;vt=vt+(qt/67108864|0)|0,ir=ir+St|0,St=ir&67108863,vt=vt+(ir>>>26)|0,wt+=vt>>>26,vt&=67108863}dt.words[bt]=St,mt=vt,vt=wt}return mt!==0?dt.words[bt]=mt:dt.length--,dt._strip()}function Ot(ht,ot,dt){return kt(ht,ot,dt)}it.prototype.mulTo=function(ot,dt){var mt,wt=this.length+ot.length;return this.length===10&&ot.length===10?mt=Rt(this,ot,dt):wt<63?mt=At(this,ot,dt):wt<1024?mt=kt(this,ot,dt):mt=Ot(this,ot,dt),mt},it.prototype.mul=function(ot){var dt=new it(null);return dt.words=new Array(this.length+ot.length),this.mulTo(ot,dt)},it.prototype.mulf=function(ot){var dt=new it(null);return dt.words=new Array(this.length+ot.length),Ot(this,ot,dt)},it.prototype.imul=function(ot){return this.clone().mulTo(ot,this)},it.prototype.imuln=function(ot){var dt=ot<0;dt&&(ot=-ot),rt(typeof ot=="number"),rt(ot<67108864);for(var mt=0,wt=0;wt<this.length;wt++){var bt=(this.words[wt]|0)*ot,vt=(bt&67108863)+(mt&67108863);mt>>=26,mt+=bt/67108864|0,mt+=vt>>>26,this.words[wt]=vt&67108863}return mt!==0&&(this.words[wt]=mt,this.length++),dt?this.ineg():this},it.prototype.muln=function(ot){return this.clone().imuln(ot)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(ot){var dt=Tt(ot);if(dt.length===0)return new it(1);for(var mt=this,wt=0;wt<dt.length&&dt[wt]===0;wt++,mt=mt.sqr());if(++wt<dt.length)for(var bt=mt.sqr();wt<dt.length;wt++,bt=bt.sqr())dt[wt]!==0&&(mt=mt.mul(bt));return mt},it.prototype.iushln=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=ot%26,mt=(ot-dt)/26,wt=67108863>>>26-dt<<26-dt,bt;if(dt!==0){var vt=0;for(bt=0;bt<this.length;bt++){var St=this.words[bt]&wt,yt=(this.words[bt]|0)-St<<dt;this.words[bt]=yt|vt,vt=St>>>26-dt}vt&&(this.words[bt]=vt,this.length++)}if(mt!==0){for(bt=this.length-1;bt>=0;bt--)this.words[bt+mt]=this.words[bt];for(bt=0;bt<mt;bt++)this.words[bt]=0;this.length+=mt}return this._strip()},it.prototype.ishln=function(ot){return rt(this.negative===0),this.iushln(ot)},it.prototype.iushrn=function(ot,dt,mt){rt(typeof ot=="number"&&ot>=0);var wt;dt?wt=(dt-dt%26)/26:wt=0;var bt=ot%26,vt=Math.min((ot-bt)/26,this.length),St=67108863^67108863>>>bt<<bt,yt=mt;if(wt-=vt,wt=Math.max(0,wt),yt){for(var lt=0;lt<vt;lt++)yt.words[lt]=this.words[lt];yt.length=vt}if(vt!==0)if(this.length>vt)for(this.length-=vt,lt=0;lt<this.length;lt++)this.words[lt]=this.words[lt+vt];else this.words[0]=0,this.length=1;var xt=0;for(lt=this.length-1;lt>=0&&(xt!==0||lt>=wt);lt--){var Ut=this.words[lt]|0;this.words[lt]=xt<<26-bt|Ut>>>bt,xt=Ut&St}return yt&&xt!==0&&(yt.words[yt.length++]=xt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},it.prototype.ishrn=function(ot,dt,mt){return rt(this.negative===0),this.iushrn(ot,dt,mt)},it.prototype.shln=function(ot){return this.clone().ishln(ot)},it.prototype.ushln=function(ot){return this.clone().iushln(ot)},it.prototype.shrn=function(ot){return this.clone().ishrn(ot)},it.prototype.ushrn=function(ot){return this.clone().iushrn(ot)},it.prototype.testn=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=ot%26,mt=(ot-dt)/26,wt=1<<dt;if(this.length<=mt)return!1;var bt=this.words[mt];return!!(bt&wt)},it.prototype.imaskn=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=ot%26,mt=(ot-dt)/26;if(rt(this.negative===0,"imaskn works only with positive numbers"),this.length<=mt)return this;if(dt!==0&&mt++,this.length=Math.min(mt,this.length),dt!==0){var wt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=wt}return this._strip()},it.prototype.maskn=function(ot){return this.clone().imaskn(ot)},it.prototype.iaddn=function(ot){return rt(typeof ot=="number"),rt(ot<67108864),ot<0?this.isubn(-ot):this.negative!==0?this.length===1&&(this.words[0]|0)<=ot?(this.words[0]=ot-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ot),this.negative=1,this):this._iaddn(ot)},it.prototype._iaddn=function(ot){this.words[0]+=ot;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(ot){if(rt(typeof ot=="number"),rt(ot<67108864),ot<0)return this.iaddn(-ot);if(this.negative!==0)return this.negative=0,this.iaddn(ot),this.negative=1,this;if(this.words[0]-=ot,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},it.prototype.addn=function(ot){return this.clone().iaddn(ot)},it.prototype.subn=function(ot){return this.clone().isubn(ot)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(ot,dt,mt){var wt=ot.length+mt,bt;this._expand(wt);var vt,St=0;for(bt=0;bt<ot.length;bt++){vt=(this.words[bt+mt]|0)+St;var yt=(ot.words[bt]|0)*dt;vt-=yt&67108863,St=(vt>>26)-(yt/67108864|0),this.words[bt+mt]=vt&67108863}for(;bt<this.length-mt;bt++)vt=(this.words[bt+mt]|0)+St,St=vt>>26,this.words[bt+mt]=vt&67108863;if(St===0)return this._strip();for(rt(St===-1),St=0,bt=0;bt<this.length;bt++)vt=-(this.words[bt]|0)+St,St=vt>>26,this.words[bt]=vt&67108863;return this.negative=1,this._strip()},it.prototype._wordDiv=function(ot,dt){var mt=this.length-ot.length,wt=this.clone(),bt=ot,vt=bt.words[bt.length-1]|0,St=this._countBits(vt);mt=26-St,mt!==0&&(bt=bt.ushln(mt),wt.iushln(mt),vt=bt.words[bt.length-1]|0);var yt=wt.length-bt.length,lt;if(dt!=="mod"){lt=new it(null),lt.length=yt+1,lt.words=new Array(lt.length);for(var xt=0;xt<lt.length;xt++)lt.words[xt]=0}var Ut=wt.clone()._ishlnsubmul(bt,1,yt);Ut.negative===0&&(wt=Ut,lt&&(lt.words[yt]=1));for(var Pt=yt-1;Pt>=0;Pt--){var qt=(wt.words[bt.length+Pt]|0)*67108864+(wt.words[bt.length+Pt-1]|0);for(qt=Math.min(qt/vt|0,67108863),wt._ishlnsubmul(bt,qt,Pt);wt.negative!==0;)qt--,wt.negative=0,wt._ishlnsubmul(bt,1,Pt),wt.isZero()||(wt.negative^=1);lt&&(lt.words[Pt]=qt)}return lt&&lt._strip(),wt._strip(),dt!=="div"&&mt!==0&&wt.iushrn(mt),{div:lt||null,mod:wt}},it.prototype.divmod=function(ot,dt,mt){if(rt(!ot.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var wt,bt,vt;return this.negative!==0&&ot.negative===0?(vt=this.neg().divmod(ot,dt),dt!=="mod"&&(wt=vt.div.neg()),dt!=="div"&&(bt=vt.mod.neg(),mt&&bt.negative!==0&&bt.iadd(ot)),{div:wt,mod:bt}):this.negative===0&&ot.negative!==0?(vt=this.divmod(ot.neg(),dt),dt!=="mod"&&(wt=vt.div.neg()),{div:wt,mod:vt.mod}):(this.negative&ot.negative)!==0?(vt=this.neg().divmod(ot.neg(),dt),dt!=="div"&&(bt=vt.mod.neg(),mt&&bt.negative!==0&&bt.isub(ot)),{div:vt.div,mod:bt}):ot.length>this.length||this.cmp(ot)<0?{div:new it(0),mod:this}:ot.length===1?dt==="div"?{div:this.divn(ot.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modrn(ot.words[0]))}:{div:this.divn(ot.words[0]),mod:new it(this.modrn(ot.words[0]))}:this._wordDiv(ot,dt)},it.prototype.div=function(ot){return this.divmod(ot,"div",!1).div},it.prototype.mod=function(ot){return this.divmod(ot,"mod",!1).mod},it.prototype.umod=function(ot){return this.divmod(ot,"mod",!0).mod},it.prototype.divRound=function(ot){var dt=this.divmod(ot);if(dt.mod.isZero())return dt.div;var mt=dt.div.negative!==0?dt.mod.isub(ot):dt.mod,wt=ot.ushrn(1),bt=ot.andln(1),vt=mt.cmp(wt);return vt<0||bt===1&&vt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modrn=function(ot){var dt=ot<0;dt&&(ot=-ot),rt(ot<=67108863);for(var mt=(1<<26)%ot,wt=0,bt=this.length-1;bt>=0;bt--)wt=(mt*wt+(this.words[bt]|0))%ot;return dt?-wt:wt},it.prototype.modn=function(ot){return this.modrn(ot)},it.prototype.idivn=function(ot){var dt=ot<0;dt&&(ot=-ot),rt(ot<=67108863);for(var mt=0,wt=this.length-1;wt>=0;wt--){var bt=(this.words[wt]|0)+mt*67108864;this.words[wt]=bt/ot|0,mt=bt%ot}return this._strip(),dt?this.ineg():this},it.prototype.divn=function(ot){return this.clone().idivn(ot)},it.prototype.egcd=function(ot){rt(ot.negative===0),rt(!ot.isZero());var dt=this,mt=ot.clone();dt.negative!==0?dt=dt.umod(ot):dt=dt.clone();for(var wt=new it(1),bt=new it(0),vt=new it(0),St=new it(1),yt=0;dt.isEven()&&mt.isEven();)dt.iushrn(1),mt.iushrn(1),++yt;for(var lt=mt.clone(),xt=dt.clone();!dt.isZero();){for(var Ut=0,Pt=1;(dt.words[0]&Pt)===0&&Ut<26;++Ut,Pt<<=1);if(Ut>0)for(dt.iushrn(Ut);Ut-- >0;)(wt.isOdd()||bt.isOdd())&&(wt.iadd(lt),bt.isub(xt)),wt.iushrn(1),bt.iushrn(1);for(var qt=0,ir=1;(mt.words[0]&ir)===0&&qt<26;++qt,ir<<=1);if(qt>0)for(mt.iushrn(qt);qt-- >0;)(vt.isOdd()||St.isOdd())&&(vt.iadd(lt),St.isub(xt)),vt.iushrn(1),St.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),wt.isub(vt),bt.isub(St)):(mt.isub(dt),vt.isub(wt),St.isub(bt))}return{a:vt,b:St,gcd:mt.iushln(yt)}},it.prototype._invmp=function(ot){rt(ot.negative===0),rt(!ot.isZero());var dt=this,mt=ot.clone();dt.negative!==0?dt=dt.umod(ot):dt=dt.clone();for(var wt=new it(1),bt=new it(0),vt=mt.clone();dt.cmpn(1)>0&&mt.cmpn(1)>0;){for(var St=0,yt=1;(dt.words[0]&yt)===0&&St<26;++St,yt<<=1);if(St>0)for(dt.iushrn(St);St-- >0;)wt.isOdd()&&wt.iadd(vt),wt.iushrn(1);for(var lt=0,xt=1;(mt.words[0]&xt)===0&&lt<26;++lt,xt<<=1);if(lt>0)for(mt.iushrn(lt);lt-- >0;)bt.isOdd()&&bt.iadd(vt),bt.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),wt.isub(bt)):(mt.isub(dt),bt.isub(wt))}var Ut;return dt.cmpn(1)===0?Ut=wt:Ut=bt,Ut.cmpn(0)<0&&Ut.iadd(ot),Ut},it.prototype.gcd=function(ot){if(this.isZero())return ot.abs();if(ot.isZero())return this.abs();var dt=this.clone(),mt=ot.clone();dt.negative=0,mt.negative=0;for(var wt=0;dt.isEven()&&mt.isEven();wt++)dt.iushrn(1),mt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;mt.isEven();)mt.iushrn(1);var bt=dt.cmp(mt);if(bt<0){var vt=dt;dt=mt,mt=vt}else if(bt===0||mt.cmpn(1)===0)break;dt.isub(mt)}while(!0);return mt.iushln(wt)},it.prototype.invm=function(ot){return this.egcd(ot).a.umod(ot)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(ot){return this.words[0]&ot},it.prototype.bincn=function(ot){rt(typeof ot=="number");var dt=ot%26,mt=(ot-dt)/26,wt=1<<dt;if(this.length<=mt)return this._expand(mt+1),this.words[mt]|=wt,this;for(var bt=wt,vt=mt;bt!==0&&vt<this.length;vt++){var St=this.words[vt]|0;St+=bt,bt=St>>>26,St&=67108863,this.words[vt]=St}return bt!==0&&(this.words[vt]=bt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(ot){var dt=ot<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var mt;if(this.length>1)mt=1;else{dt&&(ot=-ot),rt(ot<=67108863,"Number is too big");var wt=this.words[0]|0;mt=wt===ot?0:wt<ot?-1:1}return this.negative!==0?-mt|0:mt},it.prototype.cmp=function(ot){if(this.negative!==0&&ot.negative===0)return-1;if(this.negative===0&&ot.negative!==0)return 1;var dt=this.ucmp(ot);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(ot){if(this.length>ot.length)return 1;if(this.length<ot.length)return-1;for(var dt=0,mt=this.length-1;mt>=0;mt--){var wt=this.words[mt]|0,bt=ot.words[mt]|0;if(wt!==bt){wt<bt?dt=-1:wt>bt&&(dt=1);break}}return dt},it.prototype.gtn=function(ot){return this.cmpn(ot)===1},it.prototype.gt=function(ot){return this.cmp(ot)===1},it.prototype.gten=function(ot){return this.cmpn(ot)>=0},it.prototype.gte=function(ot){return this.cmp(ot)>=0},it.prototype.ltn=function(ot){return this.cmpn(ot)===-1},it.prototype.lt=function(ot){return this.cmp(ot)===-1},it.prototype.lten=function(ot){return this.cmpn(ot)<=0},it.prototype.lte=function(ot){return this.cmp(ot)<=0},it.prototype.eqn=function(ot){return this.cmpn(ot)===0},it.prototype.eq=function(ot){return this.cmp(ot)===0},it.red=function(ot){return new Ct(ot)},it.prototype.toRed=function(ot){return rt(!this.red,"Already a number in reduction context"),rt(this.negative===0,"red works only with positives"),ot.convertTo(this)._forceRed(ot)},it.prototype.fromRed=function(){return rt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(ot){return this.red=ot,this},it.prototype.forceRed=function(ot){return rt(!this.red,"Already a number in reduction context"),this._forceRed(ot)},it.prototype.redAdd=function(ot){return rt(this.red,"redAdd works only with red numbers"),this.red.add(this,ot)},it.prototype.redIAdd=function(ot){return rt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ot)},it.prototype.redSub=function(ot){return rt(this.red,"redSub works only with red numbers"),this.red.sub(this,ot)},it.prototype.redISub=function(ot){return rt(this.red,"redISub works only with red numbers"),this.red.isub(this,ot)},it.prototype.redShl=function(ot){return rt(this.red,"redShl works only with red numbers"),this.red.shl(this,ot)},it.prototype.redMul=function(ot){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,ot),this.red.mul(this,ot)},it.prototype.redIMul=function(ot){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,ot),this.red.imul(this,ot)},it.prototype.redSqr=function(){return rt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return rt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return rt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return rt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return rt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(ot){return rt(this.red&&!ot.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ot)};var Wt={k256:null,p224:null,p192:null,p25519:null};function zt(ht,ot){this.name=ht,this.p=new it(ot,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}zt.prototype._tmp=function(){var ot=new it(null);return ot.words=new Array(Math.ceil(this.n/13)),ot},zt.prototype.ireduce=function(ot){var dt=ot,mt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),mt=dt.bitLength();while(mt>this.n);var wt=mt<this.n?-1:dt.ucmp(this.p);return wt===0?(dt.words[0]=0,dt.length=1):wt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},zt.prototype.split=function(ot,dt){ot.iushrn(this.n,0,dt)},zt.prototype.imulK=function(ot){return ot.imul(this.k)};function Kt(){zt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}nt(Kt,zt),Kt.prototype.split=function(ot,dt){for(var mt=4194303,wt=Math.min(ot.length,9),bt=0;bt<wt;bt++)dt.words[bt]=ot.words[bt];if(dt.length=wt,ot.length<=9){ot.words[0]=0,ot.length=1;return}var vt=ot.words[9];for(dt.words[dt.length++]=vt&mt,bt=10;bt<ot.length;bt++){var St=ot.words[bt]|0;ot.words[bt-10]=(St&mt)<<4|vt>>>22,vt=St}vt>>>=22,ot.words[bt-10]=vt,vt===0&&ot.length>10?ot.length-=10:ot.length-=9},Kt.prototype.imulK=function(ot){ot.words[ot.length]=0,ot.words[ot.length+1]=0,ot.length+=2;for(var dt=0,mt=0;mt<ot.length;mt++){var wt=ot.words[mt]|0;dt+=wt*977,ot.words[mt]=dt&67108863,dt=wt*64+(dt/67108864|0)}return ot.words[ot.length-1]===0&&(ot.length--,ot.words[ot.length-1]===0&&ot.length--),ot};function Jt(){zt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}nt(Jt,zt);function ar(){zt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}nt(ar,zt);function jt(){zt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}nt(jt,zt),jt.prototype.imulK=function(ot){for(var dt=0,mt=0;mt<ot.length;mt++){var wt=(ot.words[mt]|0)*19+dt,bt=wt&67108863;wt>>>=26,ot.words[mt]=bt,dt=wt}return dt!==0&&(ot.words[ot.length++]=dt),ot},it._prime=function(ot){if(Wt[ot])return Wt[ot];var dt;if(ot==="k256")dt=new Kt;else if(ot==="p224")dt=new Jt;else if(ot==="p192")dt=new ar;else if(ot==="p25519")dt=new jt;else throw new Error("Unknown prime "+ot);return Wt[ot]=dt,dt};function Ct(ht){if(typeof ht=="string"){var ot=it._prime(ht);this.m=ot.p,this.prime=ot}else rt(ht.gtn(1),"modulus must be greater than 1"),this.m=ht,this.prime=null}Ct.prototype._verify1=function(ot){rt(ot.negative===0,"red works only with positives"),rt(ot.red,"red works only with red numbers")},Ct.prototype._verify2=function(ot,dt){rt((ot.negative|dt.negative)===0,"red works only with positives"),rt(ot.red&&ot.red===dt.red,"red works only with red numbers")},Ct.prototype.imod=function(ot){return this.prime?this.prime.ireduce(ot)._forceRed(this):(ft(ot,ot.umod(this.m)._forceRed(this)),ot)},Ct.prototype.neg=function(ot){return ot.isZero()?ot.clone():this.m.sub(ot)._forceRed(this)},Ct.prototype.add=function(ot,dt){this._verify2(ot,dt);var mt=ot.add(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt._forceRed(this)},Ct.prototype.iadd=function(ot,dt){this._verify2(ot,dt);var mt=ot.iadd(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt},Ct.prototype.sub=function(ot,dt){this._verify2(ot,dt);var mt=ot.sub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt._forceRed(this)},Ct.prototype.isub=function(ot,dt){this._verify2(ot,dt);var mt=ot.isub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt},Ct.prototype.shl=function(ot,dt){return this._verify1(ot),this.imod(ot.ushln(dt))},Ct.prototype.imul=function(ot,dt){return this._verify2(ot,dt),this.imod(ot.imul(dt))},Ct.prototype.mul=function(ot,dt){return this._verify2(ot,dt),this.imod(ot.mul(dt))},Ct.prototype.isqr=function(ot){return this.imul(ot,ot.clone())},Ct.prototype.sqr=function(ot){return this.mul(ot,ot)},Ct.prototype.sqrt=function(ot){if(ot.isZero())return ot.clone();var dt=this.m.andln(3);if(rt(dt%2===1),dt===3){var mt=this.m.add(new it(1)).iushrn(2);return this.pow(ot,mt)}for(var wt=this.m.subn(1),bt=0;!wt.isZero()&&wt.andln(1)===0;)bt++,wt.iushrn(1);rt(!wt.isZero());var vt=new it(1).toRed(this),St=vt.redNeg(),yt=this.m.subn(1).iushrn(1),lt=this.m.bitLength();for(lt=new it(2*lt*lt).toRed(this);this.pow(lt,yt).cmp(St)!==0;)lt.redIAdd(St);for(var xt=this.pow(lt,wt),Ut=this.pow(ot,wt.addn(1).iushrn(1)),Pt=this.pow(ot,wt),qt=bt;Pt.cmp(vt)!==0;){for(var ir=Pt,Yt=0;ir.cmp(vt)!==0;Yt++)ir=ir.redSqr();rt(Yt<qt);var rr=this.pow(xt,new it(1).iushln(qt-Yt-1));Ut=Ut.redMul(rr),xt=rr.redSqr(),Pt=Pt.redMul(xt),qt=Yt}return Ut},Ct.prototype.invm=function(ot){var dt=ot._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Ct.prototype.pow=function(ot,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return ot.clone();var mt=4,wt=new Array(1<<mt);wt[0]=new it(1).toRed(this),wt[1]=ot;for(var bt=2;bt<wt.length;bt++)wt[bt]=this.mul(wt[bt-1],ot);var vt=wt[0],St=0,yt=0,lt=dt.bitLength()%26;for(lt===0&&(lt=26),bt=dt.length-1;bt>=0;bt--){for(var xt=dt.words[bt],Ut=lt-1;Ut>=0;Ut--){var Pt=xt>>Ut&1;if(vt!==wt[0]&&(vt=this.sqr(vt)),Pt===0&&St===0){yt=0;continue}St<<=1,St|=Pt,yt++,!(yt!==mt&&(bt!==0||Ut!==0))&&(vt=this.mul(vt,wt[St]),yt=0,St=0)}lt=26}return vt},Ct.prototype.convertTo=function(ot){var dt=ot.umod(this.m);return dt===ot?dt.clone():dt},Ct.prototype.convertFrom=function(ot){var dt=ot.clone();return dt.red=null,dt},it.mont=function(ot){return new Nt(ot)};function Nt(ht){Ct.call(this,ht),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}nt(Nt,Ct),Nt.prototype.convertTo=function(ot){return this.imod(ot.ushln(this.shift))},Nt.prototype.convertFrom=function(ot){var dt=this.imod(ot.mul(this.rinv));return dt.red=null,dt},Nt.prototype.imul=function(ot,dt){if(ot.isZero()||dt.isZero())return ot.words[0]=0,ot.length=1,ot;var mt=ot.imul(dt),wt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bt=mt.isub(wt).iushrn(this.shift),vt=bt;return bt.cmp(this.m)>=0?vt=bt.isub(this.m):bt.cmpn(0)<0&&(vt=bt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.mul=function(ot,dt){if(ot.isZero()||dt.isZero())return new it(0)._forceRed(this);var mt=ot.mul(dt),wt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bt=mt.isub(wt).iushrn(this.shift),vt=bt;return bt.cmp(this.m)>=0?vt=bt.isub(this.m):bt.cmpn(0)<0&&(vt=bt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.invm=function(ot){var dt=this.imod(ot._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(et,commonjsGlobal)})(bn$2);var BN$3=bn$2.exports,util$6;(function(et){et.assertEqual=nt=>nt;function _e(nt){}et.assertIs=_e;function tt(nt){throw new Error}et.assertNever=tt,et.arrayToEnum=nt=>{const it={};for(const at of nt)it[at]=at;return it},et.getValidEnumValues=nt=>{const it=et.objectKeys(nt).filter(st=>typeof nt[nt[st]]!="number"),at={};for(const st of it)at[st]=nt[st];return et.objectValues(at)},et.objectValues=nt=>et.objectKeys(nt).map(function(it){return nt[it]}),et.objectKeys=typeof Object.keys=="function"?nt=>Object.keys(nt):nt=>{const it=[];for(const at in nt)Object.prototype.hasOwnProperty.call(nt,at)&&it.push(at);return it},et.find=(nt,it)=>{for(const at of nt)if(it(at))return at},et.isInteger=typeof Number.isInteger=="function"?nt=>Number.isInteger(nt):nt=>typeof nt=="number"&&isFinite(nt)&&Math.floor(nt)===nt;function rt(nt,it=" | "){return nt.map(at=>typeof at=="string"?`'${at}'`:at).join(it)}et.joinValues=rt,et.jsonStringifyReplacer=(nt,it)=>typeof it=="bigint"?it.toString():it})(util$6||(util$6={}));const ZodParsedType=util$6.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=et=>{switch(typeof et){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(et)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(et)?ZodParsedType.array:et===null?ZodParsedType.null:et.then&&typeof et.then=="function"&&et.catch&&typeof et.catch=="function"?ZodParsedType.promise:typeof Map!="undefined"&&et instanceof Map?ZodParsedType.map:typeof Set!="undefined"&&et instanceof Set?ZodParsedType.set:typeof Date!="undefined"&&et instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$6.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=et=>JSON.stringify(et,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(_e){super(),this.issues=[],this.addIssue=rt=>{this.issues=[...this.issues,rt]},this.addIssues=(rt=[])=>{this.issues=[...this.issues,...rt]};const tt=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,tt):this.__proto__=tt,this.name="ZodError",this.issues=_e}get errors(){return this.issues}format(_e){const tt=_e||function(it){return it.message},rt={_errors:[]},nt=it=>{for(const at of it.issues)if(at.code==="invalid_union")at.unionErrors.map(nt);else if(at.code==="invalid_return_type")nt(at.returnTypeError);else if(at.code==="invalid_arguments")nt(at.argumentsError);else if(at.path.length===0)rt._errors.push(tt(at));else{let st=rt,ct=0;for(;ct<at.path.length;){const ut=at.path[ct];ct===at.path.length-1?(st[ut]=st[ut]||{_errors:[]},st[ut]._errors.push(tt(at))):st[ut]=st[ut]||{_errors:[]},st=st[ut],ct++}}};return nt(this),rt}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$6.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(_e=tt=>tt.message){const tt={},rt=[];for(const nt of this.issues)nt.path.length>0?(tt[nt.path[0]]=tt[nt.path[0]]||[],tt[nt.path[0]].push(_e(nt))):rt.push(_e(nt));return{formErrors:rt,fieldErrors:tt}}get formErrors(){return this.flatten()}}ZodError.create=et=>new ZodError(et);const errorMap=(et,_e)=>{let tt;switch(et.code){case ZodIssueCode.invalid_type:et.received===ZodParsedType.undefined?tt="Required":tt=`Expected ${et.expected}, received ${et.received}`;break;case ZodIssueCode.invalid_literal:tt=`Invalid literal value, expected ${JSON.stringify(et.expected,util$6.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:tt=`Unrecognized key(s) in object: ${util$6.joinValues(et.keys,", ")}`;break;case ZodIssueCode.invalid_union:tt="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:tt=`Invalid discriminator value. Expected ${util$6.joinValues(et.options)}`;break;case ZodIssueCode.invalid_enum_value:tt=`Invalid enum value. Expected ${util$6.joinValues(et.options)}, received '${et.received}'`;break;case ZodIssueCode.invalid_arguments:tt="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:tt="Invalid function return type";break;case ZodIssueCode.invalid_date:tt="Invalid date";break;case ZodIssueCode.invalid_string:typeof et.validation=="object"?"startsWith"in et.validation?tt=`Invalid input: must start with "${et.validation.startsWith}"`:"endsWith"in et.validation?tt=`Invalid input: must end with "${et.validation.endsWith}"`:util$6.assertNever(et.validation):et.validation!=="regex"?tt=`Invalid ${et.validation}`:tt="Invalid";break;case ZodIssueCode.too_small:et.type==="array"?tt=`Array must contain ${et.exact?"exactly":et.inclusive?"at least":"more than"} ${et.minimum} element(s)`:et.type==="string"?tt=`String must contain ${et.exact?"exactly":et.inclusive?"at least":"over"} ${et.minimum} character(s)`:et.type==="number"?tt=`Number must be ${et.exact?"exactly equal to ":et.inclusive?"greater than or equal to ":"greater than "}${et.minimum}`:et.type==="date"?tt=`Date must be ${et.exact?"exactly equal to ":et.inclusive?"greater than or equal to ":"greater than "}${new Date(et.minimum)}`:tt="Invalid input";break;case ZodIssueCode.too_big:et.type==="array"?tt=`Array must contain ${et.exact?"exactly":et.inclusive?"at most":"less than"} ${et.maximum} element(s)`:et.type==="string"?tt=`String must contain ${et.exact?"exactly":et.inclusive?"at most":"under"} ${et.maximum} character(s)`:et.type==="number"?tt=`Number must be ${et.exact?"exactly":et.inclusive?"less than or equal to":"less than"} ${et.maximum}`:et.type==="date"?tt=`Date must be ${et.exact?"exactly":et.inclusive?"smaller than or equal to":"smaller than"} ${new Date(et.maximum)}`:tt="Invalid input";break;case ZodIssueCode.custom:tt="Invalid input";break;case ZodIssueCode.invalid_intersection_types:tt="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:tt=`Number must be a multiple of ${et.multipleOf}`;break;case ZodIssueCode.not_finite:tt="Number must be finite";break;default:tt=_e.defaultError,util$6.assertNever(et)}return{message:tt}};let overrideErrorMap=errorMap;function setErrorMap(et){overrideErrorMap=et}function getErrorMap(){return overrideErrorMap}const makeIssue=et=>{const{data:_e,path:tt,errorMaps:rt,issueData:nt}=et,it=[...tt,...nt.path||[]],at={...nt,path:it};let st="";const ct=rt.filter(ut=>!!ut).slice().reverse();for(const ut of ct)st=ut(at,{data:_e,defaultError:st}).message;return{...nt,path:it,message:nt.message||st}},EMPTY_PATH=[];function addIssueToContext(et,_e){const tt=makeIssue({issueData:_e,data:et.data,path:et.path,errorMaps:[et.common.contextualErrorMap,et.schemaErrorMap,getErrorMap(),errorMap].filter(rt=>!!rt)});et.common.issues.push(tt)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(_e,tt){const rt=[];for(const nt of tt){if(nt.status==="aborted")return INVALID;nt.status==="dirty"&&_e.dirty(),rt.push(nt.value)}return{status:_e.value,value:rt}}static async mergeObjectAsync(_e,tt){const rt=[];for(const nt of tt)rt.push({key:await nt.key,value:await nt.value});return ParseStatus.mergeObjectSync(_e,rt)}static mergeObjectSync(_e,tt){const rt={};for(const nt of tt){const{key:it,value:at}=nt;if(it.status==="aborted"||at.status==="aborted")return INVALID;it.status==="dirty"&&_e.dirty(),at.status==="dirty"&&_e.dirty(),(typeof at.value!="undefined"||nt.alwaysSet)&&(rt[it.value]=at.value)}return{status:_e.value,value:rt}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=et=>({status:"dirty",value:et}),OK=et=>({status:"valid",value:et}),isAborted=et=>et.status==="aborted",isDirty=et=>et.status==="dirty",isValid=et=>et.status==="valid",isAsync=et=>typeof Promise!="undefined"&&et instanceof Promise;var errorUtil;(function(et){et.errToObj=_e=>typeof _e=="string"?{message:_e}:_e||{},et.toString=_e=>typeof _e=="string"?_e:_e==null?void 0:_e.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(_e,tt,rt,nt){this.parent=_e,this.data=tt,this._path=rt,this._key=nt}get path(){return this._path.concat(this._key)}}const handleResult=(et,_e)=>{if(isValid(_e))return{success:!0,data:_e.value};{if(!et.common.issues.length)throw new Error("Validation failed but no issues detected.");const tt=new ZodError(et.common.issues);return{success:!1,error:tt}}};function processCreateParams(et){if(!et)return{};const{errorMap:_e,invalid_type_error:tt,required_error:rt,description:nt}=et;if(_e&&(tt||rt))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return _e?{errorMap:_e,description:nt}:{errorMap:(at,st)=>at.code!=="invalid_type"?{message:st.defaultError}:typeof st.data=="undefined"?{message:rt!=null?rt:st.defaultError}:{message:tt!=null?tt:st.defaultError},description:nt}}class ZodType{constructor(_e){this.spa=this.safeParseAsync,this._def=_e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(_e){return getParsedType(_e.data)}_getOrReturnCtx(_e,tt){return tt||{common:_e.parent.common,data:_e.data,parsedType:getParsedType(_e.data),schemaErrorMap:this._def.errorMap,path:_e.path,parent:_e.parent}}_processInputParams(_e){return{status:new ParseStatus,ctx:{common:_e.parent.common,data:_e.data,parsedType:getParsedType(_e.data),schemaErrorMap:this._def.errorMap,path:_e.path,parent:_e.parent}}}_parseSync(_e){const tt=this._parse(_e);if(isAsync(tt))throw new Error("Synchronous parse encountered promise.");return tt}_parseAsync(_e){const tt=this._parse(_e);return Promise.resolve(tt)}parse(_e,tt){const rt=this.safeParse(_e,tt);if(rt.success)return rt.data;throw rt.error}safeParse(_e,tt){var rt;const nt={common:{issues:[],async:(rt=tt==null?void 0:tt.async)!==null&&rt!==void 0?rt:!1,contextualErrorMap:tt==null?void 0:tt.errorMap},path:(tt==null?void 0:tt.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:_e,parsedType:getParsedType(_e)},it=this._parseSync({data:_e,path:nt.path,parent:nt});return handleResult(nt,it)}async parseAsync(_e,tt){const rt=await this.safeParseAsync(_e,tt);if(rt.success)return rt.data;throw rt.error}async safeParseAsync(_e,tt){const rt={common:{issues:[],contextualErrorMap:tt==null?void 0:tt.errorMap,async:!0},path:(tt==null?void 0:tt.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:_e,parsedType:getParsedType(_e)},nt=this._parse({data:_e,path:rt.path,parent:rt}),it=await(isAsync(nt)?nt:Promise.resolve(nt));return handleResult(rt,it)}refine(_e,tt){const rt=nt=>typeof tt=="string"||typeof tt=="undefined"?{message:tt}:typeof tt=="function"?tt(nt):tt;return this._refinement((nt,it)=>{const at=_e(nt),st=()=>it.addIssue({code:ZodIssueCode.custom,...rt(nt)});return typeof Promise!="undefined"&&at instanceof Promise?at.then(ct=>ct?!0:(st(),!1)):at?!0:(st(),!1)})}refinement(_e,tt){return this._refinement((rt,nt)=>_e(rt)?!0:(nt.addIssue(typeof tt=="function"?tt(rt,nt):tt),!1))}_refinement(_e){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:_e}})}superRefine(_e){return this._refinement(_e)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(_e){return ZodUnion.create([this,_e],this._def)}and(_e){return ZodIntersection.create(this,_e,this._def)}transform(_e){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:_e}})}default(_e){const tt=typeof _e=="function"?_e:()=>_e;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:tt,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(_e){const tt=typeof _e=="function"?_e:()=>_e;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:tt,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(_e){const tt=this.constructor;return new tt({...this._def,description:_e})}pipe(_e){return ZodPipeline.create(this,_e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,uuidRegex=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,emailRegex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|([^-]([a-zA-Z0-9-]*\.)+[a-zA-Z]{2,}))$/,datetimeRegex=et=>et.precision?et.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${et.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${et.precision}}Z$`):et.precision===0?et.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):et.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(_e,tt,rt)=>this.refinement(nt=>_e.test(nt),{validation:tt,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(rt)}),this.nonempty=_e=>this.min(1,errorUtil.errToObj(_e)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(_e){if(this._def.coerce&&(_e.data=String(_e.data)),this._getType(_e)!==ZodParsedType.string){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:it.parsedType}),INVALID}const rt=new ParseStatus;let nt;for(const it of this._def.checks)if(it.kind==="min")_e.data.length<it.value&&(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.too_small,minimum:it.value,type:"string",inclusive:!0,exact:!1,message:it.message}),rt.dirty());else if(it.kind==="max")_e.data.length>it.value&&(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.too_big,maximum:it.value,type:"string",inclusive:!0,exact:!1,message:it.message}),rt.dirty());else if(it.kind==="length"){const at=_e.data.length>it.value,st=_e.data.length<it.value;(at||st)&&(nt=this._getOrReturnCtx(_e,nt),at?addIssueToContext(nt,{code:ZodIssueCode.too_big,maximum:it.value,type:"string",inclusive:!0,exact:!0,message:it.message}):st&&addIssueToContext(nt,{code:ZodIssueCode.too_small,minimum:it.value,type:"string",inclusive:!0,exact:!0,message:it.message}),rt.dirty())}else if(it.kind==="email")emailRegex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"email",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="uuid")uuidRegex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"uuid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="cuid")cuidRegex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"cuid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="cuid2")cuid2Regex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="url")try{new URL(_e.data)}catch{nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"url",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty()}else it.kind==="regex"?(it.regex.lastIndex=0,it.regex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"regex",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty())):it.kind==="trim"?_e.data=_e.data.trim():it.kind==="startsWith"?_e.data.startsWith(it.value)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:{startsWith:it.value},message:it.message}),rt.dirty()):it.kind==="endsWith"?_e.data.endsWith(it.value)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:{endsWith:it.value},message:it.message}),rt.dirty()):it.kind==="datetime"?datetimeRegex(it).test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:"datetime",message:it.message}),rt.dirty()):util$6.assertNever(it);return{status:rt.value,value:_e.data}}_addCheck(_e){return new ZodString({...this._def,checks:[...this._def.checks,_e]})}email(_e){return this._addCheck({kind:"email",...errorUtil.errToObj(_e)})}url(_e){return this._addCheck({kind:"url",...errorUtil.errToObj(_e)})}uuid(_e){return this._addCheck({kind:"uuid",...errorUtil.errToObj(_e)})}cuid(_e){return this._addCheck({kind:"cuid",...errorUtil.errToObj(_e)})}cuid2(_e){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(_e)})}datetime(_e){var tt;return typeof _e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:_e}):this._addCheck({kind:"datetime",precision:typeof(_e==null?void 0:_e.precision)=="undefined"?null:_e==null?void 0:_e.precision,offset:(tt=_e==null?void 0:_e.offset)!==null&&tt!==void 0?tt:!1,...errorUtil.errToObj(_e==null?void 0:_e.message)})}regex(_e,tt){return this._addCheck({kind:"regex",regex:_e,...errorUtil.errToObj(tt)})}startsWith(_e,tt){return this._addCheck({kind:"startsWith",value:_e,...errorUtil.errToObj(tt)})}endsWith(_e,tt){return this._addCheck({kind:"endsWith",value:_e,...errorUtil.errToObj(tt)})}min(_e,tt){return this._addCheck({kind:"min",value:_e,...errorUtil.errToObj(tt)})}max(_e,tt){return this._addCheck({kind:"max",value:_e,...errorUtil.errToObj(tt)})}length(_e,tt){return this._addCheck({kind:"length",value:_e,...errorUtil.errToObj(tt)})}get isDatetime(){return!!this._def.checks.find(_e=>_e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(_e=>_e.kind==="email")}get isURL(){return!!this._def.checks.find(_e=>_e.kind==="url")}get isUUID(){return!!this._def.checks.find(_e=>_e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(_e=>_e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(_e=>_e.kind==="cuid2")}get minLength(){let _e=null;for(const tt of this._def.checks)tt.kind==="min"&&(_e===null||tt.value>_e)&&(_e=tt.value);return _e}get maxLength(){let _e=null;for(const tt of this._def.checks)tt.kind==="max"&&(_e===null||tt.value<_e)&&(_e=tt.value);return _e}}ZodString.create=et=>{var _e;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(_e=et==null?void 0:et.coerce)!==null&&_e!==void 0?_e:!1,...processCreateParams(et)})};function floatSafeRemainder(et,_e){const tt=(et.toString().split(".")[1]||"").length,rt=(_e.toString().split(".")[1]||"").length,nt=tt>rt?tt:rt,it=parseInt(et.toFixed(nt).replace(".","")),at=parseInt(_e.toFixed(nt).replace(".",""));return it%at/Math.pow(10,nt)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(_e){if(this._def.coerce&&(_e.data=Number(_e.data)),this._getType(_e)!==ZodParsedType.number){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:it.parsedType}),INVALID}let rt;const nt=new ParseStatus;for(const it of this._def.checks)it.kind==="int"?util$6.isInteger(_e.data)||(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:it.message}),nt.dirty()):it.kind==="min"?(it.inclusive?_e.data<it.value:_e.data<=it.value)&&(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:it.value,type:"number",inclusive:it.inclusive,exact:!1,message:it.message}),nt.dirty()):it.kind==="max"?(it.inclusive?_e.data>it.value:_e.data>=it.value)&&(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:it.value,type:"number",inclusive:it.inclusive,exact:!1,message:it.message}),nt.dirty()):it.kind==="multipleOf"?floatSafeRemainder(_e.data,it.value)!==0&&(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.not_multiple_of,multipleOf:it.value,message:it.message}),nt.dirty()):it.kind==="finite"?Number.isFinite(_e.data)||(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.not_finite,message:it.message}),nt.dirty()):util$6.assertNever(it);return{status:nt.value,value:_e.data}}gte(_e,tt){return this.setLimit("min",_e,!0,errorUtil.toString(tt))}gt(_e,tt){return this.setLimit("min",_e,!1,errorUtil.toString(tt))}lte(_e,tt){return this.setLimit("max",_e,!0,errorUtil.toString(tt))}lt(_e,tt){return this.setLimit("max",_e,!1,errorUtil.toString(tt))}setLimit(_e,tt,rt,nt){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:_e,value:tt,inclusive:rt,message:errorUtil.toString(nt)}]})}_addCheck(_e){return new ZodNumber({...this._def,checks:[...this._def.checks,_e]})}int(_e){return this._addCheck({kind:"int",message:errorUtil.toString(_e)})}positive(_e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(_e)})}negative(_e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(_e)})}nonpositive(_e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(_e)})}nonnegative(_e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(_e)})}multipleOf(_e,tt){return this._addCheck({kind:"multipleOf",value:_e,message:errorUtil.toString(tt)})}finite(_e){return this._addCheck({kind:"finite",message:errorUtil.toString(_e)})}get minValue(){let _e=null;for(const tt of this._def.checks)tt.kind==="min"&&(_e===null||tt.value>_e)&&(_e=tt.value);return _e}get maxValue(){let _e=null;for(const tt of this._def.checks)tt.kind==="max"&&(_e===null||tt.value<_e)&&(_e=tt.value);return _e}get isInt(){return!!this._def.checks.find(_e=>_e.kind==="int"||_e.kind==="multipleOf"&&util$6.isInteger(_e.value))}get isFinite(){let _e=null,tt=null;for(const rt of this._def.checks){if(rt.kind==="finite"||rt.kind==="int"||rt.kind==="multipleOf")return!0;rt.kind==="min"?(tt===null||rt.value>tt)&&(tt=rt.value):rt.kind==="max"&&(_e===null||rt.value<_e)&&(_e=rt.value)}return Number.isFinite(tt)&&Number.isFinite(_e)}}ZodNumber.create=et=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(et==null?void 0:et.coerce)||!1,...processCreateParams(et)});class ZodBigInt extends ZodType{_parse(_e){if(this._def.coerce&&(_e.data=BigInt(_e.data)),this._getType(_e)!==ZodParsedType.bigint){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodBigInt.create=et=>{var _e;return new ZodBigInt({typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(_e=et==null?void 0:et.coerce)!==null&&_e!==void 0?_e:!1,...processCreateParams(et)})};class ZodBoolean extends ZodType{_parse(_e){if(this._def.coerce&&(_e.data=Boolean(_e.data)),this._getType(_e)!==ZodParsedType.boolean){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodBoolean.create=et=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(et==null?void 0:et.coerce)||!1,...processCreateParams(et)});class ZodDate extends ZodType{_parse(_e){if(this._def.coerce&&(_e.data=new Date(_e.data)),this._getType(_e)!==ZodParsedType.date){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:it.parsedType}),INVALID}if(isNaN(_e.data.getTime())){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_date}),INVALID}const rt=new ParseStatus;let nt;for(const it of this._def.checks)it.kind==="min"?_e.data.getTime()<it.value&&(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.too_small,message:it.message,inclusive:!0,exact:!1,minimum:it.value,type:"date"}),rt.dirty()):it.kind==="max"?_e.data.getTime()>it.value&&(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.too_big,message:it.message,inclusive:!0,exact:!1,maximum:it.value,type:"date"}),rt.dirty()):util$6.assertNever(it);return{status:rt.value,value:new Date(_e.data.getTime())}}_addCheck(_e){return new ZodDate({...this._def,checks:[...this._def.checks,_e]})}min(_e,tt){return this._addCheck({kind:"min",value:_e.getTime(),message:errorUtil.toString(tt)})}max(_e,tt){return this._addCheck({kind:"max",value:_e.getTime(),message:errorUtil.toString(tt)})}get minDate(){let _e=null;for(const tt of this._def.checks)tt.kind==="min"&&(_e===null||tt.value>_e)&&(_e=tt.value);return _e!=null?new Date(_e):null}get maxDate(){let _e=null;for(const tt of this._def.checks)tt.kind==="max"&&(_e===null||tt.value<_e)&&(_e=tt.value);return _e!=null?new Date(_e):null}}ZodDate.create=et=>new ZodDate({checks:[],coerce:(et==null?void 0:et.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(et)});class ZodSymbol extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.symbol){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodSymbol.create=et=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(et)});class ZodUndefined extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.undefined){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodUndefined.create=et=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(et)});class ZodNull extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.null){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodNull.create=et=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(et)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(_e){return OK(_e.data)}}ZodAny.create=et=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(et)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(_e){return OK(_e.data)}}ZodUnknown.create=et=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(et)});class ZodNever extends ZodType{_parse(_e){const tt=this._getOrReturnCtx(_e);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:tt.parsedType}),INVALID}}ZodNever.create=et=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(et)});class ZodVoid extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.undefined){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodVoid.create=et=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(et)});class ZodArray extends ZodType{_parse(_e){const{ctx:tt,status:rt}=this._processInputParams(_e),nt=this._def;if(tt.parsedType!==ZodParsedType.array)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:tt.parsedType}),INVALID;if(nt.exactLength!==null){const at=tt.data.length>nt.exactLength.value,st=tt.data.length<nt.exactLength.value;(at||st)&&(addIssueToContext(tt,{code:at?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:st?nt.exactLength.value:void 0,maximum:at?nt.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:nt.exactLength.message}),rt.dirty())}if(nt.minLength!==null&&tt.data.length<nt.minLength.value&&(addIssueToContext(tt,{code:ZodIssueCode.too_small,minimum:nt.minLength.value,type:"array",inclusive:!0,exact:!1,message:nt.minLength.message}),rt.dirty()),nt.maxLength!==null&&tt.data.length>nt.maxLength.value&&(addIssueToContext(tt,{code:ZodIssueCode.too_big,maximum:nt.maxLength.value,type:"array",inclusive:!0,exact:!1,message:nt.maxLength.message}),rt.dirty()),tt.common.async)return Promise.all([...tt.data].map((at,st)=>nt.type._parseAsync(new ParseInputLazyPath(tt,at,tt.path,st)))).then(at=>ParseStatus.mergeArray(rt,at));const it=[...tt.data].map((at,st)=>nt.type._parseSync(new ParseInputLazyPath(tt,at,tt.path,st)));return ParseStatus.mergeArray(rt,it)}get element(){return this._def.type}min(_e,tt){return new ZodArray({...this._def,minLength:{value:_e,message:errorUtil.toString(tt)}})}max(_e,tt){return new ZodArray({...this._def,maxLength:{value:_e,message:errorUtil.toString(tt)}})}length(_e,tt){return new ZodArray({...this._def,exactLength:{value:_e,message:errorUtil.toString(tt)}})}nonempty(_e){return this.min(1,_e)}}ZodArray.create=(et,_e)=>new ZodArray({type:et,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(_e)});var objectUtil;(function(et){et.mergeShapes=(_e,tt)=>({..._e,...tt})})(objectUtil||(objectUtil={}));function deepPartialify(et){if(et instanceof ZodObject){const _e={};for(const tt in et.shape){const rt=et.shape[tt];_e[tt]=ZodOptional.create(deepPartialify(rt))}return new ZodObject({...et._def,shape:()=>_e})}else return et instanceof ZodArray?ZodArray.create(deepPartialify(et.element)):et instanceof ZodOptional?ZodOptional.create(deepPartialify(et.unwrap())):et instanceof ZodNullable?ZodNullable.create(deepPartialify(et.unwrap())):et instanceof ZodTuple?ZodTuple.create(et.items.map(_e=>deepPartialify(_e))):et}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const _e=this._def.shape(),tt=util$6.objectKeys(_e);return this._cached={shape:_e,keys:tt}}_parse(_e){if(this._getType(_e)!==ZodParsedType.object){const ut=this._getOrReturnCtx(_e);return addIssueToContext(ut,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ut.parsedType}),INVALID}const{status:rt,ctx:nt}=this._processInputParams(_e),{shape:it,keys:at}=this._getCached(),st=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const ut in nt.data)at.includes(ut)||st.push(ut);const ct=[];for(const ut of at){const ft=it[ut],gt=nt.data[ut];ct.push({key:{status:"valid",value:ut},value:ft._parse(new ParseInputLazyPath(nt,gt,nt.path,ut)),alwaysSet:ut in nt.data})}if(this._def.catchall instanceof ZodNever){const ut=this._def.unknownKeys;if(ut==="passthrough")for(const ft of st)ct.push({key:{status:"valid",value:ft},value:{status:"valid",value:nt.data[ft]}});else if(ut==="strict")st.length>0&&(addIssueToContext(nt,{code:ZodIssueCode.unrecognized_keys,keys:st}),rt.dirty());else if(ut!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ut=this._def.catchall;for(const ft of st){const gt=nt.data[ft];ct.push({key:{status:"valid",value:ft},value:ut._parse(new ParseInputLazyPath(nt,gt,nt.path,ft)),alwaysSet:ft in nt.data})}}return nt.common.async?Promise.resolve().then(async()=>{const ut=[];for(const ft of ct){const gt=await ft.key;ut.push({key:gt,value:await ft.value,alwaysSet:ft.alwaysSet})}return ut}).then(ut=>ParseStatus.mergeObjectSync(rt,ut)):ParseStatus.mergeObjectSync(rt,ct)}get shape(){return this._def.shape()}strict(_e){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",..._e!==void 0?{errorMap:(tt,rt)=>{var nt,it,at,st;const ct=(at=(it=(nt=this._def).errorMap)===null||it===void 0?void 0:it.call(nt,tt,rt).message)!==null&&at!==void 0?at:rt.defaultError;return tt.code==="unrecognized_keys"?{message:(st=errorUtil.errToObj(_e).message)!==null&&st!==void 0?st:ct}:{message:ct}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(_e){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),..._e})})}merge(_e){return new ZodObject({unknownKeys:_e._def.unknownKeys,catchall:_e._def.catchall,shape:()=>objectUtil.mergeShapes(this._def.shape(),_e._def.shape()),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(_e,tt){return this.augment({[_e]:tt})}catchall(_e){return new ZodObject({...this._def,catchall:_e})}pick(_e){const tt={};return util$6.objectKeys(_e).forEach(rt=>{_e[rt]&&this.shape[rt]&&(tt[rt]=this.shape[rt])}),new ZodObject({...this._def,shape:()=>tt})}omit(_e){const tt={};return util$6.objectKeys(this.shape).forEach(rt=>{_e[rt]||(tt[rt]=this.shape[rt])}),new ZodObject({...this._def,shape:()=>tt})}deepPartial(){return deepPartialify(this)}partial(_e){const tt={};return util$6.objectKeys(this.shape).forEach(rt=>{const nt=this.shape[rt];_e&&!_e[rt]?tt[rt]=nt:tt[rt]=nt.optional()}),new ZodObject({...this._def,shape:()=>tt})}required(_e){const tt={};return util$6.objectKeys(this.shape).forEach(rt=>{if(_e&&!_e[rt])tt[rt]=this.shape[rt];else{let it=this.shape[rt];for(;it instanceof ZodOptional;)it=it._def.innerType;tt[rt]=it}}),new ZodObject({...this._def,shape:()=>tt})}keyof(){return createZodEnum(util$6.objectKeys(this.shape))}}ZodObject.create=(et,_e)=>new ZodObject({shape:()=>et,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_e)});ZodObject.strictCreate=(et,_e)=>new ZodObject({shape:()=>et,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_e)});ZodObject.lazycreate=(et,_e)=>new ZodObject({shape:et,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_e)});class ZodUnion extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e),rt=this._def.options;function nt(it){for(const st of it)if(st.result.status==="valid")return st.result;for(const st of it)if(st.result.status==="dirty")return tt.common.issues.push(...st.ctx.common.issues),st.result;const at=it.map(st=>new ZodError(st.ctx.common.issues));return addIssueToContext(tt,{code:ZodIssueCode.invalid_union,unionErrors:at}),INVALID}if(tt.common.async)return Promise.all(rt.map(async it=>{const at={...tt,common:{...tt.common,issues:[]},parent:null};return{result:await it._parseAsync({data:tt.data,path:tt.path,parent:at}),ctx:at}})).then(nt);{let it;const at=[];for(const ct of rt){const ut={...tt,common:{...tt.common,issues:[]},parent:null},ft=ct._parseSync({data:tt.data,path:tt.path,parent:ut});if(ft.status==="valid")return ft;ft.status==="dirty"&&!it&&(it={result:ft,ctx:ut}),ut.common.issues.length&&at.push(ut.common.issues)}if(it)return tt.common.issues.push(...it.ctx.common.issues),it.result;const st=at.map(ct=>new ZodError(ct));return addIssueToContext(tt,{code:ZodIssueCode.invalid_union,unionErrors:st}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(et,_e)=>new ZodUnion({options:et,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(_e)});const getDiscriminator=et=>et instanceof ZodLazy?getDiscriminator(et.schema):et instanceof ZodEffects?getDiscriminator(et.innerType()):et instanceof ZodLiteral?[et.value]:et instanceof ZodEnum?et.options:et instanceof ZodNativeEnum?Object.keys(et.enum):et instanceof ZodDefault?getDiscriminator(et._def.innerType):et instanceof ZodUndefined?[void 0]:et instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e);if(tt.parsedType!==ZodParsedType.object)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:tt.parsedType}),INVALID;const rt=this.discriminator,nt=tt.data[rt],it=this.optionsMap.get(nt);return it?tt.common.async?it._parseAsync({data:tt.data,path:tt.path,parent:tt}):it._parseSync({data:tt.data,path:tt.path,parent:tt}):(addIssueToContext(tt,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[rt]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(_e,tt,rt){const nt=new Map;for(const it of tt){const at=getDiscriminator(it.shape[_e]);if(!at)throw new Error(`A discriminator value for key \`${_e}\` could not be extracted from all schema options`);for(const st of at){if(nt.has(st))throw new Error(`Discriminator property ${String(_e)} has duplicate value ${String(st)}`);nt.set(st,it)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:_e,options:tt,optionsMap:nt,...processCreateParams(rt)})}}function mergeValues(et,_e){const tt=getParsedType(et),rt=getParsedType(_e);if(et===_e)return{valid:!0,data:et};if(tt===ZodParsedType.object&&rt===ZodParsedType.object){const nt=util$6.objectKeys(_e),it=util$6.objectKeys(et).filter(st=>nt.indexOf(st)!==-1),at={...et,..._e};for(const st of it){const ct=mergeValues(et[st],_e[st]);if(!ct.valid)return{valid:!1};at[st]=ct.data}return{valid:!0,data:at}}else if(tt===ZodParsedType.array&&rt===ZodParsedType.array){if(et.length!==_e.length)return{valid:!1};const nt=[];for(let it=0;it<et.length;it++){const at=et[it],st=_e[it],ct=mergeValues(at,st);if(!ct.valid)return{valid:!1};nt.push(ct.data)}return{valid:!0,data:nt}}else return tt===ZodParsedType.date&&rt===ZodParsedType.date&&+et==+_e?{valid:!0,data:et}:{valid:!1}}class ZodIntersection extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e),nt=(it,at)=>{if(isAborted(it)||isAborted(at))return INVALID;const st=mergeValues(it.value,at.value);return st.valid?((isDirty(it)||isDirty(at))&&tt.dirty(),{status:tt.value,value:st.data}):(addIssueToContext(rt,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return rt.common.async?Promise.all([this._def.left._parseAsync({data:rt.data,path:rt.path,parent:rt}),this._def.right._parseAsync({data:rt.data,path:rt.path,parent:rt})]).then(([it,at])=>nt(it,at)):nt(this._def.left._parseSync({data:rt.data,path:rt.path,parent:rt}),this._def.right._parseSync({data:rt.data,path:rt.path,parent:rt}))}}ZodIntersection.create=(et,_e,tt)=>new ZodIntersection({left:et,right:_e,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(tt)});class ZodTuple extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.parsedType!==ZodParsedType.array)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:rt.parsedType}),INVALID;if(rt.data.length<this._def.items.length)return addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&rt.data.length>this._def.items.length&&(addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt.dirty());const it=[...rt.data].map((at,st)=>{const ct=this._def.items[st]||this._def.rest;return ct?ct._parse(new ParseInputLazyPath(rt,at,rt.path,st)):null}).filter(at=>!!at);return rt.common.async?Promise.all(it).then(at=>ParseStatus.mergeArray(tt,at)):ParseStatus.mergeArray(tt,it)}get items(){return this._def.items}rest(_e){return new ZodTuple({...this._def,rest:_e})}}ZodTuple.create=(et,_e)=>{if(!Array.isArray(et))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:et,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(_e)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.parsedType!==ZodParsedType.object)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:rt.parsedType}),INVALID;const nt=[],it=this._def.keyType,at=this._def.valueType;for(const st in rt.data)nt.push({key:it._parse(new ParseInputLazyPath(rt,st,rt.path,st)),value:at._parse(new ParseInputLazyPath(rt,rt.data[st],rt.path,st))});return rt.common.async?ParseStatus.mergeObjectAsync(tt,nt):ParseStatus.mergeObjectSync(tt,nt)}get element(){return this._def.valueType}static create(_e,tt,rt){return tt instanceof ZodType?new ZodRecord({keyType:_e,valueType:tt,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(rt)}):new ZodRecord({keyType:ZodString.create(),valueType:_e,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(tt)})}}class ZodMap extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.parsedType!==ZodParsedType.map)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:rt.parsedType}),INVALID;const nt=this._def.keyType,it=this._def.valueType,at=[...rt.data.entries()].map(([st,ct],ut)=>({key:nt._parse(new ParseInputLazyPath(rt,st,rt.path,[ut,"key"])),value:it._parse(new ParseInputLazyPath(rt,ct,rt.path,[ut,"value"]))}));if(rt.common.async){const st=new Map;return Promise.resolve().then(async()=>{for(const ct of at){const ut=await ct.key,ft=await ct.value;if(ut.status==="aborted"||ft.status==="aborted")return INVALID;(ut.status==="dirty"||ft.status==="dirty")&&tt.dirty(),st.set(ut.value,ft.value)}return{status:tt.value,value:st}})}else{const st=new Map;for(const ct of at){const ut=ct.key,ft=ct.value;if(ut.status==="aborted"||ft.status==="aborted")return INVALID;(ut.status==="dirty"||ft.status==="dirty")&&tt.dirty(),st.set(ut.value,ft.value)}return{status:tt.value,value:st}}}}ZodMap.create=(et,_e,tt)=>new ZodMap({valueType:_e,keyType:et,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(tt)});class ZodSet extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.parsedType!==ZodParsedType.set)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:rt.parsedType}),INVALID;const nt=this._def;nt.minSize!==null&&rt.data.size<nt.minSize.value&&(addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:nt.minSize.value,type:"set",inclusive:!0,exact:!1,message:nt.minSize.message}),tt.dirty()),nt.maxSize!==null&&rt.data.size>nt.maxSize.value&&(addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:nt.maxSize.value,type:"set",inclusive:!0,exact:!1,message:nt.maxSize.message}),tt.dirty());const it=this._def.valueType;function at(ct){const ut=new Set;for(const ft of ct){if(ft.status==="aborted")return INVALID;ft.status==="dirty"&&tt.dirty(),ut.add(ft.value)}return{status:tt.value,value:ut}}const st=[...rt.data.values()].map((ct,ut)=>it._parse(new ParseInputLazyPath(rt,ct,rt.path,ut)));return rt.common.async?Promise.all(st).then(ct=>at(ct)):at(st)}min(_e,tt){return new ZodSet({...this._def,minSize:{value:_e,message:errorUtil.toString(tt)}})}max(_e,tt){return new ZodSet({...this._def,maxSize:{value:_e,message:errorUtil.toString(tt)}})}size(_e,tt){return this.min(_e,tt).max(_e,tt)}nonempty(_e){return this.min(1,_e)}}ZodSet.create=(et,_e)=>new ZodSet({valueType:et,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(_e)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(_e){const{ctx:tt}=this._processInputParams(_e);if(tt.parsedType!==ZodParsedType.function)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:tt.parsedType}),INVALID;function rt(st,ct){return makeIssue({data:st,path:tt.path,errorMaps:[tt.common.contextualErrorMap,tt.schemaErrorMap,getErrorMap(),errorMap].filter(ut=>!!ut),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:ct}})}function nt(st,ct){return makeIssue({data:st,path:tt.path,errorMaps:[tt.common.contextualErrorMap,tt.schemaErrorMap,getErrorMap(),errorMap].filter(ut=>!!ut),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:ct}})}const it={errorMap:tt.common.contextualErrorMap},at=tt.data;return this._def.returns instanceof ZodPromise?OK(async(...st)=>{const ct=new ZodError([]),ut=await this._def.args.parseAsync(st,it).catch(_t=>{throw ct.addIssue(rt(st,_t)),ct}),ft=await at(...ut);return await this._def.returns._def.type.parseAsync(ft,it).catch(_t=>{throw ct.addIssue(nt(ft,_t)),ct})}):OK((...st)=>{const ct=this._def.args.safeParse(st,it);if(!ct.success)throw new ZodError([rt(st,ct.error)]);const ut=at(...ct.data),ft=this._def.returns.safeParse(ut,it);if(!ft.success)throw new ZodError([nt(ut,ft.error)]);return ft.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(..._e){return new ZodFunction({...this._def,args:ZodTuple.create(_e).rest(ZodUnknown.create())})}returns(_e){return new ZodFunction({...this._def,returns:_e})}implement(_e){return this.parse(_e)}strictImplement(_e){return this.parse(_e)}static create(_e,tt,rt){return new ZodFunction({args:_e||ZodTuple.create([]).rest(ZodUnknown.create()),returns:tt||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(rt)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(_e){const{ctx:tt}=this._processInputParams(_e);return this._def.getter()._parse({data:tt.data,path:tt.path,parent:tt})}}ZodLazy.create=(et,_e)=>new ZodLazy({getter:et,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(_e)});class ZodLiteral extends ZodType{_parse(_e){if(_e.data!==this._def.value){const tt=this._getOrReturnCtx(_e);return addIssueToContext(tt,{received:tt.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:_e.data}}get value(){return this._def.value}}ZodLiteral.create=(et,_e)=>new ZodLiteral({value:et,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(_e)});function createZodEnum(et,_e){return new ZodEnum({values:et,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(_e)})}class ZodEnum extends ZodType{_parse(_e){if(typeof _e.data!="string"){const tt=this._getOrReturnCtx(_e),rt=this._def.values;return addIssueToContext(tt,{expected:util$6.joinValues(rt),received:tt.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(_e.data)===-1){const tt=this._getOrReturnCtx(_e),rt=this._def.values;return addIssueToContext(tt,{received:tt.data,code:ZodIssueCode.invalid_enum_value,options:rt}),INVALID}return OK(_e.data)}get options(){return this._def.values}get enum(){const _e={};for(const tt of this._def.values)_e[tt]=tt;return _e}get Values(){const _e={};for(const tt of this._def.values)_e[tt]=tt;return _e}get Enum(){const _e={};for(const tt of this._def.values)_e[tt]=tt;return _e}extract(_e){return ZodEnum.create(_e)}exclude(_e){return ZodEnum.create(this.options.filter(tt=>!_e.includes(tt)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(_e){const tt=util$6.getValidEnumValues(this._def.values),rt=this._getOrReturnCtx(_e);if(rt.parsedType!==ZodParsedType.string&&rt.parsedType!==ZodParsedType.number){const nt=util$6.objectValues(tt);return addIssueToContext(rt,{expected:util$6.joinValues(nt),received:rt.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(tt.indexOf(_e.data)===-1){const nt=util$6.objectValues(tt);return addIssueToContext(rt,{received:rt.data,code:ZodIssueCode.invalid_enum_value,options:nt}),INVALID}return OK(_e.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(et,_e)=>new ZodNativeEnum({values:et,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(_e)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(_e){const{ctx:tt}=this._processInputParams(_e);if(tt.parsedType!==ZodParsedType.promise&&tt.common.async===!1)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:tt.parsedType}),INVALID;const rt=tt.parsedType===ZodParsedType.promise?tt.data:Promise.resolve(tt.data);return OK(rt.then(nt=>this._def.type.parseAsync(nt,{path:tt.path,errorMap:tt.common.contextualErrorMap})))}}ZodPromise.create=(et,_e)=>new ZodPromise({type:et,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(_e)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e),nt=this._def.effect||null;if(nt.type==="preprocess"){const at=nt.transform(rt.data);return rt.common.async?Promise.resolve(at).then(st=>this._def.schema._parseAsync({data:st,path:rt.path,parent:rt})):this._def.schema._parseSync({data:at,path:rt.path,parent:rt})}const it={addIssue:at=>{addIssueToContext(rt,at),at.fatal?tt.abort():tt.dirty()},get path(){return rt.path}};if(it.addIssue=it.addIssue.bind(it),nt.type==="refinement"){const at=st=>{const ct=nt.refinement(st,it);if(rt.common.async)return Promise.resolve(ct);if(ct instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return st};if(rt.common.async===!1){const st=this._def.schema._parseSync({data:rt.data,path:rt.path,parent:rt});return st.status==="aborted"?INVALID:(st.status==="dirty"&&tt.dirty(),at(st.value),{status:tt.value,value:st.value})}else return this._def.schema._parseAsync({data:rt.data,path:rt.path,parent:rt}).then(st=>st.status==="aborted"?INVALID:(st.status==="dirty"&&tt.dirty(),at(st.value).then(()=>({status:tt.value,value:st.value}))))}if(nt.type==="transform")if(rt.common.async===!1){const at=this._def.schema._parseSync({data:rt.data,path:rt.path,parent:rt});if(!isValid(at))return at;const st=nt.transform(at.value,it);if(st instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:tt.value,value:st}}else return this._def.schema._parseAsync({data:rt.data,path:rt.path,parent:rt}).then(at=>isValid(at)?Promise.resolve(nt.transform(at.value,it)).then(st=>({status:tt.value,value:st})):at);util$6.assertNever(nt)}}ZodEffects.create=(et,_e,tt)=>new ZodEffects({schema:et,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:_e,...processCreateParams(tt)});ZodEffects.createWithPreprocess=(et,_e,tt)=>new ZodEffects({schema:_e,effect:{type:"preprocess",transform:et},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(tt)});class ZodOptional extends ZodType{_parse(_e){return this._getType(_e)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(_e)}unwrap(){return this._def.innerType}}ZodOptional.create=(et,_e)=>new ZodOptional({innerType:et,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(_e)});class ZodNullable extends ZodType{_parse(_e){return this._getType(_e)===ZodParsedType.null?OK(null):this._def.innerType._parse(_e)}unwrap(){return this._def.innerType}}ZodNullable.create=(et,_e)=>new ZodNullable({innerType:et,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(_e)});class ZodDefault extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e);let rt=tt.data;return tt.parsedType===ZodParsedType.undefined&&(rt=this._def.defaultValue()),this._def.innerType._parse({data:rt,path:tt.path,parent:tt})}removeDefault(){return this._def.innerType}}ZodDefault.create=(et,_e)=>new ZodDefault({innerType:et,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof _e.default=="function"?_e.default:()=>_e.default,...processCreateParams(_e)});class ZodCatch extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e),rt=this._def.innerType._parse({data:tt.data,path:tt.path,parent:{...tt,common:{...tt.common,issues:[]}}});return isAsync(rt)?rt.then(nt=>({status:"valid",value:nt.status==="valid"?nt.value:this._def.catchValue()})):{status:"valid",value:rt.status==="valid"?rt.value:this._def.catchValue()}}removeCatch(){return this._def.innerType}}ZodCatch.create=(et,_e)=>new ZodCatch({innerType:et,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof _e.catch=="function"?_e.catch:()=>_e.catch,...processCreateParams(_e)});class ZodNaN extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.nan){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:rt.parsedType}),INVALID}return{status:"valid",value:_e.data}}}ZodNaN.create=et=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(et)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e),rt=tt.data;return this._def.type._parse({data:rt,path:tt.path,parent:tt})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.common.async)return(async()=>{const it=await this._def.in._parseAsync({data:rt.data,path:rt.path,parent:rt});return it.status==="aborted"?INVALID:it.status==="dirty"?(tt.dirty(),DIRTY(it.value)):this._def.out._parseAsync({data:it.value,path:rt.path,parent:rt})})();{const nt=this._def.in._parseSync({data:rt.data,path:rt.path,parent:rt});return nt.status==="aborted"?INVALID:nt.status==="dirty"?(tt.dirty(),{status:"dirty",value:nt.value}):this._def.out._parseSync({data:nt.value,path:rt.path,parent:rt})}}static create(_e,tt){return new ZodPipeline({in:_e,out:tt,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}const custom$1=(et,_e={},tt)=>et?ZodAny.create().superRefine((rt,nt)=>{if(!et(rt)){const it=typeof _e=="function"?_e(rt):_e,at=typeof it=="string"?{message:it}:it;nt.addIssue({code:"custom",...at,fatal:tt})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(et){et.ZodString="ZodString",et.ZodNumber="ZodNumber",et.ZodNaN="ZodNaN",et.ZodBigInt="ZodBigInt",et.ZodBoolean="ZodBoolean",et.ZodDate="ZodDate",et.ZodSymbol="ZodSymbol",et.ZodUndefined="ZodUndefined",et.ZodNull="ZodNull",et.ZodAny="ZodAny",et.ZodUnknown="ZodUnknown",et.ZodNever="ZodNever",et.ZodVoid="ZodVoid",et.ZodArray="ZodArray",et.ZodObject="ZodObject",et.ZodUnion="ZodUnion",et.ZodDiscriminatedUnion="ZodDiscriminatedUnion",et.ZodIntersection="ZodIntersection",et.ZodTuple="ZodTuple",et.ZodRecord="ZodRecord",et.ZodMap="ZodMap",et.ZodSet="ZodSet",et.ZodFunction="ZodFunction",et.ZodLazy="ZodLazy",et.ZodLiteral="ZodLiteral",et.ZodEnum="ZodEnum",et.ZodEffects="ZodEffects",et.ZodNativeEnum="ZodNativeEnum",et.ZodOptional="ZodOptional",et.ZodNullable="ZodNullable",et.ZodDefault="ZodDefault",et.ZodCatch="ZodCatch",et.ZodPromise="ZodPromise",et.ZodBranded="ZodBranded",et.ZodPipeline="ZodPipeline"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(et,_e={message:`Input not instance of ${et.name}`})=>custom$1(tt=>tt instanceof et,_e,!0),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:et=>ZodString.create({...et,coerce:!0}),number:et=>ZodNumber.create({...et,coerce:!0}),boolean:et=>ZodBoolean.create({...et,coerce:!0}),bigint:et=>ZodBigInt.create({...et,coerce:!0}),date:et=>ZodDate.create({...et,coerce:!0})},NEVER$1=INVALID;var mod=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$6},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,get objectUtil(){return objectUtil},ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,custom:custom$1,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER:NEVER$1,ZodIssueCode,quotelessJson,ZodError});const DEFAULT_API_KEY$1="c6634ad2d97b74baf15ff556016830c251050e6c36b9da508ce3ec80095d3dc1";function getRpcUrl$2(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_API_KEY$1;return`https://${et}.rpc.thirdweb.com/${_e}`}const isBrowser$7=()=>typeof window!="undefined",FileOrBufferUnionSchema=isBrowser$7()?mod.instanceof(File):mod.instanceof(Buffer),FileOrBufferSchema=mod.union([FileOrBufferUnionSchema,mod.object({data:mod.union([FileOrBufferUnionSchema,mod.string()]),name:mod.string()})]),FileOrBufferOrStringSchema=mod.union([FileOrBufferSchema,mod.string()]),MAX_BPS=1e4,BytesLikeSchema=mod.union([mod.array(mod.number()),mod.string()]),BigNumberSchema$1=mod.union([mod.string(),mod.number(),mod.bigint(),mod.custom(et=>BigNumber.isBigNumber(et)),mod.custom(et=>BN$3.isBN(et))]).transform(et=>{let _e=BN$3.isBN(et)?new BN$3(et).toString():BigNumber.from(et).toString();return BigNumber.from(_e)});BigNumberSchema$1.transform(et=>et.toString());const BigNumberTransformSchema$1=mod.union([mod.bigint(),mod.custom(et=>BigNumber.isBigNumber(et)),mod.custom(et=>BN$3.isBN(et))]).transform(et=>BN$3.isBN(et)?new BN$3(et).toString():BigNumber.from(et).toString()),BasisPointsSchema=mod.number().max(MAX_BPS,"Cannot exceed 100%").min(0,"Cannot be below 0%"),PercentSchema=mod.number().max(100,"Cannot exceed 100%").min(0,"Cannot be below 0%"),HexColor=mod.union([mod.string().regex(/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Invalid hex color"),mod.string().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Invalid hex color").transform(et=>et.replace("#","")),mod.string().length(0)]),AmountSchema=mod.union([mod.string().regex(/^([0-9]+\.?[0-9]*|\.[0-9]+)$/,"Invalid amount"),mod.number().min(0,"Amount cannot be negative")]).transform(et=>typeof et=="number"?et.toString():et),QuantitySchema=mod.union([AmountSchema,mod.literal("unlimited")]).default("unlimited"),RawDateSchema$2=mod.date().transform(et=>BigNumber.from(Math.floor(et.getTime()/1e3)));RawDateSchema$2.default(new Date(0));RawDateSchema$2.default(new Date(Date.now()+1e3*60*60*24*365*10));function _toPrimitive$2(et,_e){if(typeof et!="object"||et===null)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(et,_e||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey$2(et){var _e=_toPrimitive$2(et,"string");return typeof _e=="symbol"?_e:String(_e)}function _defineProperty$5(et,_e,tt){return _e=_toPropertyKey$2(_e),_e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}const PropertiesInput$1=mod.object({}).catchall(mod.union([BigNumberTransformSchema$1,mod.unknown()])),OptionalPropertiesInput=mod.union([mod.array(PropertiesInput$1),PropertiesInput$1]).optional(),CommonNFTInput=mod.object({name:mod.union([mod.string(),mod.number()]).optional(),description:mod.string().nullable().optional(),image:FileOrBufferOrStringSchema.nullable().optional(),external_url:FileOrBufferOrStringSchema.nullable().optional(),animation_url:FileOrBufferOrStringSchema.optional(),background_color:HexColor.optional(),properties:OptionalPropertiesInput,attributes:OptionalPropertiesInput}).catchall(mod.union([BigNumberTransformSchema$1,mod.unknown()])),NFTInputOrUriSchema=mod.union([CommonNFTInput,mod.string()]),CommonNFTOutput=CommonNFTInput.extend({id:mod.string(),uri:mod.string(),image:mod.string().nullable().optional(),external_url:mod.string().nullable().optional(),animation_url:mod.string().nullable().optional()}),DEFAULT_QUERY_ALL_COUNT=100;mod.object({start:mod.number().default(0),count:mod.number().default(DEFAULT_QUERY_ALL_COUNT)}).default({start:0,count:DEFAULT_QUERY_ALL_COUNT});var ERC165Abi=[{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Erc721Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc1155Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"bool",name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"_ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"_values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"_value",type:"string"},{indexed:!0,internalType:"uint256",name:"_id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"},{internalType:"uint256[]",name:"_values",type:"uint256[]"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"}],IBurnableERC20Abi=[{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],IDrop=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition[]",name:"claimConditions",type:"tuple[]"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDrop.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],DropERC20_V2Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"claimConditions",type:"tuple[]"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"ContractURIUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxTotalSupply",type:"uint256"}],name:"MaxTotalSupplyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"MaxWalletClaimCountUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"WalletClaimCountUpdated",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"proofs",type:"bytes32[]"},{internalType:"uint256",name:"proofMaxQuantityPerTransaction",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],IDropSinglePhase=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropSinglePhase.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],IDropSinglePhaseV1=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IClaimCondition_V1.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"maxQuantityInAllowlist",type:"uint256"}],internalType:"struct IDropSinglePhase_V1.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IClaimCondition_V1.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],ERC20Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"who",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],IMintableERC20Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityMinted",type:"uint256"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintTo",outputs:[],stateMutability:"nonpayable",type:"function"}],MulticallAbi=[{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"}],ISignatureMintERC20Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC20.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC20.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC20.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],IBurnableERC721Abi=[{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"}],IClaimableERC721=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"_receiver",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_claimer",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"verifyClaim",outputs:[],stateMutability:"view",type:"function"}],DelayedRevealAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"TokenURIRevealed",type:"event"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"key",type:"bytes"}],name:"encryptDecrypt",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes",name:"key",type:"bytes"}],name:"reveal",outputs:[{internalType:"string",name:"revealedURI",type:"string"}],stateMutability:"nonpayable",type:"function"}],DropERC721_V3Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"claimConditions",type:"tuple[]"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxTotalSupply",type:"uint256"}],name:"MaxTotalSupplyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"MaxWalletClaimCountUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"NFTRevealed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"WalletClaimCountUpdated",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"proofs",type:"bytes32[]"},{internalType:"uint256",name:"proofMaxQuantityPerTransaction",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"},{internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"lazyMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc721EnumerableAbi=[{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Erc721SupplyAbi=[{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ILazyMintAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"lazyMint",outputs:[{internalType:"uint256",name:"batchId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IMintableERC721Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"mintTo",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],SignatureMintERC721Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC721.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC721.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC721.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],SignatureMintERC721_V1Abi=[{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ITokenERC721.MintRequest",name:"_req",type:"tuple"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"uint256",name:"tokenIdMinted",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ITokenERC721.MintRequest",name:"_req",type:"tuple"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],TieredDropAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"string",name:"tier",type:"string"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{inputs:[],name:"getBaseURICount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getBatchIdAtIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMetadataForAllTiers",outputs:[{components:[{internalType:"string",name:"tier",type:"string"},{components:[{internalType:"uint256",name:"startIdInclusive",type:"uint256"},{internalType:"uint256",name:"endIdNonInclusive",type:"uint256"}],internalType:"struct LazyMintWithTier.TokenRange[]",name:"ranges",type:"tuple[]"},{internalType:"string[]",name:"baseURIs",type:"string[]"}],internalType:"struct LazyMintWithTier.TierMetadata[]",name:"metadataForAllTiers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"string",name:"_baseURIForTokens",type:"string"},{internalType:"string",name:"_tier",type:"string"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"lazyMint",outputs:[{internalType:"uint256",name:"batchId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IBurnableERC1155Abi=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"burnBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],IClaimableERC1155=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"_receiver",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_claimer",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"verifyClaim",outputs:[],stateMutability:"view",type:"function"}],IDropMultiPhase1155=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition[]",name:"claimConditions",type:"tuple[]"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDrop1155.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],DropERC1155_V2Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"claimConditions",type:"tuple[]"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalSupply",type:"uint256"}],name:"MaxTotalSupplyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"MaxWalletClaimCountUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"saleRecipient",type:"address"}],name:"SaleRecipientForTokenUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"}],name:"TokensLazyMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"WalletClaimCountUpdated",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"proofs",type:"bytes32[]"},{internalType:"uint256",name:"proofMaxQuantityPerTransaction",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"}],name:"lazyMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IDropSinglePhase1155=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropSinglePhase1155.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],IDropSinglePhase1155_V1=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IClaimCondition_V1.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"maxQuantityInAllowlist",type:"uint256"}],internalType:"struct IDropSinglePhase1155_V1.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IClaimCondition_V1.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc1155EnumerableAbi=[{inputs:[],name:"nextTokenIdToMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],IMintableERC1155Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"},{indexed:!1,internalType:"uint256",name:"quantityMinted",type:"uint256"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintTo",outputs:[],stateMutability:"nonpayable",type:"function"}],ISignatureMintERC1155Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC1155.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC1155.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC1155.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],IERC2771ContextAbi=[{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IAppURI=[{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"AppURIUpdated",type:"event"},{inputs:[],name:"appURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setAppURI",outputs:[],stateMutability:"nonpayable",type:"function"}],IContractMetadataAbi=[{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"ContractURIUpdated",type:"event"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable",type:"function"}],IDirectListingsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"BuyerApprovedForListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"}],name:"CancelledListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"currency",type:"address"},{indexed:!1,internalType:"uint256",name:"pricePerToken",type:"uint256"}],name:"CurrencyApprovedForListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IDirectListings.Listing",name:"listing",type:"tuple"}],name:"NewListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityBought",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalPricePaid",type:"uint256"}],name:"NewSale",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IDirectListings.Listing",name:"listing",type:"tuple"}],name:"UpdatedListing",type:"event"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"address",name:"_buyer",type:"address"},{internalType:"bool",name:"_toApprove",type:"bool"}],name:"approveBuyerForListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"address",name:"_currency",type:"address"},{internalType:"uint256",name:"_pricePerTokenInCurrency",type:"uint256"}],name:"approveCurrencyForListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"address",name:"_buyFor",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"},{internalType:"address",name:"_currency",type:"address"},{internalType:"uint256",name:"_expectedTotalPrice",type:"uint256"}],name:"buyFromListing",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"cancelListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"}],internalType:"struct IDirectListings.ListingParameters",name:"_params",type:"tuple"}],name:"createListing",outputs:[{internalType:"uint256",name:"listingId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllListings",outputs:[{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],internalType:"struct IDirectListings.Listing[]",name:"listings",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllValidListings",outputs:[{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],internalType:"struct IDirectListings.Listing[]",name:"listings",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"getListing",outputs:[{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],internalType:"struct IDirectListings.Listing",name:"listing",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalListings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"}],internalType:"struct IDirectListings.ListingParameters",name:"_params",type:"tuple"}],name:"updateListing",outputs:[],stateMutability:"nonpayable",type:"function"}],IEnglishAuctionsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!0,internalType:"address",name:"closer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"auctionCreator",type:"address"},{indexed:!1,internalType:"address",name:"winningBidder",type:"address"}],name:"AuctionClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"auctionCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"}],name:"CancelledAuction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"auctionCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IEnglishAuctions.Auction",name:"auction",type:"tuple"}],name:"NewAuction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"bidder",type:"address"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!1,internalType:"uint256",name:"bidAmount",type:"uint256"},{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IEnglishAuctions.Auction",name:"auction",type:"tuple"}],name:"NewBid",type:"event"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"},{internalType:"uint256",name:"_bidAmount",type:"uint256"}],name:"bidInAuction",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"cancelAuction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"collectAuctionPayout",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"collectAuctionTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"}],internalType:"struct IEnglishAuctions.AuctionParameters",name:"_params",type:"tuple"}],name:"createAuction",outputs:[{internalType:"uint256",name:"auctionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllAuctions",outputs:[{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],internalType:"struct IEnglishAuctions.Auction[]",name:"auctions",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllValidAuctions",outputs:[{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],internalType:"struct IEnglishAuctions.Auction[]",name:"auctions",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"getAuction",outputs:[{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],internalType:"struct IEnglishAuctions.Auction",name:"auction",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"getWinningBid",outputs:[{internalType:"address",name:"bidder",type:"address"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"bidAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"isAuctionExpired",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"},{internalType:"uint256",name:"_bidAmount",type:"uint256"}],name:"isNewWinningBid",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IOffersAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"offeror",type:"address"},{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityBought",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalPricePaid",type:"uint256"}],name:"AcceptedOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"offeror",type:"address"},{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"}],name:"CancelledOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"offeror",type:"address"},{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IOffers.Offer",name:"offer",type:"tuple"}],name:"NewOffer",type:"event"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"acceptOffer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"cancelOffer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllOffers",outputs:[{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],internalType:"struct IOffers.Offer[]",name:"offers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllValidOffers",outputs:[{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],internalType:"struct IOffers.Offer[]",name:"offers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"getOffer",outputs:[{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],internalType:"struct IOffers.Offer",name:"offer",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"}],internalType:"struct IOffers.OfferParams",name:"_params",type:"tuple"}],name:"makeOffer",outputs:[{internalType:"uint256",name:"offerId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IPackVRFAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"totalPacksCreated",type:"uint256"}],name:"PackCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"opener",type:"address"},{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountToOpen",type:"uint256"},{indexed:!1,internalType:"uint256",name:"requestId",type:"uint256"}],name:"PackOpenRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!0,internalType:"address",name:"opener",type:"address"},{indexed:!1,internalType:"uint256",name:"numOfPacksOpened",type:"uint256"},{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"enum ITokenBundle.TokenType",name:"tokenType",type:"uint8"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],indexed:!1,internalType:"struct ITokenBundle.Token[]",name:"rewardUnitsDistributed",type:"tuple[]"}],name:"PackOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"requestId",type:"uint256"}],name:"PackRandomnessFulfilled",type:"event"},{inputs:[{internalType:"address",name:"_opener",type:"address"}],name:"canClaimRewards",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimRewards",outputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"enum ITokenBundle.TokenType",name:"tokenType",type:"uint8"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],internalType:"struct ITokenBundle.Token[]",name:"rewardUnits",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"enum ITokenBundle.TokenType",name:"tokenType",type:"uint8"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],internalType:"struct ITokenBundle.Token[]",name:"contents",type:"tuple[]"},{internalType:"uint256[]",name:"numOfRewardUnits",type:"uint256[]"},{internalType:"string",name:"packUri",type:"string"},{internalType:"uint128",name:"openStartTimestamp",type:"uint128"},{internalType:"uint128",name:"amountDistributedPerOpen",type:"uint128"},{internalType:"address",name:"recipient",type:"address"}],name:"createPack",outputs:[{internalType:"uint256",name:"packId",type:"uint256"},{internalType:"uint256",name:"packTotalSupply",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"packId",type:"uint256"},{internalType:"uint256",name:"amountToOpen",type:"uint256"}],name:"openPack",outputs:[{internalType:"uint256",name:"requestId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_packId",type:"uint256"},{internalType:"uint256",name:"_amountToOpen",type:"uint256"},{internalType:"uint32",name:"_callBackGasLimit",type:"uint32"}],name:"openPackAndClaimRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IPermissionsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"}],IPermissionsEnumerableAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"}],IThirdwebPlatformFeeAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"platformFeeRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"platformFeeBps",type:"uint256"}],name:"PlatformFeeInfoUpdated",type:"event"},{inputs:[],name:"getPlatformFeeInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_platformFeeRecipient",type:"address"},{internalType:"uint256",name:"_platformFeeBps",type:"uint256"}],name:"setPlatformFeeInfo",outputs:[],stateMutability:"nonpayable",type:"function"}],IThirdwebPrimarySaleAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"}],name:"PrimarySaleRecipientUpdated",type:"event"},{inputs:[],name:"primarySaleRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_saleRecipient",type:"address"}],name:"setPrimarySaleRecipient",outputs:[],stateMutability:"nonpayable",type:"function"}],IRouterAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"string",name:"functionSignature",type:"string"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldPluginAddress",type:"address"},{indexed:!0,internalType:"address",name:"newPluginAddress",type:"address"}],name:"PluginUpdated",type:"event"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"plugin",type:"tuple"}],name:"addPlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"pluginAddress",type:"address"}],name:"getAllFunctionsOfPlugin",outputs:[{internalType:"bytes4[]",name:"",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"removePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"plugin",type:"tuple"}],name:"updatePlugin",outputs:[],stateMutability:"nonpayable",type:"function"}],IThirdwebRoyaltyAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRoyaltyRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"newRoyaltyBps",type:"uint256"}],name:"DefaultRoyalty",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"royaltyRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"royaltyBps",type:"uint256"}],name:"RoyaltyForToken",type:"event"},{inputs:[],name:"getDefaultRoyaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getRoyaltyInfoForToken",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"royaltyAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_royaltyRecipient",type:"address"},{internalType:"uint256",name:"_royaltyBps",type:"uint256"}],name:"setDefaultRoyaltyInfo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"bps",type:"uint256"}],name:"setRoyaltyInfoForToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IOwnableAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"prevOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerUpdated",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_newOwner",type:"address"}],name:"setOwner",outputs:[],stateMutability:"nonpayable",type:"function"}],browserPonyfill={exports:{}};(function(et,_e){var tt=function(){function nt(){this.fetch=!1,this.DOMException=globalThis.DOMException}return nt.prototype=globalThis,new nt}();(function(nt){(function(it){var at={searchParams:"URLSearchParams"in nt,iterable:"Symbol"in nt&&"iterator"in Symbol,blob:"FileReader"in nt&&"Blob"in nt&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in nt,arrayBuffer:"ArrayBuffer"in nt};function st(ht){return ht&&DataView.prototype.isPrototypeOf(ht)}if(at.arrayBuffer)var ct=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ut=ArrayBuffer.isView||function(ht){return ht&&ct.indexOf(Object.prototype.toString.call(ht))>-1};function ft(ht){if(typeof ht!="string"&&(ht=String(ht)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(ht))throw new TypeError("Invalid character in header field name");return ht.toLowerCase()}function gt(ht){return typeof ht!="string"&&(ht=String(ht)),ht}function _t(ht){var ot={next:function(){var dt=ht.shift();return{done:dt===void 0,value:dt}}};return at.iterable&&(ot[Symbol.iterator]=function(){return ot}),ot}function Et(ht){this.map={},ht instanceof Et?ht.forEach(function(ot,dt){this.append(dt,ot)},this):Array.isArray(ht)?ht.forEach(function(ot){this.append(ot[0],ot[1])},this):ht&&Object.getOwnPropertyNames(ht).forEach(function(ot){this.append(ot,ht[ot])},this)}Et.prototype.append=function(ht,ot){ht=ft(ht),ot=gt(ot);var dt=this.map[ht];this.map[ht]=dt?dt+", "+ot:ot},Et.prototype.delete=function(ht){delete this.map[ft(ht)]},Et.prototype.get=function(ht){return ht=ft(ht),this.has(ht)?this.map[ht]:null},Et.prototype.has=function(ht){return this.map.hasOwnProperty(ft(ht))},Et.prototype.set=function(ht,ot){this.map[ft(ht)]=gt(ot)},Et.prototype.forEach=function(ht,ot){for(var dt in this.map)this.map.hasOwnProperty(dt)&&ht.call(ot,this.map[dt],dt,this)},Et.prototype.keys=function(){var ht=[];return this.forEach(function(ot,dt){ht.push(dt)}),_t(ht)},Et.prototype.values=function(){var ht=[];return this.forEach(function(ot){ht.push(ot)}),_t(ht)},Et.prototype.entries=function(){var ht=[];return this.forEach(function(ot,dt){ht.push([dt,ot])}),_t(ht)},at.iterable&&(Et.prototype[Symbol.iterator]=Et.prototype.entries);function $t(ht){if(ht.bodyUsed)return Promise.reject(new TypeError("Already read"));ht.bodyUsed=!0}function It(ht){return new Promise(function(ot,dt){ht.onload=function(){ot(ht.result)},ht.onerror=function(){dt(ht.error)}})}function Tt(ht){var ot=new FileReader,dt=It(ot);return ot.readAsArrayBuffer(ht),dt}function At(ht){var ot=new FileReader,dt=It(ot);return ot.readAsText(ht),dt}function Rt(ht){for(var ot=new Uint8Array(ht),dt=new Array(ot.length),mt=0;mt<ot.length;mt++)dt[mt]=String.fromCharCode(ot[mt]);return dt.join("")}function kt(ht){if(ht.slice)return ht.slice(0);var ot=new Uint8Array(ht.byteLength);return ot.set(new Uint8Array(ht)),ot.buffer}function Ot(){return this.bodyUsed=!1,this._initBody=function(ht){this._bodyInit=ht,ht?typeof ht=="string"?this._bodyText=ht:at.blob&&Blob.prototype.isPrototypeOf(ht)?this._bodyBlob=ht:at.formData&&FormData.prototype.isPrototypeOf(ht)?this._bodyFormData=ht:at.searchParams&&URLSearchParams.prototype.isPrototypeOf(ht)?this._bodyText=ht.toString():at.arrayBuffer&&at.blob&&st(ht)?(this._bodyArrayBuffer=kt(ht.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):at.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ht)||ut(ht))?this._bodyArrayBuffer=kt(ht):this._bodyText=ht=Object.prototype.toString.call(ht):this._bodyText="",this.headers.get("content-type")||(typeof ht=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):at.searchParams&&URLSearchParams.prototype.isPrototypeOf(ht)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},at.blob&&(this.blob=function(){var ht=$t(this);if(ht)return ht;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?$t(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Tt)}),this.text=function(){var ht=$t(this);if(ht)return ht;if(this._bodyBlob)return At(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Rt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},at.formData&&(this.formData=function(){return this.text().then(Jt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Wt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function zt(ht){var ot=ht.toUpperCase();return Wt.indexOf(ot)>-1?ot:ht}function Kt(ht,ot){ot=ot||{};var dt=ot.body;if(ht instanceof Kt){if(ht.bodyUsed)throw new TypeError("Already read");this.url=ht.url,this.credentials=ht.credentials,ot.headers||(this.headers=new Et(ht.headers)),this.method=ht.method,this.mode=ht.mode,this.signal=ht.signal,!dt&&ht._bodyInit!=null&&(dt=ht._bodyInit,ht.bodyUsed=!0)}else this.url=String(ht);if(this.credentials=ot.credentials||this.credentials||"same-origin",(ot.headers||!this.headers)&&(this.headers=new Et(ot.headers)),this.method=zt(ot.method||this.method||"GET"),this.mode=ot.mode||this.mode||null,this.signal=ot.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&dt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(dt)}Kt.prototype.clone=function(){return new Kt(this,{body:this._bodyInit})};function Jt(ht){var ot=new FormData;return ht.trim().split("&").forEach(function(dt){if(dt){var mt=dt.split("="),wt=mt.shift().replace(/\+/g," "),bt=mt.join("=").replace(/\+/g," ");ot.append(decodeURIComponent(wt),decodeURIComponent(bt))}}),ot}function ar(ht){var ot=new Et,dt=ht.replace(/\r?\n[\t ]+/g," ");return dt.split(/\r?\n/).forEach(function(mt){var wt=mt.split(":"),bt=wt.shift().trim();if(bt){var vt=wt.join(":").trim();ot.append(bt,vt)}}),ot}Ot.call(Kt.prototype);function jt(ht,ot){ot||(ot={}),this.type="default",this.status=ot.status===void 0?200:ot.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in ot?ot.statusText:"OK",this.headers=new Et(ot.headers),this.url=ot.url||"",this._initBody(ht)}Ot.call(jt.prototype),jt.prototype.clone=function(){return new jt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Et(this.headers),url:this.url})},jt.error=function(){var ht=new jt(null,{status:0,statusText:""});return ht.type="error",ht};var Ct=[301,302,303,307,308];jt.redirect=function(ht,ot){if(Ct.indexOf(ot)===-1)throw new RangeError("Invalid status code");return new jt(null,{status:ot,headers:{location:ht}})},it.DOMException=nt.DOMException;try{new it.DOMException}catch{it.DOMException=function(ot,dt){this.message=ot,this.name=dt;var mt=Error(ot);this.stack=mt.stack},it.DOMException.prototype=Object.create(Error.prototype),it.DOMException.prototype.constructor=it.DOMException}function Nt(ht,ot){return new Promise(function(dt,mt){var wt=new Kt(ht,ot);if(wt.signal&&wt.signal.aborted)return mt(new it.DOMException("Aborted","AbortError"));var bt=new XMLHttpRequest;function vt(){bt.abort()}bt.onload=function(){var St={status:bt.status,statusText:bt.statusText,headers:ar(bt.getAllResponseHeaders()||"")};St.url="responseURL"in bt?bt.responseURL:St.headers.get("X-Request-URL");var yt="response"in bt?bt.response:bt.responseText;dt(new jt(yt,St))},bt.onerror=function(){mt(new TypeError("Network request failed"))},bt.ontimeout=function(){mt(new TypeError("Network request failed"))},bt.onabort=function(){mt(new it.DOMException("Aborted","AbortError"))},bt.open(wt.method,wt.url,!0),wt.credentials==="include"?bt.withCredentials=!0:wt.credentials==="omit"&&(bt.withCredentials=!1),"responseType"in bt&&at.blob&&(bt.responseType="blob"),wt.headers.forEach(function(St,yt){bt.setRequestHeader(yt,St)}),wt.signal&&(wt.signal.addEventListener("abort",vt),bt.onreadystatechange=function(){bt.readyState===4&&wt.signal.removeEventListener("abort",vt)}),bt.send(typeof wt._bodyInit=="undefined"?null:wt._bodyInit)})}return Nt.polyfill=!0,nt.fetch||(nt.fetch=Nt,nt.Headers=Et,nt.Request=Kt,nt.Response=jt),it.Headers=Et,it.Request=Kt,it.Response=jt,it.fetch=Nt,Object.defineProperty(it,"__esModule",{value:!0}),it})({})})(tt),tt.fetch.ponyfill=!0,delete tt.fetch.polyfill;var rt=tt;_e=rt.fetch,_e.default=rt.fetch,_e.fetch=rt.fetch,_e.Headers=rt.Headers,_e.Request=rt.Request,_e.Response=rt.Response,et.exports=_e})(browserPonyfill,browserPonyfill.exports);var fetch$1=getDefaultExportFromCjs(browserPonyfill.exports),eventemitter3$1={exports:{}};(function(et){var _e=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(ct,ut,ft){this.fn=ct,this.context=ut,this.once=ft||!1}function it(ct,ut,ft,gt,_t){if(typeof ft!="function")throw new TypeError("The listener must be a function");var Et=new nt(ft,gt||ct,_t),$t=tt?tt+ut:ut;return ct._events[$t]?ct._events[$t].fn?ct._events[$t]=[ct._events[$t],Et]:ct._events[$t].push(Et):(ct._events[$t]=Et,ct._eventsCount++),ct}function at(ct,ut){--ct._eventsCount===0?ct._events=new rt:delete ct._events[ut]}function st(){this._events=new rt,this._eventsCount=0}st.prototype.eventNames=function(){var ut=[],ft,gt;if(this._eventsCount===0)return ut;for(gt in ft=this._events)_e.call(ft,gt)&&ut.push(tt?gt.slice(1):gt);return Object.getOwnPropertySymbols?ut.concat(Object.getOwnPropertySymbols(ft)):ut},st.prototype.listeners=function(ut){var ft=tt?tt+ut:ut,gt=this._events[ft];if(!gt)return[];if(gt.fn)return[gt.fn];for(var _t=0,Et=gt.length,$t=new Array(Et);_t<Et;_t++)$t[_t]=gt[_t].fn;return $t},st.prototype.listenerCount=function(ut){var ft=tt?tt+ut:ut,gt=this._events[ft];return gt?gt.fn?1:gt.length:0},st.prototype.emit=function(ut,ft,gt,_t,Et,$t){var It=tt?tt+ut:ut;if(!this._events[It])return!1;var Tt=this._events[It],At=arguments.length,Rt,kt;if(Tt.fn){switch(Tt.once&&this.removeListener(ut,Tt.fn,void 0,!0),At){case 1:return Tt.fn.call(Tt.context),!0;case 2:return Tt.fn.call(Tt.context,ft),!0;case 3:return Tt.fn.call(Tt.context,ft,gt),!0;case 4:return Tt.fn.call(Tt.context,ft,gt,_t),!0;case 5:return Tt.fn.call(Tt.context,ft,gt,_t,Et),!0;case 6:return Tt.fn.call(Tt.context,ft,gt,_t,Et,$t),!0}for(kt=1,Rt=new Array(At-1);kt<At;kt++)Rt[kt-1]=arguments[kt];Tt.fn.apply(Tt.context,Rt)}else{var Ot=Tt.length,Wt;for(kt=0;kt<Ot;kt++)switch(Tt[kt].once&&this.removeListener(ut,Tt[kt].fn,void 0,!0),At){case 1:Tt[kt].fn.call(Tt[kt].context);break;case 2:Tt[kt].fn.call(Tt[kt].context,ft);break;case 3:Tt[kt].fn.call(Tt[kt].context,ft,gt);break;case 4:Tt[kt].fn.call(Tt[kt].context,ft,gt,_t);break;default:if(!Rt)for(Wt=1,Rt=new Array(At-1);Wt<At;Wt++)Rt[Wt-1]=arguments[Wt];Tt[kt].fn.apply(Tt[kt].context,Rt)}}return!0},st.prototype.on=function(ut,ft,gt){return it(this,ut,ft,gt,!1)},st.prototype.once=function(ut,ft,gt){return it(this,ut,ft,gt,!0)},st.prototype.removeListener=function(ut,ft,gt,_t){var Et=tt?tt+ut:ut;if(!this._events[Et])return this;if(!ft)return at(this,Et),this;var $t=this._events[Et];if($t.fn)$t.fn===ft&&(!_t||$t.once)&&(!gt||$t.context===gt)&&at(this,Et);else{for(var It=0,Tt=[],At=$t.length;It<At;It++)($t[It].fn!==ft||_t&&!$t[It].once||gt&&$t[It].context!==gt)&&Tt.push($t[It]);Tt.length?this._events[Et]=Tt.length===1?Tt[0]:Tt:at(this,Et)}return this},st.prototype.removeAllListeners=function(ut){var ft;return ut?(ft=tt?tt+ut:ut,this._events[ft]&&at(this,ft)):(this._events=new rt,this._eventsCount=0),this},st.prototype.off=st.prototype.removeListener,st.prototype.addListener=st.prototype.on,st.prefixed=tt,st.EventEmitter=st,et.exports=st})(eventemitter3$1);var EventEmitter$1$1=eventemitter3$1.exports,ForwarderABI=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gas",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Forwarder.ForwardRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"execute",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gas",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Forwarder.ForwardRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],browser$2=typeof self=="object"?self.FormData:window.FormData;let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let et=0;et<256;++et)byteToHex.push((et+256).toString(16).slice(1));function unsafeStringify(et,_e=0){return(byteToHex[et[_e+0]]+byteToHex[et[_e+1]]+byteToHex[et[_e+2]]+byteToHex[et[_e+3]]+"-"+byteToHex[et[_e+4]]+byteToHex[et[_e+5]]+"-"+byteToHex[et[_e+6]]+byteToHex[et[_e+7]]+"-"+byteToHex[et[_e+8]]+byteToHex[et[_e+9]]+"-"+byteToHex[et[_e+10]]+byteToHex[et[_e+11]]+byteToHex[et[_e+12]]+byteToHex[et[_e+13]]+byteToHex[et[_e+14]]+byteToHex[et[_e+15]]).toLowerCase()}const randomUUID=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var native={randomUUID};function v4(et,_e,tt){if(native.randomUUID&&!_e&&!et)return native.randomUUID();et=et||{};const rt=et.random||(et.rng||rng)();if(rt[6]=rt[6]&15|64,rt[8]=rt[8]&63|128,_e){tt=tt||0;for(let nt=0;nt<16;++nt)_e[tt+nt]=rt[nt];return _e}return unsafeStringify(rt)}function _toPrimitive$1(et,_e){if(typeof et!="object"||et===null)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(et,_e||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey$1(et){var _e=_toPrimitive$1(et,"string");return typeof _e=="symbol"?_e:String(_e)}function _defineProperty$4(et,_e,tt){return _e=_toPropertyKey$1(_e),_e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}const DEFAULT_GATEWAY_URLS={"ipfs://":["https://gateway.ipfscdn.io/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://ipfs.io/ipfs/"]},TW_IPFS_SERVER_URL="https://upload.nftlabs.co",PINATA_IPFS_URL="https://api.pinata.cloud/pinning/pinFileToIPFS";function prepareGatewayUrls(et){const _e={...et,...DEFAULT_GATEWAY_URLS};for(const tt of Object.keys(DEFAULT_GATEWAY_URLS))if(et&&et[tt]){const rt=et[tt].map(nt=>nt.replace(/\/$/,"")+"/");_e[tt]=[...rt,...DEFAULT_GATEWAY_URLS[tt]]}return _e}function isBrowser$6(){return typeof window!="undefined"}function isFileInstance(et){return globalThis.File&&et instanceof File}function isBufferInstance(et){return globalThis.Buffer&&et instanceof Buffer}function isBufferOrStringWithName(et){return!!(et&&et.name&&et.data&&typeof et.name=="string"&&(typeof et.data=="string"||isBufferInstance(et.data)))}function isFileOrBuffer(et){return isFileInstance(et)||isBufferInstance(et)||isBufferOrStringWithName(et)}function isFileBufferOrStringEqual(et,_e){if(isFileInstance(et)&&isFileInstance(_e)){if(et.name===_e.name&&et.lastModified===_e.lastModified&&et.size===_e.size)return!0}else{if(isBufferInstance(et)&&isBufferInstance(_e))return et.equals(_e);if(isBufferOrStringWithName(et)&&isBufferOrStringWithName(_e)&&et.name===_e.name){if(typeof et.data=="string"&&typeof _e.data=="string")return et.data===_e.data;if(isBufferInstance(et.data)&&isBufferInstance(_e.data))return et.data.equals(_e.data)}}return!1}function replaceGatewayUrlWithScheme(et,_e){for(const tt of Object.keys(_e))for(const rt of _e[tt])if(et.startsWith(rt))return et.replace(rt,tt);return et}function replaceSchemeWithGatewayUrl(et,_e){let tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const rt=Object.keys(_e).find(it=>et.startsWith(it)),nt=rt?_e[rt]:[];if(!(!rt&&tt>0||rt&&tt>=nt.length))return rt?et.replace(rt,nt[tt]):et}function replaceObjectGatewayUrlsWithSchemes(et,_e){return typeof et=="string"?replaceGatewayUrlWithScheme(et,_e):typeof et=="object"?!et||isFileOrBuffer(et)?et:Array.isArray(et)?et.map(tt=>replaceObjectGatewayUrlsWithSchemes(tt,_e)):Object.fromEntries(Object.entries(et).map(tt=>{let[rt,nt]=tt;return[rt,replaceObjectGatewayUrlsWithSchemes(nt,_e)]})):et}function replaceObjectSchemesWithGatewayUrls(et,_e){return typeof et=="string"?replaceSchemeWithGatewayUrl(et,_e):typeof et=="object"?!et||isFileOrBuffer(et)?et:Array.isArray(et)?et.map(tt=>replaceObjectSchemesWithGatewayUrls(tt,_e)):Object.fromEntries(Object.entries(et).map(tt=>{let[rt,nt]=tt;return[rt,replaceObjectSchemesWithGatewayUrls(nt,_e)]})):et}function extractObjectFiles(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(isFileOrBuffer(et))return _e.push(et),_e;if(typeof et=="object"){if(!et)return _e;Array.isArray(et)?et.forEach(tt=>extractObjectFiles(tt,_e)):Object.keys(et).map(tt=>extractObjectFiles(et[tt],_e))}return _e}function replaceObjectFilesWithUris(et,_e){if(isFileOrBuffer(et)){if(_e.length)return et=_e.shift(),et;console.warn("Not enough URIs to replace all files in object.")}return typeof et=="object"?et&&(Array.isArray(et)?et.map(tt=>replaceObjectFilesWithUris(tt,_e)):Object.fromEntries(Object.entries(et).map(tt=>{let[rt,nt]=tt;return[rt,replaceObjectFilesWithUris(nt,_e)]}))):et}class StorageDownloader{async download(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(rt>3)throw new Error("[FAILED_TO_DOWNLOAD_ERROR] Failed to download from URI - too many attempts failed.");const nt=replaceSchemeWithGatewayUrl(_e,tt,rt);if(!nt)throw new Error("[FAILED_TO_DOWNLOAD_ERROR] Unable to download from URI - all gateway URLs failed to respond.");const it=await fetch$1(nt);return it.status>=500||it.status===403||it.status===408?(console.warn(`Request to ${nt} failed with status ${it.status} - ${it.statusText}`),this.download(_e,tt,rt+1)):it}}class IpfsUploader{constructor(_e){_defineProperty$4(this,"uploadWithGatewayUrl",void 0),this.uploadWithGatewayUrl=(_e==null?void 0:_e.uploadWithGatewayUrl)||!1}async uploadBatch(_e,tt){if((tt==null?void 0:tt.uploadWithoutDirectory)&&_e.length>1)throw new Error("[UPLOAD_WITHOUT_DIRECTORY_ERROR] Cannot upload more than one file or object without directory!");const rt=new browser$2,{form:nt,fileNames:it}=this.buildFormData(rt,_e,tt);return isBrowser$6()?this.uploadBatchBrowser(nt,it,tt):this.uploadBatchNode(nt,it,tt)}async getUploadToken(){const _e=await fetch$1(`${TW_IPFS_SERVER_URL}/grant`,{method:"GET",headers:{"X-APP-NAME":{}.CI?"Storage SDK CI":"Storage SDK"}});if(!_e.ok)throw new Error("Failed to get upload token");return await _e.text()}buildFormData(_e,tt,rt){const nt=new Map,it=[];for(let st=0;st<tt.length;st++){const ct=tt[st];let ut="",ft=ct;if(isFileInstance(ct))if(rt!=null&&rt.rewriteFileNames){let _t="";if(ct.name){const Et=ct.name.lastIndexOf(".");Et>-1&&(_t=ct.name.substring(Et))}ut=`${st+rt.rewriteFileNames.fileStartNumber}${_t}`}else ut=`${ct.name}`;else isBufferOrStringWithName(ct)?(ft=ct.data,rt!=null&&rt.rewriteFileNames?ut=`${st+rt.rewriteFileNames.fileStartNumber}`:ut=`${ct.name}`):rt!=null&&rt.rewriteFileNames?ut=`${st+rt.rewriteFileNames.fileStartNumber}`:ut=`${st}`;const gt=rt!=null&&rt.uploadWithoutDirectory?"files":`files/${ut}`;if(nt.has(ut)){if(isFileBufferOrStringEqual(nt.get(ut),ct)){it.push(ut);continue}throw new Error(`[DUPLICATE_FILE_NAME_ERROR] File name ${ut} was passed for more than one different file.`)}nt.set(ut,ct),it.push(ut),isBrowser$6()?_e.append("file",new Blob([ft]),gt):_e.append("file",ft,{filepath:gt})}const at={name:"Storage SDK",keyvalues:{}};return _e.append("pinataMetadata",JSON.stringify(at)),rt!=null&&rt.uploadWithoutDirectory&&_e.append("pinataOptions",JSON.stringify({wrapWithDirectory:!1})),{form:_e,fileNames:it.map(st=>encodeURIComponent(st))}}async uploadBatchBrowser(_e,tt,rt){const nt=await this.getUploadToken();return new Promise((it,at)=>{const st=new XMLHttpRequest;let ct=setTimeout(()=>{st.abort(),at(new Error("Request to upload timed out! No upload progress received in 30s"))},3e4);st.upload.addEventListener("loadstart",()=>{console.log(`[${Date.now()}] [IPFS] Started`)}),st.upload.addEventListener("progress",ut=>{console.log(`[IPFS] Progress Event ${ut.loaded}/${ut.total}`),clearTimeout(ct),ut.loaded<ut.total?ct=setTimeout(()=>{st.abort(),at(new Error("Request to upload timed out! No upload progress received in 30s"))},3e4):console.log(`[${Date.now()}] [IPFS] Uploaded files. Waiting for response.`),ut.lengthComputable&&(rt==null?void 0:rt.onProgress)&&(rt==null||rt.onProgress({progress:ut.loaded,total:ut.total}))}),st.addEventListener("load",()=>{if(console.log(`[${Date.now()}] [IPFS] Load`),clearTimeout(ct),st.status>=200&&st.status<300){let ut;try{ut=JSON.parse(st.responseText)}catch{return at(new Error("Failed to parse JSON from upload response"))}const ft=ut.IpfsHash;if(!ft)throw new Error("Failed to get IPFS hash from upload response");return rt!=null&&rt.uploadWithoutDirectory?it([`ipfs://${ft}`]):it(tt.map(gt=>`ipfs://${ft}/${gt}`))}return at(new Error(`Upload failed with status ${st.status} - ${st.responseText}`))}),st.addEventListener("error",()=>(console.log("[IPFS] Load"),clearTimeout(ct),st.readyState!==0&&st.readyState!==4||st.status===0?at(new Error("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.")):at(new Error("Unknown upload error occured")))),st.open("POST",PINATA_IPFS_URL),st.setRequestHeader("Authorization",`Bearer ${nt}`),st.send(_e)})}async uploadBatchNode(_e,tt,rt){const nt=await this.getUploadToken();rt!=null&&rt.onProgress&&console.warn("The onProgress option is only supported in the browser");const it=await fetch$1(PINATA_IPFS_URL,{method:"POST",headers:{Authorization:`Bearer ${nt}`,..._e.getHeaders()},body:_e.getBuffer()}),at=await it.json();if(!it.ok)throw console.warn(at),new Error("Failed to upload files to IPFS");const st=at.IpfsHash;if(!st)throw new Error("Failed to upload files to IPFS");return rt!=null&&rt.uploadWithoutDirectory?[`ipfs://${st}`]:tt.map(ct=>`ipfs://${st}/${ct}`)}}class ThirdwebStorage{constructor(_e){_defineProperty$4(this,"uploader",void 0),_defineProperty$4(this,"downloader",void 0),_defineProperty$4(this,"gatewayUrls",void 0),this.uploader=(_e==null?void 0:_e.uploader)||new IpfsUploader,this.downloader=(_e==null?void 0:_e.downloader)||new StorageDownloader,this.gatewayUrls=prepareGatewayUrls(_e==null?void 0:_e.gatewayUrls)}resolveScheme(_e){return replaceSchemeWithGatewayUrl(_e,this.gatewayUrls)}async download(_e){return this.downloader.download(_e,this.gatewayUrls)}async downloadJSON(_e){const rt=await(await this.download(_e)).json();return replaceObjectSchemesWithGatewayUrls(rt,this.gatewayUrls)}async upload(_e,tt){const[rt]=await this.uploadBatch([_e],tt);return rt}async uploadBatch(_e,tt){if(_e=_e.filter(it=>it!==void 0),!_e.length)return[];const rt=_e.map(it=>isFileOrBuffer(it)||typeof it=="string").every(it=>!!it);let nt=[];if(rt)nt=await this.uploader.uploadBatch(_e,tt);else{const it=(await this.uploadAndReplaceFilesWithHashes(_e,tt)).map(at=>typeof at=="string"?at:JSON.stringify(at));nt=await this.uploader.uploadBatch(it,tt)}return(tt==null?void 0:tt.uploadWithGatewayUrl)||this.uploader.uploadWithGatewayUrl?nt.map(it=>this.resolveScheme(it)):nt}async uploadAndReplaceFilesWithHashes(_e,tt){let rt=_e;rt=replaceObjectGatewayUrlsWithSchemes(rt,this.gatewayUrls);const nt=extractObjectFiles(rt);if(nt.length){const it=await this.uploader.uploadBatch(nt,tt);rt=replaceObjectFilesWithUris(rt,it)}return((tt==null?void 0:tt.uploadWithGatewayUrl)||this.uploader.uploadWithGatewayUrl)&&(rt=replaceObjectSchemesWithGatewayUrls(rt,this.gatewayUrls)),rt}}var ERC20MetadataAbi=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],RouterABI=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"string",name:"functionSignature",type:"string"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldPluginAddress",type:"address"},{indexed:!0,internalType:"address",name:"newPluginAddress",type:"address"}],name:"PluginUpdated",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"_getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"_plugin",type:"tuple"}],name:"addPlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pluginAddress",type:"address"}],name:"getAllFunctionsOfPlugin",outputs:[{internalType:"bytes4[]",name:"registered",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pluginMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"removePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"_plugin",type:"tuple"}],name:"updatePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],IThirdwebContractABI=[{inputs:[],name:"contractType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"contractVersion",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable",type:"function"}],dist$3={},MerkleTree$1={},buffer$2={},base64Js={};base64Js.byteLength=byteLength$1;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array!="undefined"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$5=0,len=code.length;i$5<len;++i$5)lookup[i$5]=code[i$5],revLookup[code.charCodeAt(i$5)]=i$5;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(et){var _e=et.length;if(_e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var tt=et.indexOf("=");tt===-1&&(tt=_e);var rt=tt===_e?0:4-tt%4;return[tt,rt]}function byteLength$1(et){var _e=getLens(et),tt=_e[0],rt=_e[1];return(tt+rt)*3/4-rt}function _byteLength(et,_e,tt){return(_e+tt)*3/4-tt}function toByteArray(et){var _e,tt=getLens(et),rt=tt[0],nt=tt[1],it=new Arr(_byteLength(et,rt,nt)),at=0,st=nt>0?rt-4:rt,ct;for(ct=0;ct<st;ct+=4)_e=revLookup[et.charCodeAt(ct)]<<18|revLookup[et.charCodeAt(ct+1)]<<12|revLookup[et.charCodeAt(ct+2)]<<6|revLookup[et.charCodeAt(ct+3)],it[at++]=_e>>16&255,it[at++]=_e>>8&255,it[at++]=_e&255;return nt===2&&(_e=revLookup[et.charCodeAt(ct)]<<2|revLookup[et.charCodeAt(ct+1)]>>4,it[at++]=_e&255),nt===1&&(_e=revLookup[et.charCodeAt(ct)]<<10|revLookup[et.charCodeAt(ct+1)]<<4|revLookup[et.charCodeAt(ct+2)]>>2,it[at++]=_e>>8&255,it[at++]=_e&255),it}function tripletToBase64(et){return lookup[et>>18&63]+lookup[et>>12&63]+lookup[et>>6&63]+lookup[et&63]}function encodeChunk(et,_e,tt){for(var rt,nt=[],it=_e;it<tt;it+=3)rt=(et[it]<<16&16711680)+(et[it+1]<<8&65280)+(et[it+2]&255),nt.push(tripletToBase64(rt));return nt.join("")}function fromByteArray(et){for(var _e,tt=et.length,rt=tt%3,nt=[],it=16383,at=0,st=tt-rt;at<st;at+=it)nt.push(encodeChunk(et,at,at+it>st?st:at+it));return rt===1?(_e=et[tt-1],nt.push(lookup[_e>>2]+lookup[_e<<4&63]+"==")):rt===2&&(_e=(et[tt-2]<<8)+et[tt-1],nt.push(lookup[_e>>10]+lookup[_e>>4&63]+lookup[_e<<2&63]+"=")),nt.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(et,_e,tt,rt,nt){var it,at,st=nt*8-rt-1,ct=(1<<st)-1,ut=ct>>1,ft=-7,gt=tt?nt-1:0,_t=tt?-1:1,Et=et[_e+gt];for(gt+=_t,it=Et&(1<<-ft)-1,Et>>=-ft,ft+=st;ft>0;it=it*256+et[_e+gt],gt+=_t,ft-=8);for(at=it&(1<<-ft)-1,it>>=-ft,ft+=rt;ft>0;at=at*256+et[_e+gt],gt+=_t,ft-=8);if(it===0)it=1-ut;else{if(it===ct)return at?NaN:(Et?-1:1)*(1/0);at=at+Math.pow(2,rt),it=it-ut}return(Et?-1:1)*at*Math.pow(2,it-rt)};ieee754.write=function(et,_e,tt,rt,nt,it){var at,st,ct,ut=it*8-nt-1,ft=(1<<ut)-1,gt=ft>>1,_t=nt===23?Math.pow(2,-24)-Math.pow(2,-77):0,Et=rt?0:it-1,$t=rt?1:-1,It=_e<0||_e===0&&1/_e<0?1:0;for(_e=Math.abs(_e),isNaN(_e)||_e===1/0?(st=isNaN(_e)?1:0,at=ft):(at=Math.floor(Math.log(_e)/Math.LN2),_e*(ct=Math.pow(2,-at))<1&&(at--,ct*=2),at+gt>=1?_e+=_t/ct:_e+=_t*Math.pow(2,1-gt),_e*ct>=2&&(at++,ct/=2),at+gt>=ft?(st=0,at=ft):at+gt>=1?(st=(_e*ct-1)*Math.pow(2,nt),at=at+gt):(st=_e*Math.pow(2,gt-1)*Math.pow(2,nt),at=0));nt>=8;et[tt+Et]=st&255,Et+=$t,st/=256,nt-=8);for(at=at<<nt|st,ut+=nt;ut>0;et[tt+Et]=at&255,Et+=$t,at/=256,ut-=8);et[tt+Et-$t]|=It*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(et){var _e=base64Js,tt=ieee754,rt=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;et.Buffer=st,et.SlowBuffer=Rt,et.INSPECT_MAX_BYTES=50;var nt=2147483647;et.kMaxLength=nt,st.TYPED_ARRAY_SUPPORT=it(),!st.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function it(){try{var er=new Uint8Array(1),Ft={foo:function(){return 42}};return Object.setPrototypeOf(Ft,Uint8Array.prototype),Object.setPrototypeOf(er,Ft),er.foo()===42}catch{return!1}}Object.defineProperty(st.prototype,"parent",{enumerable:!0,get:function(){if(!!st.isBuffer(this))return this.buffer}}),Object.defineProperty(st.prototype,"offset",{enumerable:!0,get:function(){if(!!st.isBuffer(this))return this.byteOffset}});function at(er){if(er>nt)throw new RangeError('The value "'+er+'" is invalid for option "size"');var Ft=new Uint8Array(er);return Object.setPrototypeOf(Ft,st.prototype),Ft}function st(er,Ft,Lt){if(typeof er=="number"){if(typeof Ft=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return gt(er)}return ct(er,Ft,Lt)}st.poolSize=8192;function ct(er,Ft,Lt){if(typeof er=="string")return _t(er,Ft);if(ArrayBuffer.isView(er))return $t(er);if(er==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof er);if(Ur(er,ArrayBuffer)||er&&Ur(er.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ur(er,SharedArrayBuffer)||er&&Ur(er.buffer,SharedArrayBuffer)))return It(er,Ft,Lt);if(typeof er=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Qt=er.valueOf&&er.valueOf();if(Qt!=null&&Qt!==er)return st.from(Qt,Ft,Lt);var tr=Tt(er);if(tr)return tr;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof er[Symbol.toPrimitive]=="function")return st.from(er[Symbol.toPrimitive]("string"),Ft,Lt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof er)}st.from=function(er,Ft,Lt){return ct(er,Ft,Lt)},Object.setPrototypeOf(st.prototype,Uint8Array.prototype),Object.setPrototypeOf(st,Uint8Array);function ut(er){if(typeof er!="number")throw new TypeError('"size" argument must be of type number');if(er<0)throw new RangeError('The value "'+er+'" is invalid for option "size"')}function ft(er,Ft,Lt){return ut(er),er<=0?at(er):Ft!==void 0?typeof Lt=="string"?at(er).fill(Ft,Lt):at(er).fill(Ft):at(er)}st.alloc=function(er,Ft,Lt){return ft(er,Ft,Lt)};function gt(er){return ut(er),at(er<0?0:At(er)|0)}st.allocUnsafe=function(er){return gt(er)},st.allocUnsafeSlow=function(er){return gt(er)};function _t(er,Ft){if((typeof Ft!="string"||Ft==="")&&(Ft="utf8"),!st.isEncoding(Ft))throw new TypeError("Unknown encoding: "+Ft);var Lt=kt(er,Ft)|0,Qt=at(Lt),tr=Qt.write(er,Ft);return tr!==Lt&&(Qt=Qt.slice(0,tr)),Qt}function Et(er){for(var Ft=er.length<0?0:At(er.length)|0,Lt=at(Ft),Qt=0;Qt<Ft;Qt+=1)Lt[Qt]=er[Qt]&255;return Lt}function $t(er){if(Ur(er,Uint8Array)){var Ft=new Uint8Array(er);return It(Ft.buffer,Ft.byteOffset,Ft.byteLength)}return Et(er)}function It(er,Ft,Lt){if(Ft<0||er.byteLength<Ft)throw new RangeError('"offset" is outside of buffer bounds');if(er.byteLength<Ft+(Lt||0))throw new RangeError('"length" is outside of buffer bounds');var Qt;return Ft===void 0&&Lt===void 0?Qt=new Uint8Array(er):Lt===void 0?Qt=new Uint8Array(er,Ft):Qt=new Uint8Array(er,Ft,Lt),Object.setPrototypeOf(Qt,st.prototype),Qt}function Tt(er){if(st.isBuffer(er)){var Ft=At(er.length)|0,Lt=at(Ft);return Lt.length===0||er.copy(Lt,0,0,Ft),Lt}if(er.length!==void 0)return typeof er.length!="number"||dr(er.length)?at(0):Et(er);if(er.type==="Buffer"&&Array.isArray(er.data))return Et(er.data)}function At(er){if(er>=nt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+nt.toString(16)+" bytes");return er|0}function Rt(er){return+er!=er&&(er=0),st.alloc(+er)}st.isBuffer=function(Ft){return Ft!=null&&Ft._isBuffer===!0&&Ft!==st.prototype},st.compare=function(Ft,Lt){if(Ur(Ft,Uint8Array)&&(Ft=st.from(Ft,Ft.offset,Ft.byteLength)),Ur(Lt,Uint8Array)&&(Lt=st.from(Lt,Lt.offset,Lt.byteLength)),!st.isBuffer(Ft)||!st.isBuffer(Lt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ft===Lt)return 0;for(var Qt=Ft.length,tr=Lt.length,sr=0,Er=Math.min(Qt,tr);sr<Er;++sr)if(Ft[sr]!==Lt[sr]){Qt=Ft[sr],tr=Lt[sr];break}return Qt<tr?-1:tr<Qt?1:0},st.isEncoding=function(Ft){switch(String(Ft).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},st.concat=function(Ft,Lt){if(!Array.isArray(Ft))throw new TypeError('"list" argument must be an Array of Buffers');if(Ft.length===0)return st.alloc(0);var Qt;if(Lt===void 0)for(Lt=0,Qt=0;Qt<Ft.length;++Qt)Lt+=Ft[Qt].length;var tr=st.allocUnsafe(Lt),sr=0;for(Qt=0;Qt<Ft.length;++Qt){var Er=Ft[Qt];if(Ur(Er,Uint8Array))sr+Er.length>tr.length?st.from(Er).copy(tr,sr):Uint8Array.prototype.set.call(tr,Er,sr);else if(st.isBuffer(Er))Er.copy(tr,sr);else throw new TypeError('"list" argument must be an Array of Buffers');sr+=Er.length}return tr};function kt(er,Ft){if(st.isBuffer(er))return er.length;if(ArrayBuffer.isView(er)||Ur(er,ArrayBuffer))return er.byteLength;if(typeof er!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof er);var Lt=er.length,Qt=arguments.length>2&&arguments[2]===!0;if(!Qt&&Lt===0)return 0;for(var tr=!1;;)switch(Ft){case"ascii":case"latin1":case"binary":return Lt;case"utf8":case"utf-8":return Yt(er).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lt*2;case"hex":return Lt>>>1;case"base64":return lr(er).length;default:if(tr)return Qt?-1:Yt(er).length;Ft=(""+Ft).toLowerCase(),tr=!0}}st.byteLength=kt;function Ot(er,Ft,Lt){var Qt=!1;if((Ft===void 0||Ft<0)&&(Ft=0),Ft>this.length||((Lt===void 0||Lt>this.length)&&(Lt=this.length),Lt<=0)||(Lt>>>=0,Ft>>>=0,Lt<=Ft))return"";for(er||(er="utf8");;)switch(er){case"hex":return vt(this,Ft,Lt);case"utf8":case"utf-8":return ot(this,Ft,Lt);case"ascii":return wt(this,Ft,Lt);case"latin1":case"binary":return bt(this,Ft,Lt);case"base64":return ht(this,Ft,Lt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return St(this,Ft,Lt);default:if(Qt)throw new TypeError("Unknown encoding: "+er);er=(er+"").toLowerCase(),Qt=!0}}st.prototype._isBuffer=!0;function Wt(er,Ft,Lt){var Qt=er[Ft];er[Ft]=er[Lt],er[Lt]=Qt}st.prototype.swap16=function(){var Ft=this.length;if(Ft%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Lt=0;Lt<Ft;Lt+=2)Wt(this,Lt,Lt+1);return this},st.prototype.swap32=function(){var Ft=this.length;if(Ft%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Lt=0;Lt<Ft;Lt+=4)Wt(this,Lt,Lt+3),Wt(this,Lt+1,Lt+2);return this},st.prototype.swap64=function(){var Ft=this.length;if(Ft%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Lt=0;Lt<Ft;Lt+=8)Wt(this,Lt,Lt+7),Wt(this,Lt+1,Lt+6),Wt(this,Lt+2,Lt+5),Wt(this,Lt+3,Lt+4);return this},st.prototype.toString=function(){var Ft=this.length;return Ft===0?"":arguments.length===0?ot(this,0,Ft):Ot.apply(this,arguments)},st.prototype.toLocaleString=st.prototype.toString,st.prototype.equals=function(Ft){if(!st.isBuffer(Ft))throw new TypeError("Argument must be a Buffer");return this===Ft?!0:st.compare(this,Ft)===0},st.prototype.inspect=function(){var Ft="",Lt=et.INSPECT_MAX_BYTES;return Ft=this.toString("hex",0,Lt).replace(/(.{2})/g,"$1 ").trim(),this.length>Lt&&(Ft+=" ... "),"<Buffer "+Ft+">"},rt&&(st.prototype[rt]=st.prototype.inspect),st.prototype.compare=function(Ft,Lt,Qt,tr,sr){if(Ur(Ft,Uint8Array)&&(Ft=st.from(Ft,Ft.offset,Ft.byteLength)),!st.isBuffer(Ft))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Ft);if(Lt===void 0&&(Lt=0),Qt===void 0&&(Qt=Ft?Ft.length:0),tr===void 0&&(tr=0),sr===void 0&&(sr=this.length),Lt<0||Qt>Ft.length||tr<0||sr>this.length)throw new RangeError("out of range index");if(tr>=sr&&Lt>=Qt)return 0;if(tr>=sr)return-1;if(Lt>=Qt)return 1;if(Lt>>>=0,Qt>>>=0,tr>>>=0,sr>>>=0,this===Ft)return 0;for(var Er=sr-tr,mr=Qt-Lt,gr=Math.min(Er,mr),Qr=this.slice(tr,sr),wr=Ft.slice(Lt,Qt),Vt=0;Vt<gr;++Vt)if(Qr[Vt]!==wr[Vt]){Er=Qr[Vt],mr=wr[Vt];break}return Er<mr?-1:mr<Er?1:0};function zt(er,Ft,Lt,Qt,tr){if(er.length===0)return-1;if(typeof Lt=="string"?(Qt=Lt,Lt=0):Lt>2147483647?Lt=2147483647:Lt<-2147483648&&(Lt=-2147483648),Lt=+Lt,dr(Lt)&&(Lt=tr?0:er.length-1),Lt<0&&(Lt=er.length+Lt),Lt>=er.length){if(tr)return-1;Lt=er.length-1}else if(Lt<0)if(tr)Lt=0;else return-1;if(typeof Ft=="string"&&(Ft=st.from(Ft,Qt)),st.isBuffer(Ft))return Ft.length===0?-1:Kt(er,Ft,Lt,Qt,tr);if(typeof Ft=="number")return Ft=Ft&255,typeof Uint8Array.prototype.indexOf=="function"?tr?Uint8Array.prototype.indexOf.call(er,Ft,Lt):Uint8Array.prototype.lastIndexOf.call(er,Ft,Lt):Kt(er,[Ft],Lt,Qt,tr);throw new TypeError("val must be string, number or Buffer")}function Kt(er,Ft,Lt,Qt,tr){var sr=1,Er=er.length,mr=Ft.length;if(Qt!==void 0&&(Qt=String(Qt).toLowerCase(),Qt==="ucs2"||Qt==="ucs-2"||Qt==="utf16le"||Qt==="utf-16le")){if(er.length<2||Ft.length<2)return-1;sr=2,Er/=2,mr/=2,Lt/=2}function gr(Bt,Gt){return sr===1?Bt[Gt]:Bt.readUInt16BE(Gt*sr)}var Qr;if(tr){var wr=-1;for(Qr=Lt;Qr<Er;Qr++)if(gr(er,Qr)===gr(Ft,wr===-1?0:Qr-wr)){if(wr===-1&&(wr=Qr),Qr-wr+1===mr)return wr*sr}else wr!==-1&&(Qr-=Qr-wr),wr=-1}else for(Lt+mr>Er&&(Lt=Er-mr),Qr=Lt;Qr>=0;Qr--){for(var Vt=!0,Dt=0;Dt<mr;Dt++)if(gr(er,Qr+Dt)!==gr(Ft,Dt)){Vt=!1;break}if(Vt)return Qr}return-1}st.prototype.includes=function(Ft,Lt,Qt){return this.indexOf(Ft,Lt,Qt)!==-1},st.prototype.indexOf=function(Ft,Lt,Qt){return zt(this,Ft,Lt,Qt,!0)},st.prototype.lastIndexOf=function(Ft,Lt,Qt){return zt(this,Ft,Lt,Qt,!1)};function Jt(er,Ft,Lt,Qt){Lt=Number(Lt)||0;var tr=er.length-Lt;Qt?(Qt=Number(Qt),Qt>tr&&(Qt=tr)):Qt=tr;var sr=Ft.length;Qt>sr/2&&(Qt=sr/2);for(var Er=0;Er<Qt;++Er){var mr=parseInt(Ft.substr(Er*2,2),16);if(dr(mr))return Er;er[Lt+Er]=mr}return Er}function ar(er,Ft,Lt,Qt){return ur(Yt(Ft,er.length-Lt),er,Lt,Qt)}function jt(er,Ft,Lt,Qt){return ur(rr(Ft),er,Lt,Qt)}function Ct(er,Ft,Lt,Qt){return ur(lr(Ft),er,Lt,Qt)}function Nt(er,Ft,Lt,Qt){return ur(Sr(Ft,er.length-Lt),er,Lt,Qt)}st.prototype.write=function(Ft,Lt,Qt,tr){if(Lt===void 0)tr="utf8",Qt=this.length,Lt=0;else if(Qt===void 0&&typeof Lt=="string")tr=Lt,Qt=this.length,Lt=0;else if(isFinite(Lt))Lt=Lt>>>0,isFinite(Qt)?(Qt=Qt>>>0,tr===void 0&&(tr="utf8")):(tr=Qt,Qt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var sr=this.length-Lt;if((Qt===void 0||Qt>sr)&&(Qt=sr),Ft.length>0&&(Qt<0||Lt<0)||Lt>this.length)throw new RangeError("Attempt to write outside buffer bounds");tr||(tr="utf8");for(var Er=!1;;)switch(tr){case"hex":return Jt(this,Ft,Lt,Qt);case"utf8":case"utf-8":return ar(this,Ft,Lt,Qt);case"ascii":case"latin1":case"binary":return jt(this,Ft,Lt,Qt);case"base64":return Ct(this,Ft,Lt,Qt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nt(this,Ft,Lt,Qt);default:if(Er)throw new TypeError("Unknown encoding: "+tr);tr=(""+tr).toLowerCase(),Er=!0}},st.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ht(er,Ft,Lt){return Ft===0&&Lt===er.length?_e.fromByteArray(er):_e.fromByteArray(er.slice(Ft,Lt))}function ot(er,Ft,Lt){Lt=Math.min(er.length,Lt);for(var Qt=[],tr=Ft;tr<Lt;){var sr=er[tr],Er=null,mr=sr>239?4:sr>223?3:sr>191?2:1;if(tr+mr<=Lt){var gr,Qr,wr,Vt;switch(mr){case 1:sr<128&&(Er=sr);break;case 2:gr=er[tr+1],(gr&192)===128&&(Vt=(sr&31)<<6|gr&63,Vt>127&&(Er=Vt));break;case 3:gr=er[tr+1],Qr=er[tr+2],(gr&192)===128&&(Qr&192)===128&&(Vt=(sr&15)<<12|(gr&63)<<6|Qr&63,Vt>2047&&(Vt<55296||Vt>57343)&&(Er=Vt));break;case 4:gr=er[tr+1],Qr=er[tr+2],wr=er[tr+3],(gr&192)===128&&(Qr&192)===128&&(wr&192)===128&&(Vt=(sr&15)<<18|(gr&63)<<12|(Qr&63)<<6|wr&63,Vt>65535&&Vt<1114112&&(Er=Vt))}}Er===null?(Er=65533,mr=1):Er>65535&&(Er-=65536,Qt.push(Er>>>10&1023|55296),Er=56320|Er&1023),Qt.push(Er),tr+=mr}return mt(Qt)}var dt=4096;function mt(er){var Ft=er.length;if(Ft<=dt)return String.fromCharCode.apply(String,er);for(var Lt="",Qt=0;Qt<Ft;)Lt+=String.fromCharCode.apply(String,er.slice(Qt,Qt+=dt));return Lt}function wt(er,Ft,Lt){var Qt="";Lt=Math.min(er.length,Lt);for(var tr=Ft;tr<Lt;++tr)Qt+=String.fromCharCode(er[tr]&127);return Qt}function bt(er,Ft,Lt){var Qt="";Lt=Math.min(er.length,Lt);for(var tr=Ft;tr<Lt;++tr)Qt+=String.fromCharCode(er[tr]);return Qt}function vt(er,Ft,Lt){var Qt=er.length;(!Ft||Ft<0)&&(Ft=0),(!Lt||Lt<0||Lt>Qt)&&(Lt=Qt);for(var tr="",sr=Ft;sr<Lt;++sr)tr+=xr[er[sr]];return tr}function St(er,Ft,Lt){for(var Qt=er.slice(Ft,Lt),tr="",sr=0;sr<Qt.length-1;sr+=2)tr+=String.fromCharCode(Qt[sr]+Qt[sr+1]*256);return tr}st.prototype.slice=function(Ft,Lt){var Qt=this.length;Ft=~~Ft,Lt=Lt===void 0?Qt:~~Lt,Ft<0?(Ft+=Qt,Ft<0&&(Ft=0)):Ft>Qt&&(Ft=Qt),Lt<0?(Lt+=Qt,Lt<0&&(Lt=0)):Lt>Qt&&(Lt=Qt),Lt<Ft&&(Lt=Ft);var tr=this.subarray(Ft,Lt);return Object.setPrototypeOf(tr,st.prototype),tr};function yt(er,Ft,Lt){if(er%1!==0||er<0)throw new RangeError("offset is not uint");if(er+Ft>Lt)throw new RangeError("Trying to access beyond buffer length")}st.prototype.readUintLE=st.prototype.readUIntLE=function(Ft,Lt,Qt){Ft=Ft>>>0,Lt=Lt>>>0,Qt||yt(Ft,Lt,this.length);for(var tr=this[Ft],sr=1,Er=0;++Er<Lt&&(sr*=256);)tr+=this[Ft+Er]*sr;return tr},st.prototype.readUintBE=st.prototype.readUIntBE=function(Ft,Lt,Qt){Ft=Ft>>>0,Lt=Lt>>>0,Qt||yt(Ft,Lt,this.length);for(var tr=this[Ft+--Lt],sr=1;Lt>0&&(sr*=256);)tr+=this[Ft+--Lt]*sr;return tr},st.prototype.readUint8=st.prototype.readUInt8=function(Ft,Lt){return Ft=Ft>>>0,Lt||yt(Ft,1,this.length),this[Ft]},st.prototype.readUint16LE=st.prototype.readUInt16LE=function(Ft,Lt){return Ft=Ft>>>0,Lt||yt(Ft,2,this.length),this[Ft]|this[Ft+1]<<8},st.prototype.readUint16BE=st.prototype.readUInt16BE=function(Ft,Lt){return Ft=Ft>>>0,Lt||yt(Ft,2,this.length),this[Ft]<<8|this[Ft+1]},st.prototype.readUint32LE=st.prototype.readUInt32LE=function(Ft,Lt){return Ft=Ft>>>0,Lt||yt(Ft,4,this.length),(this[Ft]|this[Ft+1]<<8|this[Ft+2]<<16)+this[Ft+3]*16777216},st.prototype.readUint32BE=st.prototype.readUInt32BE=function(Ft,Lt){return Ft=Ft>>>0,Lt||yt(Ft,4,this.length),this[Ft]*16777216+(this[Ft+1]<<16|this[Ft+2]<<8|this[Ft+3])},st.prototype.readIntLE=function(Ft,Lt,Qt){Ft=Ft>>>0,Lt=Lt>>>0,Qt||yt(Ft,Lt,this.length);for(var tr=this[Ft],sr=1,Er=0;++Er<Lt&&(sr*=256);)tr+=this[Ft+Er]*sr;return sr*=128,tr>=sr&&(tr-=Math.pow(2,8*Lt)),tr},st.prototype.readIntBE=function(Ft,Lt,Qt){Ft=Ft>>>0,Lt=Lt>>>0,Qt||yt(Ft,Lt,this.length);for(var tr=Lt,sr=1,Er=this[Ft+--tr];tr>0&&(sr*=256);)Er+=this[Ft+--tr]*sr;return sr*=128,Er>=sr&&(Er-=Math.pow(2,8*Lt)),Er},st.prototype.readInt8=function(Ft,Lt){return Ft=Ft>>>0,Lt||yt(Ft,1,this.length),this[Ft]&128?(255-this[Ft]+1)*-1:this[Ft]},st.prototype.readInt16LE=function(Ft,Lt){Ft=Ft>>>0,Lt||yt(Ft,2,this.length);var Qt=this[Ft]|this[Ft+1]<<8;return Qt&32768?Qt|4294901760:Qt},st.prototype.readInt16BE=function(Ft,Lt){Ft=Ft>>>0,Lt||yt(Ft,2,this.length);var Qt=this[Ft+1]|this[Ft]<<8;return Qt&32768?Qt|4294901760:Qt},st.prototype.readInt32LE=function(Ft,Lt){return Ft=Ft>>>0,Lt||yt(Ft,4,this.length),this[Ft]|this[Ft+1]<<8|this[Ft+2]<<16|this[Ft+3]<<24},st.prototype.readInt32BE=function(Ft,Lt){return Ft=Ft>>>0,Lt||yt(Ft,4,this.length),this[Ft]<<24|this[Ft+1]<<16|this[Ft+2]<<8|this[Ft+3]},st.prototype.readFloatLE=function(Ft,Lt){return Ft=Ft>>>0,Lt||yt(Ft,4,this.length),tt.read(this,Ft,!0,23,4)},st.prototype.readFloatBE=function(Ft,Lt){return Ft=Ft>>>0,Lt||yt(Ft,4,this.length),tt.read(this,Ft,!1,23,4)},st.prototype.readDoubleLE=function(Ft,Lt){return Ft=Ft>>>0,Lt||yt(Ft,8,this.length),tt.read(this,Ft,!0,52,8)},st.prototype.readDoubleBE=function(Ft,Lt){return Ft=Ft>>>0,Lt||yt(Ft,8,this.length),tt.read(this,Ft,!1,52,8)};function lt(er,Ft,Lt,Qt,tr,sr){if(!st.isBuffer(er))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ft>tr||Ft<sr)throw new RangeError('"value" argument is out of bounds');if(Lt+Qt>er.length)throw new RangeError("Index out of range")}st.prototype.writeUintLE=st.prototype.writeUIntLE=function(Ft,Lt,Qt,tr){if(Ft=+Ft,Lt=Lt>>>0,Qt=Qt>>>0,!tr){var sr=Math.pow(2,8*Qt)-1;lt(this,Ft,Lt,Qt,sr,0)}var Er=1,mr=0;for(this[Lt]=Ft&255;++mr<Qt&&(Er*=256);)this[Lt+mr]=Ft/Er&255;return Lt+Qt},st.prototype.writeUintBE=st.prototype.writeUIntBE=function(Ft,Lt,Qt,tr){if(Ft=+Ft,Lt=Lt>>>0,Qt=Qt>>>0,!tr){var sr=Math.pow(2,8*Qt)-1;lt(this,Ft,Lt,Qt,sr,0)}var Er=Qt-1,mr=1;for(this[Lt+Er]=Ft&255;--Er>=0&&(mr*=256);)this[Lt+Er]=Ft/mr&255;return Lt+Qt},st.prototype.writeUint8=st.prototype.writeUInt8=function(Ft,Lt,Qt){return Ft=+Ft,Lt=Lt>>>0,Qt||lt(this,Ft,Lt,1,255,0),this[Lt]=Ft&255,Lt+1},st.prototype.writeUint16LE=st.prototype.writeUInt16LE=function(Ft,Lt,Qt){return Ft=+Ft,Lt=Lt>>>0,Qt||lt(this,Ft,Lt,2,65535,0),this[Lt]=Ft&255,this[Lt+1]=Ft>>>8,Lt+2},st.prototype.writeUint16BE=st.prototype.writeUInt16BE=function(Ft,Lt,Qt){return Ft=+Ft,Lt=Lt>>>0,Qt||lt(this,Ft,Lt,2,65535,0),this[Lt]=Ft>>>8,this[Lt+1]=Ft&255,Lt+2},st.prototype.writeUint32LE=st.prototype.writeUInt32LE=function(Ft,Lt,Qt){return Ft=+Ft,Lt=Lt>>>0,Qt||lt(this,Ft,Lt,4,4294967295,0),this[Lt+3]=Ft>>>24,this[Lt+2]=Ft>>>16,this[Lt+1]=Ft>>>8,this[Lt]=Ft&255,Lt+4},st.prototype.writeUint32BE=st.prototype.writeUInt32BE=function(Ft,Lt,Qt){return Ft=+Ft,Lt=Lt>>>0,Qt||lt(this,Ft,Lt,4,4294967295,0),this[Lt]=Ft>>>24,this[Lt+1]=Ft>>>16,this[Lt+2]=Ft>>>8,this[Lt+3]=Ft&255,Lt+4},st.prototype.writeIntLE=function(Ft,Lt,Qt,tr){if(Ft=+Ft,Lt=Lt>>>0,!tr){var sr=Math.pow(2,8*Qt-1);lt(this,Ft,Lt,Qt,sr-1,-sr)}var Er=0,mr=1,gr=0;for(this[Lt]=Ft&255;++Er<Qt&&(mr*=256);)Ft<0&&gr===0&&this[Lt+Er-1]!==0&&(gr=1),this[Lt+Er]=(Ft/mr>>0)-gr&255;return Lt+Qt},st.prototype.writeIntBE=function(Ft,Lt,Qt,tr){if(Ft=+Ft,Lt=Lt>>>0,!tr){var sr=Math.pow(2,8*Qt-1);lt(this,Ft,Lt,Qt,sr-1,-sr)}var Er=Qt-1,mr=1,gr=0;for(this[Lt+Er]=Ft&255;--Er>=0&&(mr*=256);)Ft<0&&gr===0&&this[Lt+Er+1]!==0&&(gr=1),this[Lt+Er]=(Ft/mr>>0)-gr&255;return Lt+Qt},st.prototype.writeInt8=function(Ft,Lt,Qt){return Ft=+Ft,Lt=Lt>>>0,Qt||lt(this,Ft,Lt,1,127,-128),Ft<0&&(Ft=255+Ft+1),this[Lt]=Ft&255,Lt+1},st.prototype.writeInt16LE=function(Ft,Lt,Qt){return Ft=+Ft,Lt=Lt>>>0,Qt||lt(this,Ft,Lt,2,32767,-32768),this[Lt]=Ft&255,this[Lt+1]=Ft>>>8,Lt+2},st.prototype.writeInt16BE=function(Ft,Lt,Qt){return Ft=+Ft,Lt=Lt>>>0,Qt||lt(this,Ft,Lt,2,32767,-32768),this[Lt]=Ft>>>8,this[Lt+1]=Ft&255,Lt+2},st.prototype.writeInt32LE=function(Ft,Lt,Qt){return Ft=+Ft,Lt=Lt>>>0,Qt||lt(this,Ft,Lt,4,2147483647,-2147483648),this[Lt]=Ft&255,this[Lt+1]=Ft>>>8,this[Lt+2]=Ft>>>16,this[Lt+3]=Ft>>>24,Lt+4},st.prototype.writeInt32BE=function(Ft,Lt,Qt){return Ft=+Ft,Lt=Lt>>>0,Qt||lt(this,Ft,Lt,4,2147483647,-2147483648),Ft<0&&(Ft=4294967295+Ft+1),this[Lt]=Ft>>>24,this[Lt+1]=Ft>>>16,this[Lt+2]=Ft>>>8,this[Lt+3]=Ft&255,Lt+4};function xt(er,Ft,Lt,Qt,tr,sr){if(Lt+Qt>er.length)throw new RangeError("Index out of range");if(Lt<0)throw new RangeError("Index out of range")}function Ut(er,Ft,Lt,Qt,tr){return Ft=+Ft,Lt=Lt>>>0,tr||xt(er,Ft,Lt,4),tt.write(er,Ft,Lt,Qt,23,4),Lt+4}st.prototype.writeFloatLE=function(Ft,Lt,Qt){return Ut(this,Ft,Lt,!0,Qt)},st.prototype.writeFloatBE=function(Ft,Lt,Qt){return Ut(this,Ft,Lt,!1,Qt)};function Pt(er,Ft,Lt,Qt,tr){return Ft=+Ft,Lt=Lt>>>0,tr||xt(er,Ft,Lt,8),tt.write(er,Ft,Lt,Qt,52,8),Lt+8}st.prototype.writeDoubleLE=function(Ft,Lt,Qt){return Pt(this,Ft,Lt,!0,Qt)},st.prototype.writeDoubleBE=function(Ft,Lt,Qt){return Pt(this,Ft,Lt,!1,Qt)},st.prototype.copy=function(Ft,Lt,Qt,tr){if(!st.isBuffer(Ft))throw new TypeError("argument should be a Buffer");if(Qt||(Qt=0),!tr&&tr!==0&&(tr=this.length),Lt>=Ft.length&&(Lt=Ft.length),Lt||(Lt=0),tr>0&&tr<Qt&&(tr=Qt),tr===Qt||Ft.length===0||this.length===0)return 0;if(Lt<0)throw new RangeError("targetStart out of bounds");if(Qt<0||Qt>=this.length)throw new RangeError("Index out of range");if(tr<0)throw new RangeError("sourceEnd out of bounds");tr>this.length&&(tr=this.length),Ft.length-Lt<tr-Qt&&(tr=Ft.length-Lt+Qt);var sr=tr-Qt;return this===Ft&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Lt,Qt,tr):Uint8Array.prototype.set.call(Ft,this.subarray(Qt,tr),Lt),sr},st.prototype.fill=function(Ft,Lt,Qt,tr){if(typeof Ft=="string"){if(typeof Lt=="string"?(tr=Lt,Lt=0,Qt=this.length):typeof Qt=="string"&&(tr=Qt,Qt=this.length),tr!==void 0&&typeof tr!="string")throw new TypeError("encoding must be a string");if(typeof tr=="string"&&!st.isEncoding(tr))throw new TypeError("Unknown encoding: "+tr);if(Ft.length===1){var sr=Ft.charCodeAt(0);(tr==="utf8"&&sr<128||tr==="latin1")&&(Ft=sr)}}else typeof Ft=="number"?Ft=Ft&255:typeof Ft=="boolean"&&(Ft=Number(Ft));if(Lt<0||this.length<Lt||this.length<Qt)throw new RangeError("Out of range index");if(Qt<=Lt)return this;Lt=Lt>>>0,Qt=Qt===void 0?this.length:Qt>>>0,Ft||(Ft=0);var Er;if(typeof Ft=="number")for(Er=Lt;Er<Qt;++Er)this[Er]=Ft;else{var mr=st.isBuffer(Ft)?Ft:st.from(Ft,tr),gr=mr.length;if(gr===0)throw new TypeError('The value "'+Ft+'" is invalid for argument "value"');for(Er=0;Er<Qt-Lt;++Er)this[Er+Lt]=mr[Er%gr]}return this};var qt=/[^+/0-9A-Za-z-_]/g;function ir(er){if(er=er.split("=")[0],er=er.trim().replace(qt,""),er.length<2)return"";for(;er.length%4!==0;)er=er+"=";return er}function Yt(er,Ft){Ft=Ft||1/0;for(var Lt,Qt=er.length,tr=null,sr=[],Er=0;Er<Qt;++Er){if(Lt=er.charCodeAt(Er),Lt>55295&&Lt<57344){if(!tr){if(Lt>56319){(Ft-=3)>-1&&sr.push(239,191,189);continue}else if(Er+1===Qt){(Ft-=3)>-1&&sr.push(239,191,189);continue}tr=Lt;continue}if(Lt<56320){(Ft-=3)>-1&&sr.push(239,191,189),tr=Lt;continue}Lt=(tr-55296<<10|Lt-56320)+65536}else tr&&(Ft-=3)>-1&&sr.push(239,191,189);if(tr=null,Lt<128){if((Ft-=1)<0)break;sr.push(Lt)}else if(Lt<2048){if((Ft-=2)<0)break;sr.push(Lt>>6|192,Lt&63|128)}else if(Lt<65536){if((Ft-=3)<0)break;sr.push(Lt>>12|224,Lt>>6&63|128,Lt&63|128)}else if(Lt<1114112){if((Ft-=4)<0)break;sr.push(Lt>>18|240,Lt>>12&63|128,Lt>>6&63|128,Lt&63|128)}else throw new Error("Invalid code point")}return sr}function rr(er){for(var Ft=[],Lt=0;Lt<er.length;++Lt)Ft.push(er.charCodeAt(Lt)&255);return Ft}function Sr(er,Ft){for(var Lt,Qt,tr,sr=[],Er=0;Er<er.length&&!((Ft-=2)<0);++Er)Lt=er.charCodeAt(Er),Qt=Lt>>8,tr=Lt%256,sr.push(tr),sr.push(Qt);return sr}function lr(er){return _e.toByteArray(ir(er))}function ur(er,Ft,Lt,Qt){for(var tr=0;tr<Qt&&!(tr+Lt>=Ft.length||tr>=er.length);++tr)Ft[tr+Lt]=er[tr];return tr}function Ur(er,Ft){return er instanceof Ft||er!=null&&er.constructor!=null&&er.constructor.name!=null&&er.constructor.name===Ft.name}function dr(er){return er!==er}var xr=function(){for(var er="0123456789abcdef",Ft=new Array(256),Lt=0;Lt<16;++Lt)for(var Qt=Lt*16,tr=0;tr<16;++tr)Ft[Qt+tr]=er[Lt]+er[tr];return Ft}()})(buffer$2);var bufferReverse=function(_e){for(var tt=new Buffer(_e.length),rt=0,nt=_e.length-1;rt<=nt;++rt,--nt)tt[rt]=_e[nt],tt[nt]=_e[rt];return tt},sha256$1={exports:{}},core={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt()})(commonjsGlobal,function(){var tt=tt||function(rt,nt){var it=Object.create||function(){function Tt(){}return function(At){var Rt;return Tt.prototype=At,Rt=new Tt,Tt.prototype=null,Rt}}(),at={},st=at.lib={},ct=st.Base=function(){return{extend:function(Tt){var At=it(this);return Tt&&At.mixIn(Tt),(!At.hasOwnProperty("init")||this.init===At.init)&&(At.init=function(){At.$super.init.apply(this,arguments)}),At.init.prototype=At,At.$super=this,At},create:function(){var Tt=this.extend();return Tt.init.apply(Tt,arguments),Tt},init:function(){},mixIn:function(Tt){for(var At in Tt)Tt.hasOwnProperty(At)&&(this[At]=Tt[At]);Tt.hasOwnProperty("toString")&&(this.toString=Tt.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),ut=st.WordArray=ct.extend({init:function(Tt,At){Tt=this.words=Tt||[],At!=nt?this.sigBytes=At:this.sigBytes=Tt.length*4},toString:function(Tt){return(Tt||gt).stringify(this)},concat:function(Tt){var At=this.words,Rt=Tt.words,kt=this.sigBytes,Ot=Tt.sigBytes;if(this.clamp(),kt%4)for(var Wt=0;Wt<Ot;Wt++){var zt=Rt[Wt>>>2]>>>24-Wt%4*8&255;At[kt+Wt>>>2]|=zt<<24-(kt+Wt)%4*8}else for(var Wt=0;Wt<Ot;Wt+=4)At[kt+Wt>>>2]=Rt[Wt>>>2];return this.sigBytes+=Ot,this},clamp:function(){var Tt=this.words,At=this.sigBytes;Tt[At>>>2]&=4294967295<<32-At%4*8,Tt.length=rt.ceil(At/4)},clone:function(){var Tt=ct.clone.call(this);return Tt.words=this.words.slice(0),Tt},random:function(Tt){for(var At=[],Rt=function(Kt){var Kt=Kt,Jt=987654321,ar=4294967295;return function(){Jt=36969*(Jt&65535)+(Jt>>16)&ar,Kt=18e3*(Kt&65535)+(Kt>>16)&ar;var jt=(Jt<<16)+Kt&ar;return jt/=4294967296,jt+=.5,jt*(rt.random()>.5?1:-1)}},kt=0,Ot;kt<Tt;kt+=4){var Wt=Rt((Ot||rt.random())*4294967296);Ot=Wt()*987654071,At.push(Wt()*4294967296|0)}return new ut.init(At,Tt)}}),ft=at.enc={},gt=ft.Hex={stringify:function(Tt){for(var At=Tt.words,Rt=Tt.sigBytes,kt=[],Ot=0;Ot<Rt;Ot++){var Wt=At[Ot>>>2]>>>24-Ot%4*8&255;kt.push((Wt>>>4).toString(16)),kt.push((Wt&15).toString(16))}return kt.join("")},parse:function(Tt){for(var At=Tt.length,Rt=[],kt=0;kt<At;kt+=2)Rt[kt>>>3]|=parseInt(Tt.substr(kt,2),16)<<24-kt%8*4;return new ut.init(Rt,At/2)}},_t=ft.Latin1={stringify:function(Tt){for(var At=Tt.words,Rt=Tt.sigBytes,kt=[],Ot=0;Ot<Rt;Ot++){var Wt=At[Ot>>>2]>>>24-Ot%4*8&255;kt.push(String.fromCharCode(Wt))}return kt.join("")},parse:function(Tt){for(var At=Tt.length,Rt=[],kt=0;kt<At;kt++)Rt[kt>>>2]|=(Tt.charCodeAt(kt)&255)<<24-kt%4*8;return new ut.init(Rt,At)}},Et=ft.Utf8={stringify:function(Tt){try{return decodeURIComponent(escape(_t.stringify(Tt)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Tt){return _t.parse(unescape(encodeURIComponent(Tt)))}},$t=st.BufferedBlockAlgorithm=ct.extend({reset:function(){this._data=new ut.init,this._nDataBytes=0},_append:function(Tt){typeof Tt=="string"&&(Tt=Et.parse(Tt)),this._data.concat(Tt),this._nDataBytes+=Tt.sigBytes},_process:function(Tt){var At=this._data,Rt=At.words,kt=At.sigBytes,Ot=this.blockSize,Wt=Ot*4,zt=kt/Wt;Tt?zt=rt.ceil(zt):zt=rt.max((zt|0)-this._minBufferSize,0);var Kt=zt*Ot,Jt=rt.min(Kt*4,kt);if(Kt){for(var ar=0;ar<Kt;ar+=Ot)this._doProcessBlock(Rt,ar);var jt=Rt.splice(0,Kt);At.sigBytes-=Jt}return new ut.init(jt,Jt)},clone:function(){var Tt=ct.clone.call(this);return Tt._data=this._data.clone(),Tt},_minBufferSize:0});st.Hasher=$t.extend({cfg:ct.extend(),init:function(Tt){this.cfg=this.cfg.extend(Tt),this.reset()},reset:function(){$t.reset.call(this),this._doReset()},update:function(Tt){return this._append(Tt),this._process(),this},finalize:function(Tt){Tt&&this._append(Tt);var At=this._doFinalize();return At},blockSize:16,_createHelper:function(Tt){return function(At,Rt){return new Tt.init(Rt).finalize(At)}},_createHmacHelper:function(Tt){return function(At,Rt){return new It.HMAC.init(Tt,Rt).finalize(At)}}});var It=at.algo={};return at}(Math);return tt})})(core);(function(et,_e){(function(tt,rt){et.exports=rt(core.exports)})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.WordArray,st=it.Hasher,ct=nt.algo,ut=[],ft=[];(function(){function Et(At){for(var Rt=rt.sqrt(At),kt=2;kt<=Rt;kt++)if(!(At%kt))return!1;return!0}function $t(At){return(At-(At|0))*4294967296|0}for(var It=2,Tt=0;Tt<64;)Et(It)&&(Tt<8&&(ut[Tt]=$t(rt.pow(It,1/2))),ft[Tt]=$t(rt.pow(It,1/3)),Tt++),It++})();var gt=[],_t=ct.SHA256=st.extend({_doReset:function(){this._hash=new at.init(ut.slice(0))},_doProcessBlock:function(Et,$t){for(var It=this._hash.words,Tt=It[0],At=It[1],Rt=It[2],kt=It[3],Ot=It[4],Wt=It[5],zt=It[6],Kt=It[7],Jt=0;Jt<64;Jt++){if(Jt<16)gt[Jt]=Et[$t+Jt]|0;else{var ar=gt[Jt-15],jt=(ar<<25|ar>>>7)^(ar<<14|ar>>>18)^ar>>>3,Ct=gt[Jt-2],Nt=(Ct<<15|Ct>>>17)^(Ct<<13|Ct>>>19)^Ct>>>10;gt[Jt]=jt+gt[Jt-7]+Nt+gt[Jt-16]}var ht=Ot&Wt^~Ot&zt,ot=Tt&At^Tt&Rt^At&Rt,dt=(Tt<<30|Tt>>>2)^(Tt<<19|Tt>>>13)^(Tt<<10|Tt>>>22),mt=(Ot<<26|Ot>>>6)^(Ot<<21|Ot>>>11)^(Ot<<7|Ot>>>25),wt=Kt+mt+ht+ft[Jt]+gt[Jt],bt=dt+ot;Kt=zt,zt=Wt,Wt=Ot,Ot=kt+wt|0,kt=Rt,Rt=At,At=Tt,Tt=wt+bt|0}It[0]=It[0]+Tt|0,It[1]=It[1]+At|0,It[2]=It[2]+Rt|0,It[3]=It[3]+kt|0,It[4]=It[4]+Ot|0,It[5]=It[5]+Wt|0,It[6]=It[6]+zt|0,It[7]=It[7]+Kt|0},_doFinalize:function(){var Et=this._data,$t=Et.words,It=this._nDataBytes*8,Tt=Et.sigBytes*8;return $t[Tt>>>5]|=128<<24-Tt%32,$t[(Tt+64>>>9<<4)+14]=rt.floor(It/4294967296),$t[(Tt+64>>>9<<4)+15]=It,Et.sigBytes=$t.length*4,this._process(),this._hash},clone:function(){var Et=st.clone.call(this);return Et._hash=this._hash.clone(),Et}});nt.SHA256=st._createHelper(_t),nt.HmacSHA256=st._createHmacHelper(_t)}(Math),tt.SHA256})})(sha256$1);var treeify={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt()})(commonjsGlobal,function(){function tt(at,st){var ct=st?"\u2514":"\u251C";return at?ct+="\u2500 ":ct+="\u2500\u2500\u2510",ct}function rt(at,st){var ct=[];for(var ut in at)!at.hasOwnProperty(ut)||st&&typeof at[ut]=="function"||ct.push(ut);return ct}function nt(at,st,ct,ut,ft,gt,_t){var Et="",$t=0,It,Tt,At=ut.slice(0);if(At.push([st,ct])&&ut.length>0&&(ut.forEach(function(kt,Ot){Ot>0&&(Et+=(kt[1]?" ":"\u2502")+"  "),!Tt&&kt[0]===st&&(Tt=!0)}),Et+=tt(at,ct)+at,ft&&(typeof st!="object"||st instanceof Date)&&(Et+=": "+st),Tt&&(Et+=" (circular ref.)"),_t(Et)),!Tt&&typeof st=="object"){var Rt=rt(st,gt);Rt.forEach(function(kt){It=++$t===Rt.length,nt(kt,st[kt],It,At,ft,gt,_t)})}}var it={};return it.asLines=function(at,st,ct,ut){var ft=typeof ct!="function"?ct:!1;nt(".",at,!1,[],st,ft,ut||ct)},it.asTree=function(at,st,ct){var ut="";return nt(".",at,!1,[],st,ct,function(ft){ut+=ft+`
`}),ut},it})})(treeify);var Base$1={},cryptoJs={exports:{}},x64Core={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt(core.exports)})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.Base,st=it.WordArray,ct=nt.x64={};ct.Word=at.extend({init:function(ut,ft){this.high=ut,this.low=ft}}),ct.WordArray=at.extend({init:function(ut,ft){ut=this.words=ut||[],ft!=rt?this.sigBytes=ft:this.sigBytes=ut.length*8},toX32:function(){for(var ut=this.words,ft=ut.length,gt=[],_t=0;_t<ft;_t++){var Et=ut[_t];gt.push(Et.high),gt.push(Et.low)}return st.create(gt,this.sigBytes)},clone:function(){for(var ut=at.clone.call(this),ft=ut.words=this.words.slice(0),gt=ft.length,_t=0;_t<gt;_t++)ft[_t]=ft[_t].clone();return ut}})}(),tt})})(x64Core);var libTypedarrays={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt(core.exports)})(commonjsGlobal,function(tt){return function(){if(typeof ArrayBuffer=="function"){var rt=tt,nt=rt.lib,it=nt.WordArray,at=it.init,st=it.init=function(ct){if(ct instanceof ArrayBuffer&&(ct=new Uint8Array(ct)),(ct instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&ct instanceof Uint8ClampedArray||ct instanceof Int16Array||ct instanceof Uint16Array||ct instanceof Int32Array||ct instanceof Uint32Array||ct instanceof Float32Array||ct instanceof Float64Array)&&(ct=new Uint8Array(ct.buffer,ct.byteOffset,ct.byteLength)),ct instanceof Uint8Array){for(var ut=ct.byteLength,ft=[],gt=0;gt<ut;gt++)ft[gt>>>2]|=ct[gt]<<24-gt%4*8;at.call(this,ft,ut)}else at.apply(this,arguments)};st.prototype=it}}(),tt.lib.WordArray})})(libTypedarrays);var encUtf16={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt(core.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=rt.enc;at.Utf16=at.Utf16BE={stringify:function(ct){for(var ut=ct.words,ft=ct.sigBytes,gt=[],_t=0;_t<ft;_t+=2){var Et=ut[_t>>>2]>>>16-_t%4*8&65535;gt.push(String.fromCharCode(Et))}return gt.join("")},parse:function(ct){for(var ut=ct.length,ft=[],gt=0;gt<ut;gt++)ft[gt>>>1]|=ct.charCodeAt(gt)<<16-gt%2*16;return it.create(ft,ut*2)}},at.Utf16LE={stringify:function(ct){for(var ut=ct.words,ft=ct.sigBytes,gt=[],_t=0;_t<ft;_t+=2){var Et=st(ut[_t>>>2]>>>16-_t%4*8&65535);gt.push(String.fromCharCode(Et))}return gt.join("")},parse:function(ct){for(var ut=ct.length,ft=[],gt=0;gt<ut;gt++)ft[gt>>>1]|=st(ct.charCodeAt(gt)<<16-gt%2*16);return it.create(ft,ut*2)}};function st(ct){return ct<<8&4278255360|ct>>>8&16711935}}(),tt.enc.Utf16})})(encUtf16);var encBase64={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt(core.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=rt.enc;at.Base64={stringify:function(ct){var ut=ct.words,ft=ct.sigBytes,gt=this._map;ct.clamp();for(var _t=[],Et=0;Et<ft;Et+=3)for(var $t=ut[Et>>>2]>>>24-Et%4*8&255,It=ut[Et+1>>>2]>>>24-(Et+1)%4*8&255,Tt=ut[Et+2>>>2]>>>24-(Et+2)%4*8&255,At=$t<<16|It<<8|Tt,Rt=0;Rt<4&&Et+Rt*.75<ft;Rt++)_t.push(gt.charAt(At>>>6*(3-Rt)&63));var kt=gt.charAt(64);if(kt)for(;_t.length%4;)_t.push(kt);return _t.join("")},parse:function(ct){var ut=ct.length,ft=this._map,gt=this._reverseMap;if(!gt){gt=this._reverseMap=[];for(var _t=0;_t<ft.length;_t++)gt[ft.charCodeAt(_t)]=_t}var Et=ft.charAt(64);if(Et){var $t=ct.indexOf(Et);$t!==-1&&(ut=$t)}return st(ct,ut,gt)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function st(ct,ut,ft){for(var gt=[],_t=0,Et=0;Et<ut;Et++)if(Et%4){var $t=ft[ct.charCodeAt(Et-1)]<<Et%4*2,It=ft[ct.charCodeAt(Et)]>>>6-Et%4*2;gt[_t>>>2]|=($t|It)<<24-_t%4*8,_t++}return it.create(gt,_t)}}(),tt.enc.Base64})})(encBase64);var md5={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt(core.exports)})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.WordArray,st=it.Hasher,ct=nt.algo,ut=[];(function(){for(var It=0;It<64;It++)ut[It]=rt.abs(rt.sin(It+1))*4294967296|0})();var ft=ct.MD5=st.extend({_doReset:function(){this._hash=new at.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(It,Tt){for(var At=0;At<16;At++){var Rt=Tt+At,kt=It[Rt];It[Rt]=(kt<<8|kt>>>24)&16711935|(kt<<24|kt>>>8)&4278255360}var Ot=this._hash.words,Wt=It[Tt+0],zt=It[Tt+1],Kt=It[Tt+2],Jt=It[Tt+3],ar=It[Tt+4],jt=It[Tt+5],Ct=It[Tt+6],Nt=It[Tt+7],ht=It[Tt+8],ot=It[Tt+9],dt=It[Tt+10],mt=It[Tt+11],wt=It[Tt+12],bt=It[Tt+13],vt=It[Tt+14],St=It[Tt+15],yt=Ot[0],lt=Ot[1],xt=Ot[2],Ut=Ot[3];yt=gt(yt,lt,xt,Ut,Wt,7,ut[0]),Ut=gt(Ut,yt,lt,xt,zt,12,ut[1]),xt=gt(xt,Ut,yt,lt,Kt,17,ut[2]),lt=gt(lt,xt,Ut,yt,Jt,22,ut[3]),yt=gt(yt,lt,xt,Ut,ar,7,ut[4]),Ut=gt(Ut,yt,lt,xt,jt,12,ut[5]),xt=gt(xt,Ut,yt,lt,Ct,17,ut[6]),lt=gt(lt,xt,Ut,yt,Nt,22,ut[7]),yt=gt(yt,lt,xt,Ut,ht,7,ut[8]),Ut=gt(Ut,yt,lt,xt,ot,12,ut[9]),xt=gt(xt,Ut,yt,lt,dt,17,ut[10]),lt=gt(lt,xt,Ut,yt,mt,22,ut[11]),yt=gt(yt,lt,xt,Ut,wt,7,ut[12]),Ut=gt(Ut,yt,lt,xt,bt,12,ut[13]),xt=gt(xt,Ut,yt,lt,vt,17,ut[14]),lt=gt(lt,xt,Ut,yt,St,22,ut[15]),yt=_t(yt,lt,xt,Ut,zt,5,ut[16]),Ut=_t(Ut,yt,lt,xt,Ct,9,ut[17]),xt=_t(xt,Ut,yt,lt,mt,14,ut[18]),lt=_t(lt,xt,Ut,yt,Wt,20,ut[19]),yt=_t(yt,lt,xt,Ut,jt,5,ut[20]),Ut=_t(Ut,yt,lt,xt,dt,9,ut[21]),xt=_t(xt,Ut,yt,lt,St,14,ut[22]),lt=_t(lt,xt,Ut,yt,ar,20,ut[23]),yt=_t(yt,lt,xt,Ut,ot,5,ut[24]),Ut=_t(Ut,yt,lt,xt,vt,9,ut[25]),xt=_t(xt,Ut,yt,lt,Jt,14,ut[26]),lt=_t(lt,xt,Ut,yt,ht,20,ut[27]),yt=_t(yt,lt,xt,Ut,bt,5,ut[28]),Ut=_t(Ut,yt,lt,xt,Kt,9,ut[29]),xt=_t(xt,Ut,yt,lt,Nt,14,ut[30]),lt=_t(lt,xt,Ut,yt,wt,20,ut[31]),yt=Et(yt,lt,xt,Ut,jt,4,ut[32]),Ut=Et(Ut,yt,lt,xt,ht,11,ut[33]),xt=Et(xt,Ut,yt,lt,mt,16,ut[34]),lt=Et(lt,xt,Ut,yt,vt,23,ut[35]),yt=Et(yt,lt,xt,Ut,zt,4,ut[36]),Ut=Et(Ut,yt,lt,xt,ar,11,ut[37]),xt=Et(xt,Ut,yt,lt,Nt,16,ut[38]),lt=Et(lt,xt,Ut,yt,dt,23,ut[39]),yt=Et(yt,lt,xt,Ut,bt,4,ut[40]),Ut=Et(Ut,yt,lt,xt,Wt,11,ut[41]),xt=Et(xt,Ut,yt,lt,Jt,16,ut[42]),lt=Et(lt,xt,Ut,yt,Ct,23,ut[43]),yt=Et(yt,lt,xt,Ut,ot,4,ut[44]),Ut=Et(Ut,yt,lt,xt,wt,11,ut[45]),xt=Et(xt,Ut,yt,lt,St,16,ut[46]),lt=Et(lt,xt,Ut,yt,Kt,23,ut[47]),yt=$t(yt,lt,xt,Ut,Wt,6,ut[48]),Ut=$t(Ut,yt,lt,xt,Nt,10,ut[49]),xt=$t(xt,Ut,yt,lt,vt,15,ut[50]),lt=$t(lt,xt,Ut,yt,jt,21,ut[51]),yt=$t(yt,lt,xt,Ut,wt,6,ut[52]),Ut=$t(Ut,yt,lt,xt,Jt,10,ut[53]),xt=$t(xt,Ut,yt,lt,dt,15,ut[54]),lt=$t(lt,xt,Ut,yt,zt,21,ut[55]),yt=$t(yt,lt,xt,Ut,ht,6,ut[56]),Ut=$t(Ut,yt,lt,xt,St,10,ut[57]),xt=$t(xt,Ut,yt,lt,Ct,15,ut[58]),lt=$t(lt,xt,Ut,yt,bt,21,ut[59]),yt=$t(yt,lt,xt,Ut,ar,6,ut[60]),Ut=$t(Ut,yt,lt,xt,mt,10,ut[61]),xt=$t(xt,Ut,yt,lt,Kt,15,ut[62]),lt=$t(lt,xt,Ut,yt,ot,21,ut[63]),Ot[0]=Ot[0]+yt|0,Ot[1]=Ot[1]+lt|0,Ot[2]=Ot[2]+xt|0,Ot[3]=Ot[3]+Ut|0},_doFinalize:function(){var It=this._data,Tt=It.words,At=this._nDataBytes*8,Rt=It.sigBytes*8;Tt[Rt>>>5]|=128<<24-Rt%32;var kt=rt.floor(At/4294967296),Ot=At;Tt[(Rt+64>>>9<<4)+15]=(kt<<8|kt>>>24)&16711935|(kt<<24|kt>>>8)&4278255360,Tt[(Rt+64>>>9<<4)+14]=(Ot<<8|Ot>>>24)&16711935|(Ot<<24|Ot>>>8)&4278255360,It.sigBytes=(Tt.length+1)*4,this._process();for(var Wt=this._hash,zt=Wt.words,Kt=0;Kt<4;Kt++){var Jt=zt[Kt];zt[Kt]=(Jt<<8|Jt>>>24)&16711935|(Jt<<24|Jt>>>8)&4278255360}return Wt},clone:function(){var It=st.clone.call(this);return It._hash=this._hash.clone(),It}});function gt(It,Tt,At,Rt,kt,Ot,Wt){var zt=It+(Tt&At|~Tt&Rt)+kt+Wt;return(zt<<Ot|zt>>>32-Ot)+Tt}function _t(It,Tt,At,Rt,kt,Ot,Wt){var zt=It+(Tt&Rt|At&~Rt)+kt+Wt;return(zt<<Ot|zt>>>32-Ot)+Tt}function Et(It,Tt,At,Rt,kt,Ot,Wt){var zt=It+(Tt^At^Rt)+kt+Wt;return(zt<<Ot|zt>>>32-Ot)+Tt}function $t(It,Tt,At,Rt,kt,Ot,Wt){var zt=It+(At^(Tt|~Rt))+kt+Wt;return(zt<<Ot|zt>>>32-Ot)+Tt}nt.MD5=st._createHelper(ft),nt.HmacMD5=st._createHmacHelper(ft)}(Math),tt.MD5})})(md5);var sha1={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt(core.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=nt.Hasher,st=rt.algo,ct=[],ut=st.SHA1=at.extend({_doReset:function(){this._hash=new it.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(ft,gt){for(var _t=this._hash.words,Et=_t[0],$t=_t[1],It=_t[2],Tt=_t[3],At=_t[4],Rt=0;Rt<80;Rt++){if(Rt<16)ct[Rt]=ft[gt+Rt]|0;else{var kt=ct[Rt-3]^ct[Rt-8]^ct[Rt-14]^ct[Rt-16];ct[Rt]=kt<<1|kt>>>31}var Ot=(Et<<5|Et>>>27)+At+ct[Rt];Rt<20?Ot+=($t&It|~$t&Tt)+1518500249:Rt<40?Ot+=($t^It^Tt)+1859775393:Rt<60?Ot+=($t&It|$t&Tt|It&Tt)-1894007588:Ot+=($t^It^Tt)-899497514,At=Tt,Tt=It,It=$t<<30|$t>>>2,$t=Et,Et=Ot}_t[0]=_t[0]+Et|0,_t[1]=_t[1]+$t|0,_t[2]=_t[2]+It|0,_t[3]=_t[3]+Tt|0,_t[4]=_t[4]+At|0},_doFinalize:function(){var ft=this._data,gt=ft.words,_t=this._nDataBytes*8,Et=ft.sigBytes*8;return gt[Et>>>5]|=128<<24-Et%32,gt[(Et+64>>>9<<4)+14]=Math.floor(_t/4294967296),gt[(Et+64>>>9<<4)+15]=_t,ft.sigBytes=gt.length*4,this._process(),this._hash},clone:function(){var ft=at.clone.call(this);return ft._hash=this._hash.clone(),ft}});rt.SHA1=at._createHelper(ut),rt.HmacSHA1=at._createHmacHelper(ut)}(),tt.SHA1})})(sha1);var sha224={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,sha256$1.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=rt.algo,st=at.SHA256,ct=at.SHA224=st.extend({_doReset:function(){this._hash=new it.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var ut=st._doFinalize.call(this);return ut.sigBytes-=4,ut}});rt.SHA224=st._createHelper(ct),rt.HmacSHA224=st._createHmacHelper(ct)}(),tt.SHA224})})(sha224);var sha512={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,x64Core.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.Hasher,at=rt.x64,st=at.Word,ct=at.WordArray,ut=rt.algo;function ft(){return st.create.apply(st,arguments)}var gt=[ft(1116352408,3609767458),ft(1899447441,602891725),ft(3049323471,3964484399),ft(3921009573,2173295548),ft(961987163,4081628472),ft(1508970993,3053834265),ft(2453635748,2937671579),ft(2870763221,3664609560),ft(3624381080,2734883394),ft(310598401,1164996542),ft(607225278,1323610764),ft(1426881987,3590304994),ft(1925078388,4068182383),ft(2162078206,991336113),ft(2614888103,633803317),ft(3248222580,3479774868),ft(3835390401,2666613458),ft(4022224774,944711139),ft(264347078,2341262773),ft(604807628,2007800933),ft(770255983,1495990901),ft(1249150122,1856431235),ft(1555081692,3175218132),ft(1996064986,2198950837),ft(2554220882,3999719339),ft(2821834349,766784016),ft(2952996808,2566594879),ft(3210313671,3203337956),ft(3336571891,1034457026),ft(3584528711,2466948901),ft(113926993,3758326383),ft(338241895,168717936),ft(666307205,1188179964),ft(773529912,1546045734),ft(1294757372,1522805485),ft(1396182291,2643833823),ft(1695183700,2343527390),ft(1986661051,1014477480),ft(2177026350,1206759142),ft(2456956037,344077627),ft(2730485921,1290863460),ft(2820302411,3158454273),ft(3259730800,3505952657),ft(3345764771,106217008),ft(3516065817,3606008344),ft(3600352804,1432725776),ft(4094571909,1467031594),ft(275423344,851169720),ft(430227734,3100823752),ft(506948616,1363258195),ft(659060556,3750685593),ft(883997877,3785050280),ft(958139571,3318307427),ft(1322822218,3812723403),ft(1537002063,2003034995),ft(1747873779,3602036899),ft(1955562222,1575990012),ft(2024104815,1125592928),ft(2227730452,2716904306),ft(2361852424,442776044),ft(2428436474,593698344),ft(2756734187,3733110249),ft(3204031479,2999351573),ft(3329325298,3815920427),ft(3391569614,3928383900),ft(3515267271,566280711),ft(3940187606,3454069534),ft(4118630271,4000239992),ft(116418474,1914138554),ft(174292421,2731055270),ft(289380356,3203993006),ft(460393269,320620315),ft(685471733,587496836),ft(852142971,1086792851),ft(1017036298,365543100),ft(1126000580,2618297676),ft(1288033470,3409855158),ft(1501505948,4234509866),ft(1607167915,987167468),ft(1816402316,1246189591)],_t=[];(function(){for(var $t=0;$t<80;$t++)_t[$t]=ft()})();var Et=ut.SHA512=it.extend({_doReset:function(){this._hash=new ct.init([new st.init(1779033703,4089235720),new st.init(3144134277,2227873595),new st.init(1013904242,4271175723),new st.init(2773480762,1595750129),new st.init(1359893119,2917565137),new st.init(2600822924,725511199),new st.init(528734635,4215389547),new st.init(1541459225,327033209)])},_doProcessBlock:function($t,It){for(var Tt=this._hash.words,At=Tt[0],Rt=Tt[1],kt=Tt[2],Ot=Tt[3],Wt=Tt[4],zt=Tt[5],Kt=Tt[6],Jt=Tt[7],ar=At.high,jt=At.low,Ct=Rt.high,Nt=Rt.low,ht=kt.high,ot=kt.low,dt=Ot.high,mt=Ot.low,wt=Wt.high,bt=Wt.low,vt=zt.high,St=zt.low,yt=Kt.high,lt=Kt.low,xt=Jt.high,Ut=Jt.low,Pt=ar,qt=jt,ir=Ct,Yt=Nt,rr=ht,Sr=ot,lr=dt,ur=mt,Ur=wt,dr=bt,xr=vt,er=St,Ft=yt,Lt=lt,Qt=xt,tr=Ut,sr=0;sr<80;sr++){var Er=_t[sr];if(sr<16)var mr=Er.high=$t[It+sr*2]|0,gr=Er.low=$t[It+sr*2+1]|0;else{var Qr=_t[sr-15],wr=Qr.high,Vt=Qr.low,Dt=(wr>>>1|Vt<<31)^(wr>>>8|Vt<<24)^wr>>>7,Bt=(Vt>>>1|wr<<31)^(Vt>>>8|wr<<24)^(Vt>>>7|wr<<25),Gt=_t[sr-2],cr=Gt.high,nr=Gt.low,or=(cr>>>19|nr<<13)^(cr<<3|nr>>>29)^cr>>>6,qr=(nr>>>19|cr<<13)^(nr<<3|cr>>>29)^(nr>>>6|cr<<26),vr=_t[sr-7],br=vr.high,Zr=vr.low,yr=_t[sr-16],Rr=yr.high,dn=yr.low,gr=Bt+Zr,mr=Dt+br+(gr>>>0<Bt>>>0?1:0),gr=gr+qr,mr=mr+or+(gr>>>0<qr>>>0?1:0),gr=gr+dn,mr=mr+Rr+(gr>>>0<dn>>>0?1:0);Er.high=mr,Er.low=gr}var Mr=Ur&xr^~Ur&Ft,$r=dr&er^~dr&Lt,Sn=Pt&ir^Pt&rr^ir&rr,Ir=qt&Yt^qt&Sr^Yt&Sr,kr=(Pt>>>28|qt<<4)^(Pt<<30|qt>>>2)^(Pt<<25|qt>>>7),xn=(qt>>>28|Pt<<4)^(qt<<30|Pt>>>2)^(qt<<25|Pt>>>7),Pr=(Ur>>>14|dr<<18)^(Ur>>>18|dr<<14)^(Ur<<23|dr>>>9),Nr=(dr>>>14|Ur<<18)^(dr>>>18|Ur<<14)^(dr<<23|Ur>>>9),wn=gt[sr],Fr=wn.high,Or=wn.low,rn=tr+Nr,Cr=Qt+Pr+(rn>>>0<tr>>>0?1:0),rn=rn+$r,Cr=Cr+Mr+(rn>>>0<$r>>>0?1:0),rn=rn+Or,Cr=Cr+Fr+(rn>>>0<Or>>>0?1:0),rn=rn+gr,Cr=Cr+mr+(rn>>>0<gr>>>0?1:0),Br=xn+Ir,Tn=kr+Sn+(Br>>>0<xn>>>0?1:0);Qt=Ft,tr=Lt,Ft=xr,Lt=er,xr=Ur,er=dr,dr=ur+rn|0,Ur=lr+Cr+(dr>>>0<ur>>>0?1:0)|0,lr=rr,ur=Sr,rr=ir,Sr=Yt,ir=Pt,Yt=qt,qt=rn+Br|0,Pt=Cr+Tn+(qt>>>0<rn>>>0?1:0)|0}jt=At.low=jt+qt,At.high=ar+Pt+(jt>>>0<qt>>>0?1:0),Nt=Rt.low=Nt+Yt,Rt.high=Ct+ir+(Nt>>>0<Yt>>>0?1:0),ot=kt.low=ot+Sr,kt.high=ht+rr+(ot>>>0<Sr>>>0?1:0),mt=Ot.low=mt+ur,Ot.high=dt+lr+(mt>>>0<ur>>>0?1:0),bt=Wt.low=bt+dr,Wt.high=wt+Ur+(bt>>>0<dr>>>0?1:0),St=zt.low=St+er,zt.high=vt+xr+(St>>>0<er>>>0?1:0),lt=Kt.low=lt+Lt,Kt.high=yt+Ft+(lt>>>0<Lt>>>0?1:0),Ut=Jt.low=Ut+tr,Jt.high=xt+Qt+(Ut>>>0<tr>>>0?1:0)},_doFinalize:function(){var $t=this._data,It=$t.words,Tt=this._nDataBytes*8,At=$t.sigBytes*8;It[At>>>5]|=128<<24-At%32,It[(At+128>>>10<<5)+30]=Math.floor(Tt/4294967296),It[(At+128>>>10<<5)+31]=Tt,$t.sigBytes=It.length*4,this._process();var Rt=this._hash.toX32();return Rt},clone:function(){var $t=it.clone.call(this);return $t._hash=this._hash.clone(),$t},blockSize:1024/32});rt.SHA512=it._createHelper(Et),rt.HmacSHA512=it._createHmacHelper(Et)}(),tt.SHA512})})(sha512);var sha384={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,x64Core.exports,sha512.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.x64,it=nt.Word,at=nt.WordArray,st=rt.algo,ct=st.SHA512,ut=st.SHA384=ct.extend({_doReset:function(){this._hash=new at.init([new it.init(3418070365,3238371032),new it.init(1654270250,914150663),new it.init(2438529370,812702999),new it.init(355462360,4144912697),new it.init(1731405415,4290775857),new it.init(2394180231,1750603025),new it.init(3675008525,1694076839),new it.init(1203062813,3204075428)])},_doFinalize:function(){var ft=ct._doFinalize.call(this);return ft.sigBytes-=16,ft}});rt.SHA384=ct._createHelper(ut),rt.HmacSHA384=ct._createHmacHelper(ut)}(),tt.SHA384})})(sha384);var sha3={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,x64Core.exports)})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.WordArray,st=it.Hasher,ct=nt.x64,ut=ct.Word,ft=nt.algo,gt=[],_t=[],Et=[];(function(){for(var Tt=1,At=0,Rt=0;Rt<24;Rt++){gt[Tt+5*At]=(Rt+1)*(Rt+2)/2%64;var kt=At%5,Ot=(2*Tt+3*At)%5;Tt=kt,At=Ot}for(var Tt=0;Tt<5;Tt++)for(var At=0;At<5;At++)_t[Tt+5*At]=At+(2*Tt+3*At)%5*5;for(var Wt=1,zt=0;zt<24;zt++){for(var Kt=0,Jt=0,ar=0;ar<7;ar++){if(Wt&1){var jt=(1<<ar)-1;jt<32?Jt^=1<<jt:Kt^=1<<jt-32}Wt&128?Wt=Wt<<1^113:Wt<<=1}Et[zt]=ut.create(Kt,Jt)}})();var $t=[];(function(){for(var Tt=0;Tt<25;Tt++)$t[Tt]=ut.create()})();var It=ft.SHA3=st.extend({cfg:st.cfg.extend({outputLength:512}),_doReset:function(){for(var Tt=this._state=[],At=0;At<25;At++)Tt[At]=new ut.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Tt,At){for(var Rt=this._state,kt=this.blockSize/2,Ot=0;Ot<kt;Ot++){var Wt=Tt[At+2*Ot],zt=Tt[At+2*Ot+1];Wt=(Wt<<8|Wt>>>24)&16711935|(Wt<<24|Wt>>>8)&4278255360,zt=(zt<<8|zt>>>24)&16711935|(zt<<24|zt>>>8)&4278255360;var Kt=Rt[Ot];Kt.high^=zt,Kt.low^=Wt}for(var Jt=0;Jt<24;Jt++){for(var ar=0;ar<5;ar++){for(var jt=0,Ct=0,Nt=0;Nt<5;Nt++){var Kt=Rt[ar+5*Nt];jt^=Kt.high,Ct^=Kt.low}var ht=$t[ar];ht.high=jt,ht.low=Ct}for(var ar=0;ar<5;ar++)for(var ot=$t[(ar+4)%5],dt=$t[(ar+1)%5],mt=dt.high,wt=dt.low,jt=ot.high^(mt<<1|wt>>>31),Ct=ot.low^(wt<<1|mt>>>31),Nt=0;Nt<5;Nt++){var Kt=Rt[ar+5*Nt];Kt.high^=jt,Kt.low^=Ct}for(var bt=1;bt<25;bt++){var Kt=Rt[bt],vt=Kt.high,St=Kt.low,yt=gt[bt];if(yt<32)var jt=vt<<yt|St>>>32-yt,Ct=St<<yt|vt>>>32-yt;else var jt=St<<yt-32|vt>>>64-yt,Ct=vt<<yt-32|St>>>64-yt;var lt=$t[_t[bt]];lt.high=jt,lt.low=Ct}var xt=$t[0],Ut=Rt[0];xt.high=Ut.high,xt.low=Ut.low;for(var ar=0;ar<5;ar++)for(var Nt=0;Nt<5;Nt++){var bt=ar+5*Nt,Kt=Rt[bt],Pt=$t[bt],qt=$t[(ar+1)%5+5*Nt],ir=$t[(ar+2)%5+5*Nt];Kt.high=Pt.high^~qt.high&ir.high,Kt.low=Pt.low^~qt.low&ir.low}var Kt=Rt[0],Yt=Et[Jt];Kt.high^=Yt.high,Kt.low^=Yt.low}},_doFinalize:function(){var Tt=this._data,At=Tt.words;this._nDataBytes*8;var Rt=Tt.sigBytes*8,kt=this.blockSize*32;At[Rt>>>5]|=1<<24-Rt%32,At[(rt.ceil((Rt+1)/kt)*kt>>>5)-1]|=128,Tt.sigBytes=At.length*4,this._process();for(var Ot=this._state,Wt=this.cfg.outputLength/8,zt=Wt/8,Kt=[],Jt=0;Jt<zt;Jt++){var ar=Ot[Jt],jt=ar.high,Ct=ar.low;jt=(jt<<8|jt>>>24)&16711935|(jt<<24|jt>>>8)&4278255360,Ct=(Ct<<8|Ct>>>24)&16711935|(Ct<<24|Ct>>>8)&4278255360,Kt.push(Ct),Kt.push(jt)}return new at.init(Kt,Wt)},clone:function(){for(var Tt=st.clone.call(this),At=Tt._state=this._state.slice(0),Rt=0;Rt<25;Rt++)At[Rt]=At[Rt].clone();return Tt}});nt.SHA3=st._createHelper(It),nt.HmacSHA3=st._createHmacHelper(It)}(Math),tt.SHA3})})(sha3);var ripemd160={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt(core.exports)})(commonjsGlobal,function(tt){/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/return function(rt){var nt=tt,it=nt.lib,at=it.WordArray,st=it.Hasher,ct=nt.algo,ut=at.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),ft=at.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),gt=at.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),_t=at.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Et=at.create([0,1518500249,1859775393,2400959708,2840853838]),$t=at.create([1352829926,1548603684,1836072691,2053994217,0]),It=ct.RIPEMD160=st.extend({_doReset:function(){this._hash=at.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(zt,Kt){for(var Jt=0;Jt<16;Jt++){var ar=Kt+Jt,jt=zt[ar];zt[ar]=(jt<<8|jt>>>24)&16711935|(jt<<24|jt>>>8)&4278255360}var Ct=this._hash.words,Nt=Et.words,ht=$t.words,ot=ut.words,dt=ft.words,mt=gt.words,wt=_t.words,bt,vt,St,yt,lt,xt,Ut,Pt,qt,ir;xt=bt=Ct[0],Ut=vt=Ct[1],Pt=St=Ct[2],qt=yt=Ct[3],ir=lt=Ct[4];for(var Yt,Jt=0;Jt<80;Jt+=1)Yt=bt+zt[Kt+ot[Jt]]|0,Jt<16?Yt+=Tt(vt,St,yt)+Nt[0]:Jt<32?Yt+=At(vt,St,yt)+Nt[1]:Jt<48?Yt+=Rt(vt,St,yt)+Nt[2]:Jt<64?Yt+=kt(vt,St,yt)+Nt[3]:Yt+=Ot(vt,St,yt)+Nt[4],Yt=Yt|0,Yt=Wt(Yt,mt[Jt]),Yt=Yt+lt|0,bt=lt,lt=yt,yt=Wt(St,10),St=vt,vt=Yt,Yt=xt+zt[Kt+dt[Jt]]|0,Jt<16?Yt+=Ot(Ut,Pt,qt)+ht[0]:Jt<32?Yt+=kt(Ut,Pt,qt)+ht[1]:Jt<48?Yt+=Rt(Ut,Pt,qt)+ht[2]:Jt<64?Yt+=At(Ut,Pt,qt)+ht[3]:Yt+=Tt(Ut,Pt,qt)+ht[4],Yt=Yt|0,Yt=Wt(Yt,wt[Jt]),Yt=Yt+ir|0,xt=ir,ir=qt,qt=Wt(Pt,10),Pt=Ut,Ut=Yt;Yt=Ct[1]+St+qt|0,Ct[1]=Ct[2]+yt+ir|0,Ct[2]=Ct[3]+lt+xt|0,Ct[3]=Ct[4]+bt+Ut|0,Ct[4]=Ct[0]+vt+Pt|0,Ct[0]=Yt},_doFinalize:function(){var zt=this._data,Kt=zt.words,Jt=this._nDataBytes*8,ar=zt.sigBytes*8;Kt[ar>>>5]|=128<<24-ar%32,Kt[(ar+64>>>9<<4)+14]=(Jt<<8|Jt>>>24)&16711935|(Jt<<24|Jt>>>8)&4278255360,zt.sigBytes=(Kt.length+1)*4,this._process();for(var jt=this._hash,Ct=jt.words,Nt=0;Nt<5;Nt++){var ht=Ct[Nt];Ct[Nt]=(ht<<8|ht>>>24)&16711935|(ht<<24|ht>>>8)&4278255360}return jt},clone:function(){var zt=st.clone.call(this);return zt._hash=this._hash.clone(),zt}});function Tt(zt,Kt,Jt){return zt^Kt^Jt}function At(zt,Kt,Jt){return zt&Kt|~zt&Jt}function Rt(zt,Kt,Jt){return(zt|~Kt)^Jt}function kt(zt,Kt,Jt){return zt&Jt|Kt&~Jt}function Ot(zt,Kt,Jt){return zt^(Kt|~Jt)}function Wt(zt,Kt){return zt<<Kt|zt>>>32-Kt}nt.RIPEMD160=st._createHelper(It),nt.HmacRIPEMD160=st._createHmacHelper(It)}(),tt.RIPEMD160})})(ripemd160);var hmac={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt(core.exports)})(commonjsGlobal,function(tt){(function(){var rt=tt,nt=rt.lib,it=nt.Base,at=rt.enc,st=at.Utf8,ct=rt.algo;ct.HMAC=it.extend({init:function(ut,ft){ut=this._hasher=new ut.init,typeof ft=="string"&&(ft=st.parse(ft));var gt=ut.blockSize,_t=gt*4;ft.sigBytes>_t&&(ft=ut.finalize(ft)),ft.clamp();for(var Et=this._oKey=ft.clone(),$t=this._iKey=ft.clone(),It=Et.words,Tt=$t.words,At=0;At<gt;At++)It[At]^=1549556828,Tt[At]^=909522486;Et.sigBytes=$t.sigBytes=_t,this.reset()},reset:function(){var ut=this._hasher;ut.reset(),ut.update(this._iKey)},update:function(ut){return this._hasher.update(ut),this},finalize:function(ut){var ft=this._hasher,gt=ft.finalize(ut);ft.reset();var _t=ft.finalize(this._oKey.clone().concat(gt));return _t}})})()})})(hmac);var pbkdf2={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,sha1.exports,hmac.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.Base,at=nt.WordArray,st=rt.algo,ct=st.SHA1,ut=st.HMAC,ft=st.PBKDF2=it.extend({cfg:it.extend({keySize:128/32,hasher:ct,iterations:1}),init:function(gt){this.cfg=this.cfg.extend(gt)},compute:function(gt,_t){for(var Et=this.cfg,$t=ut.create(Et.hasher,gt),It=at.create(),Tt=at.create([1]),At=It.words,Rt=Tt.words,kt=Et.keySize,Ot=Et.iterations;At.length<kt;){var Wt=$t.update(_t).finalize(Tt);$t.reset();for(var zt=Wt.words,Kt=zt.length,Jt=Wt,ar=1;ar<Ot;ar++){Jt=$t.finalize(Jt),$t.reset();for(var jt=Jt.words,Ct=0;Ct<Kt;Ct++)zt[Ct]^=jt[Ct]}It.concat(Wt),Rt[0]++}return It.sigBytes=kt*4,It}});rt.PBKDF2=function(gt,_t,Et){return ft.create(Et).compute(gt,_t)}}(),tt.PBKDF2})})(pbkdf2);var evpkdf={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,sha1.exports,hmac.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.Base,at=nt.WordArray,st=rt.algo,ct=st.MD5,ut=st.EvpKDF=it.extend({cfg:it.extend({keySize:128/32,hasher:ct,iterations:1}),init:function(ft){this.cfg=this.cfg.extend(ft)},compute:function(ft,gt){for(var _t=this.cfg,Et=_t.hasher.create(),$t=at.create(),It=$t.words,Tt=_t.keySize,At=_t.iterations;It.length<Tt;){Rt&&Et.update(Rt);var Rt=Et.update(ft).finalize(gt);Et.reset();for(var kt=1;kt<At;kt++)Rt=Et.finalize(Rt),Et.reset();$t.concat(Rt)}return $t.sigBytes=Tt*4,$t}});rt.EvpKDF=function(ft,gt,_t){return ut.create(_t).compute(ft,gt)}}(),tt.EvpKDF})})(evpkdf);var cipherCore={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,evpkdf.exports)})(commonjsGlobal,function(tt){tt.lib.Cipher||function(rt){var nt=tt,it=nt.lib,at=it.Base,st=it.WordArray,ct=it.BufferedBlockAlgorithm,ut=nt.enc;ut.Utf8;var ft=ut.Base64,gt=nt.algo,_t=gt.EvpKDF,Et=it.Cipher=ct.extend({cfg:at.extend(),createEncryptor:function(jt,Ct){return this.create(this._ENC_XFORM_MODE,jt,Ct)},createDecryptor:function(jt,Ct){return this.create(this._DEC_XFORM_MODE,jt,Ct)},init:function(jt,Ct,Nt){this.cfg=this.cfg.extend(Nt),this._xformMode=jt,this._key=Ct,this.reset()},reset:function(){ct.reset.call(this),this._doReset()},process:function(jt){return this._append(jt),this._process()},finalize:function(jt){jt&&this._append(jt);var Ct=this._doFinalize();return Ct},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function jt(Ct){return typeof Ct=="string"?ar:zt}return function(Ct){return{encrypt:function(Nt,ht,ot){return jt(ht).encrypt(Ct,Nt,ht,ot)},decrypt:function(Nt,ht,ot){return jt(ht).decrypt(Ct,Nt,ht,ot)}}}}()});it.StreamCipher=Et.extend({_doFinalize:function(){var jt=this._process(!0);return jt},blockSize:1});var $t=nt.mode={},It=it.BlockCipherMode=at.extend({createEncryptor:function(jt,Ct){return this.Encryptor.create(jt,Ct)},createDecryptor:function(jt,Ct){return this.Decryptor.create(jt,Ct)},init:function(jt,Ct){this._cipher=jt,this._iv=Ct}}),Tt=$t.CBC=function(){var jt=It.extend();jt.Encryptor=jt.extend({processBlock:function(Nt,ht){var ot=this._cipher,dt=ot.blockSize;Ct.call(this,Nt,ht,dt),ot.encryptBlock(Nt,ht),this._prevBlock=Nt.slice(ht,ht+dt)}}),jt.Decryptor=jt.extend({processBlock:function(Nt,ht){var ot=this._cipher,dt=ot.blockSize,mt=Nt.slice(ht,ht+dt);ot.decryptBlock(Nt,ht),Ct.call(this,Nt,ht,dt),this._prevBlock=mt}});function Ct(Nt,ht,ot){var dt=this._iv;if(dt){var mt=dt;this._iv=rt}else var mt=this._prevBlock;for(var wt=0;wt<ot;wt++)Nt[ht+wt]^=mt[wt]}return jt}(),At=nt.pad={},Rt=At.Pkcs7={pad:function(jt,Ct){for(var Nt=Ct*4,ht=Nt-jt.sigBytes%Nt,ot=ht<<24|ht<<16|ht<<8|ht,dt=[],mt=0;mt<ht;mt+=4)dt.push(ot);var wt=st.create(dt,ht);jt.concat(wt)},unpad:function(jt){var Ct=jt.words[jt.sigBytes-1>>>2]&255;jt.sigBytes-=Ct}};it.BlockCipher=Et.extend({cfg:Et.cfg.extend({mode:Tt,padding:Rt}),reset:function(){Et.reset.call(this);var jt=this.cfg,Ct=jt.iv,Nt=jt.mode;if(this._xformMode==this._ENC_XFORM_MODE)var ht=Nt.createEncryptor;else{var ht=Nt.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==ht?this._mode.init(this,Ct&&Ct.words):(this._mode=ht.call(Nt,this,Ct&&Ct.words),this._mode.__creator=ht)},_doProcessBlock:function(jt,Ct){this._mode.processBlock(jt,Ct)},_doFinalize:function(){var jt=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){jt.pad(this._data,this.blockSize);var Ct=this._process(!0)}else{var Ct=this._process(!0);jt.unpad(Ct)}return Ct},blockSize:128/32});var kt=it.CipherParams=at.extend({init:function(jt){this.mixIn(jt)},toString:function(jt){return(jt||this.formatter).stringify(this)}}),Ot=nt.format={},Wt=Ot.OpenSSL={stringify:function(jt){var Ct=jt.ciphertext,Nt=jt.salt;if(Nt)var ht=st.create([1398893684,1701076831]).concat(Nt).concat(Ct);else var ht=Ct;return ht.toString(ft)},parse:function(jt){var Ct=ft.parse(jt),Nt=Ct.words;if(Nt[0]==1398893684&&Nt[1]==1701076831){var ht=st.create(Nt.slice(2,4));Nt.splice(0,4),Ct.sigBytes-=16}return kt.create({ciphertext:Ct,salt:ht})}},zt=it.SerializableCipher=at.extend({cfg:at.extend({format:Wt}),encrypt:function(jt,Ct,Nt,ht){ht=this.cfg.extend(ht);var ot=jt.createEncryptor(Nt,ht),dt=ot.finalize(Ct),mt=ot.cfg;return kt.create({ciphertext:dt,key:Nt,iv:mt.iv,algorithm:jt,mode:mt.mode,padding:mt.padding,blockSize:jt.blockSize,formatter:ht.format})},decrypt:function(jt,Ct,Nt,ht){ht=this.cfg.extend(ht),Ct=this._parse(Ct,ht.format);var ot=jt.createDecryptor(Nt,ht).finalize(Ct.ciphertext);return ot},_parse:function(jt,Ct){return typeof jt=="string"?Ct.parse(jt,this):jt}}),Kt=nt.kdf={},Jt=Kt.OpenSSL={execute:function(jt,Ct,Nt,ht){ht||(ht=st.random(64/8));var ot=_t.create({keySize:Ct+Nt}).compute(jt,ht),dt=st.create(ot.words.slice(Ct),Nt*4);return ot.sigBytes=Ct*4,kt.create({key:ot,iv:dt,salt:ht})}},ar=it.PasswordBasedCipher=zt.extend({cfg:zt.cfg.extend({kdf:Jt}),encrypt:function(jt,Ct,Nt,ht){ht=this.cfg.extend(ht);var ot=ht.kdf.execute(Nt,jt.keySize,jt.ivSize);ht.iv=ot.iv;var dt=zt.encrypt.call(this,jt,Ct,ot.key,ht);return dt.mixIn(ot),dt},decrypt:function(jt,Ct,Nt,ht){ht=this.cfg.extend(ht),Ct=this._parse(Ct,ht.format);var ot=ht.kdf.execute(Nt,jt.keySize,jt.ivSize,Ct.salt);ht.iv=ot.iv;var dt=zt.decrypt.call(this,jt,Ct,ot.key,ht);return dt}})}()})})(cipherCore);var modeCfb={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return tt.mode.CFB=function(){var rt=tt.lib.BlockCipherMode.extend();rt.Encryptor=rt.extend({processBlock:function(it,at){var st=this._cipher,ct=st.blockSize;nt.call(this,it,at,ct,st),this._prevBlock=it.slice(at,at+ct)}}),rt.Decryptor=rt.extend({processBlock:function(it,at){var st=this._cipher,ct=st.blockSize,ut=it.slice(at,at+ct);nt.call(this,it,at,ct,st),this._prevBlock=ut}});function nt(it,at,st,ct){var ut=this._iv;if(ut){var ft=ut.slice(0);this._iv=void 0}else var ft=this._prevBlock;ct.encryptBlock(ft,0);for(var gt=0;gt<st;gt++)it[at+gt]^=ft[gt]}return rt}(),tt.mode.CFB})})(modeCfb);var modeCtr={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return tt.mode.CTR=function(){var rt=tt.lib.BlockCipherMode.extend(),nt=rt.Encryptor=rt.extend({processBlock:function(it,at){var st=this._cipher,ct=st.blockSize,ut=this._iv,ft=this._counter;ut&&(ft=this._counter=ut.slice(0),this._iv=void 0);var gt=ft.slice(0);st.encryptBlock(gt,0),ft[ct-1]=ft[ct-1]+1|0;for(var _t=0;_t<ct;_t++)it[at+_t]^=gt[_t]}});return rt.Decryptor=nt,rt}(),tt.mode.CTR})})(modeCtr);var modeCtrGladman={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,cipherCore.exports)})(commonjsGlobal,function(tt){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return tt.mode.CTRGladman=function(){var rt=tt.lib.BlockCipherMode.extend();function nt(st){if((st>>24&255)===255){var ct=st>>16&255,ut=st>>8&255,ft=st&255;ct===255?(ct=0,ut===255?(ut=0,ft===255?ft=0:++ft):++ut):++ct,st=0,st+=ct<<16,st+=ut<<8,st+=ft}else st+=1<<24;return st}function it(st){return(st[0]=nt(st[0]))===0&&(st[1]=nt(st[1])),st}var at=rt.Encryptor=rt.extend({processBlock:function(st,ct){var ut=this._cipher,ft=ut.blockSize,gt=this._iv,_t=this._counter;gt&&(_t=this._counter=gt.slice(0),this._iv=void 0),it(_t);var Et=_t.slice(0);ut.encryptBlock(Et,0);for(var $t=0;$t<ft;$t++)st[ct+$t]^=Et[$t]}});return rt.Decryptor=at,rt}(),tt.mode.CTRGladman})})(modeCtrGladman);var modeOfb={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return tt.mode.OFB=function(){var rt=tt.lib.BlockCipherMode.extend(),nt=rt.Encryptor=rt.extend({processBlock:function(it,at){var st=this._cipher,ct=st.blockSize,ut=this._iv,ft=this._keystream;ut&&(ft=this._keystream=ut.slice(0),this._iv=void 0),st.encryptBlock(ft,0);for(var gt=0;gt<ct;gt++)it[at+gt]^=ft[gt]}});return rt.Decryptor=nt,rt}(),tt.mode.OFB})})(modeOfb);var modeEcb={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return tt.mode.ECB=function(){var rt=tt.lib.BlockCipherMode.extend();return rt.Encryptor=rt.extend({processBlock:function(nt,it){this._cipher.encryptBlock(nt,it)}}),rt.Decryptor=rt.extend({processBlock:function(nt,it){this._cipher.decryptBlock(nt,it)}}),rt}(),tt.mode.ECB})})(modeEcb);var padAnsix923={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return tt.pad.AnsiX923={pad:function(rt,nt){var it=rt.sigBytes,at=nt*4,st=at-it%at,ct=it+st-1;rt.clamp(),rt.words[ct>>>2]|=st<<24-ct%4*8,rt.sigBytes+=st},unpad:function(rt){var nt=rt.words[rt.sigBytes-1>>>2]&255;rt.sigBytes-=nt}},tt.pad.Ansix923})})(padAnsix923);var padIso10126={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return tt.pad.Iso10126={pad:function(rt,nt){var it=nt*4,at=it-rt.sigBytes%it;rt.concat(tt.lib.WordArray.random(at-1)).concat(tt.lib.WordArray.create([at<<24],1))},unpad:function(rt){var nt=rt.words[rt.sigBytes-1>>>2]&255;rt.sigBytes-=nt}},tt.pad.Iso10126})})(padIso10126);var padIso97971={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return tt.pad.Iso97971={pad:function(rt,nt){rt.concat(tt.lib.WordArray.create([2147483648],1)),tt.pad.ZeroPadding.pad(rt,nt)},unpad:function(rt){tt.pad.ZeroPadding.unpad(rt),rt.sigBytes--}},tt.pad.Iso97971})})(padIso97971);var padZeropadding={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return tt.pad.ZeroPadding={pad:function(rt,nt){var it=nt*4;rt.clamp(),rt.sigBytes+=it-(rt.sigBytes%it||it)},unpad:function(rt){for(var nt=rt.words,it=rt.sigBytes-1;!(nt[it>>>2]>>>24-it%4*8&255);)it--;rt.sigBytes=it+1}},tt.pad.ZeroPadding})})(padZeropadding);var padNopadding={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return tt.pad.NoPadding={pad:function(){},unpad:function(){}},tt.pad.NoPadding})})(padNopadding);var formatHex={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.CipherParams,st=nt.enc,ct=st.Hex,ut=nt.format;ut.Hex={stringify:function(ft){return ft.ciphertext.toString(ct)},parse:function(ft){var gt=ct.parse(ft);return at.create({ciphertext:gt})}}}(),tt.format.Hex})})(formatHex);var aes={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.BlockCipher,at=rt.algo,st=[],ct=[],ut=[],ft=[],gt=[],_t=[],Et=[],$t=[],It=[],Tt=[];(function(){for(var kt=[],Ot=0;Ot<256;Ot++)Ot<128?kt[Ot]=Ot<<1:kt[Ot]=Ot<<1^283;for(var Wt=0,zt=0,Ot=0;Ot<256;Ot++){var Kt=zt^zt<<1^zt<<2^zt<<3^zt<<4;Kt=Kt>>>8^Kt&255^99,st[Wt]=Kt,ct[Kt]=Wt;var Jt=kt[Wt],ar=kt[Jt],jt=kt[ar],Ct=kt[Kt]*257^Kt*16843008;ut[Wt]=Ct<<24|Ct>>>8,ft[Wt]=Ct<<16|Ct>>>16,gt[Wt]=Ct<<8|Ct>>>24,_t[Wt]=Ct;var Ct=jt*16843009^ar*65537^Jt*257^Wt*16843008;Et[Kt]=Ct<<24|Ct>>>8,$t[Kt]=Ct<<16|Ct>>>16,It[Kt]=Ct<<8|Ct>>>24,Tt[Kt]=Ct,Wt?(Wt=Jt^kt[kt[kt[jt^Jt]]],zt^=kt[kt[zt]]):Wt=zt=1}})();var At=[0,1,2,4,8,16,32,64,128,27,54],Rt=at.AES=it.extend({_doReset:function(){if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var kt=this._keyPriorReset=this._key,Ot=kt.words,Wt=kt.sigBytes/4,zt=this._nRounds=Wt+6,Kt=(zt+1)*4,Jt=this._keySchedule=[],ar=0;ar<Kt;ar++)if(ar<Wt)Jt[ar]=Ot[ar];else{var jt=Jt[ar-1];ar%Wt?Wt>6&&ar%Wt==4&&(jt=st[jt>>>24]<<24|st[jt>>>16&255]<<16|st[jt>>>8&255]<<8|st[jt&255]):(jt=jt<<8|jt>>>24,jt=st[jt>>>24]<<24|st[jt>>>16&255]<<16|st[jt>>>8&255]<<8|st[jt&255],jt^=At[ar/Wt|0]<<24),Jt[ar]=Jt[ar-Wt]^jt}for(var Ct=this._invKeySchedule=[],Nt=0;Nt<Kt;Nt++){var ar=Kt-Nt;if(Nt%4)var jt=Jt[ar];else var jt=Jt[ar-4];Nt<4||ar<=4?Ct[Nt]=jt:Ct[Nt]=Et[st[jt>>>24]]^$t[st[jt>>>16&255]]^It[st[jt>>>8&255]]^Tt[st[jt&255]]}}},encryptBlock:function(kt,Ot){this._doCryptBlock(kt,Ot,this._keySchedule,ut,ft,gt,_t,st)},decryptBlock:function(kt,Ot){var Wt=kt[Ot+1];kt[Ot+1]=kt[Ot+3],kt[Ot+3]=Wt,this._doCryptBlock(kt,Ot,this._invKeySchedule,Et,$t,It,Tt,ct);var Wt=kt[Ot+1];kt[Ot+1]=kt[Ot+3],kt[Ot+3]=Wt},_doCryptBlock:function(kt,Ot,Wt,zt,Kt,Jt,ar,jt){for(var Ct=this._nRounds,Nt=kt[Ot]^Wt[0],ht=kt[Ot+1]^Wt[1],ot=kt[Ot+2]^Wt[2],dt=kt[Ot+3]^Wt[3],mt=4,wt=1;wt<Ct;wt++){var bt=zt[Nt>>>24]^Kt[ht>>>16&255]^Jt[ot>>>8&255]^ar[dt&255]^Wt[mt++],vt=zt[ht>>>24]^Kt[ot>>>16&255]^Jt[dt>>>8&255]^ar[Nt&255]^Wt[mt++],St=zt[ot>>>24]^Kt[dt>>>16&255]^Jt[Nt>>>8&255]^ar[ht&255]^Wt[mt++],yt=zt[dt>>>24]^Kt[Nt>>>16&255]^Jt[ht>>>8&255]^ar[ot&255]^Wt[mt++];Nt=bt,ht=vt,ot=St,dt=yt}var bt=(jt[Nt>>>24]<<24|jt[ht>>>16&255]<<16|jt[ot>>>8&255]<<8|jt[dt&255])^Wt[mt++],vt=(jt[ht>>>24]<<24|jt[ot>>>16&255]<<16|jt[dt>>>8&255]<<8|jt[Nt&255])^Wt[mt++],St=(jt[ot>>>24]<<24|jt[dt>>>16&255]<<16|jt[Nt>>>8&255]<<8|jt[ht&255])^Wt[mt++],yt=(jt[dt>>>24]<<24|jt[Nt>>>16&255]<<16|jt[ht>>>8&255]<<8|jt[ot&255])^Wt[mt++];kt[Ot]=bt,kt[Ot+1]=vt,kt[Ot+2]=St,kt[Ot+3]=yt},keySize:256/32});rt.AES=it._createHelper(Rt)}(),tt.AES})})(aes);var tripledes={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=nt.BlockCipher,st=rt.algo,ct=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],ut=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],ft=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],gt=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],_t=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Et=st.DES=at.extend({_doReset:function(){for(var At=this._key,Rt=At.words,kt=[],Ot=0;Ot<56;Ot++){var Wt=ct[Ot]-1;kt[Ot]=Rt[Wt>>>5]>>>31-Wt%32&1}for(var zt=this._subKeys=[],Kt=0;Kt<16;Kt++){for(var Jt=zt[Kt]=[],ar=ft[Kt],Ot=0;Ot<24;Ot++)Jt[Ot/6|0]|=kt[(ut[Ot]-1+ar)%28]<<31-Ot%6,Jt[4+(Ot/6|0)]|=kt[28+(ut[Ot+24]-1+ar)%28]<<31-Ot%6;Jt[0]=Jt[0]<<1|Jt[0]>>>31;for(var Ot=1;Ot<7;Ot++)Jt[Ot]=Jt[Ot]>>>(Ot-1)*4+3;Jt[7]=Jt[7]<<5|Jt[7]>>>27}for(var jt=this._invSubKeys=[],Ot=0;Ot<16;Ot++)jt[Ot]=zt[15-Ot]},encryptBlock:function(At,Rt){this._doCryptBlock(At,Rt,this._subKeys)},decryptBlock:function(At,Rt){this._doCryptBlock(At,Rt,this._invSubKeys)},_doCryptBlock:function(At,Rt,kt){this._lBlock=At[Rt],this._rBlock=At[Rt+1],$t.call(this,4,252645135),$t.call(this,16,65535),It.call(this,2,858993459),It.call(this,8,16711935),$t.call(this,1,1431655765);for(var Ot=0;Ot<16;Ot++){for(var Wt=kt[Ot],zt=this._lBlock,Kt=this._rBlock,Jt=0,ar=0;ar<8;ar++)Jt|=gt[ar][((Kt^Wt[ar])&_t[ar])>>>0];this._lBlock=Kt,this._rBlock=zt^Jt}var jt=this._lBlock;this._lBlock=this._rBlock,this._rBlock=jt,$t.call(this,1,1431655765),It.call(this,8,16711935),It.call(this,2,858993459),$t.call(this,16,65535),$t.call(this,4,252645135),At[Rt]=this._lBlock,At[Rt+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function $t(At,Rt){var kt=(this._lBlock>>>At^this._rBlock)&Rt;this._rBlock^=kt,this._lBlock^=kt<<At}function It(At,Rt){var kt=(this._rBlock>>>At^this._lBlock)&Rt;this._lBlock^=kt,this._rBlock^=kt<<At}rt.DES=at._createHelper(Et);var Tt=st.TripleDES=at.extend({_doReset:function(){var At=this._key,Rt=At.words;this._des1=Et.createEncryptor(it.create(Rt.slice(0,2))),this._des2=Et.createEncryptor(it.create(Rt.slice(2,4))),this._des3=Et.createEncryptor(it.create(Rt.slice(4,6)))},encryptBlock:function(At,Rt){this._des1.encryptBlock(At,Rt),this._des2.decryptBlock(At,Rt),this._des3.encryptBlock(At,Rt)},decryptBlock:function(At,Rt){this._des3.decryptBlock(At,Rt),this._des2.encryptBlock(At,Rt),this._des1.decryptBlock(At,Rt)},keySize:192/32,ivSize:64/32,blockSize:64/32});rt.TripleDES=at._createHelper(Tt)}(),tt.TripleDES})})(tripledes);var rc4={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.StreamCipher,at=rt.algo,st=at.RC4=it.extend({_doReset:function(){for(var ft=this._key,gt=ft.words,_t=ft.sigBytes,Et=this._S=[],$t=0;$t<256;$t++)Et[$t]=$t;for(var $t=0,It=0;$t<256;$t++){var Tt=$t%_t,At=gt[Tt>>>2]>>>24-Tt%4*8&255;It=(It+Et[$t]+At)%256;var Rt=Et[$t];Et[$t]=Et[It],Et[It]=Rt}this._i=this._j=0},_doProcessBlock:function(ft,gt){ft[gt]^=ct.call(this)},keySize:256/32,ivSize:0});function ct(){for(var ft=this._S,gt=this._i,_t=this._j,Et=0,$t=0;$t<4;$t++){gt=(gt+1)%256,_t=(_t+ft[gt])%256;var It=ft[gt];ft[gt]=ft[_t],ft[_t]=It,Et|=ft[(ft[gt]+ft[_t])%256]<<24-$t*8}return this._i=gt,this._j=_t,Et}rt.RC4=it._createHelper(st);var ut=at.RC4Drop=st.extend({cfg:st.cfg.extend({drop:192}),_doReset:function(){st._doReset.call(this);for(var ft=this.cfg.drop;ft>0;ft--)ct.call(this)}});rt.RC4Drop=it._createHelper(ut)}(),tt.RC4})})(rc4);var rabbit={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.StreamCipher,at=rt.algo,st=[],ct=[],ut=[],ft=at.Rabbit=it.extend({_doReset:function(){for(var _t=this._key.words,Et=this.cfg.iv,$t=0;$t<4;$t++)_t[$t]=(_t[$t]<<8|_t[$t]>>>24)&16711935|(_t[$t]<<24|_t[$t]>>>8)&4278255360;var It=this._X=[_t[0],_t[3]<<16|_t[2]>>>16,_t[1],_t[0]<<16|_t[3]>>>16,_t[2],_t[1]<<16|_t[0]>>>16,_t[3],_t[2]<<16|_t[1]>>>16],Tt=this._C=[_t[2]<<16|_t[2]>>>16,_t[0]&4294901760|_t[1]&65535,_t[3]<<16|_t[3]>>>16,_t[1]&4294901760|_t[2]&65535,_t[0]<<16|_t[0]>>>16,_t[2]&4294901760|_t[3]&65535,_t[1]<<16|_t[1]>>>16,_t[3]&4294901760|_t[0]&65535];this._b=0;for(var $t=0;$t<4;$t++)gt.call(this);for(var $t=0;$t<8;$t++)Tt[$t]^=It[$t+4&7];if(Et){var At=Et.words,Rt=At[0],kt=At[1],Ot=(Rt<<8|Rt>>>24)&16711935|(Rt<<24|Rt>>>8)&4278255360,Wt=(kt<<8|kt>>>24)&16711935|(kt<<24|kt>>>8)&4278255360,zt=Ot>>>16|Wt&4294901760,Kt=Wt<<16|Ot&65535;Tt[0]^=Ot,Tt[1]^=zt,Tt[2]^=Wt,Tt[3]^=Kt,Tt[4]^=Ot,Tt[5]^=zt,Tt[6]^=Wt,Tt[7]^=Kt;for(var $t=0;$t<4;$t++)gt.call(this)}},_doProcessBlock:function(_t,Et){var $t=this._X;gt.call(this),st[0]=$t[0]^$t[5]>>>16^$t[3]<<16,st[1]=$t[2]^$t[7]>>>16^$t[5]<<16,st[2]=$t[4]^$t[1]>>>16^$t[7]<<16,st[3]=$t[6]^$t[3]>>>16^$t[1]<<16;for(var It=0;It<4;It++)st[It]=(st[It]<<8|st[It]>>>24)&16711935|(st[It]<<24|st[It]>>>8)&4278255360,_t[Et+It]^=st[It]},blockSize:128/32,ivSize:64/32});function gt(){for(var _t=this._X,Et=this._C,$t=0;$t<8;$t++)ct[$t]=Et[$t];Et[0]=Et[0]+1295307597+this._b|0,Et[1]=Et[1]+3545052371+(Et[0]>>>0<ct[0]>>>0?1:0)|0,Et[2]=Et[2]+886263092+(Et[1]>>>0<ct[1]>>>0?1:0)|0,Et[3]=Et[3]+1295307597+(Et[2]>>>0<ct[2]>>>0?1:0)|0,Et[4]=Et[4]+3545052371+(Et[3]>>>0<ct[3]>>>0?1:0)|0,Et[5]=Et[5]+886263092+(Et[4]>>>0<ct[4]>>>0?1:0)|0,Et[6]=Et[6]+1295307597+(Et[5]>>>0<ct[5]>>>0?1:0)|0,Et[7]=Et[7]+3545052371+(Et[6]>>>0<ct[6]>>>0?1:0)|0,this._b=Et[7]>>>0<ct[7]>>>0?1:0;for(var $t=0;$t<8;$t++){var It=_t[$t]+Et[$t],Tt=It&65535,At=It>>>16,Rt=((Tt*Tt>>>17)+Tt*At>>>15)+At*At,kt=((It&4294901760)*It|0)+((It&65535)*It|0);ut[$t]=Rt^kt}_t[0]=ut[0]+(ut[7]<<16|ut[7]>>>16)+(ut[6]<<16|ut[6]>>>16)|0,_t[1]=ut[1]+(ut[0]<<8|ut[0]>>>24)+ut[7]|0,_t[2]=ut[2]+(ut[1]<<16|ut[1]>>>16)+(ut[0]<<16|ut[0]>>>16)|0,_t[3]=ut[3]+(ut[2]<<8|ut[2]>>>24)+ut[1]|0,_t[4]=ut[4]+(ut[3]<<16|ut[3]>>>16)+(ut[2]<<16|ut[2]>>>16)|0,_t[5]=ut[5]+(ut[4]<<8|ut[4]>>>24)+ut[3]|0,_t[6]=ut[6]+(ut[5]<<16|ut[5]>>>16)+(ut[4]<<16|ut[4]>>>16)|0,_t[7]=ut[7]+(ut[6]<<8|ut[6]>>>24)+ut[5]|0}rt.Rabbit=it._createHelper(ft)}(),tt.Rabbit})})(rabbit);var rabbitLegacy={exports:{}};(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,encBase64.exports,md5.exports,evpkdf.exports,cipherCore.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.StreamCipher,at=rt.algo,st=[],ct=[],ut=[],ft=at.RabbitLegacy=it.extend({_doReset:function(){var _t=this._key.words,Et=this.cfg.iv,$t=this._X=[_t[0],_t[3]<<16|_t[2]>>>16,_t[1],_t[0]<<16|_t[3]>>>16,_t[2],_t[1]<<16|_t[0]>>>16,_t[3],_t[2]<<16|_t[1]>>>16],It=this._C=[_t[2]<<16|_t[2]>>>16,_t[0]&4294901760|_t[1]&65535,_t[3]<<16|_t[3]>>>16,_t[1]&4294901760|_t[2]&65535,_t[0]<<16|_t[0]>>>16,_t[2]&4294901760|_t[3]&65535,_t[1]<<16|_t[1]>>>16,_t[3]&4294901760|_t[0]&65535];this._b=0;for(var Tt=0;Tt<4;Tt++)gt.call(this);for(var Tt=0;Tt<8;Tt++)It[Tt]^=$t[Tt+4&7];if(Et){var At=Et.words,Rt=At[0],kt=At[1],Ot=(Rt<<8|Rt>>>24)&16711935|(Rt<<24|Rt>>>8)&4278255360,Wt=(kt<<8|kt>>>24)&16711935|(kt<<24|kt>>>8)&4278255360,zt=Ot>>>16|Wt&4294901760,Kt=Wt<<16|Ot&65535;It[0]^=Ot,It[1]^=zt,It[2]^=Wt,It[3]^=Kt,It[4]^=Ot,It[5]^=zt,It[6]^=Wt,It[7]^=Kt;for(var Tt=0;Tt<4;Tt++)gt.call(this)}},_doProcessBlock:function(_t,Et){var $t=this._X;gt.call(this),st[0]=$t[0]^$t[5]>>>16^$t[3]<<16,st[1]=$t[2]^$t[7]>>>16^$t[5]<<16,st[2]=$t[4]^$t[1]>>>16^$t[7]<<16,st[3]=$t[6]^$t[3]>>>16^$t[1]<<16;for(var It=0;It<4;It++)st[It]=(st[It]<<8|st[It]>>>24)&16711935|(st[It]<<24|st[It]>>>8)&4278255360,_t[Et+It]^=st[It]},blockSize:128/32,ivSize:64/32});function gt(){for(var _t=this._X,Et=this._C,$t=0;$t<8;$t++)ct[$t]=Et[$t];Et[0]=Et[0]+1295307597+this._b|0,Et[1]=Et[1]+3545052371+(Et[0]>>>0<ct[0]>>>0?1:0)|0,Et[2]=Et[2]+886263092+(Et[1]>>>0<ct[1]>>>0?1:0)|0,Et[3]=Et[3]+1295307597+(Et[2]>>>0<ct[2]>>>0?1:0)|0,Et[4]=Et[4]+3545052371+(Et[3]>>>0<ct[3]>>>0?1:0)|0,Et[5]=Et[5]+886263092+(Et[4]>>>0<ct[4]>>>0?1:0)|0,Et[6]=Et[6]+1295307597+(Et[5]>>>0<ct[5]>>>0?1:0)|0,Et[7]=Et[7]+3545052371+(Et[6]>>>0<ct[6]>>>0?1:0)|0,this._b=Et[7]>>>0<ct[7]>>>0?1:0;for(var $t=0;$t<8;$t++){var It=_t[$t]+Et[$t],Tt=It&65535,At=It>>>16,Rt=((Tt*Tt>>>17)+Tt*At>>>15)+At*At,kt=((It&4294901760)*It|0)+((It&65535)*It|0);ut[$t]=Rt^kt}_t[0]=ut[0]+(ut[7]<<16|ut[7]>>>16)+(ut[6]<<16|ut[6]>>>16)|0,_t[1]=ut[1]+(ut[0]<<8|ut[0]>>>24)+ut[7]|0,_t[2]=ut[2]+(ut[1]<<16|ut[1]>>>16)+(ut[0]<<16|ut[0]>>>16)|0,_t[3]=ut[3]+(ut[2]<<8|ut[2]>>>24)+ut[1]|0,_t[4]=ut[4]+(ut[3]<<16|ut[3]>>>16)+(ut[2]<<16|ut[2]>>>16)|0,_t[5]=ut[5]+(ut[4]<<8|ut[4]>>>24)+ut[3]|0,_t[6]=ut[6]+(ut[5]<<16|ut[5]>>>16)+(ut[4]<<16|ut[4]>>>16)|0,_t[7]=ut[7]+(ut[6]<<8|ut[6]>>>24)+ut[5]|0}rt.RabbitLegacy=it._createHelper(ft)}(),tt.RabbitLegacy})})(rabbitLegacy);(function(et,_e){(function(tt,rt,nt){et.exports=rt(core.exports,x64Core.exports,libTypedarrays.exports,encUtf16.exports,encBase64.exports,md5.exports,sha1.exports,sha256$1.exports,sha224.exports,sha512.exports,sha384.exports,sha3.exports,ripemd160.exports,hmac.exports,pbkdf2.exports,evpkdf.exports,cipherCore.exports,modeCfb.exports,modeCtr.exports,modeCtrGladman.exports,modeOfb.exports,modeEcb.exports,padAnsix923.exports,padIso10126.exports,padIso97971.exports,padZeropadding.exports,padNopadding.exports,formatHex.exports,aes.exports,tripledes.exports,rc4.exports,rabbit.exports,rabbitLegacy.exports)})(commonjsGlobal,function(tt){return tt})})(cryptoJs);var __importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(Base$1,"__esModule",{value:!0});Base$1.Base=void 0;const buffer_1$2=buffer$2,crypto_js_1=__importDefault$a(cryptoJs.exports);class Base{print(){Base.print(this)}_bufferIndexOf(_e,tt){for(let rt=0;rt<_e.length;rt++)if(tt.equals(_e[rt]))return rt;return-1}static bufferify(_e){if(!buffer_1$2.Buffer.isBuffer(_e)){if(typeof _e=="object"&&_e.words)return buffer_1$2.Buffer.from(_e.toString(crypto_js_1.default.enc.Hex),"hex");if(Base.isHexString(_e))return buffer_1$2.Buffer.from(_e.replace(/^0x/,""),"hex");if(typeof _e=="string")return buffer_1$2.Buffer.from(_e);if(typeof _e=="number"){let tt=_e.toString();return tt.length%2&&(tt=`0${tt}`),buffer_1$2.Buffer.from(tt,"hex")}else if(ArrayBuffer.isView(_e))return buffer_1$2.Buffer.from(_e.buffer,_e.byteOffset,_e.byteLength)}return _e}static isHexString(_e){return typeof _e=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(_e)}static print(_e){console.log(_e.toString())}bufferToHex(_e,tt=!0){return Base.bufferToHex(_e,tt)}static bufferToHex(_e,tt=!0){return`${tt?"0x":""}${(_e||buffer_1$2.Buffer.alloc(0)).toString("hex")}`}bufferify(_e){return Base.bufferify(_e)}bufferifyFn(_e){return tt=>{const rt=_e(tt);return buffer_1$2.Buffer.isBuffer(rt)?rt:this._isHexString(rt)?buffer_1$2.Buffer.from(rt.replace("0x",""),"hex"):typeof rt=="string"?buffer_1$2.Buffer.from(rt):ArrayBuffer.isView(rt)?buffer_1$2.Buffer.from(rt.buffer,rt.byteOffset,rt.byteLength):buffer_1$2.Buffer.from(_e(crypto_js_1.default.enc.Hex.parse(tt.toString("hex"))).toString(crypto_js_1.default.enc.Hex),"hex")}}_isHexString(_e){return Base.isHexString(_e)}_log2(_e){return _e===1?0:1+this._log2(_e/2|0)}_zip(_e,tt){return _e.map((rt,nt)=>[rt,tt[nt]])}}Base$1.Base=Base;Base$1.default=Base;var __importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(MerkleTree$1,"__esModule",{value:!0});MerkleTree$1.MerkleTree=void 0;const buffer_1$1=buffer$2,buffer_reverse_1=__importDefault$9(bufferReverse),sha256_1$1=__importDefault$9(sha256$1.exports),treeify_1=__importDefault$9(treeify.exports),Base_1$1=__importDefault$9(Base$1);class MerkleTree extends Base_1$1.default{constructor(_e,tt=sha256_1$1.default,rt={}){if(super(),this.duplicateOdd=!1,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.isBitcoinTree=!!rt.isBitcoinTree,this.hashLeaves=!!rt.hashLeaves,this.sortLeaves=!!rt.sortLeaves,this.sortPairs=!!rt.sortPairs,rt.fillDefaultHash)if(typeof rt.fillDefaultHash=="function")this.fillDefaultHash=rt.fillDefaultHash;else if(buffer_1$1.Buffer.isBuffer(rt.fillDefaultHash)||typeof rt.fillDefaultHash=="string")this.fillDefaultHash=(nt,it)=>rt.fillDefaultHash;else throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');this.sort=!!rt.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!rt.duplicateOdd,this.hashFn=this.bufferifyFn(tt),this.processLeaves(_e)}processLeaves(_e){if(this.hashLeaves&&(_e=_e.map(this.hashFn)),this.leaves=_e.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(buffer_1$1.Buffer.compare)),this.fillDefaultHash)for(let tt=0;tt<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));tt++)tt>=this.leaves.length&&this.leaves.push(this.bufferify(this.fillDefaultHash(tt,this.hashFn)));this.layers=[this.leaves],this._createHashes(this.leaves)}_createHashes(_e){for(;_e.length>1;){const tt=this.layers.length;this.layers.push([]);for(let rt=0;rt<_e.length;rt+=2){if(rt+1===_e.length&&_e.length%2===1){let ut=_e[_e.length-1],ft=ut;if(this.isBitcoinTree){ut=buffer_1$1.Buffer.concat([buffer_reverse_1.default(ut),buffer_reverse_1.default(ut)]),ft=this.hashFn(ut),ft=buffer_reverse_1.default(this.hashFn(ft)),this.layers[tt].push(ft);continue}else if(!this.duplicateOdd){this.layers[tt].push(_e[rt]);continue}}const nt=_e[rt],it=rt+1===_e.length?nt:_e[rt+1];let at=null,st=null;this.isBitcoinTree?st=[buffer_reverse_1.default(nt),buffer_reverse_1.default(it)]:st=[nt,it],this.sortPairs&&st.sort(buffer_1$1.Buffer.compare),at=buffer_1$1.Buffer.concat(st);let ct=this.hashFn(at);this.isBitcoinTree&&(ct=buffer_reverse_1.default(this.hashFn(ct))),this.layers[tt].push(ct)}_e=this.layers[tt]}}addLeaf(_e,tt=!1){tt&&(_e=this.hashFn(_e)),this.processLeaves(this.leaves.concat(_e))}addLeaves(_e,tt=!1){tt&&(_e=_e.map(this.hashFn)),this.processLeaves(this.leaves.concat(_e))}getLeaves(_e){return Array.isArray(_e)?(this.hashLeaves&&(_e=_e.map(this.hashFn),this.sortLeaves&&(_e=_e.sort(buffer_1$1.Buffer.compare))),this.leaves.filter(tt=>this._bufferIndexOf(_e,tt)!==-1)):this.leaves}getLeaf(_e){return _e<0||_e>this.leaves.length-1?buffer_1$1.Buffer.from([]):this.leaves[_e]}getLeafIndex(_e){_e=this.bufferify(_e);const tt=this.getLeaves();for(let rt=0;rt<tt.length;rt++)if(tt[rt].equals(_e))return rt;return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(_e=>this.bufferToHex(_e))}static marshalLeaves(_e){return JSON.stringify(_e.map(tt=>MerkleTree.bufferToHex(tt)),null,2)}static unmarshalLeaves(_e){let tt=null;if(typeof _e=="string")tt=JSON.parse(_e);else if(_e instanceof Object)tt=_e;else throw new Error("Expected type of string or object");if(!tt)return[];if(!Array.isArray(tt))throw new Error("Expected JSON string to be array");return tt.map(MerkleTree.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((_e,tt)=>(Array.isArray(tt)?_e.push(tt.map(rt=>this.bufferToHex(rt))):_e.push(tt),_e),[])}getLayersFlat(){const _e=this.layers.reduce((tt,rt)=>(Array.isArray(rt)?tt.unshift(...rt):tt.unshift(rt),tt),[]);return _e.unshift(buffer_1$1.Buffer.from([0])),_e}getHexLayersFlat(){return this.getLayersFlat().map(_e=>this.bufferToHex(_e))}getLayerCount(){return this.getLayers().length}getRoot(){return this.layers.length===0?buffer_1$1.Buffer.from([]):this.layers[this.layers.length-1][0]||buffer_1$1.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(_e,tt){if(typeof _e=="undefined")throw new Error("leaf is required");_e=this.bufferify(_e);const rt=[];if(!Number.isInteger(tt)){tt=-1;for(let nt=0;nt<this.leaves.length;nt++)buffer_1$1.Buffer.compare(_e,this.leaves[nt])===0&&(tt=nt)}if(tt<=-1)return[];for(let nt=0;nt<this.layers.length;nt++){const it=this.layers[nt],at=tt%2,st=at?tt-1:this.isBitcoinTree&&tt===it.length-1&&nt<this.layers.length-1?tt:tt+1;st<it.length&&rt.push({position:at?"left":"right",data:it[st]}),tt=tt/2|0}return rt}getHexProof(_e,tt){return this.getProof(_e,tt).map(rt=>this.bufferToHex(rt.data))}getPositionalHexProof(_e,tt){return this.getProof(_e,tt).map(rt=>[rt.position==="left"?0:1,this.bufferToHex(rt.data)])}static marshalProof(_e){const tt=_e.map(rt=>typeof rt=="string"?rt:buffer_1$1.Buffer.isBuffer(rt)?MerkleTree.bufferToHex(rt):{position:rt.position,data:MerkleTree.bufferToHex(rt.data)});return JSON.stringify(tt,null,2)}static unmarshalProof(_e){let tt=null;if(typeof _e=="string")tt=JSON.parse(_e);else if(_e instanceof Object)tt=_e;else throw new Error("Expected type of string or object");if(!tt)return[];if(!Array.isArray(tt))throw new Error("Expected JSON string to be array");return tt.map(rt=>{if(typeof rt=="string")return MerkleTree.bufferify(rt);if(rt instanceof Object)return{position:rt.position,data:MerkleTree.bufferify(rt.data)};throw new Error("Expected item to be of type string or object")})}getProofIndices(_e,tt){const rt=Math.pow(2,tt);let nt=new Set;for(const ut of _e){let ft=rt+ut;for(;ft>1;)nt.add(ft^1),ft=ft/2|0}const it=_e.map(ut=>rt+ut),at=Array.from(nt).sort((ut,ft)=>ut-ft).reverse();nt=it.concat(at);const st=new Set,ct=[];for(let ut of nt)if(!st.has(ut))for(ct.push(ut);ut>1&&(st.add(ut),!!st.has(ut^1));)ut=ut/2|0;return ct.filter(ut=>!_e.includes(ut-rt))}getProofIndicesForUnevenTree(_e,tt){const rt=Math.ceil(Math.log2(tt)),nt=[];for(let st=0;st<rt;st++)tt%2!==0&&nt.push({index:st,leavesCount:tt}),tt=Math.ceil(tt/2);const it=[];let at=_e;for(let st=0;st<rt;st++){let ut=at.map(gt=>gt%2===0?gt+1:gt-1).filter(gt=>!at.includes(gt));const ft=nt.find(({index:gt})=>gt===st);ft&&at.includes(ft.leavesCount-1)&&(ut=ut.slice(0,-1)),it.push(ut),at=[...new Set(at.map(gt=>gt%2===0?gt/2:gt%2===0?(gt+1)/2:(gt-1)/2))]}return it}getMultiProof(_e,tt){if(tt||(tt=_e,_e=this.getLayersFlat()),this.isUnevenTree()&&tt.every(Number.isInteger))return this.getMultiProofForUnevenTree(tt);if(!tt.every(Number.isInteger)){let nt=tt;this.sortPairs&&(nt=nt.sort(buffer_1$1.Buffer.compare));let it=nt.map(ut=>this._bufferIndexOf(this.leaves,ut)).sort((ut,ft)=>ut===ft?0:ut>ft?1:-1);if(!it.every(ut=>ut!==-1))throw new Error("Element does not exist in Merkle tree");const at=[],st=[];let ct=[];for(let ut=0;ut<this.layers.length;ut++){const ft=this.layers[ut];for(let gt=0;gt<it.length;gt++){const _t=it[gt],Et=this._getPairNode(ft,_t);at.push(ft[_t]),Et&&st.push(Et),ct.push(_t/2|0)}it=ct.filter((gt,_t,Et)=>Et.indexOf(gt)===_t),ct=[]}return st.filter(ut=>!at.includes(ut))}return this.getProofIndices(tt,this._log2(_e.length/2|0)).map(nt=>_e[nt])}getMultiProofForUnevenTree(_e,tt){tt||(tt=_e,_e=this.getLayers());let rt=[],nt=tt;for(const it of _e){const at=[];for(const ct of nt){if(ct%2===0){const ft=ct+1;if(!nt.includes(ft)&&it[ft]){at.push(it[ft]);continue}}const ut=ct-1;if(!nt.includes(ut)&&it[ut]){at.push(it[ut]);continue}}rt=rt.concat(at);const st=new Set;for(const ct of nt){if(ct%2===0){st.add(ct/2);continue}if(ct%2===0){st.add((ct+1)/2);continue}st.add((ct-1)/2)}nt=Array.from(st)}return rt}getHexMultiProof(_e,tt){return this.getMultiProof(_e,tt).map(rt=>this.bufferToHex(rt))}getProofFlags(_e,tt){if(!Array.isArray(_e)||_e.length<=0)throw new Error("Invalid Inputs!");let rt;if(_e.every(Number.isInteger)?rt=_e.sort((st,ct)=>st===ct?0:st>ct?1:-1):rt=_e.map(st=>this._bufferIndexOf(this.leaves,st)).sort((st,ct)=>st===ct?0:st>ct?1:-1),!rt.every(st=>st!==-1))throw new Error("Element does not exist in Merkle tree");const nt=tt.map(st=>this.bufferify(st)),it=[],at=[];for(let st=0;st<this.layers.length;st++){const ct=this.layers[st];rt=rt.reduce((ut,ft)=>{if(!it.includes(ct[ft])){const _t=this._getPairNode(ct,ft),Et=nt.includes(ct[ft])||nt.includes(_t);_t&&at.push(!Et),it.push(ct[ft]),it.push(_t)}return ut.push(ft/2|0),ut},[])}return at}verify(_e,tt,rt){let nt=this.bufferify(tt);if(rt=this.bufferify(rt),!Array.isArray(_e)||!tt||!rt)return!1;for(let it=0;it<_e.length;it++){const at=_e[it];let st=null,ct=null;if(typeof at=="string")st=this.bufferify(at),ct=!0;else if(Array.isArray(at))ct=at[0]===0,st=this.bufferify(at[1]);else if(buffer_1$1.Buffer.isBuffer(at))st=at,ct=!0;else if(at instanceof Object)st=this.bufferify(at.data),ct=at.position==="left";else throw new Error("Expected node to be of type string or object");const ut=[];this.isBitcoinTree?(ut.push(buffer_reverse_1.default(nt)),ut[ct?"unshift":"push"](buffer_reverse_1.default(st)),nt=this.hashFn(buffer_1$1.Buffer.concat(ut)),nt=buffer_reverse_1.default(this.hashFn(nt))):this.sortPairs?buffer_1$1.Buffer.compare(nt,st)===-1?(ut.push(nt,st),nt=this.hashFn(buffer_1$1.Buffer.concat(ut))):(ut.push(st,nt),nt=this.hashFn(buffer_1$1.Buffer.concat(ut))):(ut.push(nt),ut[ct?"unshift":"push"](st),nt=this.hashFn(buffer_1$1.Buffer.concat(ut)))}return buffer_1$1.Buffer.compare(nt,rt)===0}verifyMultiProof(_e,tt,rt,nt,it){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(_e,tt,rt,nt,it);const st=Math.ceil(Math.log2(nt));_e=this.bufferify(_e),rt=rt.map(gt=>this.bufferify(gt)),it=it.map(gt=>this.bufferify(gt));const ct={};for(const[gt,_t]of this._zip(tt,rt))ct[Math.pow(2,st)+gt]=_t;for(const[gt,_t]of this._zip(this.getProofIndices(tt,st),it))ct[gt]=_t;let ut=Object.keys(ct).map(gt=>+gt).sort((gt,_t)=>gt-_t);ut=ut.slice(0,ut.length-1);let ft=0;for(;ft<ut.length;){const gt=ut[ft];if(gt>=2&&{}.hasOwnProperty.call(ct,gt^1)){let _t=[ct[gt-gt%2],ct[gt-gt%2+1]];this.sortPairs&&(_t=_t.sort(buffer_1$1.Buffer.compare));const Et=_t[1]?this.hashFn(buffer_1$1.Buffer.concat(_t)):_t[0];ct[gt/2|0]=Et,ut.push(gt/2|0)}ft+=1}return!tt.length||{}.hasOwnProperty.call(ct,1)&&ct[1].equals(_e)}verifyMultiProofWithFlags(_e,tt,rt,nt){_e=this.bufferify(_e),tt=tt.map(this.bufferify),rt=rt.map(this.bufferify);const it=tt.length,at=nt.length,st=[];let ct=0,ut=0,ft=0;for(let gt=0;gt<at;gt++){const _t=nt[gt]?ct<it?tt[ct++]:st[ut++]:rt[ft++],Et=ct<it?tt[ct++]:st[ut++],$t=[_t,Et].sort(buffer_1$1.Buffer.compare);st[gt]=this.hashFn(buffer_1$1.Buffer.concat($t))}return buffer_1$1.Buffer.compare(st[at-1],_e)===0}verifyMultiProofForUnevenTree(_e,tt,rt,nt,it){_e=this.bufferify(_e),rt=rt.map(st=>this.bufferify(st)),it=it.map(st=>this.bufferify(st));const at=this.calculateRootForUnevenTree(tt,rt,nt,it);return _e.equals(at)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const _e=this.getLayers().map(rt=>rt.map(nt=>this.bufferToHex(nt,!1))),tt=[];for(let rt=0;rt<_e.length;rt++){const nt=[];for(let it=0;it<_e[rt].length;it++){const at={[_e[rt][it]]:null};if(tt.length){at[_e[rt][it]]={};const st=tt.shift(),ct=Object.keys(st)[0];if(at[_e[rt][it]][ct]=st[ct],tt.length){const ut=tt.shift(),ft=Object.keys(ut)[0];at[_e[rt][it]][ft]=ut[ft]}}nt.push(at)}tt.push(...nt)}return tt[0]}static verify(_e,tt,rt,nt=sha256_1$1.default,it={}){return new MerkleTree([],nt,it).verify(_e,tt,rt)}static getMultiProof(_e,tt){return new MerkleTree([]).getMultiProof(_e,tt)}resetTree(){this.leaves=[],this.layers=[]}_getPairNode(_e,tt){const rt=tt%2===0?tt+1:tt-1;return rt<_e.length?_e[rt]:null}_toTreeString(){const _e=this.getLayersAsObject();return treeify_1.default.asTree(_e,!0)}toString(){return this._toTreeString()}isUnevenTree(_e){const tt=(_e==null?void 0:_e.length)||this.getDepth();return!this.isPowOf2(tt)}isPowOf2(_e){return _e&&!(_e&_e-1)}calculateRootForUnevenTree(_e,tt,rt,nt){const it=this._zip(_e,tt).sort(([gt],[_t])=>gt-_t),at=it.map(([gt])=>gt),st=this.getProofIndicesForUnevenTree(at,rt);let ct=0;const ut=[];for(let gt=0;gt<st.length;gt++){const _t=st[gt],Et=ct;ct+=_t.length,ut[gt]=this._zip(_t,nt.slice(Et,ct))}const ft=[it];for(let gt=0;gt<ut.length;gt++){const _t=ut[gt].concat(ft[gt]).sort(([Tt],[At])=>Tt-At).map(([,Tt])=>Tt),Et=ft[gt].map(([Tt])=>Tt),$t=[...new Set(Et.map(Tt=>Tt%2===0?Tt/2:Tt%2===0?(Tt+1)/2:(Tt-1)/2))],It=[];for(let Tt=0;Tt<$t.length;Tt++){const At=$t[Tt],Rt=_t[Tt*2],kt=_t[Tt*2+1],Ot=kt?this.hashFn(buffer_1$1.Buffer.concat([Rt,kt])):Rt;It.push([At,Ot])}ft.push(It)}return ft[ft.length-1][0][1]}}MerkleTree$1.MerkleTree=MerkleTree;typeof window!="undefined"&&(window.MerkleTree=MerkleTree);MerkleTree$1.default=MerkleTree;var MerkleMountainRange$1={},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(MerkleMountainRange$1,"__esModule",{value:!0});MerkleMountainRange$1.MerkleMountainRange=void 0;const buffer_1=buffer$2,sha256_1=__importDefault$8(sha256$1.exports),Base_1=__importDefault$8(Base$1);class MerkleMountainRange extends Base_1.default{constructor(_e=sha256_1.default,tt=[],rt,nt,it){super(),this.root=buffer_1.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},tt=tt.map(this.bufferify),this.hashFn=this.bufferifyFn(_e),this.hashLeafFn=rt,this.peakBaggingFn=nt,this.hashBranchFn=it;for(const at of tt)this.append(at)}append(_e){_e=this.bufferify(_e);const tt=this.hashFn(_e),rt=this.bufferToHex(tt);(!this.data[rt]||this.bufferToHex(this.hashFn(this.data[rt]))!==rt)&&(this.data[rt]=_e);const nt=this.hashLeaf(this.size+1,tt);this.hashes[this.size+1]=nt,this.width+=1;const it=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const at=[];for(let st=0;st<it.length;st++)at[st]=this._getOrCreateNode(it[st]);this.root=this.peakBagging(this.width,at)}hashLeaf(_e,tt){return tt=this.bufferify(tt),this.hashLeafFn?this.bufferify(this.hashLeafFn(_e,tt)):this.hashFn(buffer_1.Buffer.concat([this.bufferify(_e),tt]))}hashBranch(_e,tt,rt){return this.hashBranchFn?this.bufferify(this.hashBranchFn(_e,tt,rt)):this.hashFn(buffer_1.Buffer.concat([this.bufferify(_e),this.bufferify(tt),this.bufferify(rt)]))}getPeaks(){const _e=this.getPeakIndexes(this.width),tt=[];for(let rt=0;rt<_e.length;rt++)tt[rt]=this.hashes[_e[rt]];return tt}getLeafIndex(_e){return _e%2===1?this.getSize(_e):this.getSize(_e-1)+1}getPeakIndexes(_e){const tt=this.numOfPeaks(_e),rt=[];let nt=0,it=0;for(let at=255;at>0&&!((_e&1<<at-1)!==0&&(it=it+(1<<at)-1,rt[nt++]=it,rt.length>=tt));at--);if(nt!==rt.length)throw new Error("invalid bit calculation");return rt}numOfPeaks(_e){let tt=_e,rt=0;for(;tt>0;)tt%2===1&&rt++,tt=tt>>1;return rt}peakBagging(_e,tt){const rt=this.getSize(_e);if(this.numOfPeaks(_e)!==tt.length)throw new Error("received invalid number of peaks");return _e===0&&!tt.length?buffer_1.Buffer.alloc(0):this.peakBaggingFn?this.bufferify(this.peakBaggingFn(rt,tt)):this.hashFn(buffer_1.Buffer.concat([this.bufferify(rt),...tt.map(this.bufferify)]))}getSize(_e){return(_e<<1)-this.numOfPeaks(_e)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(_e){return this.hashes[_e]}mountainHeight(_e){let tt=1;for(;1<<tt<=_e+tt;)tt++;return tt-1}heightAt(_e){let tt=_e,rt=0,nt=0;for(;tt>rt;)tt-=(1<<nt)-1,nt=this.mountainHeight(tt),rt=(1<<nt)-1;return nt-(rt-tt)}isLeaf(_e){return this.heightAt(_e)===1}getChildren(_e){const tt=_e-(1<<this.heightAt(_e)-1),rt=_e-1;if(tt===rt)throw new Error("not a parent");return[tt,rt]}getMerkleProof(_e){if(_e>this.size)throw new Error("out of range");if(!this.isLeaf(_e))throw new Error("not a leaf");const tt=this.root,rt=this.width,nt=this.getPeakIndexes(this.width),it=[];let at=0;for(let gt=0;gt<nt.length;gt++)it[gt]=this.hashes[nt[gt]],nt[gt]>=_e&&at===0&&(at=nt[gt]);let st=0,ct=0,ut=this.heightAt(at);const ft=[];for(;at!==_e;)ut--,[st,ct]=this.getChildren(at),at=_e<=st?st:ct,ft[ut-1]=this.hashes[_e<=st?ct:st];return{root:tt,width:rt,peakBagging:it,siblings:ft}}verify(_e,tt,rt,nt,it,at){if(nt=this.bufferify(nt),this.getSize(tt)<rt)throw new Error("index is out of range");if(!_e.equals(this.peakBagging(tt,it)))throw new Error("invalid root hash from the peaks");let ct=0,ut;const ft=this.getPeakIndexes(tt);for(let Tt=0;Tt<ft.length;Tt++)if(ft[Tt]>=rt){ut=it[Tt],ct=ft[Tt];break}if(!ut)throw new Error("target not found");let gt=at.length+1;const _t=new Array(gt);let Et=0,$t=0;for(;gt>0&&(_t[--gt]=ct,ct!==rt);)[Et,$t]=this.getChildren(ct),ct=rt>Et?$t:Et;let It;for(;gt<_t.length;)ct=_t[gt],gt===0?It=this.hashLeaf(ct,this.hashFn(nt)):ct-1===_t[gt-1]?It=this.hashBranch(ct,at[gt-1],It):It=this.hashBranch(ct,It,at[gt-1]),gt++;if(!It.equals(ut))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(_e,tt){const rt={};let nt=0,it=0,at=tt.length;for(let st=1;st<=32;st++)nt=32-st,it=1<<st-1,(_e&it)!==0?rt[nt]=tt[--at]:rt[nt]=0;if(at!==0)throw new Error("invalid number of peaks");return rt}peakMapToPeaks(_e,tt){const rt=this.numOfPeaks(_e),nt=new Array(rt);let it=0;for(let at=0;at<32;at++)tt[at]!==0&&(nt[it++]=tt[at]);if(it!==rt)throw new Error("invalid number of peaks");return nt}peakUpdate(_e,tt,rt){const nt={},it=_e+1;let at=this.getLeafIndex(it),st=this.hashLeaf(at,rt),ct=0,ut=0,ft=!1,gt=!1,_t=!1;for(let Et=1;Et<=32;Et++)ct=32-Et,_t?nt[ct]=tt[ct]:(ut=1<<Et-1,ft=(_e&ut)!==0,gt=(it&ut)!==0,at++,ft&&(st=this.hashBranch(at,tt[ct],st)),gt?(ft?nt[ct]=tt[ct]:nt[ct]=st,_t=!0):nt[ct]=0);return nt}rollUp(_e,tt,rt,nt){if(!_e.equals(this.peakBagging(tt,rt)))throw new Error("invalid root hash from the peaks");let it=tt,at=this.peaksToPeakMap(tt,rt);for(let st=0;st<nt.length;st++)at=this.peakUpdate(it,at,nt[st]),it++;return this.peakBagging(it,this.peakMapToPeaks(it,at))}_getOrCreateNode(_e){if(_e>this.size)throw new Error("out of range");if(!this.hashes[_e]){const[tt,rt]=this.getChildren(_e),nt=this._getOrCreateNode(tt),it=this._getOrCreateNode(rt);this.hashes[_e]=this.hashBranch(_e,nt,it)}return this.hashes[_e]}}MerkleMountainRange$1.MerkleMountainRange=MerkleMountainRange;MerkleMountainRange$1.default=MerkleMountainRange;(function(et){var _e=commonjsGlobal&&commonjsGlobal.__importDefault||function(nt){return nt&&nt.__esModule?nt:{default:nt}};Object.defineProperty(et,"__esModule",{value:!0}),et.MerkleTree=void 0;const tt=_e(MerkleTree$1);et.MerkleTree=tt.default;var rt=MerkleMountainRange$1;Object.defineProperty(et,"MerkleMountainRange",{enumerable:!0,get:function(){return rt.MerkleMountainRange}}),et.default=tt.default})(dist$3);var fastDeepEqual=function et(_e,tt){if(_e===tt)return!0;if(_e&&tt&&typeof _e=="object"&&typeof tt=="object"){if(_e.constructor!==tt.constructor)return!1;var rt,nt,it;if(Array.isArray(_e)){if(rt=_e.length,rt!=tt.length)return!1;for(nt=rt;nt--!==0;)if(!et(_e[nt],tt[nt]))return!1;return!0}if(_e.constructor===RegExp)return _e.source===tt.source&&_e.flags===tt.flags;if(_e.valueOf!==Object.prototype.valueOf)return _e.valueOf()===tt.valueOf();if(_e.toString!==Object.prototype.toString)return _e.toString()===tt.toString();if(it=Object.keys(_e),rt=it.length,rt!==Object.keys(tt).length)return!1;for(nt=rt;nt--!==0;)if(!Object.prototype.hasOwnProperty.call(tt,it[nt]))return!1;for(nt=rt;nt--!==0;){var at=it[nt];if(!et(_e[at],tt[at]))return!1}return!0}return _e!==_e&&tt!==tt},ERC721MetadataAbi=[{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],ERC1155MetadataAbi=[{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],DeprecatedAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"TokenURIRevealed",type:"event"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"key",type:"bytes"}],name:"encryptDecrypt",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"}],name:"encryptedBaseURI",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes",name:"key",type:"bytes"}],name:"reveal",outputs:[{internalType:"string",name:"revealedURI",type:"string"}],stateMutability:"nonpayable",type:"function"}],TWFactoryAbi=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"},{internalType:"address",name:"_registry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!0,internalType:"bytes32",name:"contractType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"version",type:"uint256"}],name:"ImplementationAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"bool",name:"isApproved",type:"bool"}],name:"ImplementationApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"address",name:"proxy",type:"address"},{indexed:!0,internalType:"address",name:"deployer",type:"address"}],name:"ProxyDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FACTORY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"}],name:"addImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"approval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bool",name:"_toApprove",type:"bool"}],name:"approveImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"currentVersion",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"deployProxy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_salt",type:"bytes32"}],name:"deployProxyByImplementation",outputs:[{internalType:"address",name:"deployedProxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_salt",type:"bytes32"}],name:"deployProxyDeterministic",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"deployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"uint256",name:"_version",type:"uint256"}],name:"getImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"}],name:"getLatestImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],name:"implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"registry",outputs:[{internalType:"contract TWRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],TWRegistryABI$1=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"}],name:"Added",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"}],name:"Deleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATOR_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"count",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"getAll",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"}],name:"remove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],ContractPublisherAbi=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"},{internalType:"contract IContractPublisher",name:"_prevPublisher",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"publisher",type:"address"},{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],indexed:!1,internalType:"struct IContractPublisher.CustomContractInstance",name:"publishedContract",type:"tuple"}],name:"ContractPublished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"publisher",type:"address"},{indexed:!0,internalType:"string",name:"contractId",type:"string"}],name:"ContractUnpublished",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"publisher",type:"address"},{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"PublisherProfileUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"}],name:"getAllPublishedContracts",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance[]",name:"published",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"getPublishedContract",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance",name:"published",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"getPublishedContractVersions",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance[]",name:"published",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"compilerMetadataUri",type:"string"}],name:"getPublishedUriFromCompilerUri",outputs:[{internalType:"string[]",name:"publishedMetadataUris",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"publisher",type:"address"}],name:"getPublisherProfileUri",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"prevPublisher",outputs:[{internalType:"contract IContractPublisher",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"},{internalType:"string",name:"_publishMetadataUri",type:"string"},{internalType:"string",name:"_compilerMetadataUri",type:"string"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"address",name:"_implementation",type:"address"}],name:"publishContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_pause",type:"bool"}],name:"setPause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"publisher",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"setPublisherProfileUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"unpublishContract",outputs:[],stateMutability:"nonpayable",type:"function"}],TWRegistryABI=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"},{indexed:!0,internalType:"uint256",name:"chainId",type:"uint256"},{indexed:!1,internalType:"string",name:"metadataUri",type:"string"}],name:"Added",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"},{indexed:!0,internalType:"uint256",name:"chainId",type:"uint256"}],name:"Deleted",type:"event"},{inputs:[],name:"OPERATOR_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"_msgData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"_msgSender",outputs:[{internalType:"address",name:"sender",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"},{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"string",name:"metadataUri",type:"string"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"contractType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"contractVersion",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"count",outputs:[{internalType:"uint256",name:"deploymentCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"getAll",outputs:[{components:[{internalType:"address",name:"deploymentAddress",type:"address"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"}],internalType:"struct ITWMultichainRegistry.Deployment[]",name:"allDeployments",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"address",name:"_deployment",type:"address"}],name:"getMetadataUri",outputs:[{internalType:"string",name:"metadataUri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"},{internalType:"uint256",name:"_chainId",type:"uint256"}],name:"remove",outputs:[],stateMutability:"nonpayable",type:"function"}],TWRegistryRouterABI=[{inputs:[{internalType:"address",name:"_pluginMap",type:"address"},{internalType:"address[]",name:"_trustedForwarders",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"string",name:"functionSignature",type:"string"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldPluginAddress",type:"address"},{indexed:!0,internalType:"address",name:"newPluginAddress",type:"address"}],name:"PluginUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"_getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"_plugin",type:"tuple"}],name:"addPlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pluginAddress",type:"address"}],name:"getAllFunctionsOfPlugin",outputs:[{internalType:"bytes4[]",name:"registered",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"member",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"count",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRoleWithSwitch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pluginMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"removePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"_plugin",type:"tuple"}],name:"updatePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];function base$1(et){if(et.length>=255)throw new TypeError("Alphabet too long");for(var _e=new Uint8Array(256),tt=0;tt<_e.length;tt++)_e[tt]=255;for(var rt=0;rt<et.length;rt++){var nt=et.charAt(rt),it=nt.charCodeAt(0);if(_e[it]!==255)throw new TypeError(nt+" is ambiguous");_e[it]=rt}var at=et.length,st=et.charAt(0),ct=Math.log(at)/Math.log(256),ut=Math.log(256)/Math.log(at);function ft(Et){if(Et instanceof Uint8Array||(ArrayBuffer.isView(Et)?Et=new Uint8Array(Et.buffer,Et.byteOffset,Et.byteLength):Array.isArray(Et)&&(Et=Uint8Array.from(Et))),!(Et instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Et.length===0)return"";for(var $t=0,It=0,Tt=0,At=Et.length;Tt!==At&&Et[Tt]===0;)Tt++,$t++;for(var Rt=(At-Tt)*ut+1>>>0,kt=new Uint8Array(Rt);Tt!==At;){for(var Ot=Et[Tt],Wt=0,zt=Rt-1;(Ot!==0||Wt<It)&&zt!==-1;zt--,Wt++)Ot+=256*kt[zt]>>>0,kt[zt]=Ot%at>>>0,Ot=Ot/at>>>0;if(Ot!==0)throw new Error("Non-zero carry");It=Wt,Tt++}for(var Kt=Rt-It;Kt!==Rt&&kt[Kt]===0;)Kt++;for(var Jt=st.repeat($t);Kt<Rt;++Kt)Jt+=et.charAt(kt[Kt]);return Jt}function gt(Et){if(typeof Et!="string")throw new TypeError("Expected String");if(Et.length===0)return new Uint8Array;for(var $t=0,It=0,Tt=0;Et[$t]===st;)It++,$t++;for(var At=(Et.length-$t)*ct+1>>>0,Rt=new Uint8Array(At);Et[$t];){var kt=_e[Et.charCodeAt($t)];if(kt===255)return;for(var Ot=0,Wt=At-1;(kt!==0||Ot<Tt)&&Wt!==-1;Wt--,Ot++)kt+=at*Rt[Wt]>>>0,Rt[Wt]=kt%256>>>0,kt=kt/256>>>0;if(kt!==0)throw new Error("Non-zero carry");Tt=Ot,$t++}for(var zt=At-Tt;zt!==At&&Rt[zt]===0;)zt++;for(var Kt=new Uint8Array(It+(At-zt)),Jt=It;zt!==At;)Kt[Jt++]=Rt[zt++];return Kt}function _t(Et){var $t=gt(Et);if($t)return $t;throw new Error("Non-base"+at+" character")}return{encode:ft,decodeUnsafe:gt,decode:_t}}var src$2=base$1;const basex=src$2,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58=basex(ALPHABET);function _checkPrivateRedeclaration$2(et,_e){if(_e.has(et))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec$2(et,_e,tt){_checkPrivateRedeclaration$2(et,_e),_e.set(et,tt)}function _classApplyDescriptorGet$2(et,_e){return _e.get?_e.get.call(et):_e.value}function _classExtractFieldDescriptor$2(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to "+tt+" private field on non-instance");return _e.get(et)}function _classPrivateFieldGet$2(et,_e){var tt=_classExtractFieldDescriptor$2(et,_e,"get");return _classApplyDescriptorGet$2(et,tt)}function _classApplyDescriptorSet$2(et,_e,tt){if(_e.set)_e.set.call(et,tt);else{if(!_e.writable)throw new TypeError("attempted to set read only private field");_e.value=tt}}function _classPrivateFieldSet$2(et,_e,tt){var rt=_classExtractFieldDescriptor$2(et,_e,"set");return _classApplyDescriptorSet$2(et,rt,tt),tt}let ChainId$1;(function(et){et[et.Mainnet=1]="Mainnet",et[et.Goerli=5]="Goerli",et[et.Polygon=137]="Polygon",et[et.Mumbai=80001]="Mumbai",et[et.Localhost=1337]="Localhost",et[et.Hardhat=31337]="Hardhat",et[et.Fantom=250]="Fantom",et[et.FantomTestnet=4002]="FantomTestnet",et[et.Avalanche=43114]="Avalanche",et[et.AvalancheFujiTestnet=43113]="AvalancheFujiTestnet",et[et.Optimism=10]="Optimism",et[et.OptimismGoerli=420]="OptimismGoerli",et[et.Arbitrum=42161]="Arbitrum",et[et.ArbitrumGoerli=421613]="ArbitrumGoerli",et[et.BinanceSmartChainMainnet=56]="BinanceSmartChainMainnet",et[et.BinanceSmartChainTestnet=97]="BinanceSmartChainTestnet"})(ChainId$1||(ChainId$1={}));const SUPPORTED_CHAIN_IDS=[ChainId$1.Mainnet,ChainId$1.Goerli,ChainId$1.Polygon,ChainId$1.Mumbai,ChainId$1.Fantom,ChainId$1.FantomTestnet,ChainId$1.Avalanche,ChainId$1.AvalancheFujiTestnet,ChainId$1.Optimism,ChainId$1.OptimismGoerli,ChainId$1.Arbitrum,ChainId$1.ArbitrumGoerli,ChainId$1.BinanceSmartChainMainnet,ChainId$1.BinanceSmartChainTestnet],OZ_DEFENDER_FORWARDER_ADDRESS="0xc82BbE41f2cF04e3a8efA18F7032BDD7f6d98a81",TWRegistry_address="0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",TWFactory_address="0x5DBC7B840baa9daBcBe9D2492E45D7244B54A2A0",ContractPublisher_address="0x664244560eBa21Bf82d7150C791bE1AbcD5B4cd7",MultichainRegistry_address="0xcdAD8FA86e18538aC207872E8ff3536501431B73",CONTRACT_ADDRESSES={[ChainId$1.Mainnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x76ce2CB1Ae48Fa067f4fb8c5f803111AE0B24BEA",biconomyForwarder:"0x84a0856b038eaAd1cC7E297cF34A7e72685A8693",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId$1.Goerli]:{openzeppelinForwarder:"0x5001A14CA6163143316a7C614e30e6041033Ac20",openzeppelinForwarderEOA:"0xe73c50cB9c5B378627ff625BB6e6725A4A5D65d2",biconomyForwarder:"0xE041608922d06a4F26C0d4c27d8bCD01daf1f792",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0xB1Bd9d7942A250BA2Dce27DD601F2ED4211A60C4"},[ChainId$1.Polygon]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x4f247c69184ad61036EC2Bb3213b69F10FbEDe1F",biconomyForwarder:"0x86C80a8aa58e0A4fa09A69624c31Ab2a6CAD56b8",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x308473Be900F4185A56587dE54bDFF5E8f7a6AE7"},[ChainId$1.Mumbai]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x9399BB24DBB5C4b782C70c2969F58716Ebbd6a3b",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3F17972CB27506eb4a6a3D59659e0B57a43fd16C"},[ChainId$1.Avalanche]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x64CD353384109423a966dCd3Aa30D884C9b2E057",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId$1.AvalancheFujiTestnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xe73c50cB9c5B378627ff625BB6e6725A4A5D65d2",biconomyForwarder:"0x6271Ca63D30507f2Dcbf99B52787032506D75BBF",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3E6eE864f850F5e5A98bc950B68E181Cf4010F23"},[ChainId$1.Fantom]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x64CD353384109423a966dCd3Aa30D884C9b2E057",twFactory:"0x97EA0Fcc552D5A8Fb5e9101316AAd0D62Ea0876B",twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId$1.FantomTestnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x42D3048b595B6e1c28a588d70366CcC2AA4dB47b",biconomyForwarder:"0x69FB8Dca8067A5D38703b9e8b39cf2D51473E4b4",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3E6eE864f850F5e5A98bc950B68E181Cf4010F23"},[ChainId$1.Arbitrum]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x4f247c69184ad61036EC2Bb3213b69F10FbEDe1F",biconomyForwarder:"0xfe0fa3C06d03bDC7fb49c892BbB39113B534fB57",twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId$1.ArbitrumGoerli]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x119704314Ef304EaAAE4b3c7C9ABd59272A28310",biconomyForwarder:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId$1.Optimism]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x7e80648EB2071E26937F9D42A513ccf4815fc702",biconomyForwarder:"0xefba8a2a82ec1fb1273806174f5e28fbb917cf95",twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId$1.OptimismGoerli]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x119704314Ef304EaAAE4b3c7C9ABd59272A28310",biconomyForwarder:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId$1.BinanceSmartChainMainnet]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0xE8dd2Ff0212F86d3197b4AfDC6dAC6ac47eb10aC",biconomyForwarder:"0x86C80a8aa58e0A4fa09A69624c31Ab2a6CAD56b8",twBYOCRegistry:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd"},[ChainId$1.BinanceSmartChainTestnet]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x7e80648EB2071E26937F9D42A513ccf4815fc702",biconomyForwarder:"0x61456BF1715C1415730076BB79ae118E806E74d2",twBYOCRegistry:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd"}},APPROVED_IMPLEMENTATIONS={[ChainId$1.Mainnet]:{"nft-drop":"0x60fF9952e0084A6DEac44203838cDC91ABeC8736","edition-drop":"0x74af262d0671F378F97a1EDC3d0970Dbe8A1C550","token-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728","signature-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A"},[ChainId$1.Polygon]:{"nft-drop":"0xB96508050Ba0925256184103560EBADA912Fcc69","edition-drop":"0x74af262d0671F378F97a1EDC3d0970Dbe8A1C550","token-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf","signature-drop":"0xBE2fDc35410E268e41Bec62DBb01AEb43245c7d5"},[ChainId$1.Fantom]:{"nft-drop":"0x2A396b2D90BAcEF19cDa973586B2633d22710fC2","edition-drop":"0x06395FCF9AC6ED827f9dD6e776809cEF1Be0d21B","token-drop":"0x0148b28a38efaaC31b6aa0a6D9FEb70FE7C91FFa","signature-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10"},[ChainId$1.Avalanche]:{"nft-drop":"0x9cF91118C8ee2913F0588e0F10e36B3d63F68bF6","edition-drop":"0x135fC9D26E5eC51260ece1DF4ED424E2f55c7766","token-drop":"0xca0B071899E575BA86495D46c5066971b6f3A901","signature-drop":"0x1d47526C3292B0130ef0afD5F02c1DA052A017B3"},[ChainId$1.Optimism]:{"nft-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1","edition-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10","token-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","signature-drop":"0x8a4cd3549e548bbEEb38C16E041FFf040a5acabD"},[ChainId$1.Arbitrum]:{"nft-drop":"0xC4903c1Ff5367b9ac2c349B63DC2409421AaEE2a","edition-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","token-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9","signature-drop":"0x2dF9851af45dd41C8584ac55D983C604da985Bc7"},[ChainId$1.BinanceSmartChainMainnet]:{"nft-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","edition-drop":"0x2A396b2D90BAcEF19cDa973586B2633d22710fC2","token-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10","signature-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1"},[ChainId$1.Goerli]:{"nft-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","edition-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf","token-drop":"0x5680933221B752EB443654a014f88B101F868d50","signature-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9"},[ChainId$1.Mumbai]:{"nft-drop":"0xC4903c1Ff5367b9ac2c349B63DC2409421AaEE2a","edition-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","token-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9","signature-drop":"0x2dF9851af45dd41C8584ac55D983C604da985Bc7"},[ChainId$1.FantomTestnet]:{"nft-drop":"0x8a4cd3549e548bbEEb38C16E041FFf040a5acabD","edition-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","token-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1","signature-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf"},[ChainId$1.AvalancheFujiTestnet]:{"nft-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","edition-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728","token-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A","signature-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F"},[ChainId$1.OptimismGoerli]:{"nft-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","edition-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A","token-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","signature-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9"},[ChainId$1.ArbitrumGoerli]:{"nft-drop":"0x9CfE807a5b124b962064Fa8F7FD823Cc701255b6","edition-drop":"0x9cF91118C8ee2913F0588e0F10e36B3d63F68bF6","token-drop":"0x1d47526C3292B0130ef0afD5F02c1DA052A017B3","signature-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728"},[ChainId$1.BinanceSmartChainTestnet]:{"nft-drop":"","edition-drop":"","token-drop":"","signature-drop":""}};function getApprovedImplementation(et,_e){if(et in APPROVED_IMPLEMENTATIONS){const tt=APPROVED_IMPLEMENTATIONS[et];if(_e in tt)return tt[_e]}return null}function getContractAddressByChainId(et,_e){return et===ChainId$1.Hardhat?_e==="twFactory"?{}.factoryAddress:_e==="twRegistry"?{}.registryAddress:AddressZero:CONTRACT_ADDRESSES[et][_e]}function getContractPublisherAddress(){return{}.contractPublisherAddress?{}.contractPublisherAddress:ContractPublisher_address}function getMultichainRegistryAddress(){return{}.multiChainRegistryAddress?{}.multiChainRegistryAddress:MultichainRegistry_address}function getDefaultTrustedForwarders(et){const _e=SUPPORTED_CHAIN_IDS.find(nt=>nt===et),tt=_e?CONTRACT_ADDRESSES[_e].biconomyForwarder:AddressZero,rt=_e?CONTRACT_ADDRESSES[_e].openzeppelinForwarder:AddressZero;return tt!==AddressZero?[rt,tt]:[rt]}const InterfaceId_IERC721=arrayify("0x80ac58cd"),InterfaceId_IERC1155=arrayify("0xd9b67a26"),NATIVE_TOKEN_ADDRESS="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",NATIVE_TOKENS={[ChainId$1.Mainnet]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.Goerli]:{name:"G\xF6rli Ether",symbol:"GOR",decimals:18,wrapped:{address:"0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.Polygon]:{name:"Matic",symbol:"MATIC",decimals:18,wrapped:{address:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",name:"Wrapped Matic",symbol:"WMATIC"}},[ChainId$1.Mumbai]:{name:"Matic",symbol:"MATIC",decimals:18,wrapped:{address:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",name:"Wrapped Matic",symbol:"WMATIC"}},[ChainId$1.Avalanche]:{name:"Avalanche",symbol:"AVAX",decimals:18,wrapped:{address:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",name:"Wrapped AVAX",symbol:"WAVAX"}},[ChainId$1.AvalancheFujiTestnet]:{name:"Avalanche",symbol:"AVAX",decimals:18,wrapped:{address:"0xd00ae08403B9bbb9124bB305C09058E32C39A48c",name:"Wrapped AVAX",symbol:"WAVAX"}},[ChainId$1.Fantom]:{name:"Fantom",symbol:"FTM",decimals:18,wrapped:{address:"0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83",name:"Wrapped Fantom",symbol:"WFTM"}},[ChainId$1.FantomTestnet]:{name:"Fantom",symbol:"FTM",decimals:18,wrapped:{address:"0xf1277d1Ed8AD466beddF92ef448A132661956621",name:"Wrapped Fantom",symbol:"WFTM"}},[ChainId$1.Arbitrum]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.ArbitrumGoerli]:{name:"Arbitrum Goerli Ether",symbol:"AGOR",decimals:18,wrapped:{address:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.Optimism]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.OptimismGoerli]:{name:"Goerli Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.Hardhat]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.BinanceSmartChainMainnet]:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18,wrapped:{address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",name:"Wrapped Binance Chain Token",symbol:"WBNB"}},[ChainId$1.BinanceSmartChainTestnet]:{name:"Binance Chain Native Token",symbol:"TBNB",decimals:18,wrapped:{address:"0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd",name:"Wrapped Binance Chain Testnet Token",symbol:"WBNB"}}};function getNativeTokenByChainId(et){return NATIVE_TOKENS[et]}const LINK_TOKEN_ADDRESS={[ChainId$1.Mainnet]:"0x514910771AF9Ca656af840dff83E8264EcF986CA",[ChainId$1.Goerli]:"0x326C977E6efc84E512bB9C30f76E30c160eD06FB",[ChainId$1.BinanceSmartChainMainnet]:"0x404460C6A5EdE2D891e8297795264fDe62ADBB75",[ChainId$1.Polygon]:"0xb0897686c545045aFc77CF20eC7A532E3120E0F1",[ChainId$1.Mumbai]:"0x326C977E6efc84E512bB9C30f76E30c160eD06FB",[ChainId$1.Avalanche]:"0x5947BB275c521040051D82396192181b413227A3",[ChainId$1.AvalancheFujiTestnet]:"0x0b9d5D9136855f6FEc3c0993feE6E9CE8a297846",[ChainId$1.Fantom]:"0x6F43FF82CCA38001B6699a8AC47A2d0E66939407",[ChainId$1.FantomTestnet]:"0xfaFedb041c0DD4fA2Dc0d87a6B0979Ee6FA7af5F"};let EventType;(function(et){et.Transaction="transaction",et.Signature="signature"})(EventType||(EventType={}));const DEFAULT_BATCH_TIME_LIMIT_MS=50,DEFAULT_BATCH_SIZE_LIMIT=250,DEFAULT_BATCH_OPTIONS={timeLimitMs:DEFAULT_BATCH_TIME_LIMIT_MS,sizeLimit:DEFAULT_BATCH_SIZE_LIMIT};class StaticJsonRpcBatchProvider extends StaticJsonRpcProvider{constructor(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:DEFAULT_BATCH_OPTIONS;super(_e,tt),_defineProperty$5(this,"_timeLimitMs",void 0),_defineProperty$5(this,"_sizeLimit",void 0),_defineProperty$5(this,"_pendingBatchAggregator",void 0),_defineProperty$5(this,"_pendingBatch",void 0),this._timeLimitMs=rt.timeLimitMs||DEFAULT_BATCH_SIZE_LIMIT,this._sizeLimit=rt.sizeLimit||DEFAULT_BATCH_TIME_LIMIT_MS,this._pendingBatchAggregator=null,this._pendingBatch=null}sendCurrentBatch(_e){this._pendingBatchAggregator&&clearTimeout(this._pendingBatchAggregator);const tt=this._pendingBatch||[];this._pendingBatch=null,this._pendingBatchAggregator=null;const rt=tt.map(nt=>nt.request);return this.emit("debug",{action:"requestBatch",request:deepCopy(_e),provider:this}),fetchJson(this.connection,JSON.stringify(rt)).then(nt=>{this.emit("debug",{action:"response",request:rt,response:nt,provider:this}),tt.forEach((it,at)=>{const st=nt[at];if(st.error){const ct=new Error(st.error.message);ct.code=st.error.code,ct.data=st.error.data,it.reject(ct)}else it.resolve(st.result)})},nt=>{this.emit("debug",{action:"response",error:nt,request:rt,provider:this}),tt.forEach(it=>{it.reject(nt)})})}send(_e,tt){const rt={method:_e,params:tt,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch===null&&(this._pendingBatch=[]);const nt={request:rt,resolve:null,reject:null},it=new Promise((at,st)=>{nt.resolve=at,nt.reject=st});return this._pendingBatch.length===this._sizeLimit&&this.sendCurrentBatch(rt),this._pendingBatch.push(nt),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{this.sendCurrentBatch(rt)},this._timeLimitMs)),it}}const CHAIN_NAME_TO_ID={"avalanche-fuji":ChainId$1.AvalancheFujiTestnet,"avalanche-testnet":ChainId$1.AvalancheFujiTestnet,"fantom-testnet":ChainId$1.FantomTestnet,ethereum:ChainId$1.Mainnet,matic:ChainId$1.Polygon,mumbai:ChainId$1.Mumbai,goerli:ChainId$1.Goerli,polygon:ChainId$1.Polygon,mainnet:ChainId$1.Mainnet,optimism:ChainId$1.Optimism,"optimism-goerli":ChainId$1.OptimismGoerli,arbitrum:ChainId$1.Arbitrum,"arbitrum-goerli":ChainId$1.ArbitrumGoerli,fantom:ChainId$1.Fantom,avalanche:ChainId$1.Avalanche,binance:ChainId$1.BinanceSmartChainMainnet,"binance-testnet":ChainId$1.BinanceSmartChainTestnet},CHAIN_ID_TO_NAME=Object.fromEntries(Object.entries(CHAIN_NAME_TO_ID).map(et=>{let[_e,tt]=et;return[tt,_e]}));function buildDefaultMap(){return SUPPORTED_CHAIN_IDS.reduce((et,_e)=>(et[_e]=getProviderForNetwork(CHAIN_ID_TO_NAME[_e]),et),{})}const DEFAULT_RPC_URLS=buildDefaultMap();function getProviderForNetwork(et){if(typeof et!="string")return et;switch(et){case"mainnet":case"ethereum":return getRpcUrl$2("ethereum");case"goerli":return getRpcUrl$2("goerli");case"polygon":case"matic":return getRpcUrl$2("polygon");case"mumbai":return getRpcUrl$2("mumbai");case"optimism":return getRpcUrl$2("optimism");case"optimism-goerli":return getRpcUrl$2("optimism-goerli");case"arbitrum":return getRpcUrl$2("arbitrum");case"arbitrum-goerli":return getRpcUrl$2("arbitrum-goerli");case"fantom":return getRpcUrl$2("fantom");case"fantom-testnet":return getRpcUrl$2("fantom-testnet");case"avalanche":return getRpcUrl$2("avalanche");case"avalanche-testnet":case"avalanche-fuji":return getRpcUrl$2("avalanche-fuji");case"binance":return getRpcUrl$2("binance");case"binance-testnet":return getRpcUrl$2("binance-testnet");default:if(et.startsWith("http")||et.startsWith("ws"))return et;throw new Error(`Unrecognized chain name or RPC url: ${et}`)}}const READONLY_PROVIDER_MAP=new Map;function getReadOnlyProvider(et,_e){try{const tt=et.match(/^(ws|http)s?:/i);if(tt)switch(tt[1]){case"http":const rt=`${et}-${_e||-1}`,nt=READONLY_PROVIDER_MAP.get(rt);if(nt)return nt;const it=_e?new StaticJsonRpcBatchProvider(et,_e):new JsonRpcBatchProvider(et,_e);return READONLY_PROVIDER_MAP.set(rt,it),it;case"ws":return new WebSocketProvider(et,_e);default:return getDefaultProvider(et)}else return getDefaultProvider(et)}catch{return getDefaultProvider(et)}}ChainId$1.Polygon+"",ChainId$1.Mumbai+"",ChainId$1.Goerli+"",ChainId$1.Mainnet+"",ChainId$1.Optimism+"",ChainId$1.OptimismGoerli+"",ChainId$1.Arbitrum+"",ChainId$1.ArbitrumGoerli+"",ChainId$1.Fantom+"",ChainId$1.FantomTestnet+"",ChainId$1.Avalanche+"",ChainId$1.AvalancheFujiTestnet+"",ChainId$1.BinanceSmartChainMainnet+"",ChainId$1.BinanceSmartChainTestnet+"";class NotFoundError extends Error{constructor(_e){super(_e?`Object with id ${_e} NOT FOUND`:"NOT_FOUND")}}class MissingRoleError extends Error{constructor(_e,tt){super(`MISSING ROLE: ${_e} does not have the '${tt}' role`)}}class DuplicateLeafsError extends Error{constructor(_e){super(`DUPLICATE_LEAFS${_e?` : ${_e}`:""}`)}}class AuctionAlreadyStartedError extends Error{constructor(_e){super(`Auction already started with existing bid${_e?`, id: ${_e}`:""}`)}}class ListingNotFoundError extends Error{constructor(_e,tt){super(`Could not find listing.${_e?` marketplace address: ${_e}`:""}${tt?` listing id: ${tt}`:""}`)}}class WrongListingTypeError extends Error{constructor(_e,tt,rt,nt){super(`Incorrect listing type. Are you sure you're using the right method?.${_e?` marketplace address: ${_e}`:""}${tt?` listing id: ${tt}`:""}${nt?` expected type: ${nt}`:""}${rt?` actual type: ${rt}`:""}`)}}class AuctionHasNotEndedError extends Error{constructor(_e,tt){super(`Auction has not ended yet${_e?`, id: ${_e}`:""}${tt?`, end time: ${tt.toString()}`:""}`)}}class ExtensionNotImplementedError extends Error{constructor(_e){super(`This functionality is not available because the contract does not implement the '${_e.docLinks.contracts}' Extension. Learn how to unlock this functionality at https://portal.thirdweb.com/extensions `)}}var _reason=new WeakMap,_info=new WeakMap;class TransactionError extends Error{constructor(_e){var rt;let tt=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 TRANSACTION ERROR \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D

`;if(tt+=`Reason: ${_e.reason}`,tt+=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 TRANSACTION INFORMATION \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D
`,tt+=withSpaces("from",_e.from),tt+=withSpaces("to",_e.contractName?`${_e.to} (${_e.contractName})`:_e.to),tt+=withSpaces("chain",`${_e.network.name} (${_e.network.chainId})`),_e.rpcUrl)try{const nt=new URL(_e.rpcUrl);tt+=withSpaces("rpc",nt.hostname)}catch{}if(_e.hash&&(tt+=withSpaces("tx hash",_e.hash)),_e.value&&_e.value.gt(0)&&(tt+=withSpaces("value",`${formatEther(_e.value)} ${((rt=NATIVE_TOKENS[_e.network.chainId])==null?void 0:rt.symbol)||""}`)),tt+=withSpaces("data",`${_e.data}`),_e.method&&(tt+=withSpaces("method",_e.method)),_e.sources){const nt=_e.sources.find(it=>it.source.includes(_e.reason));if(nt){const it=nt.source.split(`
`).map((ct,ut)=>`${ut+1}  ${ct}`),at=it.findIndex(ct=>ct.includes(_e.reason));it[at]+="   <-- REVERT";const st=it.slice(at-8,at+4);tt+=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 SOLIDITY STACK TRACE \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D

`,tt+=`File: ${nt.filename.replace("node_modules/","")}

`,tt+=st.join(`
`)}}tt+=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 DEBUGGING RESOURCES \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D

`,tt+="Need helping debugging? Join our Discord: https://discord.gg/thirdweb",tt+=`

`,super(tt),_classPrivateFieldInitSpec$2(this,_reason,{writable:!0,value:void 0}),_classPrivateFieldInitSpec$2(this,_info,{writable:!0,value:void 0}),_classPrivateFieldSet$2(this,_reason,_e.reason),_classPrivateFieldSet$2(this,_info,_e)}get reason(){return _classPrivateFieldGet$2(this,_reason)}get info(){return _classPrivateFieldGet$2(this,_info)}}function parseRevertReason(et){if(et.reason)return et.reason;let _e=et;return typeof et=="object"?_e=JSON.stringify(et):typeof et!="string"&&(_e=et.toString()),parseMessageParts(/.*?"message":"([^"\\]*).*?/,_e)||parseMessageParts(/.*?"reason":"([^"\\]*).*?/,_e)||et.message||""}function withSpaces(et,_e){if(_e==="")return _e;const tt=Array(10-et.length).fill(" ").join("");return _e.includes(`
`)?_e=`

  `+_e.split(`
`).join(`
  `):_e=`${tt}${_e}`,`
${et}:${_e}`}function parseMessageParts(et,_e){const tt=_e.match(et)||[];let rt="";return(tt==null?void 0:tt.length)>0&&(rt+=tt[1]),rt}function includesErrorMessage(et,_e){return et?et&&et.toString().includes(_e)||et&&et.message&&et.message.toString().includes(_e)||et&&et.error&&et.error.toString().includes(_e):!1}const BigNumberSchema=mod.union([mod.string(),mod.number(),mod.bigint(),mod.custom(et=>BigNumber.isBigNumber(et))]).transform(et=>BigNumber.from(et)),BigNumberishSchema=BigNumberSchema.transform(et=>et.toString()),BigNumberTransformSchema=mod.union([mod.bigint(),mod.custom(et=>BigNumber.isBigNumber(et))]).transform(et=>BigNumber.from(et).toString()),AddressSchema=mod.string().refine(et=>isAddress(et),et=>({message:`${et} is not a valid address`})),RawDateSchema$1=mod.date().transform(et=>BigNumber.from(Math.floor(et.getTime()/1e3))),StartDateSchema=RawDateSchema$1.default(new Date(0)),EndDateSchema=RawDateSchema$1.default(new Date(Date.now()+1e3*60*60*24*365*10)),CallOverrideSchema=mod.object({gasLimit:BigNumberishSchema.optional(),gasPrice:BigNumberishSchema.optional(),maxFeePerGas:BigNumberishSchema.optional(),maxPriorityFeePerGas:BigNumberishSchema.optional(),nonce:BigNumberishSchema.optional(),value:BigNumberishSchema.optional(),blockTag:mod.union([mod.string(),mod.number()]).optional(),from:AddressSchema.optional(),type:mod.number().optional()}).strict(),CurrencySchema=mod.object({name:mod.string(),symbol:mod.string(),decimals:mod.number()}),CurrencyValueSchema=CurrencySchema.extend({value:BigNumberSchema,displayValue:mod.string()}),MerkleSchema=mod.object({merkle:mod.record(mod.string()).default({})}),SnapshotEntryInput=mod.object({address:AddressSchema,maxClaimable:QuantitySchema.default(0),price:QuantitySchema.optional(),currencyAddress:AddressSchema.default(AddressZero).optional()}),SnapshotInputSchema=mod.union([mod.array(mod.string()).transform(et=>et.map(_e=>SnapshotEntryInput.parse({address:_e}))),mod.array(SnapshotEntryInput)]),SnapshotEntryWithProofSchema=SnapshotEntryInput.extend({proof:mod.array(mod.string())}),SnapshotSchema=mod.object({merkleRoot:mod.string(),claims:mod.array(SnapshotEntryWithProofSchema)});mod.object({merkleRoot:mod.string(),snapshotUri:mod.string()});const ClaimConditionMetadataSchema=mod.object({name:mod.string().optional()}).catchall(mod.unknown()),ClaimConditionInputSchema=mod.object({startTime:StartDateSchema,currencyAddress:mod.string().default(NATIVE_TOKEN_ADDRESS),price:AmountSchema.default(0),maxClaimableSupply:QuantitySchema,maxClaimablePerWallet:QuantitySchema,waitInSeconds:BigNumberishSchema.default(0),merkleRootHash:BytesLikeSchema.default(hexZeroPad([0],32)),snapshot:mod.optional(SnapshotInputSchema).nullable(),metadata:ClaimConditionMetadataSchema.optional()}),ClaimConditionInputArray=mod.array(ClaimConditionInputSchema);ClaimConditionInputSchema.partial();const ClaimConditionOutputSchema=ClaimConditionInputSchema.extend({availableSupply:QuantitySchema,currentMintSupply:QuantitySchema,currencyMetadata:CurrencyValueSchema.default({value:BigNumber.from("0"),displayValue:"0",symbol:"",decimals:18,name:""}),price:BigNumberSchema,waitInSeconds:BigNumberSchema,startTime:BigNumberSchema.transform(et=>new Date(et.toNumber()*1e3)),snapshot:SnapshotInputSchema.optional().nullable()});function resolveOrGenerateId(et){if(et===void 0){const _e=Buffer.alloc(16);return v4({},_e),hexlify(toUtf8Bytes(_e.toString("hex")))}else return hexlify(et)}const BaseSignaturePayloadInput=mod.object({to:mod.string().refine(et=>et.toLowerCase()!==AddressZero,{message:"Cannot create payload to mint to zero address"}),price:AmountSchema.default(0),currencyAddress:mod.string().default(NATIVE_TOKEN_ADDRESS),mintStartTime:StartDateSchema,mintEndTime:EndDateSchema,uid:mod.string().optional().transform(et=>resolveOrGenerateId(et)),primarySaleRecipient:mod.string().default(AddressZero)}),Signature20PayloadInput=BaseSignaturePayloadInput.extend({quantity:AmountSchema}),Signature20PayloadOutput=Signature20PayloadInput.extend({mintStartTime:BigNumberSchema,mintEndTime:BigNumberSchema}),Signature721PayloadInput=BaseSignaturePayloadInput.extend({metadata:NFTInputOrUriSchema,royaltyRecipient:mod.string().default(AddressZero),royaltyBps:BasisPointsSchema.default(0)}),Signature721PayloadOutput=Signature721PayloadInput.extend({uri:mod.string(),royaltyBps:BigNumberSchema,mintStartTime:BigNumberSchema,mintEndTime:BigNumberSchema}),Signature1155PayloadInput=Signature721PayloadInput.extend({metadata:NFTInputOrUriSchema.default(""),quantity:BigNumberishSchema}),Signature1155PayloadInputWithTokenId=Signature1155PayloadInput.extend({tokenId:BigNumberishSchema}),Signature1155PayloadOutput=Signature721PayloadOutput.extend({tokenId:BigNumberSchema,quantity:BigNumberSchema}),Signature721WithQuantityInput=Signature721PayloadInput.extend({metadata:NFTInputOrUriSchema.default(""),quantity:BigNumberSchema.default(1)}),Signature721WithQuantityOutput=Signature721PayloadOutput.extend({quantity:BigNumberSchema.default(1)}),MintRequest20=[{name:"to",type:"address"},{name:"primarySaleRecipient",type:"address"},{name:"quantity",type:"uint256"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],MintRequest721=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],MintRequest1155=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"tokenId",type:"uint256"},{name:"uri",type:"string"},{name:"quantity",type:"uint256"},{name:"pricePerToken",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],MintRequest721withQuantity=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"quantity",type:"uint256"},{name:"pricePerToken",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],GenericRequest=[{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"},{name:"data",type:"bytes"}],CommonContractSchema=mod.object({name:mod.string(),description:mod.string().optional(),image:FileOrBufferOrStringSchema.optional(),external_link:mod.string().url().optional()}),CommonContractOutputSchema=CommonContractSchema.extend({image:mod.string().optional()}).catchall(mod.unknown()),CommonRoyaltySchema=mod.object({seller_fee_basis_points:BasisPointsSchema.default(0),fee_recipient:AddressSchema.default(AddressZero)}),CommonPrimarySaleSchema=mod.object({primary_sale_recipient:AddressSchema}),CommonPlatformFeeSchema=mod.object({platform_fee_basis_points:BasisPointsSchema.default(0),platform_fee_recipient:AddressSchema.default(AddressZero)}),CommonTrustedForwarderSchema=mod.object({trusted_forwarders:mod.array(AddressSchema).default([])}),CommonSymbolSchema=mod.object({symbol:mod.string().optional().default("")}),DropErc721ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc721ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc721ContractDeploy=DropErc721ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc721ContractSchema={deploy:DropErc721ContractDeploy,output:DropErc721ContractOutput,input:DropErc721ContractInput},DropErc1155ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc1155ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc1155ContractDeploy=DropErc1155ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc1155ContractSchema={deploy:DropErc1155ContractDeploy,output:DropErc1155ContractOutput,input:DropErc1155ContractInput},MarketplaceContractInput=CommonContractSchema,MarketplaceContractOutput=CommonContractOutputSchema,MarketplaceContractDeploy=MarketplaceContractInput.merge(CommonPlatformFeeSchema).merge(CommonTrustedForwarderSchema),MarketplaceContractSchema={deploy:MarketplaceContractDeploy,output:MarketplaceContractOutput,input:MarketplaceContractInput},PackContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),PackContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),PackContractDeploy=PackContractInput.merge(CommonPlatformFeeSchema).merge(CommonTrustedForwarderSchema),PackContractSchema={deploy:PackContractDeploy,output:PackContractOutput,input:PackContractInput},SplitRecipientInputSchema=mod.object({address:AddressSchema,sharesBps:BasisPointsSchema.gt(0,"Shares must be greater than 0")}),SplitRecipientOuputSchema=SplitRecipientInputSchema.extend({address:AddressSchema,sharesBps:BasisPointsSchema}),SplitsContractInput=CommonContractSchema.extend({recipients:mod.array(SplitRecipientInputSchema).default([]).superRefine((et,_e)=>{const tt={};let rt=0;for(let nt=0;nt<et.length;nt++){const it=et[nt];tt[it.address]&&_e.addIssue({code:mod.ZodIssueCode.custom,message:"Duplicate address.",path:[nt,"address"]}),tt[it.address]=!0,rt+=it.sharesBps,rt>1e4&&_e.addIssue({code:mod.ZodIssueCode.custom,message:"Total shares cannot go over 100%.",path:[nt,"sharesBps"]})}rt!==1e4&&_e.addIssue({code:mod.ZodIssueCode.custom,message:`Total shares need to add up to 100%. Total shares are currently ${rt/100}%`,path:[]})})}),SplitsContractOutput=CommonContractOutputSchema.extend({recipients:mod.array(SplitRecipientOuputSchema)}),SplitsContractDeploy=SplitsContractInput.merge(SplitsContractInput).merge(CommonTrustedForwarderSchema),SplitsContractSchema={deploy:SplitsContractDeploy,output:SplitsContractOutput,input:SplitsContractInput},TokenErc20ContractInput=CommonContractSchema.merge(CommonSymbolSchema),TokenErc20ContractOutput=CommonContractOutputSchema.merge(CommonSymbolSchema),TokenErc20ContractDeploy=TokenErc20ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc20ContractSchema={deploy:TokenErc20ContractDeploy,output:TokenErc20ContractOutput,input:TokenErc20ContractInput},TokenErc721ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc721ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc721ContractDeploy=TokenErc721ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc721ContractSchema={deploy:TokenErc721ContractDeploy,output:TokenErc721ContractOutput,input:TokenErc721ContractInput},TokenErc1155ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc1155ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc1155ContractDeploy=TokenErc1155ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc1155ContractSchema={deploy:TokenErc1155ContractDeploy,output:TokenErc1155ContractOutput,input:TokenErc1155ContractInput},VoteSettingsInputSchema=mod.object({voting_delay_in_blocks:mod.number().min(0).default(0),voting_period_in_blocks:mod.number().min(1).default(1),voting_token_address:AddressSchema,voting_quorum_fraction:PercentSchema.default(0),proposal_token_threshold:BigNumberishSchema.default(1)}),VoteSettingsOuputSchema=VoteSettingsInputSchema.extend({proposal_token_threshold:BigNumberSchema}),VoteContractInput=CommonContractSchema.merge(VoteSettingsInputSchema),VoteContractOutput=CommonContractOutputSchema.merge(VoteSettingsOuputSchema),VoteContractDeploy=VoteContractInput.merge(CommonTrustedForwarderSchema),VoteContractSchema={deploy:VoteContractDeploy,output:VoteContractOutput,input:VoteContractInput};mod.object({proposalId:BigNumberSchema,proposer:mod.string(),targets:mod.array(mod.string()),values:mod.array(BigNumberSchema),signatures:mod.array(mod.string()),calldatas:mod.array(mod.string()),startBlock:BigNumberSchema,endBlock:BigNumberSchema,description:mod.string()});const PropertiesInput=mod.object({}).catchall(mod.union([BigNumberTransformSchema,mod.unknown()]));mod.union([mod.array(PropertiesInput),PropertiesInput]).optional();const EditionMetadataOutputSchema=mod.object({supply:BigNumberSchema,metadata:CommonNFTOutput});EditionMetadataOutputSchema.extend({owner:mod.string(),quantityOwned:BigNumberSchema});mod.object({supply:BigNumberishSchema,metadata:CommonNFTInput});mod.object({supply:BigNumberishSchema,metadata:NFTInputOrUriSchema});mod.object({toAddress:AddressSchema,amount:AmountSchema});const SDKOptionsSchema=mod.object({readonlySettings:mod.object({rpcUrl:mod.string().url(),chainId:mod.number().optional()}).optional(),gasSettings:mod.object({maxPriceInGwei:mod.number().min(1,"gas price cannot be less than 1").default(300),speed:mod.enum(["standard","fast","fastest"]).default("fastest")}).default({maxPriceInGwei:300,speed:"fastest"}),gasless:mod.union([mod.object({openzeppelin:mod.object({relayerUrl:mod.string().url(),relayerForwarderAddress:mod.string().optional(),useEOAForwarder:mod.boolean().default(!1)}),experimentalChainlessSupport:mod.boolean().default(!1)}),mod.object({biconomy:mod.object({apiId:mod.string(),apiKey:mod.string(),deadlineSeconds:mod.number().min(1,"deadlineSeconds cannot be les than 1").default(3600)})})]).optional()}).default({gasSettings:{maxPriceInGwei:300,speed:"fastest"}}),ForwardRequest=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"}],ChainAwareForwardRequest=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"},{name:"chainid",type:"uint256"}],BiconomyForwarderAbi=[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"batchId",type:"uint256"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],_nonces={},_noncesSyncTimestamp={};async function getAndIncrementNonce(et,_e,tt){const rt=tt.join("|"),nt=_noncesSyncTimestamp[rt],it=Date.now()-nt>=2e3;if(!(rt in _nonces)||it){const st=await et.functions[_e](...tt);Array.isArray(st)&&st.length>0?_nonces[rt]=BigNumber.from(st[0]):_nonces[rt]=BigNumber.from(st),_noncesSyncTimestamp[rt]=Date.now()}const at=_nonces[rt];return _nonces[rt]=BigNumber.from(_nonces[rt]).add(1),at}function getGasStationUrl(et){switch(et){case ChainId$1.Polygon:return"https://gasstation-mainnet.matic.network/v2";case ChainId$1.Mumbai:return"https://gasstation-mumbai.matic.today/v2"}}const MIN_POLYGON_GAS_PRICE=parseUnits("31","gwei"),MIN_MUMBAI_GAS_PRICE=parseUnits("1","gwei");function getDefaultGasFee(et){switch(et){case ChainId$1.Polygon:return MIN_POLYGON_GAS_PRICE;case ChainId$1.Mumbai:return MIN_MUMBAI_GAS_PRICE}}async function getPolygonGasPriorityFee(et){const _e=getGasStationUrl(et);try{const rt=(await(await fetch$1(_e)).json()).standard.maxPriorityFee;if(rt>0){const nt=parseFloat(rt).toFixed(9);return parseUnits(nt,"gwei")}}catch(tt){console.error("failed to fetch gas",tt)}return getDefaultGasFee(et)}async function signTypedDataInternal(et,_e,tt,rt){var ct,ut;const nt=et==null?void 0:et.provider;if(!nt)throw new Error("missing provider");const it=TypedDataEncoder.getPayload(_e,tt,rt);let at="";const st=(await et.getAddress()).toLowerCase();if((ct=nt==null?void 0:nt.provider)!=null&&ct.isWalletConnect)at=await nt.send("eth_signTypedData",[(await et.getAddress()).toLowerCase(),JSON.stringify(it)]);else try{at=await et._signTypedData(_e,tt,rt)}catch(ft){if((ut=ft==null?void 0:ft.message)!=null&&ut.includes("Method eth_signTypedData_v4 not supported"))at=await nt.send("eth_signTypedData",[st,JSON.stringify(it)]);else try{await nt.send("eth_signTypedData_v4",[st,JSON.stringify(it)])}catch(gt){throw gt}}return{payload:it,signature:joinSignature(splitSignature(at))}}const NAME_ABI=[{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],DOMAIN_SEPARATOR_ABI=[{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeperator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"}],NONCES_ABI=[{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"}];async function getSignerNonce(et,_e){const tt=new Contract(_e,NONCES_ABI,et);try{return await tt.nonces(await et.getAddress())}catch{return await tt.getNonce(await et.getAddress())}}async function getDomainSeperator(et,_e){const tt=new Contract(_e,DOMAIN_SEPARATOR_ABI,et);try{return await tt.DOMAIN_SEPARATOR()}catch{try{return await tt.getDomainSeperator()}catch(nt){console.error("Error getting domain separator",nt)}}}async function getTokenName(et,_e){return new Contract(_e,NAME_ABI,et).name()}async function getChainDomainSeperator(et,_e){const tt=await getDomainSeperator(et,_e.verifyingContract),rt={name:_e.name,version:_e.version,verifyingContract:_e.verifyingContract,salt:hexZeroPad(BigNumber.from(_e.chainId).toHexString(),32)};return TypedDataEncoder.hashDomain(rt)===tt?rt:_e}async function signEIP2612Permit(et,_e,tt,rt,nt,it,at){const st=await getChainDomainSeperator(et,{name:await getTokenName(et,_e),version:"1",chainId:await et.getChainId(),verifyingContract:_e});at=at||(await getSignerNonce(et,_e)).toString(),it=it||MaxUint256$1;const ct={owner:tt,spender:rt,value:nt,nonce:at,deadline:it},ut={Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},{signature:ft}=await signTypedDataInternal(et,st,ut,ct);return{message:ct,signature:ft}}const isBrowser$5=()=>typeof window!="undefined",isNode$3=()=>!isBrowser$5();function unique(et,_e){if(et.length===0||et.length===1||!_e)return et;for(let tt=0;tt<et.length;tt++)for(let rt=tt+1;rt<et.length;rt++)_e(et[tt],et[rt])&&et.splice(rt,1);return et}class RPCConnectionHandler extends EventEmitter$1$1{constructor(_e,tt){super(),_defineProperty$5(this,"provider",void 0),_defineProperty$5(this,"signer",void 0),_defineProperty$5(this,"options",void 0);const[rt,nt]=getSignerAndProvider(_e,tt);this.signer=rt,this.provider=nt;try{this.options=SDKOptionsSchema.parse(tt)}catch(it){console.error("invalid sdk options object passed, falling back to default options",it),this.options=SDKOptionsSchema.parse({})}}updateSignerOrProvider(_e){const[tt,rt]=getSignerAndProvider(_e,this.options);this.signer=tt,this.provider=rt}isReadOnly(){return!Signer.isSigner(this.signer)}getSigner(){return this.signer}getProvider(){return this.provider}getSignerOrProvider(){return this.getSigner()||this.getProvider()}}function getSignerAndProvider(et,_e){var nt;let tt,rt;return Signer.isSigner(et)&&(tt=et,et.provider&&(rt=et.provider)),_e!=null&&_e.readonlySettings&&(rt=getReadOnlyProvider(_e.readonlySettings.rpcUrl,_e.readonlySettings.chainId)),rt||(Provider$2.isProvider(et)?rt=et:Signer.isSigner(et)||(typeof et=="string"?rt=getReadOnlyProvider(et,(nt=_e==null?void 0:_e.readonlySettings)==null?void 0:nt.chainId):rt=getDefaultProvider(et))),rt||(rt=getDefaultProvider(),console.error("No provider found, using default provider on default chain!")),[tt,rt]}var _storage=new WeakMap;class ContractWrapper extends RPCConnectionHandler{constructor(_e,tt,rt,nt){super(_e,nt),_classPrivateFieldInitSpec$2(this,_storage,{writable:!0,value:void 0}),_defineProperty$5(this,"isValidContract",!1),_defineProperty$5(this,"customOverrides",()=>({})),_defineProperty$5(this,"writeContract",void 0),_defineProperty$5(this,"readContract",void 0),_defineProperty$5(this,"abi",void 0),this.abi=rt,this.writeContract=new Contract(tt,rt,this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider()),_classPrivateFieldSet$2(this,_storage,new ThirdwebStorage)}updateSignerOrProvider(_e){super.updateSignerOrProvider(_e),this.writeContract=this.writeContract.connect(this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider())}async getChainID(){const _e=this.getProvider(),{chainId:tt}=await _e.getNetwork();return tt}async getSignerAddress(){const _e=this.getSigner();if(!_e)throw new Error("This action requires a connected wallet to sign the transaction. Please pass a valid signer to the SDK.");return await _e.getAddress()}callStatic(){return this.writeContract.callStatic}async getCallOverrides(){if(isBrowser$5())return{};const _e=await this.getProvider().getFeeData();if(_e.maxFeePerGas&&_e.maxPriorityFeePerGas){const rt=await this.getChainID(),nt=await this.getProvider().getBlock("latest"),it=nt&&nt.baseFeePerGas?nt.baseFeePerGas:parseUnits("1","gwei");let at;rt===ChainId$1.Mumbai||rt===ChainId$1.Polygon?at=await getPolygonGasPriorityFee(rt):at=BigNumber.from(_e.maxPriorityFeePerGas);const st=this.getPreferredPriorityFee(at);return{maxFeePerGas:it.mul(2).add(st),maxPriorityFeePerGas:st}}else return{gasPrice:await this.getPreferredGasPrice()}}getPreferredPriorityFee(_e){const tt=this.options.gasSettings.speed,rt=this.options.gasSettings.maxPriceInGwei;let nt;switch(tt){case"standard":nt=BigNumber.from(0);break;case"fast":nt=_e.div(100).mul(5);break;case"fastest":nt=_e.div(100).mul(10);break}let it=_e.add(nt);const at=parseUnits(rt.toString(),"gwei"),st=parseUnits("2.5","gwei");return it.gt(at)&&(it=at),it.lt(st)&&(it=st),it}async getPreferredGasPrice(){const _e=await this.getProvider().getGasPrice(),tt=this.options.gasSettings.speed,rt=this.options.gasSettings.maxPriceInGwei;let nt=_e,it;switch(tt){case"standard":it=BigNumber.from(1);break;case"fast":it=_e.div(100).mul(5);break;case"fastest":it=_e.div(100).mul(10);break}nt=nt.add(it);const at=parseUnits(rt.toString(),"gwei");return nt.gt(at)&&(nt=at),nt}emitTransactionEvent(_e,tt){this.emit(EventType.Transaction,{status:_e,transactionHash:tt})}async multiCall(_e){return this.sendTransaction("multicall",[_e])}async estimateGas(_e,tt){return this.writeContract.estimateGas[_e](...tt)}withTransactionOverride(_e){this.customOverrides=_e}async call(_e){for(var tt=arguments.length,rt=new Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];let it;try{if(rt.length>0&&typeof rt[rt.length-1]=="object"){const ft=rt[rt.length-1];it=CallOverrideSchema.parse(ft),rt=rt.slice(0,rt.length-1)}}catch{}const at=extractFunctionsFromAbi(AbiSchema.parse(this.abi)).filter(ft=>ft.name===_e);if(!at.length)throw new Error(`Function "${_e}" not found in contract. Check your dashboard for the list of functions available`);const st=at.find(ft=>ft.name===_e&&ft.inputs.length===rt.length);if(!st)throw new Error(`Function "${_e}" requires ${at[0].inputs.length} arguments, but ${rt.length} were provided.
Expected function signature: ${at[0].signature}`);const ct=`${_e}(${st.inputs.map(ft=>ft.type).join()})`,ut=ct in this.readContract.functions?ct:_e;return st.stateMutability==="view"||st.stateMutability==="pure"?this.readContract[ut](...rt):{receipt:await this.sendTransaction(ut,rt,it)}}async sendTransaction(_e,tt,rt){var nt;if(rt||(rt=await this.getCallOverrides()),rt={...rt,...this.customOverrides()},this.customOverrides=()=>({}),((nt=this.options)==null?void 0:nt.gasless)&&("openzeppelin"in this.options.gasless||"biconomy"in this.options.gasless)){if(_e==="multicall"&&Array.isArray(tt[0])&&tt[0].length>0){const ct=await this.getSignerAddress();tt[0]=tt[0].map(ut=>pack(["bytes","address"],[ut,ct]))}const it=this.getProvider(),at=await this.sendGaslessTransaction(_e,tt,rt);this.emitTransactionEvent("submitted",at);const st=await it.waitForTransaction(at);return this.emitTransactionEvent("completed",at),st}else{if(!this.isValidContract){const st=await this.getProvider().getCode(this.readContract.address);if(this.isValidContract=st!=="0x",!this.isValidContract)throw new Error("The address you're trying to send a transaction to is not a smart contract. Make sure you are on the correct network and the contract address is correct")}const it=await this.sendTransactionByFunction(_e,tt,rt);this.emitTransactionEvent("submitted",it.hash);let at;try{at=await it.wait()}catch(st){try{await this.writeContract.callStatic[_e](...tt,...rt.value?[{value:rt.value}]:[])}catch(ct){throw await this.formatError(ct,_e,tt,rt)}throw await this.formatError(st,_e,tt,rt)}return this.emitTransactionEvent("completed",it.hash),at}}async sendTransactionByFunction(_e,tt,rt){const nt=this.writeContract.functions[_e];if(!nt)throw new Error(`invalid function: "${_e.toString()}"`);if(!rt.gasLimit)try{rt.gasLimit=await this.writeContract.estimateGas[_e](...tt,rt)}catch{try{await this.writeContract.callStatic[_e](...tt,...rt.value?[{value:rt.value}]:[])}catch(at){throw await this.formatError(at,_e,tt,rt)}}try{return await nt(...tt,rt)}catch(it){const at=await(rt.from||this.getSignerAddress()),st=await(rt.value?rt.value:0),ct=await this.getProvider().getBalance(at);throw ct.eq(0)||st&&ct.lt(st)?await this.formatError(new Error("You have insufficient funds in your account to execute this transaction."),_e,tt,rt):await this.formatError(it,_e,tt,rt)}}async formatError(_e,tt,rt,nt){var Ot,Wt,zt;const it=this.getProvider(),at=await it.getNetwork(),st=await(nt.from||this.getSignerAddress()),ct=this.readContract.address,ut=this.readContract.interface.encodeFunctionData(tt,rt),ft=BigNumber.from(nt.value||0),gt=(Ot=it.connection)==null?void 0:Ot.url,_t=this.readContract.interface.getFunction(tt),Et=rt.map(Kt=>JSON.stringify(Kt).length<=80?JSON.stringify(Kt):JSON.stringify(Kt,void 0,2)),$t=Et.join(", ").length<=80?Et.join(", "):`
`+Et.map(Kt=>"  "+Kt.split(`
`).join(`
  `)).join(`,
`)+`
`,It=`${_t.name}(${$t})`,Tt=_e.transactionHash||((Wt=_e.transaction)==null?void 0:Wt.hash)||((zt=_e.receipt)==null?void 0:zt.transactionHash),At=parseRevertReason(_e);let Rt,kt;try{const Kt=await fetchContractMetadataFromAddress(this.readContract.address,this.getProvider(),_classPrivateFieldGet$2(this,_storage));Kt.name&&(kt=Kt.name),Kt.metadata.sources&&(Rt=await fetchSourceFilesFromMetadata(Kt,_classPrivateFieldGet$2(this,_storage)))}catch{}return new TransactionError({reason:At,from:st,to:ct,method:It,data:ut,network:at,rpcUrl:gt,value:ft,hash:Tt,contractName:kt,sources:Rt})}async sendGaslessTransaction(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],rt=arguments.length>2?arguments[2]:void 0;const nt=this.getSigner();invariant$1(nt,"Cannot execute gasless transaction without valid signer");const it=await this.getChainID(),at=await this.getSignerAddress(),st=this.writeContract.address,ct=(rt==null?void 0:rt.value)||0;if(BigNumber.from(ct).gt(0))throw new Error("Cannot send native token value with gasless transaction");const ut=this.writeContract.interface.encodeFunctionData(_e,tt);let ft=BigNumber.from(0);try{ft=(await this.readContract.estimateGas[_e](...tt)).mul(2)}catch{}ft.lt(1e5)&&(ft=BigNumber.from(5e5)),rt.gasLimit&&BigNumber.from(rt.gasLimit).gt(ft)&&(ft=BigNumber.from(rt.gasLimit));const gt={from:at,to:st,data:ut,chainId:it,gasLimit:ft,functionName:_e.toString(),functionArgs:tt,callOverrides:rt};return await this.defaultGaslessSendFunction(gt)}async signTypedData(_e,tt,rt,nt){this.emit(EventType.Signature,{status:"submitted",message:nt,signature:""});const{signature:it}=await signTypedDataInternal(_e,tt,rt,nt);return this.emit(EventType.Signature,{status:"completed",message:nt,signature:it}),it}parseLogs(_e,tt){if(!tt||tt.length===0)return[];const rt=this.writeContract.interface.getEventTopic(_e);return tt.filter(it=>it.topics.indexOf(rt)>=0).map(it=>this.writeContract.interface.parseLog(it))}async defaultGaslessSendFunction(_e){return this.options.gasless&&"biconomy"in this.options.gasless?this.biconomySendFunction(_e):this.defenderSendFunction(_e)}async biconomySendFunction(_e){var gt,_t;invariant$1(this.options.gasless&&"biconomy"in this.options.gasless,"calling biconomySendFunction without biconomy");const tt=this.getSigner(),rt=this.getProvider();invariant$1(tt&&rt,"signer and provider must be set");const nt=new Contract(getContractAddressByChainId(_e.chainId,"biconomyForwarder"),BiconomyForwarderAbi,rt),it=0,at=await getAndIncrementNonce(nt,"getNonce",[_e.from,it]),st={from:_e.from,to:_e.to,token:AddressZero,txGas:_e.gasLimit.toNumber(),tokenGasPrice:"0",batchId:it,batchNonce:at.toNumber(),deadline:Math.floor(Date.now()/1e3+(((gt=this.options)==null?void 0:gt.gasless)&&"biconomy"in this.options.gasless&&((_t=this.options.gasless.biconomy)==null?void 0:_t.deadlineSeconds)||3600)),data:_e.data},ct=arrayify(keccak256(["address","address","address","uint256","uint256","uint256","uint256","uint256","bytes32"],[st.from,st.to,st.token,st.txGas,st.tokenGasPrice,st.batchId,st.batchNonce,st.deadline,keccak256$1(st.data)]));this.emit(EventType.Signature,{status:"submitted",message:ct,signature:""});const ut=await tt.signMessage(ct);this.emit(EventType.Signature,{status:"completed",message:ct,signature:ut});const ft=await fetch$1("https://api.biconomy.io/api/v2/meta-tx/native",{method:"POST",body:JSON.stringify({from:_e.from,apiId:this.options.gasless.biconomy.apiId,params:[st,ut],to:_e.to,gasLimit:_e.gasLimit.toHexString()}),headers:{"x-api-key":this.options.gasless.biconomy.apiKey,"Content-Type":"application/json;charset=utf-8"}});if(ft.ok){const Et=await ft.json();if(!Et.txHash)throw new Error(`relay transaction failed: ${Et.log}`);return Et.txHash}throw new Error(`relay transaction failed with status: ${ft.status} (${ft.statusText})`)}async defenderSendFunction(_e){invariant$1(this.options.gasless&&"openzeppelin"in this.options.gasless,"calling openzeppelin gasless transaction without openzeppelin config in the SDK options");const tt=this.getSigner(),rt=this.getProvider();invariant$1(tt,"provider is not set"),invariant$1(rt,"provider is not set");const nt=this.options.gasless.openzeppelin.relayerForwarderAddress||(this.options.gasless.openzeppelin.useEOAForwarder?CONTRACT_ADDRESSES[_e.chainId].openzeppelinForwarderEOA:CONTRACT_ADDRESSES[_e.chainId].openzeppelinForwarder),it=new Contract(nt,ForwarderABI,rt),at=await getAndIncrementNonce(it,"getNonce",[_e.from]);let st,ct,ut;this.options.gasless.experimentalChainlessSupport?(st={name:"GSNv2 Forwarder",version:"0.0.1",verifyingContract:nt},ct={ForwardRequest:ChainAwareForwardRequest},ut={from:_e.from,to:_e.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(_e.gasLimit).toString(),nonce:BigNumber.from(at).toString(),data:_e.data,chainid:BigNumber.from(_e.chainId).toString()}):(st={name:"GSNv2 Forwarder",version:"0.0.1",chainId:_e.chainId,verifyingContract:nt},ct={ForwardRequest},ut={from:_e.from,to:_e.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(_e.gasLimit).toString(),nonce:BigNumber.from(at).toString(),data:_e.data});let ft;if(this.emit(EventType.Signature,{status:"submitted",message:ut,signature:""}),_e.functionName==="approve"&&_e.functionArgs.length===2){const $t=_e.functionArgs[0],It=_e.functionArgs[1],{message:Tt,signature:At}=await signEIP2612Permit(tt,this.writeContract.address,_e.from,$t,It),{r:Rt,s:kt,v:Ot}=splitSignature(At);ut={to:this.readContract.address,owner:Tt.owner,spender:Tt.spender,value:BigNumber.from(Tt.value).toString(),nonce:BigNumber.from(Tt.nonce).toString(),deadline:BigNumber.from(Tt.deadline).toString(),r:Rt,s:kt,v:Ot},ft=At}else{const{signature:$t}=await signTypedDataInternal(tt,st,ct,ut);ft=$t}let gt="forward";ut!=null&&ut.owner&&(gt="permit");const _t=JSON.stringify({request:ut,signature:ft,forwarderAddress:nt,type:gt});this.emit(EventType.Signature,{status:"completed",message:ut,signature:ft});const Et=await fetch$1(this.options.gasless.openzeppelin.relayerUrl,{method:"POST",body:_t});if(Et.ok){const $t=await Et.json();if(!$t.result)throw new Error(`Relay transaction failed: ${$t.message}`);return JSON.parse($t.result).txHash}throw new Error(`relay transaction failed with status: ${Et.status} (${Et.statusText})`)}}function isNativeToken(et){return et.toLowerCase()===NATIVE_TOKEN_ADDRESS||et.toLowerCase()===AddressZero}function cleanCurrencyAddress(et){return isNativeToken(et)?NATIVE_TOKEN_ADDRESS:et}async function normalizePriceValue(et,_e,tt){const rt=await fetchCurrencyMetadata(et,tt);return parseUnits(AmountSchema.parse(_e),rt.decimals)}async function fetchCurrencyMetadata(et,_e){if(isNativeToken(_e)){const tt=await et.getNetwork(),rt=getNativeTokenByChainId(tt.chainId);return{name:rt.name,symbol:rt.symbol,decimals:rt.decimals}}else{const tt=new Contract(_e,ERC20MetadataAbi,et),[rt,nt,it]=await Promise.all([tt.name(),tt.symbol(),tt.decimals()]);return{name:rt,symbol:nt,decimals:it}}}async function fetchCurrencyValue(et,_e,tt){const rt=await fetchCurrencyMetadata(et,_e);return{...rt,value:BigNumber.from(tt),displayValue:formatUnits(tt,rt.decimals)}}async function setErc20Allowance(et,_e,tt,rt){if(isNativeToken(tt))rt.value=_e;else{const nt=et.getSigner(),it=et.getProvider(),at=new ContractWrapper(nt||it,tt,ERC20Abi,et.options),st=await et.getSignerAddress(),ct=et.readContract.address;return(await at.readContract.allowance(st,ct)).lt(_e)&&await at.sendTransaction("approve",[ct,_e]),rt}}async function approveErc20Allowance(et,_e,tt,rt,nt){const it=et.getSigner(),at=et.getProvider(),st=new ContractWrapper(it||at,_e,ERC20Abi,et.options),ct=await et.getSignerAddress(),ut=et.readContract.address,ft=await st.readContract.allowance(ct,ut),gt=BigNumber.from(tt).mul(BigNumber.from(rt)).div(parseUnits("1",nt));ft.lt(gt)&&await st.sendTransaction("approve",[ut,ft.add(gt)])}async function hasERC20Allowance(et,_e,tt){const rt=et.getProvider(),nt=new ContractWrapper(rt,_e,ERC20Abi,{}),it=await et.getSignerAddress(),at=et.readContract.address;return(await nt.readContract.allowance(it,at)).gte(tt)}async function prepareClaim(et,_e,tt,rt,nt,it,at,st,ct){let ut=convertQuantityToBigNumber(tt.maxClaimablePerWallet,nt),ft=[hexZeroPad([0],32)],gt=tt.price,_t=tt.currencyAddress;try{if(!tt.merkleRootHash.toString().startsWith(AddressZero)){const Tt=await fetchSnapshotEntryForAddress(et,tt.merkleRootHash.toString(),await rt(),it.getProvider(),at,ct);if(Tt)ft=Tt.proof,ut=Tt.maxClaimable==="unlimited"?MaxUint256$1:parseUnits(Tt.maxClaimable,nt),gt=Tt.price===void 0||Tt.price==="unlimited"?MaxUint256$1:await normalizePriceValue(it.getProvider(),Tt.price,Tt.currencyAddress||AddressZero),_t=Tt.currencyAddress||AddressZero;else if(ct===SnapshotFormatVersion.V1)throw new Error("No claim found for this address")}}catch(Tt){if((Tt==null?void 0:Tt.message)==="No claim found for this address")throw Tt;console.warn("failed to check claim condition merkle root hash, continuing anyways",Tt)}const Et=await it.getCallOverrides()||{},$t=gt.toString()!==MaxUint256$1.toString()?gt:tt.price,It=_t!==AddressZero?_t:tt.currencyAddress;return $t.gt(0)&&(isNativeToken(It)?Et.value=BigNumber.from($t).mul(_e).div(parseUnits("1",nt)):st&&await approveErc20Allowance(it,It,$t,_e,nt)),{overrides:Et,proofs:ft,maxClaimable:ut,price:$t,currencyAddress:It,priceInProof:gt,currencyAddressInProof:_t}}async function fetchSnapshot(et,_e,tt){if(!_e)return null;const rt=_e[et];if(rt){const nt=await tt.downloadJSON(rt);if(nt.isShardedMerkleTree&&nt.merkleRoot===et){const it=await ShardedMerkleTree.fromUri(rt,tt);return(it==null?void 0:it.getAllEntries())||null}else{const it=SnapshotSchema.parse(nt);if(et===it.merkleRoot)return it.claims.map(at=>({address:at.address,maxClaimable:at.maxClaimable,price:at.price,currencyAddress:at.currencyAddress}))}}return null}async function fetchSnapshotEntryForAddress(et,_e,tt,rt,nt,it){if(!tt)return null;const at=tt[_e];if(at){const st=await nt.downloadJSON(at);if(st.isShardedMerkleTree&&st.merkleRoot===_e)return await(await ShardedMerkleTree.fromShardedMerkleTreeInfo(st,nt)).getProof(et,rt,it);const ct=SnapshotSchema.parse(st);if(_e===ct.merkleRoot)return ct.claims.find(ut=>ut.address.toLowerCase()===et.toLowerCase())||null}return null}async function updateExistingClaimConditions(et,_e,tt){if(et>=tt.length)throw Error(`Index out of bounds - got index: ${et} with ${tt.length} conditions`);const rt=tt[et].currencyMetadata.decimals,nt=tt[et].price,it=formatUnits(nt,rt),at=ClaimConditionInputSchema.parse({...tt[et],price:it,..._e}),st=ClaimConditionOutputSchema.parse({...at,price:nt});return tt.map((ct,ut)=>{let ft;ut===et?ft=st:ft=ct;const gt=formatUnits(ft.price,rt);return{...ft,price:gt}})}async function processSnapshotData(et,_e,tt,rt,nt){const it=[];return{inputsWithSnapshots:await Promise.all(et.map(async st=>{if(st.snapshot&&st.snapshot.length>0){const ct=await createSnapshot(st.snapshot,_e,tt,rt,nt);it.push(ct),st.merkleRootHash=ct.merkleRoot}else st.merkleRootHash=hexZeroPad([0],32);return st})),snapshotInfos:it}}function compare(et,_e){const tt=BigNumber.from(et),rt=BigNumber.from(_e);return tt.eq(rt)?0:tt.gt(rt)?1:-1}async function processClaimConditionInputs(et,_e,tt,rt,nt){const{inputsWithSnapshots:it,snapshotInfos:at}=await processSnapshotData(et,_e,tt,rt,nt),st=ClaimConditionInputArray.parse(it),ct=(await Promise.all(st.map(ut=>convertToContractModel(ut,_e,tt,rt)))).sort((ut,ft)=>compare(ut.startTimestamp,ft.startTimestamp));return{snapshotInfos:at,sortedConditions:ct}}async function convertToContractModel(et,_e,tt,rt){const nt=et.currencyAddress===AddressZero?NATIVE_TOKEN_ADDRESS:et.currencyAddress,it=convertQuantityToBigNumber(et.maxClaimableSupply,_e),at=convertQuantityToBigNumber(et.maxClaimablePerWallet,_e);let st;return et.metadata&&(typeof et.metadata=="string"?st=et.metadata:st=await rt.upload(et.metadata)),{startTimestamp:et.startTime,maxClaimableSupply:it,supplyClaimed:0,maxClaimablePerWallet:at,pricePerToken:await normalizePriceValue(tt,et.price,nt),currency:nt,merkleRoot:et.merkleRootHash.toString(),waitTimeInSecondsBetweenClaims:et.waitInSeconds||0,metadata:st}}function abstractContractModelToLegacy(et){return{startTimestamp:et.startTimestamp,maxClaimableSupply:et.maxClaimableSupply,supplyClaimed:et.supplyClaimed,merkleRoot:et.merkleRoot,pricePerToken:et.pricePerToken,currency:et.currency,quantityLimitPerTransaction:et.maxClaimablePerWallet,waitTimeInSecondsBetweenClaims:et.waitTimeInSecondsBetweenClaims||0}}function abstractContractModelToNew(et){return{startTimestamp:et.startTimestamp,maxClaimableSupply:et.maxClaimableSupply,supplyClaimed:et.supplyClaimed,merkleRoot:et.merkleRoot,pricePerToken:et.pricePerToken,currency:et.currency,quantityLimitPerWallet:et.maxClaimablePerWallet,metadata:et.metadata||""}}function legacyContractModelToAbstract(et){return{startTimestamp:et.startTimestamp,maxClaimableSupply:et.maxClaimableSupply,supplyClaimed:et.supplyClaimed,merkleRoot:et.merkleRoot.toString(),pricePerToken:et.pricePerToken,currency:et.currency,maxClaimablePerWallet:et.quantityLimitPerTransaction,waitTimeInSecondsBetweenClaims:et.waitTimeInSecondsBetweenClaims}}function newContractModelToAbstract(et){return{startTimestamp:et.startTimestamp,maxClaimableSupply:et.maxClaimableSupply,supplyClaimed:et.supplyClaimed,merkleRoot:et.merkleRoot.toString(),pricePerToken:et.pricePerToken,currency:et.currency,maxClaimablePerWallet:et.quantityLimitPerWallet,waitTimeInSecondsBetweenClaims:0,metadata:et.metadata}}async function transformResultToClaimCondition(et,_e,tt,rt,nt,it){var _t;const at=await fetchCurrencyValue(tt,et.currency,et.pricePerToken),st=convertToReadableQuantity(et.maxClaimableSupply,_e),ct=convertToReadableQuantity(et.maxClaimablePerWallet,_e),ut=convertToReadableQuantity(BigNumber.from(et.maxClaimableSupply).sub(et.supplyClaimed),_e),ft=convertToReadableQuantity(et.supplyClaimed,_e);let gt;return et.metadata&&(gt=await nt.downloadJSON(et.metadata)),ClaimConditionOutputSchema.parse({startTime:et.startTimestamp,maxClaimableSupply:st,maxClaimablePerWallet:ct,currentMintSupply:ft,availableSupply:ut,waitInSeconds:(_t=et.waitTimeInSecondsBetweenClaims)==null?void 0:_t.toString(),price:BigNumber.from(et.pricePerToken),currency:et.currency,currencyAddress:et.currency,currencyMetadata:at,merkleRootHash:et.merkleRoot,snapshot:it?await fetchSnapshot(et.merkleRoot,rt,nt):void 0,metadata:gt})}function convertToReadableQuantity(et,_e){return et.toString()===MaxUint256$1.toString()?"unlimited":formatUnits(et,_e)}function convertQuantityToBigNumber(et,_e){return et==="unlimited"?MaxUint256$1:parseUnits(et,_e)}async function calculateClaimCost(et,_e,tt,rt,nt){let it={};const at=rt||NATIVE_TOKEN_ADDRESS,ct=(await normalizePriceValue(et.getProvider(),_e,at)).mul(tt);return ct.gt(0)&&(at===NATIVE_TOKEN_ADDRESS?it={value:ct}:at!==NATIVE_TOKEN_ADDRESS&&nt&&await approveErc20Allowance(et,at,ct,tt,0)),it}const SHARD_NYBBLES=2;let SnapshotFormatVersion;(function(et){et[et.V1=1]="V1",et[et.V2=2]="V2"})(SnapshotFormatVersion||(SnapshotFormatVersion={}));class ShardedMerkleTree{constructor(_e,tt,rt,nt,it){_defineProperty$5(this,"shardNybbles",void 0),_defineProperty$5(this,"shards",void 0),_defineProperty$5(this,"trees",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"baseUri",void 0),_defineProperty$5(this,"originalEntriesUri",void 0),_defineProperty$5(this,"tokenDecimals",void 0),this.storage=_e,this.shardNybbles=nt,this.baseUri=tt,this.originalEntriesUri=rt,this.tokenDecimals=it,this.shards={},this.trees={}}static async fromUri(_e,tt){try{const rt=await tt.downloadJSON(_e);if(rt.isShardedMerkleTree)return ShardedMerkleTree.fromShardedMerkleTreeInfo(rt,tt)}catch{return}}static async fromShardedMerkleTreeInfo(_e,tt){return new ShardedMerkleTree(tt,_e.baseUri,_e.originalEntriesUri,_e.shardNybbles,_e.tokenDecimals)}static hashEntry(_e,tt,rt,nt){switch(nt){case SnapshotFormatVersion.V1:return keccak256(["address","uint256"],[_e.address,convertQuantityToBigNumber(_e.maxClaimable,tt)]);case SnapshotFormatVersion.V2:return keccak256(["address","uint256","uint256","address"],[_e.address,convertQuantityToBigNumber(_e.maxClaimable,tt),convertQuantityToBigNumber(_e.price||"unlimited",rt),_e.currencyAddress||AddressZero])}}static async fetchAndCacheDecimals(_e,tt,rt){if(!rt)return 18;let nt=_e[rt];return nt===void 0&&(nt=(await fetchCurrencyMetadata(tt,rt)).decimals,_e[rt]=nt),nt}static async buildAndUpload(_e,tt,rt,nt,it){let at=arguments.length>5&&arguments[5]!==void 0?arguments[5]:SHARD_NYBBLES;const st=SnapshotInputSchema.parse(_e),ct={};for(const kt of st){const Ot=kt.address.slice(2,2+at).toLowerCase();ct[Ot]===void 0&&(ct[Ot]=[]),ct[Ot].push(kt)}const ut={},ft=await Promise.all(Object.entries(ct).map(async kt=>{let[Ot,Wt]=kt;return[Ot,new dist$3.MerkleTree(await Promise.all(Wt.map(async zt=>{const Kt=await ShardedMerkleTree.fetchAndCacheDecimals(ut,rt,zt.currencyAddress);return ShardedMerkleTree.hashEntry(zt,tt,Kt,it)})),keccak256$1,{sort:!0}).getHexRoot()]})),gt=Object.fromEntries(ft),_t=new dist$3.MerkleTree(Object.values(gt),keccak256$1,{sort:!0}),Et=[];for(const[kt,Ot]of Object.entries(ct)){const Wt={proofs:_t.getProof(gt[kt]).map(zt=>"0x"+zt.data.toString("hex")),entries:Ot};Et.push({data:JSON.stringify(Wt),name:`${kt}.json`})}const $t=await nt.uploadBatch(Et),It=$t[0].slice(0,$t[0].lastIndexOf("/")),Tt=await nt.upload(st),At={merkleRoot:_t.getHexRoot(),baseUri:It,originalEntriesUri:Tt,shardNybbles:at,tokenDecimals:tt,isShardedMerkleTree:!0},Rt=await nt.upload(At);return{shardedMerkleInfo:At,uri:Rt}}async getProof(_e,tt,rt){const nt=_e.slice(2,2+this.shardNybbles).toLowerCase();let it=this.shards[nt];const at={};if(it===void 0)try{it=this.shards[nt]=await this.storage.downloadJSON(`${this.baseUri}/${nt}.json`);const gt=await Promise.all(it.entries.map(async _t=>{const Et=await ShardedMerkleTree.fetchAndCacheDecimals(at,tt,_t.currencyAddress);return ShardedMerkleTree.hashEntry(_t,this.tokenDecimals,Et,rt)}));this.trees[nt]=new dist$3.MerkleTree(gt,keccak256$1,{sort:!0})}catch{return console.warn("No merkle entry found for address",_e),null}const st=it.entries.find(gt=>gt.address.toLowerCase()===_e.toLowerCase());if(!st)return null;const ct=await ShardedMerkleTree.fetchAndCacheDecimals(at,tt,st.currencyAddress),ut=ShardedMerkleTree.hashEntry(st,this.tokenDecimals,ct,rt),ft=this.trees[nt].getProof(ut).map(gt=>"0x"+gt.data.toString("hex"));return SnapshotEntryWithProofSchema.parse({...st,proof:ft.concat(it.proofs)})}async getAllEntries(){try{return await this.storage.downloadJSON(this.originalEntriesUri)}catch(_e){return console.warn("Could not fetch original snapshot entries",_e),[]}}}async function createSnapshot(et,_e,tt,rt,nt){const it=SnapshotInputSchema.parse(et),at=it.map(ut=>ut.address);if(new Set(at).size<at.length)throw new DuplicateLeafsError;const ct=await ShardedMerkleTree.buildAndUpload(it,_e,tt,rt,nt);return{merkleRoot:ct.shardedMerkleInfo.merkleRoot,snapshotUri:ct.uri}}const roleMap={admin:"",transfer:"TRANSFER_ROLE",minter:"MINTER_ROLE",pauser:"PAUSER_ROLE",lister:"LISTER_ROLE",asset:"ASSET_ROLE",unwrap:"UNWRAP_ROLE",factory:"FACTORY_ROLE"},ALL_ROLES=Object.keys(roleMap);function getRoleHash(et){return et==="admin"?hexZeroPad([0],32):id(roleMap[et])}class ContractEncoder{constructor(_e){_defineProperty$5(this,"contractWrapper",void 0),this.contractWrapper=_e}encode(_e,tt){return this.contractWrapper.readContract.interface.encodeFunctionData(_e,tt)}decode(_e,tt){return this.contractWrapper.readContract.interface.decodeFunctionData(_e,tt)}}const FEATURE_ROYALTY={name:"Royalty",namespace:"royalty",docLinks:{sdk:"sdk.contractroyalty",contracts:"Royalty"},abis:[IThirdwebRoyaltyAbi],features:{}},FEATURE_PRIMARY_SALE={name:"PrimarySale",namespace:"sales",docLinks:{sdk:"sdk.contractprimarysale",contracts:"PrimarySale"},abis:[IThirdwebPrimarySaleAbi],features:{}},FEATURE_PLATFORM_FEE={name:"PlatformFee",namespace:"platformFee",docLinks:{sdk:"sdk.platformfee",contracts:"PlatformFee"},abis:[IThirdwebPlatformFeeAbi],features:{}},FEATURE_PERMISSIONS_ENUMERABLE={name:"PermissionsEnumerable",namespace:"roles",docLinks:{sdk:"sdk.contractroles",contracts:"PermissionsEnumerable"},abis:[IPermissionsEnumerableAbi],features:{}},FEATURE_PERMISSIONS={name:"Permissions",namespace:"roles",docLinks:{sdk:"sdk.contractroles",contracts:"Permissions"},abis:[IPermissionsAbi],features:{[FEATURE_PERMISSIONS_ENUMERABLE.name]:FEATURE_PERMISSIONS_ENUMERABLE}},FEATURE_METADATA={name:"ContractMetadata",namespace:"metadata",docLinks:{sdk:"sdk.contractmetadata",contracts:"ContractMetadata"},abis:[IContractMetadataAbi],features:{}},FEATURE_APPURI={name:"AppURI",namespace:"appURI",docLinks:{sdk:"sdk.appURI",contracts:"AppURI"},abis:[IAppURI],features:{}},FEATURE_OWNER={name:"Ownable",namespace:"owner",docLinks:{sdk:"sdk.owner",contracts:"Ownable"},abis:[IOwnableAbi],features:{}},FEATURE_GASLESS={name:"Gasless",namespace:"gasless",docLinks:{sdk:"sdk.gaslesstransaction",contracts:""},abis:[IERC2771ContextAbi],features:{}},FEATURE_PACK_VRF={name:"PackVRF",namespace:"pack.vrf",docLinks:{sdk:"sdk.packvrf",contracts:"IPackVRFDirect"},abis:[IPackVRFAbi],features:{}},FEATURE_PLUGIN_ROUTER={name:"PluginRouter",namespace:"plugin.router",docLinks:{sdk:"sdk.pluginrouter",contracts:"IRouter"},abis:[IRouterAbi],features:{}},FEATURE_DIRECT_LISTINGS={name:"DirectListings",namespace:"direct.listings",docLinks:{sdk:"",contracts:""},abis:[IDirectListingsAbi],features:{}},FEATURE_ENGLISH_AUCTIONS={name:"EnglishAuctions",namespace:"english.auctions",docLinks:{sdk:"",contracts:""},abis:[IEnglishAuctionsAbi],features:{}},FEATURE_OFFERS={name:"Offers",namespace:"offers",docLinks:{sdk:"",contracts:""},abis:[IOffersAbi],features:{}};class ContractMetadata{constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_METADATA.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"schema",void 0),_defineProperty$5(this,"storage",void 0),this.contractWrapper=_e,this.schema=tt,this.storage=rt}parseOutputMetadata(_e){return this.schema.output.parse(_e)}parseInputMetadata(_e){return this.schema.input.parse(_e)}async get(){let _e;if(this.supportsContractMetadata(this.contractWrapper)){const tt=await this.contractWrapper.readContract.contractURI();tt&&tt.includes("://")&&(_e=await this.storage.downloadJSON(tt))}if(!_e)try{let tt;try{hasFunction("name",this.contractWrapper)&&(tt=await this.contractWrapper.readContract.name())}catch{}const rt=await fetchContractMetadataFromAddress(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),this.storage);_e={name:tt||rt.name,description:rt.info.title}}catch{throw new Error("Could not fetch contract metadata")}return this.parseOutputMetadata(_e)}async set(_e){const tt=await this._parseAndUploadMetadata(_e),rt=this.contractWrapper;if(this.supportsContractMetadata(rt))return{receipt:await rt.sendTransaction("setContractURI",[tt]),data:this.get};throw new ExtensionNotImplementedError(FEATURE_METADATA)}async update(_e){return await this.set({...await this.get(),..._e})}async _parseAndUploadMetadata(_e){const tt=this.parseInputMetadata(_e);return this.storage.upload(tt)}supportsContractMetadata(_e){return detectContractFeature(_e,"ContractMetadata")}}class ContractRoles{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_PERMISSIONS.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"roles",void 0),this.contractWrapper=_e,this.roles=tt}async getAll(){invariant$1(this.roles.length,"this contract has no support for roles");const _e={};for(const tt of this.roles)_e[tt]=await this.get(tt);return _e}async get(_e){invariant$1(this.roles.includes(_e),`this contract does not support the "${_e}" role`);const tt=this.contractWrapper;if(hasFunction("getRoleMemberCount",tt)&&hasFunction("getRoleMember",tt)){const rt=getRoleHash(_e),nt=(await tt.readContract.getRoleMemberCount(rt)).toNumber();return await Promise.all(Array.from(Array(nt).keys()).map(it=>tt.readContract.getRoleMember(rt,it)))}throw new Error("Contract does not support enumerating roles. Please implement IPermissionsEnumerable to unlock this functionality.")}async setAll(_e){const tt=Object.keys(_e);invariant$1(tt.length,"you must provide at least one role to set"),invariant$1(tt.every(at=>this.roles.includes(at)),"this contract does not support the given role");const rt=await this.getAll(),nt=[],it=tt.sort(at=>at==="admin"?1:-1);for(let at=0;at<it.length;at++){const st=it[at],ct=_e[st]||[],ut=rt[st]||[],ft=ct.filter(_t=>!ut.includes(_t)),gt=ut.filter(_t=>!ct.includes(_t));if(ft.length&&ft.forEach(_t=>{nt.push(this.contractWrapper.readContract.interface.encodeFunctionData("grantRole",[getRoleHash(st),_t]))}),gt.length)for(let _t=0;_t<gt.length;_t++){const Et=gt[_t],$t=await this.getRevokeRoleFunctionName(Et);nt.push(this.contractWrapper.readContract.interface.encodeFunctionData($t,[getRoleHash(st),Et]))}}return{receipt:await this.contractWrapper.multiCall(nt)}}async verify(_e,tt){await Promise.all(_e.map(async rt=>{if(!(await this.get(rt)).map(it=>it.toLowerCase()).includes(tt.toLowerCase()))throw new MissingRoleError(tt,rt)}))}async grant(_e,tt){return invariant$1(this.roles.includes(_e),`this contract does not support the "${_e}" role`),{receipt:await this.contractWrapper.sendTransaction("grantRole",[getRoleHash(_e),tt])}}async revoke(_e,tt){invariant$1(this.roles.includes(_e),`this contract does not support the "${_e}" role`);const rt=await this.getRevokeRoleFunctionName(tt);return{receipt:await this.contractWrapper.sendTransaction(rt,[getRoleHash(_e),tt])}}async getRevokeRoleFunctionName(_e){return(await this.contractWrapper.getSignerAddress()).toLowerCase()===_e.toLowerCase()?"renounceRole":"revokeRole"}}class ContractRoyalty{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_ROYALTY.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"metadata",void 0),this.contractWrapper=_e,this.metadata=tt}async getDefaultRoyaltyInfo(){const[_e,tt]=await this.contractWrapper.readContract.getDefaultRoyaltyInfo();return CommonRoyaltySchema.parse({fee_recipient:_e,seller_fee_basis_points:tt})}async getTokenRoyaltyInfo(_e){const[tt,rt]=await this.contractWrapper.readContract.getRoyaltyInfoForToken(_e);return CommonRoyaltySchema.parse({fee_recipient:tt,seller_fee_basis_points:rt})}async setDefaultRoyaltyInfo(_e){const tt=await this.metadata.get(),rt=this.metadata.parseInputMetadata({...tt,..._e}),nt=await this.metadata._parseAndUploadMetadata(rt);if(hasFunction("setContractURI",this.contractWrapper)){const it=[this.contractWrapper.readContract.interface.encodeFunctionData("setDefaultRoyaltyInfo",[rt.fee_recipient,rt.seller_fee_basis_points]),this.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[nt])];return{receipt:await this.contractWrapper.multiCall(it),data:()=>this.getDefaultRoyaltyInfo()}}else throw new Error("Updating royalties requires implementing ContractMetadata in your contract to support marketplaces like OpenSea.")}async setTokenRoyaltyInfo(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("setRoyaltyInfoForToken",[_e,tt.fee_recipient,tt.seller_fee_basis_points]),data:()=>this.getDefaultRoyaltyInfo()}}}class ContractPrimarySale{constructor(_e){_defineProperty$5(this,"featureName",FEATURE_PRIMARY_SALE.name),_defineProperty$5(this,"contractWrapper",void 0),this.contractWrapper=_e}async getRecipient(){return await this.contractWrapper.readContract.primarySaleRecipient()}async setRecipient(_e){return{receipt:await this.contractWrapper.sendTransaction("setPrimarySaleRecipient",[_e])}}}const FALLBACK_METADATA={name:"Failed to load NFT metadata"};async function fetchTokenMetadata(et,_e,tt){const rt=_e.replace("{id}",hexZeroPad(BigNumber.from(et).toHexString(),32).slice(2));let nt;try{nt=await tt.downloadJSON(rt)}catch{const at=_e.replace("{id}",BigNumber.from(et).toString());try{nt=await tt.downloadJSON(at)}catch{console.warn(`failed to get token metadata: ${JSON.stringify({tokenId:et.toString(),tokenUri:_e})} -- falling back to default metadata`),nt=FALLBACK_METADATA}}return CommonNFTOutput.parse({...nt,id:BigNumber.from(et).toString(),uri:_e})}async function fetchTokenMetadataForContract(et,_e,tt,rt){let nt;const it=new Contract(et,ERC165Abi,_e),at=await it.supportsInterface(InterfaceId_IERC721),st=await it.supportsInterface(InterfaceId_IERC1155);if(at)nt=await new Contract(et,ERC721MetadataAbi,_e).tokenURI(tt);else if(st)nt=await new Contract(et,ERC1155MetadataAbi,_e).uri(tt);else throw Error("Contract must implement ERC 1155 or ERC 721.");if(!nt)throw new NotFoundError;return fetchTokenMetadata(tt,nt,rt)}async function uploadOrExtractURI(et,_e){return typeof et=="string"?et:await _e.upload(CommonNFTInput.parse(et))}async function uploadOrExtractURIs(et,_e,tt,rt){if(isUriList(et))return et;if(isMetadataList(et))return await _e.uploadBatch(et.map(it=>CommonNFTInput.parse(it)),{rewriteFileNames:{fileStartNumber:tt||0},onProgress:rt==null?void 0:rt.onProgress});throw new Error("NFT metadatas must all be of the same type (all URI or all NFTMetadataInput)")}function getBaseUriFromBatch(et){const _e=et[0].substring(0,et[0].lastIndexOf("/"));for(let tt=0;tt<et.length;tt++){const rt=et[tt].substring(0,et[tt].lastIndexOf("/"));if(_e!==rt)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${_e}' but got '${rt}'`)}return _e.replace(/\/$/,"")+"/"}function isUriList(et){return et.find(_e=>typeof _e!="string")===void 0}function isMetadataList(et){return et.find(_e=>typeof _e!="object")===void 0}class DelayedReveal{constructor(_e,tt,rt,nt){_defineProperty$5(this,"featureName",void 0),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"nextTokenIdToMintFn",void 0),this.featureName=rt,this.nextTokenIdToMintFn=nt,this.contractWrapper=_e,this.storage=tt}async createDelayedRevealBatch(_e,tt,rt,nt){if(!rt)throw new Error("Password is required");const it=await this.storage.uploadBatch([CommonNFTInput.parse(_e)],{rewriteFileNames:{fileStartNumber:0}}),at=getBaseUriFromBatch(it),st=await this.nextTokenIdToMintFn(),ct=await this.storage.uploadBatch(tt.map(Ot=>CommonNFTInput.parse(Ot)),{onProgress:nt==null?void 0:nt.onProgress,rewriteFileNames:{fileStartNumber:st.toNumber()}}),ut=getBaseUriFromBatch(ct),ft=await this.contractWrapper.readContract.getBaseURICount(),gt=await this.hashDelayRevealPasword(ft,rt),_t=await this.contractWrapper.readContract.encryptDecrypt(toUtf8Bytes(ut),gt);let Et;if(await this.isLegacyContract())Et=_t;else{const Ot=await this.contractWrapper.getChainID(),Wt=keccak256(["bytes","bytes","uint256"],[toUtf8Bytes(ut),gt,Ot]);Et=defaultAbiCoder.encode(["bytes","bytes32"],[_t,Wt])}const It=await this.contractWrapper.sendTransaction("lazyMint",[ct.length,at.endsWith("/")?at:`${at}/`,Et]),Tt=this.contractWrapper.parseLogs("TokensLazyMinted",It==null?void 0:It.logs),At=Tt[0].args.startTokenId,Rt=Tt[0].args.endTokenId,kt=[];for(let Ot=At;Ot.lte(Rt);Ot=Ot.add(1))kt.push({id:Ot,receipt:It});return kt}async reveal(_e,tt){if(!tt)throw new Error("Password is required");const rt=await this.hashDelayRevealPasword(_e,tt);try{const nt=await this.contractWrapper.callStatic().reveal(_e,rt);if(!nt.includes("://")||!nt.endsWith("/"))throw new Error("invalid password")}catch{throw new Error("invalid password")}return{receipt:await this.contractWrapper.sendTransaction("reveal",[_e,rt])}}async getBatchesToReveal(){const _e=await this.contractWrapper.readContract.getBaseURICount();if(_e.isZero())return[];const tt=Array.from(Array(_e.toNumber()).keys()),rt=await Promise.all(tt.map(ut=>{if(hasFunction("getBatchIdAtIndex",this.contractWrapper))return this.contractWrapper.readContract.getBatchIdAtIndex(ut);if(hasFunction("baseURIIndices",this.contractWrapper))return this.contractWrapper.readContract.baseURIIndices(ut);throw new Error("Contract does not have getBatchIdAtIndex or baseURIIndices.")})),nt=rt.slice(0,rt.length-1),it=await Promise.all(Array.from([0,...nt]).map(ut=>this.getNftMetadata(ut.toString()))),at=await this.isLegacyContract(),ct=(await Promise.all(Array.from([...rt]).map(ut=>at?this.getLegacyEncryptedData(ut):this.contractWrapper.readContract.encryptedData(ut)))).map(ut=>hexDataLength(ut)>0?at?ut:defaultAbiCoder.decode(["bytes","bytes32"],ut)[0]:ut);return it.map((ut,ft)=>({batchId:BigNumber.from(ft),batchUri:ut.uri,placeholderMetadata:ut})).filter((ut,ft)=>hexDataLength(ct[ft])>0)}async hashDelayRevealPasword(_e,tt){const rt=await this.contractWrapper.getChainID(),nt=this.contractWrapper.readContract.address;return keccak256(["string","uint256","uint256","address"],[tt,rt,_e,nt])}async getNftMetadata(_e){return fetchTokenMetadataForContract(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),_e,this.storage)}async isLegacyContract(){if(hasFunction("contractVersion",this.contractWrapper))try{return await this.contractWrapper.readContract.contractVersion()<=2}catch{return!1}return!1}async getLegacyEncryptedData(_e){const rt=await new Contract(this.contractWrapper.readContract.address,DeprecatedAbi,this.contractWrapper.getProvider()).functions.encryptedBaseURI(_e);return rt.length>0?rt[0]:"0x"}}const FEATURE_TOKEN_CLAIM_CONDITIONS_V1={name:"ERC20ClaimConditionsV1",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"DropSinglePhase_V1"},abis:[ERC20Abi,IDropSinglePhaseV1],features:{}},FEATURE_TOKEN_CLAIM_CONDITIONS_V2={name:"ERC20ClaimConditionsV2",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"DropSinglePhase"},abis:[ERC20Abi,IDropSinglePhase],features:{}},FEATURE_TOKEN_CLAIM_PHASES_V2={name:"ERC20ClaimPhasesV2",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"Drop"},abis:[ERC20Abi,IDrop],features:{}},FEATURE_TOKEN_CLAIM_PHASES_V1={name:"ERC20ClaimPhasesV1",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"Drop"},abis:[DropERC20_V2Abi],features:{}},FEATURE_TOKEN_BURNABLE={name:"ERC20Burnable",namespace:"token.burn",docLinks:{sdk:"sdk.erc20burnable",contracts:"IBurnableERC20"},abis:[ERC20Abi,IBurnableERC20Abi],features:{}},FEATURE_TOKEN_SIGNATURE_MINTABLE={name:"ERC20SignatureMintable",namespace:"token.signature",docLinks:{sdk:"sdk.erc20signaturemintable",contracts:"ISignatureMintERC20"},abis:[ERC20Abi,ISignatureMintERC20Abi],features:{}},FEATURE_TOKEN_BATCH_MINTABLE={name:"ERC20BatchMintable",namespace:"token.mint.batch",docLinks:{sdk:"sdk.erc20batchmintable",contracts:"IMulticall"},abis:[ERC20Abi,IMintableERC20Abi,MulticallAbi],features:{}},FEATURE_TOKEN_MINTABLE={name:"ERC20Mintable",namespace:"token.mint",docLinks:{sdk:"sdk.erc20mintable",contracts:"IMintableERC20"},abis:[ERC20Abi,IMintableERC20Abi],features:{[FEATURE_TOKEN_BATCH_MINTABLE.name]:FEATURE_TOKEN_BATCH_MINTABLE}},FEATURE_TOKEN={name:"ERC20",namespace:"token",docLinks:{sdk:"sdk.erc20",contracts:"IERC20"},abis:[ERC20Abi],features:{[FEATURE_TOKEN_BURNABLE.name]:FEATURE_TOKEN_BURNABLE,[FEATURE_TOKEN_MINTABLE.name]:FEATURE_TOKEN_MINTABLE,[FEATURE_TOKEN_CLAIM_CONDITIONS_V1.name]:FEATURE_TOKEN_CLAIM_CONDITIONS_V1,[FEATURE_TOKEN_CLAIM_CONDITIONS_V2.name]:FEATURE_TOKEN_CLAIM_CONDITIONS_V2,[FEATURE_TOKEN_CLAIM_PHASES_V1.name]:FEATURE_TOKEN_CLAIM_PHASES_V1,[FEATURE_TOKEN_CLAIM_PHASES_V2.name]:FEATURE_TOKEN_CLAIM_PHASES_V2,[FEATURE_TOKEN_SIGNATURE_MINTABLE.name]:FEATURE_TOKEN_SIGNATURE_MINTABLE}},FEATURE_NFT_BURNABLE={name:"ERC721Burnable",namespace:"nft.burn",docLinks:{sdk:"sdk.erc721burnable",contracts:"IBurnableERC721"},abis:[Erc721Abi,IBurnableERC721Abi],features:{}},FEATURE_NFT_REVEALABLE={name:"ERC721Revealable",namespace:"nft.drop.revealer",docLinks:{sdk:"sdk.delayedreveal",contracts:"DelayedReveal"},abis:[Erc721Abi,ILazyMintAbi,DelayedRevealAbi],features:{}},FEATURE_NFT_TIERED_DROP={name:"ERC721TieredDrop",namespace:"nft.tieredDrop",docLinks:{sdk:"sdk.erc721tiereddrop",contracts:"TieredDrop"},abis:[Erc721Abi,TieredDropAbi],features:{}},FEATURE_NFT_CLAIM_CONDITIONS_V1={name:"ERC721ClaimConditionsV1",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"DropSinglePhase_V1"},abis:[Erc721Abi,ILazyMintAbi,IDropSinglePhaseV1],features:{}},FEATURE_NFT_CLAIM_CONDITIONS_V2={name:"ERC721ClaimConditionsV2",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"DropSinglePhase"},abis:[Erc721Abi,ILazyMintAbi,IDropSinglePhase],features:{}},FEATURE_NFT_CLAIM_PHASES_V1={name:"ERC721ClaimPhasesV1",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"Drop"},abis:[DropERC721_V3Abi],features:{}},FEATURE_NFT_CLAIM_PHASES_V2={name:"ERC721ClaimPhasesV2",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"Drop"},abis:[Erc721Abi,ILazyMintAbi,IDrop],features:{}},FEATURE_NFT_CLAIM_CUSTOM={name:"ERC721ClaimCustom",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"IClaimableERC721"},abis:[Erc721Abi,ILazyMintAbi,IClaimableERC721],features:{}},FEATURE_NFT_LAZY_MINTABLE={name:"ERC721LazyMintable",namespace:"nft.drop",docLinks:{sdk:"sdk.erc721lazymintable",contracts:"LazyMint"},abis:[Erc721Abi,ILazyMintAbi],features:{[FEATURE_NFT_REVEALABLE.name]:FEATURE_NFT_REVEALABLE,[FEATURE_NFT_CLAIM_CUSTOM.name]:FEATURE_NFT_CLAIM_CUSTOM,[FEATURE_NFT_CLAIM_CONDITIONS_V1.name]:FEATURE_NFT_CLAIM_CONDITIONS_V1,[FEATURE_NFT_CLAIM_CONDITIONS_V2.name]:FEATURE_NFT_CLAIM_CONDITIONS_V2,[FEATURE_NFT_CLAIM_PHASES_V1.name]:FEATURE_NFT_CLAIM_PHASES_V1,[FEATURE_NFT_CLAIM_PHASES_V2.name]:FEATURE_NFT_CLAIM_PHASES_V2}},FEATURE_NFT_BATCH_MINTABLE={name:"ERC721BatchMintable",namespace:"nft.mint.batch",docLinks:{sdk:"sdk.erc721batchmintable",contracts:"IMulticall"},abis:[Erc721Abi,IMintableERC721Abi,MulticallAbi],features:{}},FEATURE_NFT_MINTABLE={name:"ERC721Mintable",namespace:"nft.mint",docLinks:{sdk:"sdk.erc721mintable",contracts:"IMintableERC721"},abis:[Erc721Abi,IMintableERC721Abi],features:{[FEATURE_NFT_BATCH_MINTABLE.name]:FEATURE_NFT_BATCH_MINTABLE}},FEATURE_NFT_SIGNATURE_MINTABLE_V2={name:"ERC721SignatureMintV2",namespace:"nft.signature",docLinks:{sdk:"sdk.erc721signaturemint",contracts:"ISignatureMintERC721"},abis:[Erc721Abi,SignatureMintERC721Abi],features:{}},FEATURE_NFT_SIGNATURE_MINTABLE_V1={name:"ERC721SignatureMintV1",namespace:"nft.signature",docLinks:{sdk:"sdk.erc721signaturemint",contracts:"ISignatureMintERC721"},abis:[SignatureMintERC721_V1Abi],features:{}},FEATURE_NFT_ENUMERABLE={name:"ERC721Enumerable",namespace:"nft.query.owned",docLinks:{sdk:"sdk.erc721enumerable",contracts:"IERC721Enumerable"},abis:[Erc721Abi,Erc721EnumerableAbi],features:{}},FEATURE_NFT_SUPPLY={name:"ERC721Supply",namespace:"nft.query",docLinks:{sdk:"sdk.erc721supply",contracts:"IERC721Supply"},abis:[Erc721Abi,Erc721SupplyAbi],features:{[FEATURE_NFT_ENUMERABLE.name]:FEATURE_NFT_ENUMERABLE}},FEATURE_NFT={name:"ERC721",namespace:"nft",docLinks:{sdk:"sdk.erc721",contracts:"IERC721"},abis:[Erc721Abi],features:{[FEATURE_NFT_BURNABLE.name]:FEATURE_NFT_BURNABLE,[FEATURE_NFT_SUPPLY.name]:FEATURE_NFT_SUPPLY,[FEATURE_NFT_MINTABLE.name]:FEATURE_NFT_MINTABLE,[FEATURE_NFT_LAZY_MINTABLE.name]:FEATURE_NFT_LAZY_MINTABLE,[FEATURE_NFT_SIGNATURE_MINTABLE_V1.name]:FEATURE_NFT_SIGNATURE_MINTABLE_V1,[FEATURE_NFT_SIGNATURE_MINTABLE_V2.name]:FEATURE_NFT_SIGNATURE_MINTABLE_V2,[FEATURE_NFT_TIERED_DROP.name]:FEATURE_NFT_TIERED_DROP}},FEATURE_EDITION_BURNABLE={name:"ERC1155Burnable",namespace:"edition.burn",docLinks:{sdk:"sdk.erc1155burnable",contracts:"IBurnableERC1155"},abis:[Erc1155Abi,IBurnableERC1155Abi],features:{}},FEATURE_EDITION_CLAIM_CONDITIONS_V1={name:"ERC1155ClaimConditionsV1",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"DropSinglePhase1155"},abis:[Erc1155Abi,ILazyMintAbi,IDropSinglePhase1155_V1],features:{}},FEATURE_EDITION_CLAIM_CONDITIONS_V2={name:"ERC1155ClaimConditionsV2",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"DropSinglePhase1155"},abis:[Erc1155Abi,ILazyMintAbi,IDropSinglePhase1155],features:{}},FEATURE_EDITION_CLAIM_PHASES_V2={name:"ERC1155ClaimPhasesV2",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"Drop1155"},abis:[Erc1155Abi,ILazyMintAbi,IDropMultiPhase1155],features:{}},FEATURE_EDITION_CLAIM_PHASES_V1={name:"ERC1155ClaimPhasesV1",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"Drop1155"},abis:[DropERC1155_V2Abi],features:{}},FEATURE_EDITION_CLAIM_CUSTOM={name:"ERC1155ClaimCustom",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"IClaimableERC1155"},abis:[Erc1155Abi,ILazyMintAbi,IClaimableERC1155],features:{}},FEATURE_EDITION_REVEALABLE={name:"ERC1155Revealable",namespace:"edition.drop.revealer",docLinks:{sdk:"sdk.drop.delayedreveal",contracts:"DelayedReveal"},abis:[Erc1155Abi,ILazyMintAbi,DelayedRevealAbi],features:{}},FEATURE_EDITION_LAZY_MINTABLE_V2={name:"ERC1155LazyMintableV2",namespace:"edition.drop",docLinks:{sdk:"sdk.erc1155droppable",contracts:"LazyMint"},abis:[Erc1155Abi,ILazyMintAbi],features:{[FEATURE_EDITION_REVEALABLE.name]:FEATURE_EDITION_REVEALABLE,[FEATURE_EDITION_CLAIM_CUSTOM.name]:FEATURE_EDITION_CLAIM_CUSTOM,[FEATURE_EDITION_CLAIM_CONDITIONS_V1.name]:FEATURE_EDITION_CLAIM_CONDITIONS_V1,[FEATURE_EDITION_CLAIM_CONDITIONS_V2.name]:FEATURE_EDITION_CLAIM_CONDITIONS_V2,[FEATURE_EDITION_CLAIM_PHASES_V2.name]:FEATURE_EDITION_CLAIM_PHASES_V2}},FEATURE_EDITION_LAZY_MINTABLE_V1={name:"ERC1155LazyMintableV1",namespace:"edition.drop",docLinks:{sdk:"sdk.erc1155droppable",contracts:"LazyMint"},abis:[DropERC1155_V2Abi],features:{[FEATURE_EDITION_CLAIM_PHASES_V1.name]:FEATURE_EDITION_CLAIM_PHASES_V1}},FEATURE_EDITION_SIGNATURE_MINTABLE={name:"ERC1155SignatureMintable",namespace:"edition.signature",docLinks:{sdk:"sdk.erc1155signaturemintable",contracts:"ISignatureMintERC1155"},abis:[Erc1155Abi,ISignatureMintERC1155Abi],features:{}},FEATURE_EDITION_BATCH_MINTABLE={name:"ERC1155BatchMintable",namespace:"edition.mint.batch",docLinks:{sdk:"sdk.erc1155batchmintable",contracts:"IMulticall"},abis:[Erc1155Abi,IMintableERC1155Abi,MulticallAbi],features:{}},FEATURE_EDITION_MINTABLE={name:"ERC1155Mintable",namespace:"edition.mint",docLinks:{sdk:"sdk.erc1155mintable",contracts:"IMintableERC1155"},abis:[Erc1155Abi,IMintableERC1155Abi],features:{[FEATURE_EDITION_BATCH_MINTABLE.name]:FEATURE_EDITION_BATCH_MINTABLE}},FEATURE_EDITION_ENUMERABLE={name:"ERC1155Enumerable",namespace:"edition.query",docLinks:{sdk:"sdk.erc1155",contracts:"IERC1155"},abis:[Erc1155Abi,Erc1155EnumerableAbi],features:{}},FEATURE_EDITION={name:"ERC1155",namespace:"edition",docLinks:{sdk:"sdk.erc1155enumerable",contracts:"IERC1155Enumerable"},abis:[Erc1155Abi],features:{[FEATURE_EDITION_BURNABLE.name]:FEATURE_EDITION_BURNABLE,[FEATURE_EDITION_ENUMERABLE.name]:FEATURE_EDITION_ENUMERABLE,[FEATURE_EDITION_MINTABLE.name]:FEATURE_EDITION_MINTABLE,[FEATURE_EDITION_LAZY_MINTABLE_V1.name]:FEATURE_EDITION_LAZY_MINTABLE_V1,[FEATURE_EDITION_LAZY_MINTABLE_V2.name]:FEATURE_EDITION_LAZY_MINTABLE_V2,[FEATURE_EDITION_REVEALABLE.name]:FEATURE_EDITION_REVEALABLE,[FEATURE_EDITION_SIGNATURE_MINTABLE.name]:FEATURE_EDITION_SIGNATURE_MINTABLE}},SUPPORTED_FEATURES={[FEATURE_TOKEN.name]:FEATURE_TOKEN,[FEATURE_NFT.name]:FEATURE_NFT,[FEATURE_EDITION.name]:FEATURE_EDITION,[FEATURE_ROYALTY.name]:FEATURE_ROYALTY,[FEATURE_PLATFORM_FEE.name]:FEATURE_PLATFORM_FEE,[FEATURE_PRIMARY_SALE.name]:FEATURE_PRIMARY_SALE,[FEATURE_PERMISSIONS.name]:FEATURE_PERMISSIONS,[FEATURE_METADATA.name]:FEATURE_METADATA,[FEATURE_APPURI.name]:FEATURE_APPURI,[FEATURE_OWNER.name]:FEATURE_OWNER,[FEATURE_GASLESS.name]:FEATURE_GASLESS,[FEATURE_PACK_VRF.name]:FEATURE_PACK_VRF,[FEATURE_PLUGIN_ROUTER.name]:FEATURE_PLUGIN_ROUTER,[FEATURE_DIRECT_LISTINGS.name]:FEATURE_DIRECT_LISTINGS,[FEATURE_ENGLISH_AUCTIONS.name]:FEATURE_ENGLISH_AUCTIONS,[FEATURE_OFFERS.name]:FEATURE_OFFERS};let decoder;try{decoder=new TextDecoder}catch{}let src$1,srcEnd,position$1=0;const LEGACY_RECORD_INLINE_ID=105,RECORD_DEFINITIONS_ID=57342,RECORD_INLINE_ID=57343,BUNDLED_STRINGS_ID=57337,PACKED_REFERENCE_TAG_ID=6,STOP_CODE={};let currentDecoder={},currentStructures,srcString,srcStringStart=0,srcStringEnd=0,bundledStrings,referenceMap,currentExtensions=[],currentExtensionRanges=[],packedValues,dataView,restoreMapsAsObject,defaultOptions$1={useRecords:!1,mapsAsObjects:!0},sequentialMode=!1;class Decoder{constructor(_e){if(_e&&((_e.keyMap||_e._keyMap)&&!_e.useRecords&&(_e.useRecords=!1,_e.mapsAsObjects=!0),_e.useRecords===!1&&_e.mapsAsObjects===void 0&&(_e.mapsAsObjects=!0),_e.getStructures&&(_e.getShared=_e.getStructures),_e.getShared&&!_e.structures&&((_e.structures=[]).uninitialized=!0),_e.keyMap)){this.mapKey=new Map;for(let[tt,rt]of Object.entries(_e.keyMap))this.mapKey.set(rt,tt)}Object.assign(this,_e)}decodeKey(_e){return this.keyMap&&this.mapKey.get(_e)||_e}decode(_e,tt){if(src$1)return saveState(()=>(clearSource(),this?this.decode(_e,tt):Decoder.prototype.decode.call(defaultOptions$1,_e,tt)));srcEnd=tt>-1?tt:_e.length,position$1=0,srcStringEnd=0,srcString=null,bundledStrings=null,src$1=_e;try{dataView=_e.dataView||(_e.dataView=new DataView(_e.buffer,_e.byteOffset,_e.byteLength))}catch(rt){throw src$1=null,_e instanceof Uint8Array?rt:new Error("Source must be a Uint8Array or Buffer but was a "+(_e&&typeof _e=="object"?_e.constructor.name:typeof _e))}if(this instanceof Decoder){if(currentDecoder=this,packedValues=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return currentStructures=this.structures,checkedRead();(!currentStructures||currentStructures.length>0)&&(currentStructures=[])}else currentDecoder=defaultOptions$1,(!currentStructures||currentStructures.length>0)&&(currentStructures=[]),packedValues=null;return checkedRead()}}function checkedRead(){try{let et=read();if(bundledStrings){if(position$1>=bundledStrings.postBundlePosition){let _e=new Error("Unexpected bundle position");throw _e.incomplete=!0,_e}position$1=bundledStrings.postBundlePosition,bundledStrings=null}if(position$1==srcEnd)currentStructures=null,src$1=null,referenceMap&&(referenceMap=null);else if(position$1>srcEnd){let _e=new Error("Unexpected end of CBOR data");throw _e.incomplete=!0,_e}else if(!sequentialMode)throw new Error("Data read, but end of buffer not reached");return et}catch(et){throw clearSource(),(et instanceof RangeError||et.message.startsWith("Unexpected end of buffer"))&&(et.incomplete=!0),et}}function read(){let et=src$1[position$1++],_e=et>>5;if(et=et&31,et>23)switch(et){case 24:et=src$1[position$1++];break;case 25:if(_e==7)return getFloat16();et=dataView.getUint16(position$1),position$1+=2;break;case 26:if(_e==7){let tt=dataView.getFloat32(position$1);if(currentDecoder.useFloat32>2){let rt=mult10[(src$1[position$1]&127)<<1|src$1[position$1+1]>>7];return position$1+=4,(rt*tt+(tt>0?.5:-.5)>>0)/rt}return position$1+=4,tt}et=dataView.getUint32(position$1),position$1+=4;break;case 27:if(_e==7){let tt=dataView.getFloat64(position$1);return position$1+=8,tt}if(_e>1){if(dataView.getUint32(position$1)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");et=dataView.getUint32(position$1+4)}else currentDecoder.int64AsNumber?(et=dataView.getUint32(position$1)*4294967296,et+=dataView.getUint32(position$1+4)):et=dataView.getBigUint64(position$1);position$1+=8;break;case 31:switch(_e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let tt=[],rt,nt=0;for(;(rt=read())!=STOP_CODE;)tt[nt++]=rt;return _e==4?tt:_e==3?tt.join(""):Buffer.concat(tt);case 5:let it;if(currentDecoder.mapsAsObjects){let at={};if(currentDecoder.keyMap)for(;(it=read())!=STOP_CODE;)at[safeKey(currentDecoder.decodeKey(it))]=read();else for(;(it=read())!=STOP_CODE;)at[safeKey(it)]=read();return at}else{restoreMapsAsObject&&(currentDecoder.mapsAsObjects=!0,restoreMapsAsObject=!1);let at=new Map;if(currentDecoder.keyMap)for(;(it=read())!=STOP_CODE;)at.set(currentDecoder.decodeKey(it),read());else for(;(it=read())!=STOP_CODE;)at.set(it,read());return at}case 7:return STOP_CODE;default:throw new Error("Invalid major type for indefinite length "+_e)}default:throw new Error("Unknown token "+et)}switch(_e){case 0:return et;case 1:return~et;case 2:return readBin(et);case 3:if(srcStringEnd>=position$1)return srcString.slice(position$1-srcStringStart,(position$1+=et)-srcStringStart);if(srcStringEnd==0&&srcEnd<140&&et<32){let nt=et<16?shortStringInJS(et):longStringInJS(et);if(nt!=null)return nt}return readFixedString(et);case 4:let tt=new Array(et);for(let nt=0;nt<et;nt++)tt[nt]=read();return tt;case 5:if(currentDecoder.mapsAsObjects){let nt={};if(currentDecoder.keyMap)for(let it=0;it<et;it++)nt[safeKey(currentDecoder.decodeKey(read()))]=read();else for(let it=0;it<et;it++)nt[safeKey(read())]=read();return nt}else{restoreMapsAsObject&&(currentDecoder.mapsAsObjects=!0,restoreMapsAsObject=!1);let nt=new Map;if(currentDecoder.keyMap)for(let it=0;it<et;it++)nt.set(currentDecoder.decodeKey(read()),read());else for(let it=0;it<et;it++)nt.set(read(),read());return nt}case 6:if(et>=BUNDLED_STRINGS_ID){let nt=currentStructures[et&8191];if(nt)return nt.read||(nt.read=createStructureReader(nt)),nt.read();if(et<65536){if(et==RECORD_INLINE_ID)return recordDefinition(read());if(et==RECORD_DEFINITIONS_ID){let it=readJustLength(),at=read();for(let st=2;st<it;st++)recordDefinition([at++,read()]);return read()}else if(et==BUNDLED_STRINGS_ID)return readBundleExt();if(currentDecoder.getShared&&(loadShared(),nt=currentStructures[et&8191],nt))return nt.read||(nt.read=createStructureReader(nt)),nt.read()}}let rt=currentExtensions[et];if(rt)return rt.handlesRead?rt(read):rt(read());{let nt=read();for(let it=0;it<currentExtensionRanges.length;it++){let at=currentExtensionRanges[it](et,nt);if(at!==void 0)return at}return new Tag(nt,et)}case 7:switch(et){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let nt=(packedValues||getPackedValues())[et];if(nt!==void 0)return nt;throw new Error("Unknown token "+et)}default:if(isNaN(et)){let nt=new Error("Unexpected end of CBOR data");throw nt.incomplete=!0,nt}throw new Error("Unknown CBOR token "+et)}}const validName=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function createStructureReader(et){function _e(){let tt=src$1[position$1++];if(tt=tt&31,tt>23)switch(tt){case 24:tt=src$1[position$1++];break;case 25:tt=dataView.getUint16(position$1),position$1+=2;break;case 26:tt=dataView.getUint32(position$1),position$1+=4;break;default:throw new Error("Expected array header, but got "+src$1[position$1-1])}let rt=this.compiledReader;for(;rt;){if(rt.propertyCount===tt)return rt(read);rt=rt.next}if(this.slowReads++>=3){let it=this.length==tt?this:this.slice(0,tt);return rt=currentDecoder.keyMap?new Function("r","return {"+it.map(at=>currentDecoder.decodeKey(at)).map(at=>validName.test(at)?safeKey(at)+":r()":"["+JSON.stringify(at)+"]:r()").join(",")+"}"):new Function("r","return {"+it.map(at=>validName.test(at)?safeKey(at)+":r()":"["+JSON.stringify(at)+"]:r()").join(",")+"}"),this.compiledReader&&(rt.next=this.compiledReader),rt.propertyCount=tt,this.compiledReader=rt,rt(read)}let nt={};if(currentDecoder.keyMap)for(let it=0;it<tt;it++)nt[safeKey(currentDecoder.decodeKey(this[it]))]=read();else for(let it=0;it<tt;it++)nt[safeKey(this[it])]=read();return nt}return et.slowReads=0,_e}function safeKey(et){return et==="__proto__"?"__proto_":et}let readFixedString=readStringJS;function readStringJS(et){let _e;if(et<16&&(_e=shortStringInJS(et)))return _e;if(et>64&&decoder)return decoder.decode(src$1.subarray(position$1,position$1+=et));const tt=position$1+et,rt=[];for(_e="";position$1<tt;){const nt=src$1[position$1++];if((nt&128)===0)rt.push(nt);else if((nt&224)===192){const it=src$1[position$1++]&63;rt.push((nt&31)<<6|it)}else if((nt&240)===224){const it=src$1[position$1++]&63,at=src$1[position$1++]&63;rt.push((nt&31)<<12|it<<6|at)}else if((nt&248)===240){const it=src$1[position$1++]&63,at=src$1[position$1++]&63,st=src$1[position$1++]&63;let ct=(nt&7)<<18|it<<12|at<<6|st;ct>65535&&(ct-=65536,rt.push(ct>>>10&1023|55296),ct=56320|ct&1023),rt.push(ct)}else rt.push(nt);rt.length>=4096&&(_e+=fromCharCode.apply(String,rt),rt.length=0)}return rt.length>0&&(_e+=fromCharCode.apply(String,rt)),_e}let fromCharCode=String.fromCharCode;function longStringInJS(et){let _e=position$1,tt=new Array(et);for(let rt=0;rt<et;rt++){const nt=src$1[position$1++];if((nt&128)>0){position$1=_e;return}tt[rt]=nt}return fromCharCode.apply(String,tt)}function shortStringInJS(et){if(et<4)if(et<2){if(et===0)return"";{let _e=src$1[position$1++];if((_e&128)>1){position$1-=1;return}return fromCharCode(_e)}}else{let _e=src$1[position$1++],tt=src$1[position$1++];if((_e&128)>0||(tt&128)>0){position$1-=2;return}if(et<3)return fromCharCode(_e,tt);let rt=src$1[position$1++];if((rt&128)>0){position$1-=3;return}return fromCharCode(_e,tt,rt)}else{let _e=src$1[position$1++],tt=src$1[position$1++],rt=src$1[position$1++],nt=src$1[position$1++];if((_e&128)>0||(tt&128)>0||(rt&128)>0||(nt&128)>0){position$1-=4;return}if(et<6){if(et===4)return fromCharCode(_e,tt,rt,nt);{let it=src$1[position$1++];if((it&128)>0){position$1-=5;return}return fromCharCode(_e,tt,rt,nt,it)}}else if(et<8){let it=src$1[position$1++],at=src$1[position$1++];if((it&128)>0||(at&128)>0){position$1-=6;return}if(et<7)return fromCharCode(_e,tt,rt,nt,it,at);let st=src$1[position$1++];if((st&128)>0){position$1-=7;return}return fromCharCode(_e,tt,rt,nt,it,at,st)}else{let it=src$1[position$1++],at=src$1[position$1++],st=src$1[position$1++],ct=src$1[position$1++];if((it&128)>0||(at&128)>0||(st&128)>0||(ct&128)>0){position$1-=8;return}if(et<10){if(et===8)return fromCharCode(_e,tt,rt,nt,it,at,st,ct);{let ut=src$1[position$1++];if((ut&128)>0){position$1-=9;return}return fromCharCode(_e,tt,rt,nt,it,at,st,ct,ut)}}else if(et<12){let ut=src$1[position$1++],ft=src$1[position$1++];if((ut&128)>0||(ft&128)>0){position$1-=10;return}if(et<11)return fromCharCode(_e,tt,rt,nt,it,at,st,ct,ut,ft);let gt=src$1[position$1++];if((gt&128)>0){position$1-=11;return}return fromCharCode(_e,tt,rt,nt,it,at,st,ct,ut,ft,gt)}else{let ut=src$1[position$1++],ft=src$1[position$1++],gt=src$1[position$1++],_t=src$1[position$1++];if((ut&128)>0||(ft&128)>0||(gt&128)>0||(_t&128)>0){position$1-=12;return}if(et<14){if(et===12)return fromCharCode(_e,tt,rt,nt,it,at,st,ct,ut,ft,gt,_t);{let Et=src$1[position$1++];if((Et&128)>0){position$1-=13;return}return fromCharCode(_e,tt,rt,nt,it,at,st,ct,ut,ft,gt,_t,Et)}}else{let Et=src$1[position$1++],$t=src$1[position$1++];if((Et&128)>0||($t&128)>0){position$1-=14;return}if(et<15)return fromCharCode(_e,tt,rt,nt,it,at,st,ct,ut,ft,gt,_t,Et,$t);let It=src$1[position$1++];if((It&128)>0){position$1-=15;return}return fromCharCode(_e,tt,rt,nt,it,at,st,ct,ut,ft,gt,_t,Et,$t,It)}}}}}function readBin(et){return currentDecoder.copyBuffers?Uint8Array.prototype.slice.call(src$1,position$1,position$1+=et):src$1.subarray(position$1,position$1+=et)}let f32Array=new Float32Array(1),u8Array=new Uint8Array(f32Array.buffer,0,4);function getFloat16(){let et=src$1[position$1++],_e=src$1[position$1++],tt=(et&127)>>2;if(tt===31)return _e||et&3?NaN:et&128?-1/0:1/0;if(tt===0){let rt=((et&3)<<8|_e)/16777216;return et&128?-rt:rt}return u8Array[3]=et&128|(tt>>1)+56,u8Array[2]=(et&7)<<5|_e>>3,u8Array[1]=_e<<5,u8Array[0]=0,f32Array[0]}class Tag{constructor(_e,tt){this.value=_e,this.tag=tt}}currentExtensions[0]=et=>new Date(et);currentExtensions[1]=et=>new Date(Math.round(et*1e3));currentExtensions[2]=et=>{let _e=BigInt(0);for(let tt=0,rt=et.byteLength;tt<rt;tt++)_e=BigInt(et[tt])+_e<<BigInt(8);return _e};currentExtensions[3]=et=>BigInt(-1)-currentExtensions[2](et);currentExtensions[4]=et=>Number(et[1]+"e"+et[0]);currentExtensions[5]=et=>et[1]*Math.exp(et[0]*Math.log(2));const recordDefinition=et=>{let _e=et[0]-57344,tt=et[1],rt=currentStructures[_e];rt&&rt.isShared&&((currentStructures.restoreStructures||(currentStructures.restoreStructures=[]))[_e]=rt),currentStructures[_e]=tt,tt.read=createStructureReader(tt);let nt={};if(currentDecoder.keyMap)for(let it=2,at=et.length;it<at;it++){let st=currentDecoder.decodeKey(tt[it-2]);nt[safeKey(st)]=et[it]}else for(let it=2,at=et.length;it<at;it++){let st=tt[it-2];nt[safeKey(st)]=et[it]}return nt};currentExtensions[LEGACY_RECORD_INLINE_ID]=recordDefinition;currentExtensions[14]=et=>bundledStrings?bundledStrings[0].slice(bundledStrings.position0,bundledStrings.position0+=et):new Tag(et,14);currentExtensions[15]=et=>bundledStrings?bundledStrings[1].slice(bundledStrings.position1,bundledStrings.position1+=et):new Tag(et,15);let glbl={Error,RegExp};currentExtensions[27]=et=>(glbl[et[0]]||Error)(et[1],et[2]);const packedTable=et=>{if(src$1[position$1++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let _e=et();return packedValues=packedValues?_e.concat(packedValues.slice(_e.length)):_e,packedValues.prefixes=et(),packedValues.suffixes=et(),et()};packedTable.handlesRead=!0;currentExtensions[51]=packedTable;currentExtensions[PACKED_REFERENCE_TAG_ID]=et=>{if(!packedValues)if(currentDecoder.getShared)loadShared();else return new Tag(et,PACKED_REFERENCE_TAG_ID);if(typeof et=="number")return packedValues[16+(et>=0?2*et:-2*et-1)];throw new Error("No support for non-integer packed references yet")};currentExtensions[25]=et=>stringRefs[et];currentExtensions[256]=et=>{stringRefs=[];try{return et()}finally{stringRefs=null}};currentExtensions[256].handlesRead=!0;currentExtensions[28]=et=>{referenceMap||(referenceMap=new Map,referenceMap.id=0);let _e=referenceMap.id++,tt=src$1[position$1],rt;tt>>5==4?rt=[]:rt={};let nt={target:rt};referenceMap.set(_e,nt);let it=et();return nt.used?Object.assign(rt,it):(nt.target=it,it)};currentExtensions[28].handlesRead=!0;currentExtensions[29]=et=>{let _e=referenceMap.get(et);return _e.used=!0,_e.target};currentExtensions[258]=et=>new Set(et);(currentExtensions[259]=et=>(currentDecoder.mapsAsObjects&&(currentDecoder.mapsAsObjects=!1,restoreMapsAsObject=!0),et())).handlesRead=!0;function combine$2(et,_e){return typeof et=="string"?et+_e:et instanceof Array?et.concat(_e):Object.assign({},et,_e)}function getPackedValues(){if(!packedValues)if(currentDecoder.getShared)loadShared();else throw new Error("No packed values available");return packedValues}const SHARED_DATA_TAG_ID=1399353956;currentExtensionRanges.push((et,_e)=>{if(et>=225&&et<=255)return combine$2(getPackedValues().prefixes[et-224],_e);if(et>=28704&&et<=32767)return combine$2(getPackedValues().prefixes[et-28672],_e);if(et>=1879052288&&et<=2147483647)return combine$2(getPackedValues().prefixes[et-1879048192],_e);if(et>=216&&et<=223)return combine$2(_e,getPackedValues().suffixes[et-216]);if(et>=27647&&et<=28671)return combine$2(_e,getPackedValues().suffixes[et-27639]);if(et>=1811940352&&et<=1879048191)return combine$2(_e,getPackedValues().suffixes[et-1811939328]);if(et==SHARED_DATA_TAG_ID)return{packedValues,structures:currentStructures.slice(0),version:_e};if(et==55799)return _e});const isLittleEndianMachine=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,typedArrays$2=[Uint8Array],typedArrayTags=[64];for(let et=0;et<typedArrays$2.length;et++)registerTypedArray(typedArrays$2[et],typedArrayTags[et]);function registerTypedArray(et,_e){let tt="get"+et.name.slice(0,-5);typeof et!="function"&&(et=null);let rt=et.BYTES_PER_ELEMENT;for(let nt=0;nt<2;nt++){if(!nt&&rt==1)continue;let it=rt==2?1:rt==4?2:3;currentExtensions[nt?_e:_e-4]=rt==1||nt==isLittleEndianMachine?at=>{if(!et)throw new Error("Could not find typed array for code "+_e);return new et(Uint8Array.prototype.slice.call(at,0).buffer)}:at=>{if(!et)throw new Error("Could not find typed array for code "+_e);let st=new DataView(at.buffer,at.byteOffset,at.byteLength),ct=at.length>>it,ut=new et(ct),ft=st[tt];for(let gt=0;gt<ct;gt++)ut[gt]=ft.call(st,gt<<it,nt);return ut}}}function readBundleExt(){let et=readJustLength(),_e=position$1+read();for(let rt=2;rt<et;rt++)position$1+=readJustLength();let tt=position$1;return position$1=_e,bundledStrings=[readStringJS(readJustLength()),readStringJS(readJustLength())],bundledStrings.position0=0,bundledStrings.position1=0,bundledStrings.postBundlePosition=position$1,position$1=tt,read()}function readJustLength(){let et=src$1[position$1++]&31;if(et>23)switch(et){case 24:et=src$1[position$1++];break;case 25:et=dataView.getUint16(position$1),position$1+=2;break;case 26:et=dataView.getUint32(position$1),position$1+=4;break}return et}function loadShared(){if(currentDecoder.getShared){let et=saveState(()=>(src$1=null,currentDecoder.getShared()))||{},_e=et.structures||[];currentDecoder.sharedVersion=et.version,packedValues=currentDecoder.sharedValues=et.packedValues,currentStructures===!0?currentDecoder.structures=currentStructures=_e:currentStructures.splice.apply(currentStructures,[0,_e.length].concat(_e))}}function saveState(et){let _e=srcEnd,tt=position$1,rt=srcStringStart,nt=srcStringEnd,it=srcString,at=referenceMap,st=bundledStrings,ct=new Uint8Array(src$1.slice(0,srcEnd)),ut=currentStructures,ft=currentDecoder,gt=sequentialMode,_t=et();return srcEnd=_e,position$1=tt,srcStringStart=rt,srcStringEnd=nt,srcString=it,referenceMap=at,bundledStrings=st,src$1=ct,sequentialMode=gt,currentStructures=ut,currentDecoder=ft,dataView=new DataView(src$1.buffer,src$1.byteOffset,src$1.byteLength),_t}function clearSource(){src$1=null,referenceMap=null,currentStructures=null}const mult10=new Array(147);for(let et=0;et<256;et++)mult10[et]=Number("1e"+Math.floor(45.15-et*.30103));const defaultDecoder=new Decoder({useRecords:!1}),decode$2=defaultDecoder.decode;function matchesAbiInterface(et,_e){return hasMatchingAbi(et,_e.abis)}function hasMatchingAbi(et,_e){const tt=extractFunctionsFromAbi(et),rt=_e.flatMap(it=>extractFunctionsFromAbi(it));return tt.filter(it=>rt.find(st=>st.name===it.name&&st.inputs.length===it.inputs.length&&st.inputs.every((ct,ut)=>{var ft;return ct.type==="tuple"||ct.type==="tuple[]"?ct.type===it.inputs[ut].type&&((ft=ct.components)==null?void 0:ft.every((gt,_t)=>{var Et,$t;return gt.type===(($t=(Et=it.inputs[ut].components)==null?void 0:Et[_t])==null?void 0:$t.type)})):ct.type===it.inputs[ut].type}))!==void 0).length===rt.length}async function extractConstructorParams(et,_e){const tt=await fetchPreDeployMetadata(et,_e);return extractConstructorParamsFromAbi(tt.abi)}async function extractFunctions(et,_e){const tt=await fetchPreDeployMetadata(et,_e);return extractFunctionsFromAbi(tt.abi,tt.metadata)}function extractCommentFromMetadata(et,_e,tt){var rt,nt,it,at,st,ct,ut,ft,gt,_t;return((st=(at=(nt=(rt=_e==null?void 0:_e.output)==null?void 0:rt.userdoc)==null?void 0:nt[tt])==null?void 0:at[Object.keys(((it=_e==null?void 0:_e.output)==null?void 0:it.userdoc[tt])||{}).find(Et=>Et.includes(et||"unknown"))||""])==null?void 0:st.notice)||((_t=(gt=(ut=(ct=_e==null?void 0:_e.output)==null?void 0:ct.devdoc)==null?void 0:ut[tt])==null?void 0:gt[Object.keys(((ft=_e==null?void 0:_e.output)==null?void 0:ft.devdoc[tt])||{}).find(Et=>Et.includes(et||"unknown"))||""])==null?void 0:_t.details)}function extractConstructorParamsFromAbi(et){for(const _e of et)if(_e.type==="constructor")return _e.inputs||[];return[]}function extractFunctionParamsFromAbi(et,_e){for(const tt of et)if(tt.type==="function"&&tt.name===_e)return tt.inputs||[];return[]}function extractFunctionsFromAbi(et,_e){var nt,it,at,st;const tt=(et||[]).filter(ct=>ct.type==="function"),rt=[];for(const ct of tt){const ut=extractCommentFromMetadata(ct.name,_e,"methods"),ft=((it=(nt=ct.inputs)==null?void 0:nt.map(It=>`${It.name||"key"}: ${toJSType(It)}`))==null?void 0:it.join(", "))||"",gt=ft?`, ${ft}`:"",_t=(st=(at=ct.outputs)==null?void 0:at.map(It=>toJSType(It,!0)))==null?void 0:st.join(", "),Et=_t?`: Promise<${_t}>`:": Promise<TransactionResult>",$t=`contract.call("${ct.name}"${gt})${Et}`;rt.push({inputs:ct.inputs||[],outputs:ct.outputs||[],name:ct.name||"unknown",signature:$t,stateMutability:ct.stateMutability||"",comment:ut})}return rt}function extractEventsFromAbi(et,_e){const tt=(et||[]).filter(nt=>nt.type==="event"),rt=[];for(const nt of tt){const it=extractCommentFromMetadata(nt.name,_e,"events");rt.push({inputs:nt.inputs||[],outputs:nt.outputs||[],name:nt.name||"unknown",comment:it})}return rt}function toJSType(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,rt=et.type,nt=!1;return rt.endsWith("[]")&&(nt=!0,rt=rt.slice(0,-2)),rt.startsWith("bytes")&&(rt="BytesLike"),(rt.startsWith("uint")||rt.startsWith("int"))&&(rt=_e?"BigNumber":"BigNumberish"),rt.startsWith("bool")&&(rt="boolean"),rt==="address"&&(rt="string"),rt==="tuple"&&et.components&&(rt=`{ ${et.components.map(it=>toJSType(it,!1,!0)).join(", ")} }`),nt&&(rt+="[]"),tt&&(rt=`${et.name}: ${rt}`),rt}function extractMinimalProxyImplementationAddress(et){if(et.startsWith("0x363d3d373d3d3d363d73"))return`0x${et.slice(22,62)}`;if(et.startsWith("0x36603057343d5230"))return`0x${et.slice(122,162)}`;if(et.startsWith("0x3d3d3d3d363d3d37363d73"))return`0x${et.slice(24,64)}`;if(et.startsWith("0x366000600037611000600036600073"))return`0x${et.slice(32,72)}`}async function resolveContractUriFromAddress(et,_e){const tt=await _e.getCode(et);if(tt==="0x"){const rt=await _e.getNetwork();throw new Error(`Contract at ${et} does not exist on chain '${rt.name}' (chainId: ${rt.chainId})`)}try{const rt=extractMinimalProxyImplementationAddress(tt);if(rt)return await resolveContractUriFromAddress(rt,_e)}catch{}try{const rt=await _e.getStorageAt(et,BigNumber.from("0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc")),nt=hexStripZeros(rt);if(nt!=="0x")return await resolveContractUriFromAddress(nt,_e)}catch{}return await extractIPFSHashFromBytecode(tt)}function extractIPFSHashFromBytecode(et){const _e=hexToBytes(et),tt=_e[_e.length-2]*256+_e[_e.length-1],rt=Uint8Array.from(_e.slice(_e.length-2-tt,-2)),nt=decode$2(rt);if("ipfs"in nt&&nt.ipfs)try{return`ipfs://${bs58.encode(nt.ipfs)}`}catch(it){console.warn("feature-detection ipfs cbor failed",it)}}function hexToBytes(et){if(et=et.toString(16),et.startsWith("0x")||(et=`0x${et}`),!isHexStrict(et))throw new Error(`Given value "${et}" is not a valid hex string.`);et=et.replace(/^0x/i,"");const _e=[];for(let tt=0;tt<et.length;tt+=2)_e.push(parseInt(et.slice(tt,tt+2),16));return _e}function isHexStrict(et){return(typeof et=="string"||typeof et=="number")&&/^(-)?0x[0-9a-f]*$/i.test(et.toString())}async function fetchRawPredeployMetadata(et,_e){return PreDeployMetadata.parse(JSON.parse(await(await _e.download(et)).text()))}async function fetchPreDeployMetadata(et,_e){const tt=await fetchRawPredeployMetadata(et,_e),rt=await(await _e.download(tt.bytecodeUri)).text(),nt=await fetchContractMetadata(tt.metadataUri,_e);return PreDeployMetadataFetchedSchema.parse({...tt,...nt,bytecode:rt})}async function fetchExtendedReleaseMetadata(et,_e){const tt=await(await _e.download(et)).text();return FullPublishMetadataSchemaOutput.parse(JSON.parse(tt))}function detectFeatures(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SUPPORTED_FEATURES;const tt={};for(const rt in _e){const nt=_e[rt],it=matchesAbiInterface(et,nt),at=detectFeatures(et,nt.features);tt[rt]={...nt,features:at,enabled:it}}return tt}function isFeatureEnabled(et,_e){const tt=detectFeatures(et);return _featureEnabled(tt,_e)}function assertEnabled(et,_e){if(!et)throw new ExtensionNotImplementedError(_e);return et}function detectContractFeature(et,_e){return isFeatureEnabled(AbiSchema.parse(et.abi),_e)}function _featureEnabled(et,_e){const tt=Object.keys(et);if(!tt.includes(_e)){let nt=!1;for(const it of tt){const at=et[it];if(nt=_featureEnabled(at.features,_e),nt)break}return nt}return et[_e].enabled}function hasFunction(et,_e){return et in _e.readContract.functions}let ListingType;(function(et){et[et.Direct=0]="Direct",et[et.Auction=1]="Auction"})(ListingType||(ListingType={}));let Status;(function(et){et[et.UNSET=0]="UNSET",et[et.Created=1]="Created",et[et.Completed=2]="Completed",et[et.Cancelled=3]="Cancelled",et[et.Active=4]="Active",et[et.Expired=5]="Expired"})(Status||(Status={}));let ProposalState;(function(et){et[et.Pending=0]="Pending",et[et.Active=1]="Active",et[et.Canceled=2]="Canceled",et[et.Defeated=3]="Defeated",et[et.Succeeded=4]="Succeeded",et[et.Queued=5]="Queued",et[et.Expired=6]="Expired",et[et.Executed=7]="Executed"})(ProposalState||(ProposalState={}));let VoteType;(function(et){et[et.Against=0]="Against",et[et.For=1]="For",et[et.Abstain=2]="Abstain"})(VoteType||(VoteType={}));let ClaimEligibility;(function(et){et.NotEnoughSupply="There is not enough supply to claim.",et.AddressNotAllowed="This address is not on the allowlist.",et.WaitBeforeNextClaimTransaction="Not enough time since last claim transaction. Please wait.",et.AlreadyClaimed="You have already claimed the token.",et.NotEnoughTokens="There are not enough tokens in the wallet to pay for the claim.",et.NoActiveClaimPhase="There is no active claim phase at the moment. Please check back in later.",et.NoClaimConditionSet="There is no claim condition set.",et.NoWallet="No wallet connected.",et.Unknown="No claim conditions found."})(ClaimEligibility||(ClaimEligibility={}));class GasCostEstimator{constructor(_e){_defineProperty$5(this,"contractWrapper",void 0),this.contractWrapper=_e}async gasCostOf(_e,tt){const rt=await this.contractWrapper.getPreferredGasPrice(),nt=await this.contractWrapper.estimateGas(_e,tt);return formatEther(nt.mul(rt))}async gasLimitOf(_e,tt){return this.contractWrapper.estimateGas(_e,tt)}async currentGasPriceInGwei(){const _e=await this.contractWrapper.getProvider().getGasPrice();return formatUnits(_e,"gwei")}}class TransactionTask{static make(_e){return new TransactionTask(_e)}constructor(_e){_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"functionName",void 0),_defineProperty$5(this,"args",void 0),_defineProperty$5(this,"overrides",void 0),_defineProperty$5(this,"encoder",void 0),_defineProperty$5(this,"estimator",void 0),this.contractWrapper=_e.contractWrapper,this.functionName=_e.functionName,this.args=_e.args||[],this.overrides=_e.overrides,this.encoder=new ContractEncoder(this.contractWrapper),this.estimator=new GasCostEstimator(this.contractWrapper)}overrideGasLimit(_e){return this.overrides={...this.overrides,gasLimit:_e},this}overrideGasPrice(_e){return this.overrides={...this.overrides,gasPrice:_e},this}overrideNonce(_e){return this.overrides={...this.overrides,nonce:_e},this}overrideValue(_e){return this.overrides={...this.overrides,value:_e},this}async estimateGasLimit(){return await this.estimator.gasLimitOf(this.functionName,[...this.args,this.overrides||{}])}async estimateGasCostInEther(){return await this.estimator.gasCostOf(this.functionName,[...this.args,this.overrides||{}])}async encodeFunctionData(){return this.encoder.encode(this.functionName,this.args)}async submit(){return await this.contractWrapper.sendTransactionByFunction(this.functionName,this.args,this.overrides||{})}async execute(){return{receipt:await this.contractWrapper.sendTransaction(this.functionName,this.args,this.overrides||{})}}}class DropClaimConditions{constructor(_e,tt,rt){_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"metadata",void 0),_defineProperty$5(this,"storage",void 0),this.storage=rt,this.contractWrapper=_e,this.metadata=tt}async getActive(_e){const tt=await this.get(),rt=await this.metadata.get();return await transformResultToClaimCondition(tt,await this.getTokenDecimals(),this.contractWrapper.getProvider(),rt.merkle||{},this.storage,(_e==null?void 0:_e.withAllowList)||!1)}async get(_e){if(this.isLegacySinglePhaseDrop(this.contractWrapper)){const tt=await this.contractWrapper.readContract.claimCondition();return legacyContractModelToAbstract(tt)}else if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){const tt=_e!==void 0?_e:await this.contractWrapper.readContract.getActiveClaimConditionId(),rt=await this.contractWrapper.readContract.getClaimConditionById(tt);return legacyContractModelToAbstract(rt)}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){const tt=await this.contractWrapper.readContract.claimCondition();return newContractModelToAbstract(tt)}else if(this.isNewMultiphaseDrop(this.contractWrapper)){const tt=_e!==void 0?_e:await this.contractWrapper.readContract.getActiveClaimConditionId(),rt=await this.contractWrapper.readContract.getClaimConditionById(tt);return newContractModelToAbstract(rt)}else throw new Error("Contract does not support claim conditions")}async getAll(_e){if(this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper)){const tt=await this.contractWrapper.readContract.claimCondition(),rt=tt.currentStartId.toNumber(),nt=tt.count.toNumber(),it=[];for(let ct=rt;ct<rt+nt;ct++)it.push(await this.get(ct));const at=await this.metadata.get(),st=await this.getTokenDecimals();return Promise.all(it.map(ct=>transformResultToClaimCondition(ct,st,this.contractWrapper.getProvider(),at.merkle,this.storage,(_e==null?void 0:_e.withAllowList)||!1)))}else return[await this.getActive(_e)]}async canClaim(_e,tt){return(await this.getClaimIneligibilityReasons(_e,tt)).length===0}async getClaimIneligibilityReasons(_e,tt){const rt=[];let nt,it;const at=await this.getTokenDecimals(),st=parseUnits(AmountSchema.parse(_e),at);if(tt===void 0)try{tt=await this.contractWrapper.getSignerAddress()}catch(gt){console.warn("failed to get signer address",gt)}if(!tt)return[ClaimEligibility.NoWallet];try{it=await this.getActive()}catch(gt){return includesErrorMessage(gt,"!CONDITION")||includesErrorMessage(gt,"no active mint condition")?(rt.push(ClaimEligibility.NoClaimConditionSet),rt):(console.warn("failed to get active claim condition",gt),rt.push(ClaimEligibility.Unknown),rt)}it.availableSupply!=="unlimited"&&parseUnits(it.availableSupply,at).lt(st)&&rt.push(ClaimEligibility.NotEnoughSupply);const ut=stripZeros(it.merkleRootHash).length>0;let ft=null;if(ut){if(ft=await this.getClaimerProofs(tt),!ft&&(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)))return rt.push(ClaimEligibility.AddressNotAllowed),rt;if(ft)try{const gt=await this.prepareClaim(_e,!1,at,tt);let _t;if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){if(nt=await this.contractWrapper.readContract.getActiveClaimConditionId(),[_t]=await this.contractWrapper.readContract.verifyClaimMerkleProof(nt,tt,_e,gt.proofs,gt.maxClaimable),!_t)return rt.push(ClaimEligibility.AddressNotAllowed),rt}else if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if([_t]=await this.contractWrapper.readContract.verifyClaimMerkleProof(tt,_e,{proof:gt.proofs,maxQuantityInAllowlist:gt.maxClaimable}),!_t)return rt.push(ClaimEligibility.AddressNotAllowed),rt}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){if(await this.contractWrapper.readContract.verifyClaim(tt,_e,gt.currencyAddress,gt.price,{proof:gt.proofs,quantityLimitPerWallet:gt.maxClaimable,currency:gt.currencyAddressInProof,pricePerToken:gt.priceInProof}),convertQuantityToBigNumber(it.maxClaimablePerWallet,at).eq(0)&&gt.maxClaimable===MaxUint256$1||gt.maxClaimable===BigNumber.from(0))return rt.push(ClaimEligibility.AddressNotAllowed),rt}else if(this.isNewMultiphaseDrop(this.contractWrapper)&&(nt=await this.contractWrapper.readContract.getActiveClaimConditionId(),await this.contractWrapper.readContract.verifyClaim(nt,tt,_e,gt.currencyAddress,gt.price,{proof:gt.proofs,quantityLimitPerWallet:gt.maxClaimable,currency:gt.currencyAddressInProof,pricePerToken:gt.priceInProof}),convertQuantityToBigNumber(it.maxClaimablePerWallet,at).eq(0)&&gt.maxClaimable===MaxUint256$1||gt.maxClaimable===BigNumber.from(0)))return rt.push(ClaimEligibility.AddressNotAllowed),rt}catch(gt){return console.warn("Merkle proof verification failed:","reason"in gt?gt.reason:gt),rt.push(ClaimEligibility.AddressNotAllowed),rt}}if((this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&(!ut||ut&&!ft)&&convertQuantityToBigNumber(it.maxClaimablePerWallet,at).eq(0))return rt.push(ClaimEligibility.AddressNotAllowed),rt;if(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)){let[gt,_t]=[BigNumber.from(0),BigNumber.from(0)];this.isLegacyMultiPhaseDrop(this.contractWrapper)?(nt=await this.contractWrapper.readContract.getActiveClaimConditionId(),[gt,_t]=await this.contractWrapper.readContract.getClaimTimestamp(nt,tt)):this.isLegacySinglePhaseDrop(this.contractWrapper)&&([gt,_t]=await this.contractWrapper.readContract.getClaimTimestamp(tt));const Et=BigNumber.from(Date.now()).div(1e3);gt.gt(0)&&Et.lt(_t)&&(_t.eq(MaxUint256$1)?rt.push(ClaimEligibility.AlreadyClaimed):rt.push(ClaimEligibility.WaitBeforeNextClaimTransaction))}if(it.price.gt(0)&&isNode$3()){const gt=it.price.mul(BigNumber.from(_e)),_t=this.contractWrapper.getProvider();isNativeToken(it.currencyAddress)?(await _t.getBalance(tt)).lt(gt)&&rt.push(ClaimEligibility.NotEnoughTokens):(await new ContractWrapper(_t,it.currencyAddress,ERC20Abi,{}).readContract.balanceOf(tt)).lt(gt)&&rt.push(ClaimEligibility.NotEnoughTokens)}return rt}async getClaimerProofs(_e,tt){const nt=(await this.get(tt)).merkleRoot;if(stripZeros(nt).length>0){const at=await this.metadata.get();return await fetchSnapshotEntryForAddress(_e,nt.toString(),at.merkle,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion())}else return null}async set(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,rt=_e;if(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isNewSinglePhaseDrop(this.contractWrapper)){if(tt=!0,_e.length===0)rt=[{startTime:new Date(0),currencyAddress:AddressZero,price:0,maxClaimableSupply:0,maxClaimablePerWallet:0,waitInSeconds:0,merkleRootHash:hexZeroPad([0],32),snapshot:[]}];else if(_e.length>1)throw new Error("Single phase drop contract cannot have multiple claim conditions, only one is allowed")}(this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&rt.forEach(ft=>{var gt;if(ft.snapshot&&ft.snapshot.length>0&&(ft.maxClaimablePerWallet===void 0||ft.maxClaimablePerWallet==="unlimited"))throw new Error(`maxClaimablePerWallet must be set to a specific value when an allowlist is set.
Example: Set it to 0 to only allow addresses in the allowlist to claim the amount specified in the allowlist.
contract.claimConditions.set([{ snapshot: [{ address: '0x...', maxClaimable: 1 }], maxClaimablePerWallet: 0 }])`);if(ft.snapshot&&ft.snapshot.length>0&&((gt=ft.maxClaimablePerWallet)==null?void 0:gt.toString())==="0"&&ft.snapshot.map(_t=>{var Et;return typeof _t=="string"?0:Number(((Et=_t.maxClaimable)==null?void 0:Et.toString())||0)}).reduce((_t,Et)=>_t+Et,0)===0)throw new Error("maxClaimablePerWallet is set to 0, and all addresses in the allowlist have max claimable 0. This means that no one can claim.")});const{snapshotInfos:nt,sortedConditions:it}=await processClaimConditionInputs(rt,await this.getTokenDecimals(),this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion()),at={};nt.forEach(ft=>{at[ft.merkleRoot]=ft.snapshotUri});const st=await this.metadata.get(),ct=[];if(!fastDeepEqual(st.merkle,at)){const ft=this.metadata.parseInputMetadata({...st,merkle:at}),gt=await this.metadata._parseAndUploadMetadata(ft);if(hasFunction("setContractURI",this.contractWrapper))ct.push(this.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[gt]));else throw new Error("Setting a merkle root requires implementing ContractMetadata in your contract to support storing a merkle root.")}const ut=this.contractWrapper;if(this.isLegacySinglePhaseDrop(ut))ct.push(ut.readContract.interface.encodeFunctionData("setClaimConditions",[abstractContractModelToLegacy(it[0]),tt]));else if(this.isLegacyMultiPhaseDrop(ut))ct.push(ut.readContract.interface.encodeFunctionData("setClaimConditions",[it.map(abstractContractModelToLegacy),tt]));else if(this.isNewSinglePhaseDrop(ut))ct.push(ut.readContract.interface.encodeFunctionData("setClaimConditions",[abstractContractModelToNew(it[0]),tt]));else if(this.isNewMultiphaseDrop(ut))ct.push(ut.readContract.interface.encodeFunctionData("setClaimConditions",[it.map(abstractContractModelToNew),tt]));else throw new Error("Contract does not support claim conditions");return{receipt:await this.contractWrapper.multiCall(ct)}}async update(_e,tt){const rt=await this.getAll(),nt=await updateExistingClaimConditions(_e,tt,rt);return await this.set(nt)}async getTokenDecimals(){return detectContractFeature(this.contractWrapper,"ERC20")?this.contractWrapper.readContract.decimals():Promise.resolve(0)}async prepareClaim(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,nt=arguments.length>3?arguments[3]:void 0;const it=nt||await this.contractWrapper.getSignerAddress();return prepareClaim(it,_e,await this.getActive(),async()=>(await this.metadata.get()).merkle,rt,this.contractWrapper,this.storage,tt,this.getSnapshotFormatVersion())}async getClaimArguments(_e,tt,rt){return this.isLegacyMultiPhaseDrop(this.contractWrapper)?[_e,tt,rt.currencyAddress,rt.price,rt.proofs,rt.maxClaimable]:this.isLegacySinglePhaseDrop(this.contractWrapper)?[_e,tt,rt.currencyAddress,rt.price,{proof:rt.proofs,maxQuantityInAllowlist:rt.maxClaimable},toUtf8Bytes("")]:[_e,tt,rt.currencyAddress,rt.price,{proof:rt.proofs,quantityLimitPerWallet:rt.maxClaimable,pricePerToken:rt.priceInProof,currency:rt.currencyAddressInProof},toUtf8Bytes("")]}async getClaimTransaction(_e,tt,rt){if(rt!=null&&rt.pricePerToken)throw new Error("Price per token is be set via claim conditions by calling `contract.erc721.claimConditions.set()`");const nt=await this.prepareClaim(tt,(rt==null?void 0:rt.checkERC20Allowance)===void 0?!0:rt.checkERC20Allowance,await this.getTokenDecimals());return TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"claim",args:await this.getClaimArguments(_e,tt,nt),overrides:nt.overrides})}isNewSinglePhaseDrop(_e){return detectContractFeature(_e,"ERC721ClaimConditionsV2")||detectContractFeature(_e,"ERC20ClaimConditionsV2")}isNewMultiphaseDrop(_e){return detectContractFeature(_e,"ERC721ClaimPhasesV2")||detectContractFeature(_e,"ERC20ClaimPhasesV2")}isLegacySinglePhaseDrop(_e){return detectContractFeature(_e,"ERC721ClaimConditionsV1")||detectContractFeature(_e,"ERC20ClaimConditionsV1")}isLegacyMultiPhaseDrop(_e){return detectContractFeature(_e,"ERC721ClaimPhasesV1")||detectContractFeature(_e,"ERC20ClaimPhasesV1")}getSnapshotFormatVersion(){return this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isLegacySinglePhaseDrop(this.contractWrapper)?SnapshotFormatVersion.V1:SnapshotFormatVersion.V2}}class DropErc1155ClaimConditions{constructor(_e,tt,rt){_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"metadata",void 0),_defineProperty$5(this,"storage",void 0),this.storage=rt,this.contractWrapper=_e,this.metadata=tt}async getActive(_e,tt){const rt=await this.get(_e),nt=await this.metadata.get();return await transformResultToClaimCondition(rt,0,this.contractWrapper.getProvider(),nt.merkle,this.storage,(tt==null?void 0:tt.withAllowList)||!1)}async get(_e,tt){if(this.isLegacySinglePhaseDrop(this.contractWrapper)){const rt=await this.contractWrapper.readContract.claimCondition(_e);return legacyContractModelToAbstract(rt)}else if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){const rt=tt!==void 0?tt:await this.contractWrapper.readContract.getActiveClaimConditionId(_e),nt=await this.contractWrapper.readContract.getClaimConditionById(_e,rt);return legacyContractModelToAbstract(nt)}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){const rt=await this.contractWrapper.readContract.claimCondition(_e);return newContractModelToAbstract(rt)}else if(this.isNewMultiphaseDrop(this.contractWrapper)){const rt=tt!==void 0?tt:await this.contractWrapper.readContract.getActiveClaimConditionId(_e),nt=await this.contractWrapper.readContract.getClaimConditionById(_e,rt);return newContractModelToAbstract(nt)}else throw new Error("Contract does not support claim conditions")}async getAll(_e,tt){if(this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper)){const rt=await this.contractWrapper.readContract.claimCondition(_e),nt=rt.currentStartId.toNumber(),it=rt.count.toNumber(),at=[];for(let ct=nt;ct<nt+it;ct++)at.push(await this.get(_e,ct));const st=await this.metadata.get();return Promise.all(at.map(ct=>transformResultToClaimCondition(ct,0,this.contractWrapper.getProvider(),st.merkle,this.storage,(tt==null?void 0:tt.withAllowList)||!1)))}else return[await this.getActive(_e,tt)]}async canClaim(_e,tt,rt){return(await this.getClaimIneligibilityReasons(_e,tt,rt)).length===0}async getClaimIneligibilityReasons(_e,tt,rt){const nt=[];let it,at;if(rt===void 0)try{rt=await this.contractWrapper.getSignerAddress()}catch(Et){console.warn("failed to get signer address",Et)}if(!rt)return[ClaimEligibility.NoWallet];try{at=await this.getActive(_e)}catch(Et){return includesErrorMessage(Et,"!CONDITION")||includesErrorMessage(Et,"no active mint condition")?(nt.push(ClaimEligibility.NoClaimConditionSet),nt):(nt.push(ClaimEligibility.Unknown),nt)}at.availableSupply!=="unlimited"&&BigNumber.from(at.availableSupply).lt(tt)&&nt.push(ClaimEligibility.NotEnoughSupply);const ct=stripZeros(at.merkleRootHash).length>0;let ut=null;if(ct){if(ut=await this.getClaimerProofs(_e,rt),!ut&&(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)))return nt.push(ClaimEligibility.AddressNotAllowed),nt;if(ut)try{const Et=await this.prepareClaim(_e,tt,!1,rt);let $t;if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){if(it=await this.contractWrapper.readContract.getActiveClaimConditionId(_e),[$t]=await this.contractWrapper.readContract.verifyClaimMerkleProof(it,rt,_e,tt,Et.proofs,Et.maxClaimable),!$t)return nt.push(ClaimEligibility.AddressNotAllowed),nt}else if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if([$t]=await this.contractWrapper.readContract.verifyClaimMerkleProof(_e,rt,tt,{proof:Et.proofs,maxQuantityInAllowlist:Et.maxClaimable}),!$t)return nt.push(ClaimEligibility.AddressNotAllowed),nt}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){if(await this.contractWrapper.readContract.verifyClaim(_e,rt,tt,Et.currencyAddress,Et.price,{proof:Et.proofs,quantityLimitPerWallet:Et.maxClaimable,currency:Et.currencyAddressInProof,pricePerToken:Et.priceInProof}),at.maxClaimablePerWallet==="0"&&Et.maxClaimable===MaxUint256$1||Et.maxClaimable===BigNumber.from(0))return nt.push(ClaimEligibility.AddressNotAllowed),nt}else if(this.isNewMultiphaseDrop(this.contractWrapper)&&(it=await this.contractWrapper.readContract.getActiveClaimConditionId(_e),await this.contractWrapper.readContract.verifyClaim(it,rt,_e,tt,Et.currencyAddress,Et.price,{proof:Et.proofs,quantityLimitPerWallet:Et.maxClaimable,currency:Et.currencyAddressInProof,pricePerToken:Et.priceInProof}),at.maxClaimablePerWallet==="0"&&Et.maxClaimable===MaxUint256$1||Et.maxClaimable===BigNumber.from(0)))return nt.push(ClaimEligibility.AddressNotAllowed),nt}catch(Et){return console.warn("Merkle proof verification failed:","reason"in Et?Et.reason:Et),nt.push(ClaimEligibility.AddressNotAllowed),nt}}if((this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&(!ct||ct&&!ut)&&at.maxClaimablePerWallet==="0")return nt.push(ClaimEligibility.AddressNotAllowed),nt;let[ft,gt]=[BigNumber.from(0),BigNumber.from(0)];this.isLegacyMultiPhaseDrop(this.contractWrapper)?(it=await this.contractWrapper.readContract.getActiveClaimConditionId(_e),[ft,gt]=await this.contractWrapper.readContract.getClaimTimestamp(_e,it,rt)):this.isLegacySinglePhaseDrop(this.contractWrapper)&&([ft,gt]=await this.contractWrapper.readContract.getClaimTimestamp(_e,rt));const _t=BigNumber.from(Date.now()).div(1e3);if(ft.gt(0)&&_t.lt(gt)&&(gt.eq(MaxUint256$1)?nt.push(ClaimEligibility.AlreadyClaimed):nt.push(ClaimEligibility.WaitBeforeNextClaimTransaction)),at.price.gt(0)&&isNode$3()){const Et=at.price.mul(tt),$t=this.contractWrapper.getProvider();isNativeToken(at.currencyAddress)?(await $t.getBalance(rt)).lt(Et)&&nt.push(ClaimEligibility.NotEnoughTokens):(await new ContractWrapper($t,at.currencyAddress,ERC20Abi,{}).readContract.balanceOf(rt)).lt(Et)&&nt.push(ClaimEligibility.NotEnoughTokens)}return nt}async getClaimerProofs(_e,tt,rt){const it=(await this.get(_e,rt)).merkleRoot;if(stripZeros(it).length>0){const st=await this.metadata.get();return await fetchSnapshotEntryForAddress(tt,it.toString(),st.merkle,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion())}else return null}async set(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.setBatch([{tokenId:_e,claimConditions:tt}],rt)}async setBatch(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const rt={},nt=await Promise.all(_e.map(async st=>{let{tokenId:ct,claimConditions:ut}=st,ft=ut;if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if(tt=!0,ut.length===0)ft=[{startTime:new Date(0),currencyAddress:AddressZero,price:0,maxClaimableSupply:0,maxClaimablePerWallet:0,waitInSeconds:0,merkleRootHash:hexZeroPad([0],32),snapshot:[]}];else if(ut.length>1)throw new Error("Single phase drop contract cannot have multiple claim conditions, only one is allowed")}(this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&ft.forEach(Et=>{var $t;if(Et.snapshot&&Et.snapshot.length>0&&(Et.maxClaimablePerWallet===void 0||Et.maxClaimablePerWallet==="unlimited"))throw new Error(`maxClaimablePerWallet must be set to a specific value when an allowlist is set.
Set it to 0 to only allow addresses in the allowlist to claim the amount specified in the allowlist.

ex:
contract.claimConditions.set(tokenId, [{ snapshot: [{ address: '0x...', maxClaimable: 1 }], maxClaimablePerWallet: 0 }])`);if(Et.snapshot&&Et.snapshot.length>0&&(($t=Et.maxClaimablePerWallet)==null?void 0:$t.toString())==="0"&&Et.snapshot.map(It=>{var Tt;return typeof It=="string"?0:Number(((Tt=It.maxClaimable)==null?void 0:Tt.toString())||0)}).reduce((It,Tt)=>It+Tt,0)===0)throw new Error("maxClaimablePerWallet is set to 0, and all addresses in the allowlist have max claimable 0. This means that no one can claim.")});const{snapshotInfos:gt,sortedConditions:_t}=await processClaimConditionInputs(ft,0,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion());return gt.forEach(Et=>{rt[Et.merkleRoot]=Et.snapshotUri}),{tokenId:ct,sortedConditions:_t}})),it=await this.metadata.get(),at=[];for(const st of Object.keys(it.merkle||{}))rt[st]=it.merkle[st];if(!fastDeepEqual(it.merkle,rt)){const st=this.metadata.parseInputMetadata({...it,merkle:rt}),ct=await this.metadata._parseAndUploadMetadata(st);if(hasFunction("setContractURI",this.contractWrapper))at.push(this.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[ct]));else throw new Error("Setting a merkle root requires implementing ContractMetadata in your contract to support storing a merkle root.")}return nt.forEach(st=>{let{tokenId:ct,sortedConditions:ut}=st;if(this.isLegacySinglePhaseDrop(this.contractWrapper))at.push(this.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[ct,abstractContractModelToLegacy(ut[0]),tt]));else if(this.isLegacyMultiPhaseDrop(this.contractWrapper))at.push(this.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[ct,ut.map(abstractContractModelToLegacy),tt]));else if(this.isNewSinglePhaseDrop(this.contractWrapper))at.push(this.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[ct,abstractContractModelToNew(ut[0]),tt]));else if(this.isNewMultiphaseDrop(this.contractWrapper))at.push(this.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[ct,ut.map(abstractContractModelToNew),tt]));else throw new Error("Contract does not support claim conditions")}),{receipt:await this.contractWrapper.multiCall(at)}}async update(_e,tt,rt){const nt=await this.getAll(_e),it=await updateExistingClaimConditions(tt,rt,nt);return await this.set(_e,it)}async prepareClaim(_e,tt,rt,nt){const it=nt||await this.contractWrapper.getSignerAddress();return prepareClaim(it,tt,await this.getActive(_e),async()=>(await this.metadata.get()).merkle,0,this.contractWrapper,this.storage,rt,this.getSnapshotFormatVersion())}async getClaimArguments(_e,tt,rt,nt){return this.isLegacyMultiPhaseDrop(this.contractWrapper)?[tt,_e,rt,nt.currencyAddress,nt.price,nt.proofs,nt.maxClaimable]:this.isLegacySinglePhaseDrop(this.contractWrapper)?[tt,_e,rt,nt.currencyAddress,nt.price,{proof:nt.proofs,maxQuantityInAllowlist:nt.maxClaimable},toUtf8Bytes("")]:[tt,_e,rt,nt.currencyAddress,nt.price,{proof:nt.proofs,quantityLimitPerWallet:nt.maxClaimable,pricePerToken:nt.priceInProof,currency:nt.currencyAddressInProof},toUtf8Bytes("")]}async getClaimTransaction(_e,tt,rt,nt){if(nt!=null&&nt.pricePerToken)throw new Error("Price per token should be set via claim conditions by calling `contract.erc1155.claimConditions.set()`");const it=await this.prepareClaim(tt,rt,(nt==null?void 0:nt.checkERC20Allowance)||!0);return TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"claim",args:await this.getClaimArguments(tt,_e,rt,it),overrides:it.overrides})}isNewSinglePhaseDrop(_e){return detectContractFeature(_e,"ERC1155ClaimConditionsV2")}isNewMultiphaseDrop(_e){return detectContractFeature(_e,"ERC1155ClaimPhasesV2")}isLegacySinglePhaseDrop(_e){return detectContractFeature(_e,"ERC1155ClaimConditionsV1")}isLegacyMultiPhaseDrop(_e){return detectContractFeature(_e,"ERC1155ClaimPhasesV1")}getSnapshotFormatVersion(){return this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isLegacySinglePhaseDrop(this.contractWrapper)?SnapshotFormatVersion.V1:SnapshotFormatVersion.V2}}class DropErc1155History{constructor(_e){_defineProperty$5(this,"events",void 0),this.events=_e}async getAllClaimerAddresses(_e){const tt=(await this.events.getEvents("TokensClaimed")).filter(rt=>rt.data&&BigNumber.isBigNumber(rt.data.tokenId)?rt.data.tokenId.eq(_e):!1);return Array.from(new Set(tt.filter(rt=>{var nt;return typeof((nt=rt.data)==null?void 0:nt.claimer)=="string"}).map(rt=>rt.data.claimer)))}}class Erc20Burnable{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_TOKEN_BURNABLE.name),_defineProperty$5(this,"erc20",void 0),_defineProperty$5(this,"contractWrapper",void 0),this.erc20=_e,this.contractWrapper=tt}async tokens(_e){return{receipt:await this.contractWrapper.sendTransaction("burn",[await this.erc20.normalizeAmount(_e)])}}async from(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("burnFrom",[_e,await this.erc20.normalizeAmount(tt)])}}}class Erc20ClaimableWithConditions{constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_TOKEN_CLAIM_CONDITIONS_V2.name),_defineProperty$5(this,"conditions",void 0),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc20",void 0),_defineProperty$5(this,"storage",void 0),this.erc20=_e,this.contractWrapper=tt,this.storage=rt;const nt=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);this.conditions=new DropClaimConditions(this.contractWrapper,nt,this.storage)}async to(_e,tt,rt){const nt=await this.erc20.normalizeAmount(tt);return await(await this.conditions.getClaimTransaction(_e,nt,rt)).execute()}}class Erc20Droppable{constructor(_e,tt,rt){_defineProperty$5(this,"claim",void 0),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc20",void 0),_defineProperty$5(this,"storage",void 0),this.erc20=_e,this.contractWrapper=tt,this.storage=rt,this.claim=new Erc20ClaimableWithConditions(this.erc20,this.contractWrapper,this.storage)}}class Erc20BatchMintable{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_TOKEN_BATCH_MINTABLE.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc20",void 0),this.erc20=_e,this.contractWrapper=tt}async to(_e){const tt=[];for(const rt of _e)tt.push(this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[rt.toAddress,await this.erc20.normalizeAmount(rt.amount)]));return{receipt:await this.contractWrapper.multiCall(tt)}}}class Erc20Mintable{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_TOKEN_MINTABLE.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc20",void 0),_defineProperty$5(this,"batch",void 0),this.erc20=_e,this.contractWrapper=tt,this.batch=this.detectErc20BatchMintable()}async to(_e,tt){return(await this.getMintTransaction(_e,tt)).execute()}async getMintTransaction(_e,tt){return TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"mintTo",args:[_e,await this.erc20.normalizeAmount(tt)]})}detectErc20BatchMintable(){if(detectContractFeature(this.contractWrapper,"ERC20BatchMintable"))return new Erc20BatchMintable(this.erc20,this.contractWrapper)}}class Erc20SignatureMintable{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_TOKEN_SIGNATURE_MINTABLE.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"roles",void 0),this.contractWrapper=_e,this.roles=tt}async mint(_e){const tt=_e.payload,rt=_e.signature,nt=await this.mapPayloadToContractStruct(tt),it=await this.contractWrapper.getCallOverrides();return await setErc20Allowance(this.contractWrapper,BigNumber.from(nt.price),tt.currencyAddress,it),{receipt:await this.contractWrapper.sendTransaction("mintWithSignature",[nt,rt],it)}}async mintBatch(_e){const rt=(await Promise.all(_e.map(async nt=>{const it=await this.mapPayloadToContractStruct(nt.payload),at=nt.signature,st=nt.payload.price;if(BigNumber.from(st).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:it,signature:at}}))).map(nt=>this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[nt.message,nt.signature]));return{receipt:await this.contractWrapper.multiCall(rt)}}async verify(_e){const tt=_e.payload,rt=_e.signature,nt=await this.mapPayloadToContractStruct(tt);return(await this.contractWrapper.readContract.verify(nt,rt))[0]}async generate(_e){return(await this.generateBatch([_e]))[0]}async generateBatch(_e){var at;await((at=this.roles)==null?void 0:at.verify(["minter"],await this.contractWrapper.getSignerAddress()));const tt=_e.map(st=>Signature20PayloadInput.parse(st)),rt=await this.contractWrapper.getChainID(),nt=this.contractWrapper.getSigner();invariant$1(nt,"No signer available");const it=await this.contractWrapper.readContract.name();return await Promise.all(tt.map(async st=>{const ct=Signature20PayloadOutput.parse(st),ut=await this.contractWrapper.signTypedData(nt,{name:it,version:"1",chainId:rt,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:MintRequest20},await this.mapPayloadToContractStruct(ct));return{payload:ct,signature:ut.toString()}}))}async mapPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress),rt=parseUnits(_e.quantity,await this.contractWrapper.readContract.decimals());return{to:_e.to,primarySaleRecipient:_e.primarySaleRecipient,quantity:rt,price:tt,currency:_e.currencyAddress,validityEndTimestamp:_e.mintEndTime,validityStartTimestamp:_e.mintStartTime,uid:_e.uid}}}class Erc20{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_TOKEN.name),_defineProperty$5(this,"mintable",void 0),_defineProperty$5(this,"burnable",void 0),_defineProperty$5(this,"droppable",void 0),_defineProperty$5(this,"signatureMintable",void 0),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"_chainId",void 0),this.contractWrapper=_e,this.storage=tt,this.mintable=this.detectErc20Mintable(),this.burnable=this.detectErc20Burnable(),this.droppable=this.detectErc20Droppable(),this.signatureMintable=this.detectErc20SignatureMintable(),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(){return await fetchCurrencyMetadata(this.contractWrapper.getProvider(),this.getAddress())}async balance(){return await this.balanceOf(await this.contractWrapper.getSignerAddress())}async balanceOf(_e){return this.getValue(await this.contractWrapper.readContract.balanceOf(_e))}async totalSupply(){return await this.getValue(await this.contractWrapper.readContract.totalSupply())}async allowance(_e){return await this.allowanceOf(await this.contractWrapper.getSignerAddress(),_e)}async allowanceOf(_e,tt){return await this.getValue(await this.contractWrapper.readContract.allowance(_e,tt))}async transfer(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("transfer",[_e,await this.normalizeAmount(tt)])}}async transferFrom(_e,tt,rt){return{receipt:await this.contractWrapper.sendTransaction("transferFrom",[_e,tt,await this.normalizeAmount(rt)])}}async setAllowance(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("approve",[_e,await this.normalizeAmount(tt)])}}async transferBatch(_e){const tt=await Promise.all(_e.map(async rt=>{const nt=await this.normalizeAmount(rt.amount);return this.contractWrapper.readContract.interface.encodeFunctionData("transfer",[rt.toAddress,nt])}));await this.contractWrapper.multiCall(tt)}async mint(_e){return this.mintTo(await this.contractWrapper.getSignerAddress(),_e)}async mintTo(_e,tt){return assertEnabled(this.mintable,FEATURE_TOKEN_MINTABLE).to(_e,tt)}async getMintTransaction(_e,tt){return assertEnabled(this.mintable,FEATURE_TOKEN_MINTABLE).getMintTransaction(_e,tt)}async mintBatchTo(_e){var tt;return assertEnabled((tt=this.mintable)==null?void 0:tt.batch,FEATURE_TOKEN_BATCH_MINTABLE).to(_e)}async burn(_e){return assertEnabled(this.burnable,FEATURE_TOKEN_BURNABLE).tokens(_e)}async burnFrom(_e,tt){return assertEnabled(this.burnable,FEATURE_TOKEN_BURNABLE).from(_e,tt)}async claim(_e,tt){return this.claimTo(await this.contractWrapper.getSignerAddress(),_e,tt)}async claimTo(_e,tt,rt){var nt;return assertEnabled((nt=this.droppable)==null?void 0:nt.claim,FEATURE_TOKEN_CLAIM_CONDITIONS_V2).to(_e,tt,rt)}get claimConditions(){var _e;return assertEnabled((_e=this.droppable)==null?void 0:_e.claim,FEATURE_TOKEN_CLAIM_CONDITIONS_V2).conditions}get signature(){return assertEnabled(this.signatureMintable,FEATURE_TOKEN_SIGNATURE_MINTABLE)}async normalizeAmount(_e){const tt=await this.contractWrapper.readContract.decimals();return parseUnits(AmountSchema.parse(_e),tt)}async getValue(_e){return await fetchCurrencyValue(this.contractWrapper.getProvider(),this.getAddress(),BigNumber.from(_e))}detectErc20Mintable(){if(detectContractFeature(this.contractWrapper,"ERC20"))return new Erc20Mintable(this,this.contractWrapper)}detectErc20Burnable(){if(detectContractFeature(this.contractWrapper,"ERC20Burnable"))return new Erc20Burnable(this,this.contractWrapper)}detectErc20Droppable(){if(detectContractFeature(this.contractWrapper,"ERC20ClaimConditionsV1")||detectContractFeature(this.contractWrapper,"ERC20ClaimConditionsV2")||detectContractFeature(this.contractWrapper,"ERC20ClaimPhasesV1")||detectContractFeature(this.contractWrapper,"ERC20ClaimPhasesV2"))return new Erc20Droppable(this,this.contractWrapper,this.storage)}detectErc20SignatureMintable(){if(detectContractFeature(this.contractWrapper,"ERC20SignatureMintable"))return new Erc20SignatureMintable(this.contractWrapper)}}class TokenERC20History{constructor(_e,tt){_defineProperty$5(this,"events",void 0),_defineProperty$5(this,"contractWrapper",void 0),this.contractWrapper=_e,this.events=tt}async getAllHolderBalances(){const tt=(await this.events.getEvents("Transfer")).map(nt=>nt.data),rt={};return tt.forEach(nt=>{const it=nt==null?void 0:nt.from,at=nt==null?void 0:nt.to,st=nt==null?void 0:nt.value;it!==AddressZero&&(it in rt||(rt[it]=BigNumber.from(0)),rt[it]=rt[it].sub(st)),at!==AddressZero&&(at in rt||(rt[at]=BigNumber.from(0)),rt[at]=rt[at].add(st))}),Promise.all(Object.keys(rt).map(async nt=>({holder:nt,balance:await fetchCurrencyValue(this.contractWrapper.getProvider(),this.contractWrapper.readContract.address,rt[nt])})))}}class StandardErc20{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"erc20",void 0),_defineProperty$5(this,"_chainId",void 0),this.contractWrapper=_e,this.storage=tt,this.erc20=new Erc20(this.contractWrapper,this.storage,rt),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(){return this.erc20.get()}async balance(){return await this.erc20.balance()}async balanceOf(_e){return this.erc20.balanceOf(_e)}async totalSupply(){return await this.erc20.totalSupply()}async allowance(_e){return await this.erc20.allowance(_e)}async allowanceOf(_e,tt){return await this.erc20.allowanceOf(_e,tt)}async transfer(_e,tt){return this.erc20.transfer(_e,tt)}async transferFrom(_e,tt,rt){return this.erc20.transferFrom(_e,tt,rt)}async setAllowance(_e,tt){return this.erc20.setAllowance(_e,tt)}async transferBatch(_e){return this.erc20.transferBatch(_e)}}class Erc721Burnable{constructor(_e){_defineProperty$5(this,"featureName",FEATURE_NFT_BURNABLE.name),_defineProperty$5(this,"contractWrapper",void 0),this.contractWrapper=_e}async token(_e){return{receipt:await this.contractWrapper.sendTransaction("burn",[_e])}}}class Erc721Claimable{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_NFT_CLAIM_CUSTOM.name),_defineProperty$5(this,"erc721",void 0),_defineProperty$5(this,"contractWrapper",void 0),this.erc721=_e,this.contractWrapper=tt}async getClaimTransaction(_e,tt,rt){let nt={};return rt&&rt.pricePerToken&&(nt=await calculateClaimCost(this.contractWrapper,rt.pricePerToken,tt,rt.currencyAddress,rt.checkERC20Allowance)),TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"claim",args:[_e,tt],overrides:nt})}async to(_e,tt,rt){const nt=await this.getClaimTransaction(_e,tt,rt),{receipt:it}=await nt.execute(),st=this.contractWrapper.parseLogs("TokensClaimed",it==null?void 0:it.logs)[0].args.startTokenId,ct=st.add(tt),ut=[];for(let ft=st;ft.lt(ct);ft=ft.add(1))ut.push({id:ft,receipt:it,data:()=>this.erc721.get(ft)});return ut}}class Erc721ClaimableWithConditions{constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_NFT_CLAIM_CONDITIONS_V2.name),_defineProperty$5(this,"conditions",void 0),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc721",void 0),_defineProperty$5(this,"storage",void 0),this.erc721=_e,this.contractWrapper=tt,this.storage=rt;const nt=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);this.conditions=new DropClaimConditions(this.contractWrapper,nt,this.storage)}async to(_e,tt,rt){const nt=await this.conditions.getClaimTransaction(_e,tt,rt),{receipt:it}=await nt.execute(),st=this.contractWrapper.parseLogs("TokensClaimed",it==null?void 0:it.logs)[0].args.startTokenId,ct=st.add(tt),ut=[];for(let ft=st;ft.lt(ct);ft=ft.add(1))ut.push({id:ft,receipt:it,data:()=>this.erc721.get(ft)});return ut}}class Erc721LazyMintable{constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_NFT_LAZY_MINTABLE.name),_defineProperty$5(this,"revealer",void 0),_defineProperty$5(this,"claimWithConditions",void 0),_defineProperty$5(this,"claim",void 0),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc721",void 0),_defineProperty$5(this,"storage",void 0),this.erc721=_e,this.contractWrapper=tt,this.storage=rt,this.revealer=this.detectErc721Revealable(),this.claimWithConditions=this.detectErc721ClaimableWithConditions(),this.claim=this.detectErc721Claimable()}async lazyMint(_e,tt){const rt=await this.erc721.nextTokenIdToMint(),nt=await uploadOrExtractURIs(_e,this.storage,rt.toNumber(),tt),it=getBaseUriFromBatch(nt),at=await this.contractWrapper.sendTransaction("lazyMint",[nt.length,it.endsWith("/")?it:`${it}/`,toUtf8Bytes("")]),st=this.contractWrapper.parseLogs("TokensLazyMinted",at==null?void 0:at.logs),ct=st[0].args.startTokenId,ut=st[0].args.endTokenId,ft=[];for(let gt=ct;gt.lte(ut);gt=gt.add(1))ft.push({id:gt,receipt:at,data:()=>this.erc721.getTokenMetadata(gt)});return ft}detectErc721Revealable(){if(detectContractFeature(this.contractWrapper,"ERC721Revealable"))return new DelayedReveal(this.contractWrapper,this.storage,FEATURE_NFT_REVEALABLE.name,()=>this.erc721.nextTokenIdToMint())}detectErc721ClaimableWithConditions(){if(detectContractFeature(this.contractWrapper,"ERC721ClaimConditionsV1")||detectContractFeature(this.contractWrapper,"ERC721ClaimConditionsV2")||detectContractFeature(this.contractWrapper,"ERC721ClaimPhasesV1")||detectContractFeature(this.contractWrapper,"ERC721ClaimPhasesV2"))return new Erc721ClaimableWithConditions(this.erc721,this.contractWrapper,this.storage)}detectErc721Claimable(){if(detectContractFeature(this.contractWrapper,"ERC721ClaimCustom"))return new Erc721Claimable(this.erc721,this.contractWrapper)}}class Erc721BatchMintable{constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_NFT_BATCH_MINTABLE.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"erc721",void 0),this.erc721=_e,this.contractWrapper=tt,this.storage=rt}async to(_e,tt){const nt=(await uploadOrExtractURIs(tt,this.storage)).map(st=>this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[_e,st])),it=await this.contractWrapper.multiCall(nt),at=this.contractWrapper.parseLogs("TokensMinted",it.logs);if(at.length===0||at.length<tt.length)throw new Error("TokenMinted event not found, minting failed");return at.map(st=>{const ct=st.args.tokenIdMinted;return{id:ct,receipt:it,data:()=>this.erc721.get(ct)}})}}class Erc721Mintable{constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_NFT_MINTABLE.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"erc721",void 0),_defineProperty$5(this,"batch",void 0),this.erc721=_e,this.contractWrapper=tt,this.storage=rt,this.batch=this.detectErc721BatchMintable()}async to(_e,tt){const rt=await this.getMintTransaction(_e,tt),{receipt:nt}=await rt.execute(),it=this.contractWrapper.parseLogs("Transfer",nt==null?void 0:nt.logs);if(it.length===0)throw new Error("TransferEvent event not found");const at=it[0].args.tokenId;return{id:at,receipt:nt,data:()=>this.erc721.get(at)}}async getMintTransaction(_e,tt){const rt=await uploadOrExtractURI(tt,this.storage);return TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"mintTo",args:[_e,rt]})}detectErc721BatchMintable(){if(detectContractFeature(this.contractWrapper,"ERC721BatchMintable"))return new Erc721BatchMintable(this.erc721,this.contractWrapper,this.storage)}}class Erc721Enumerable{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_NFT_ENUMERABLE.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc721",void 0),this.erc721=_e,this.contractWrapper=tt}async all(_e){const tt=await this.tokenIds(_e);return await Promise.all(tt.map(rt=>this.erc721.get(rt.toString())))}async tokenIds(_e){const tt=_e||await this.contractWrapper.getSignerAddress(),rt=await this.contractWrapper.readContract.balanceOf(tt),nt=Array.from(Array(rt.toNumber()).keys());return await Promise.all(nt.map(it=>this.contractWrapper.readContract.tokenOfOwnerByIndex(tt,it)))}}class Erc721Supply{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_NFT_SUPPLY.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc721",void 0),_defineProperty$5(this,"owned",void 0),this.erc721=_e,this.contractWrapper=tt,this.owned=this.detectErc721Owned()}async all(_e){const tt=BigNumber.from((_e==null?void 0:_e.start)||0).toNumber(),rt=BigNumber.from((_e==null?void 0:_e.count)||DEFAULT_QUERY_ALL_COUNT).toNumber(),nt=await this.erc721.nextTokenIdToMint(),it=Math.min(nt.toNumber(),tt+rt);return await Promise.all([...Array(it-tt).keys()].map(at=>this.erc721.get((tt+at).toString())))}async allOwners(){return Promise.all([...new Array((await this.totalCount()).toNumber()).keys()].map(async _e=>({tokenId:_e,owner:await this.erc721.ownerOf(_e).catch(()=>AddressZero)})))}async totalCount(){return await this.erc721.nextTokenIdToMint()}async totalCirculatingSupply(){return await this.contractWrapper.readContract.totalSupply()}detectErc721Owned(){if(detectContractFeature(this.contractWrapper,"ERC721Enumerable"))return new Erc721Enumerable(this.erc721,this.contractWrapper)}}const TieredDropPayloadSchema=BaseSignaturePayloadInput.extend({tierPriority:mod.array(mod.string()),royaltyRecipient:mod.string().default(AddressZero),royaltyBps:BasisPointsSchema.default(0),quantity:BigNumberSchema.default(1)});class Erc721TieredDrop{constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_NFT_TIERED_DROP.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc721",void 0),_defineProperty$5(this,"storage",void 0),this.erc721=_e,this.contractWrapper=tt,this.storage=rt}async getMetadataInTier(_e){const rt=(await this.contractWrapper.readContract.getMetadataForAllTiers()).find(it=>it.tier===_e);if(!rt)throw new Error("Tier not found in contract.");return await Promise.all(rt.ranges.map((it,at)=>{const st=[],ct=rt.baseURIs[at];for(let ut=it.startIdInclusive.toNumber();ut<it.endIdNonInclusive.toNumber();ut++){const ft=`${ct}/${ut}`,gt=this.storage.downloadJSON(ft);st.push(gt)}return st}).flat())}async getTokensInTier(_e){const tt=await this.contractWrapper.readContract.getTokensInTierLen();if(tt.eq(0))return[];const rt=await this.contractWrapper.readContract.getTokensInTier(_e,0,tt);return await Promise.all(rt.map(it=>{const at=[];for(let st=it.startIdInclusive.toNumber();st<it.endIdNonInclusive.toNumber();st++)at.push(this.erc721.get(st));return at}).flat())}async createBatchWithTier(_e,tt,rt){const nt=await this.erc721.nextTokenIdToMint(),it=await uploadOrExtractURIs(_e,this.storage,nt.toNumber(),rt),at=getBaseUriFromBatch(it),st=await this.contractWrapper.sendTransaction("lazyMint",[it.length,at.endsWith("/")?at:`${at}/`,tt,toUtf8Bytes("")]),ct=this.contractWrapper.parseLogs("TokensLazyMinted",st==null?void 0:st.logs),ut=ct[0].args[1],ft=ct[0].args[2],gt=[];for(let _t=ut;_t.lte(ft);_t=_t.add(1))gt.push({id:_t,receipt:st,data:()=>this.erc721.getTokenMetadata(_t)});return gt}async createDelayedRevealBatchWithTier(_e,tt,rt,nt,it){if(!rt)throw new Error("Password is required");const at=await this.storage.uploadBatch([CommonNFTInput.parse(_e)],{rewriteFileNames:{fileStartNumber:0}}),st=getBaseUriFromBatch(at),ct=await this.erc721.nextTokenIdToMint(),ut=await this.storage.uploadBatch(tt.map(zt=>CommonNFTInput.parse(zt)),{onProgress:it==null?void 0:it.onProgress,rewriteFileNames:{fileStartNumber:ct.toNumber()}}),ft=getBaseUriFromBatch(ut),gt=await this.contractWrapper.readContract.getBaseURICount(),_t=await this.contractWrapper.getChainID(),Et=keccak256(["string","uint256","uint256","address"],[rt,_t,gt,this.contractWrapper.readContract.address]),$t=await this.contractWrapper.readContract.encryptDecrypt(toUtf8Bytes(ft),Et);let It;const Tt=keccak256(["bytes","bytes","uint256"],[toUtf8Bytes(ft),Et,_t]);It=defaultAbiCoder.encode(["bytes","bytes32"],[$t,Tt]);const At=await this.contractWrapper.sendTransaction("lazyMint",[ut.length,st.endsWith("/")?st:`${st}/`,nt,It]),Rt=this.contractWrapper.parseLogs("TokensLazyMinted",At==null?void 0:At.logs),kt=Rt[0].args[1],Ot=Rt[0].args[2],Wt=[];for(let zt=kt;zt.lte(Ot);zt=zt.add(1))Wt.push({id:zt,receipt:At,data:()=>this.erc721.getTokenMetadata(zt)});return Wt}async reveal(_e,tt){if(!tt)throw new Error("Password is required");const rt=await this.contractWrapper.getChainID(),nt=keccak256(["string","uint256","uint256","address"],[tt,rt,_e,this.contractWrapper.readContract.address]);try{const it=await this.contractWrapper.callStatic().reveal(_e,nt);if(!it.includes("://")||!it.endsWith("/"))throw new Error("invalid password")}catch{throw new Error("invalid password")}return{receipt:await this.contractWrapper.sendTransaction("reveal",[_e,nt])}}async generate(_e){const[tt]=await this.generateBatch([_e]);return tt}async generateBatch(_e){const tt=_e.map(it=>TieredDropPayloadSchema.parse(it)),rt=await this.contractWrapper.getChainID(),nt=this.contractWrapper.getSigner();return invariant$1(nt,"No signer available"),await Promise.all(tt.map(async it=>{const at=await this.contractWrapper.signTypedData(nt,{name:"SignatureAction",version:"1",chainId:rt,verifyingContract:this.contractWrapper.readContract.address},{GenericRequest},await this.mapPayloadToContractStruct(it));return{payload:it,signature:at.toString()}}))}async verify(_e){const tt=await this.mapPayloadToContractStruct(_e.payload);return(await this.contractWrapper.readContract.verify(tt,_e.signature))[0]}async claimWithSignature(_e){const tt=await this.mapPayloadToContractStruct(_e.payload),nt=(await normalizePriceValue(this.contractWrapper.getProvider(),_e.payload.price,_e.payload.currencyAddress)).mul(_e.payload.quantity),it=await this.contractWrapper.getCallOverrides();await setErc20Allowance(this.contractWrapper,nt,_e.payload.currencyAddress,it);const at=await this.contractWrapper.sendTransaction("claimWithSignature",[tt,_e.signature],it),st=this.contractWrapper.parseLogs("TokensClaimed",at==null?void 0:at.logs),ct=st[0].args.startTokenId,ut=ct.add(st[0].args.quantityClaimed),ft=[];for(let gt=ct;gt.lt(ut);gt=gt.add(1))ft.push({id:gt,receipt:at,data:()=>this.erc721.get(gt)});return ft}async mapPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress),rt=defaultAbiCoder.encode(["string[]","address","address","uint256","address","uint256","uint256","address"],[_e.tierPriority,_e.to,_e.royaltyRecipient,_e.royaltyBps,_e.primarySaleRecipient,_e.quantity,tt,_e.currencyAddress]);return{uid:_e.uid,validityStartTimestamp:_e.mintStartTime,validityEndTimestamp:_e.mintEndTime,data:rt}}}class Erc721WithQuantitySignatureMintable{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_NFT_SIGNATURE_MINTABLE_V2.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),this.contractWrapper=_e,this.storage=tt}async mint(_e){const tt=_e.payload,rt=_e.signature,nt=await this.isLegacyNFTContract();let it,at;nt?(it=await this.mapLegacyPayloadToContractStruct(tt),at=it.price):(it=await this.mapPayloadToContractStruct(tt),at=it.pricePerToken.mul(it.quantity));const st=await this.contractWrapper.getCallOverrides();await setErc20Allowance(this.contractWrapper,at,tt.currencyAddress,st);const ct=await this.contractWrapper.sendTransaction("mintWithSignature",[it,rt],st),ut=this.contractWrapper.parseLogs("TokensMintedWithSignature",ct.logs);if(ut.length===0)throw new Error("No MintWithSignature event found");return{id:ut[0].args.tokenIdMinted,receipt:ct}}async mintBatch(_e){const tt=await this.isLegacyNFTContract(),nt=(await Promise.all(_e.map(async st=>{let ct;tt?ct=await this.mapLegacyPayloadToContractStruct(st.payload):ct=await this.mapPayloadToContractStruct(st.payload);const ut=st.signature,ft=st.payload.price;if(BigNumber.from(ft).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:ct,signature:ut}}))).map(st=>tt?this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[st.message,st.signature]):this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[st.message,st.signature])),it=await this.contractWrapper.multiCall(nt),at=this.contractWrapper.parseLogs("TokensMintedWithSignature",it.logs);if(at.length===0)throw new Error("No MintWithSignature event found");return at.map(st=>({id:st.args.tokenIdMinted,receipt:it}))}async verify(_e){const tt=await this.isLegacyNFTContract(),rt=_e.payload,nt=_e.signature;let it,at;if(tt){const st=this.contractWrapper.readContract;it=await this.mapLegacyPayloadToContractStruct(rt),at=await st.verify(it,nt)}else{const st=this.contractWrapper.readContract;it=await this.mapPayloadToContractStruct(rt),at=await st.verify(it,nt)}return at[0]}async generate(_e){return(await this.generateBatch([_e]))[0]}async generateBatch(_e){const tt=await this.isLegacyNFTContract(),rt=_e.map(ct=>Signature721WithQuantityInput.parse(ct)),nt=rt.map(ct=>ct.metadata),it=await uploadOrExtractURIs(nt,this.storage),at=await this.contractWrapper.getChainID(),st=this.contractWrapper.getSigner();return invariant$1(st,"No signer available"),await Promise.all(rt.map(async(ct,ut)=>{const ft=it[ut],gt=Signature721WithQuantityOutput.parse({...ct,uri:ft});let _t;return tt?_t=await this.contractWrapper.signTypedData(st,{name:"TokenERC721",version:"1",chainId:at,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:MintRequest721},await this.mapLegacyPayloadToContractStruct(gt)):_t=await this.contractWrapper.signTypedData(st,{name:"SignatureMintERC721",version:"1",chainId:at,verifyingContract:await this.contractWrapper.readContract.address},{MintRequest:MintRequest721withQuantity},await this.mapPayloadToContractStruct(gt)),{payload:gt,signature:_t.toString()}}))}async mapPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress);return{to:_e.to,royaltyRecipient:_e.royaltyRecipient,royaltyBps:_e.royaltyBps,primarySaleRecipient:_e.primarySaleRecipient,uri:_e.uri,quantity:_e.quantity,pricePerToken:tt,currency:_e.currencyAddress,validityStartTimestamp:_e.mintStartTime,validityEndTimestamp:_e.mintEndTime,uid:_e.uid}}async mapLegacyPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress);return{to:_e.to,price:tt,uri:_e.uri,currency:_e.currencyAddress,validityEndTimestamp:_e.mintEndTime,validityStartTimestamp:_e.mintStartTime,uid:_e.uid,royaltyRecipient:_e.royaltyRecipient,royaltyBps:_e.royaltyBps,primarySaleRecipient:_e.primarySaleRecipient}}async isLegacyNFTContract(){return detectContractFeature(this.contractWrapper,"ERC721SignatureMintV1")}}class Erc721{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_NFT.name),_defineProperty$5(this,"query",void 0),_defineProperty$5(this,"mintable",void 0),_defineProperty$5(this,"burnable",void 0),_defineProperty$5(this,"lazyMintable",void 0),_defineProperty$5(this,"tieredDropable",void 0),_defineProperty$5(this,"signatureMintable",void 0),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"_chainId",void 0),this.contractWrapper=_e,this.storage=tt,this.query=this.detectErc721Enumerable(),this.mintable=this.detectErc721Mintable(),this.burnable=this.detectErc721Burnable(),this.lazyMintable=this.detectErc721LazyMintable(),this.tieredDropable=this.detectErc721TieredDrop(),this.signatureMintable=this.detectErc721SignatureMintable(),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(_e){const[tt,rt]=await Promise.all([this.ownerOf(_e).catch(()=>AddressZero),this.getTokenMetadata(_e).catch(()=>({id:_e.toString(),uri:"",...FALLBACK_METADATA}))]);return{owner:tt,metadata:rt,type:"ERC721",supply:1}}async ownerOf(_e){return await this.contractWrapper.readContract.ownerOf(_e)}async balanceOf(_e){return await this.contractWrapper.readContract.balanceOf(_e)}async balance(){return await this.balanceOf(await this.contractWrapper.getSignerAddress())}async isApproved(_e,tt){return await this.contractWrapper.readContract.isApprovedForAll(_e,tt)}async transfer(_e,tt){const rt=await this.contractWrapper.getSignerAddress();return{receipt:await this.contractWrapper.sendTransaction("safeTransferFrom(address,address,uint256)",[rt,_e,tt])}}async setApprovalForAll(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("setApprovalForAll",[_e,tt])}}async setApprovalForToken(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("approve",[_e,tt])}}async getAll(_e){return assertEnabled(this.query,FEATURE_NFT_SUPPLY).all(_e)}async getAllOwners(){return assertEnabled(this.query,FEATURE_NFT_SUPPLY).allOwners()}async totalCount(){return this.nextTokenIdToMint()}async totalCirculatingSupply(){return assertEnabled(this.query,FEATURE_NFT_SUPPLY).totalCirculatingSupply()}async getOwned(_e){var tt;if((tt=this.query)!=null&&tt.owned)return this.query.owned.all(_e);{const rt=_e||await this.contractWrapper.getSignerAddress(),nt=await this.getAllOwners();return Promise.all((nt||[]).filter(it=>{var at;return(rt==null?void 0:rt.toLowerCase())===((at=it.owner)==null?void 0:at.toLowerCase())}).map(async it=>await this.get(it.tokenId)))}}async getOwnedTokenIds(_e){var tt;if((tt=this.query)!=null&&tt.owned)return this.query.owned.tokenIds(_e);{const rt=_e||await this.contractWrapper.getSignerAddress();return(await this.getAllOwners()||[]).filter(it=>{var at;return(rt==null?void 0:rt.toLowerCase())===((at=it.owner)==null?void 0:at.toLowerCase())}).map(it=>BigNumber.from(it.tokenId))}}async mint(_e){return this.mintTo(await this.contractWrapper.getSignerAddress(),_e)}async mintTo(_e,tt){return assertEnabled(this.mintable,FEATURE_NFT_MINTABLE).to(_e,tt)}async getMintTransaction(_e,tt){return assertEnabled(this.mintable,FEATURE_NFT_MINTABLE).getMintTransaction(_e,tt)}async mintBatch(_e){return this.mintBatchTo(await this.contractWrapper.getSignerAddress(),_e)}async mintBatchTo(_e,tt){var rt;return assertEnabled((rt=this.mintable)==null?void 0:rt.batch,FEATURE_NFT_BATCH_MINTABLE).to(_e,tt)}async burn(_e){return assertEnabled(this.burnable,FEATURE_NFT_BURNABLE).token(_e)}async lazyMint(_e,tt){return assertEnabled(this.lazyMintable,FEATURE_NFT_LAZY_MINTABLE).lazyMint(_e,tt)}async claim(_e,tt){return this.claimTo(await this.contractWrapper.getSignerAddress(),_e,tt)}async claimTo(_e,tt,rt){var at,st;const nt=(at=this.lazyMintable)==null?void 0:at.claimWithConditions,it=(st=this.lazyMintable)==null?void 0:st.claim;if(nt)return nt.to(_e,tt,rt);if(it)return it.to(_e,tt,rt);throw new ExtensionNotImplementedError(FEATURE_NFT_CLAIM_CUSTOM)}async getClaimTransaction(_e,tt,rt){var at,st;const nt=(at=this.lazyMintable)==null?void 0:at.claimWithConditions,it=(st=this.lazyMintable)==null?void 0:st.claim;if(nt)return nt.conditions.getClaimTransaction(_e,tt,rt);if(it)return it.getClaimTransaction(_e,tt,rt);throw new ExtensionNotImplementedError(FEATURE_NFT_CLAIM_CUSTOM)}async totalClaimedSupply(){const _e=this.contractWrapper;if(hasFunction("nextTokenIdToClaim",_e))return _e.readContract.nextTokenIdToClaim();if(hasFunction("totalMinted",_e))return _e.readContract.totalMinted();throw new Error("No function found on contract to get total claimed supply")}async totalUnclaimedSupply(){return(await this.nextTokenIdToMint()).sub(await this.totalClaimedSupply())}get claimConditions(){var _e;return assertEnabled((_e=this.lazyMintable)==null?void 0:_e.claimWithConditions,FEATURE_NFT_CLAIM_CONDITIONS_V2).conditions}get tieredDrop(){return assertEnabled(this.tieredDropable,FEATURE_NFT_TIERED_DROP)}get signature(){return assertEnabled(this.signatureMintable,FEATURE_NFT_SIGNATURE_MINTABLE_V2)}get revealer(){var _e;return assertEnabled((_e=this.lazyMintable)==null?void 0:_e.revealer,FEATURE_NFT_REVEALABLE)}async getTokenMetadata(_e){const tt=await this.contractWrapper.readContract.tokenURI(_e);if(!tt)throw new NotFoundError;return fetchTokenMetadata(_e,tt,this.storage)}async nextTokenIdToMint(){if(hasFunction("nextTokenIdToMint",this.contractWrapper))return await this.contractWrapper.readContract.nextTokenIdToMint();if(hasFunction("totalSupply",this.contractWrapper))return await this.contractWrapper.readContract.totalSupply();throw new Error("Contract requires either `nextTokenIdToMint` or `totalSupply` function available to determine the next token ID to mint")}detectErc721Enumerable(){if(detectContractFeature(this.contractWrapper,"ERC721Supply")||hasFunction("nextTokenIdToMint",this.contractWrapper))return new Erc721Supply(this,this.contractWrapper)}detectErc721Mintable(){if(detectContractFeature(this.contractWrapper,"ERC721Mintable"))return new Erc721Mintable(this,this.contractWrapper,this.storage)}detectErc721Burnable(){if(detectContractFeature(this.contractWrapper,"ERC721Burnable"))return new Erc721Burnable(this.contractWrapper)}detectErc721LazyMintable(){if(detectContractFeature(this.contractWrapper,"ERC721LazyMintable"))return new Erc721LazyMintable(this,this.contractWrapper,this.storage)}detectErc721TieredDrop(){if(detectContractFeature(this.contractWrapper,"ERC721TieredDrop"))return new Erc721TieredDrop(this,this.contractWrapper,this.storage)}detectErc721SignatureMintable(){if(detectContractFeature(this.contractWrapper,"ERC721SignatureMintV1")||detectContractFeature(this.contractWrapper,"ERC721SignatureMintV2"))return new Erc721WithQuantitySignatureMintable(this.contractWrapper,this.storage)}}class StandardErc721{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"erc721",void 0),_defineProperty$5(this,"_chainId",void 0),this.contractWrapper=_e,this.storage=tt,this.erc721=new Erc721(this.contractWrapper,this.storage,rt),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async getAll(_e){return this.erc721.getAll(_e)}async getOwned(_e){return this.erc721.getOwned(_e)}async getOwnedTokenIds(_e){return this.erc721.getOwnedTokenIds(_e)}async totalSupply(){return this.erc721.totalCirculatingSupply()}async get(_e){return this.erc721.get(_e)}async ownerOf(_e){return this.erc721.ownerOf(_e)}async balanceOf(_e){return this.erc721.balanceOf(_e)}async balance(){return this.erc721.balance()}async isApproved(_e,tt){return this.erc721.isApproved(_e,tt)}async transfer(_e,tt){return this.erc721.transfer(_e,tt)}async setApprovalForAll(_e,tt){return this.erc721.setApprovalForAll(_e,tt)}async setApprovalForToken(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("approve",[_e,tt])}}}const AirdropAddressInput=mod.object({address:AddressSchema,quantity:AmountSchema.default(1)}),AirdropInputSchema=mod.union([mod.array(mod.string()).transform(et=>et.map(_e=>AirdropAddressInput.parse({address:_e}))),mod.array(AirdropAddressInput)]);class Erc1155Burnable{constructor(_e){_defineProperty$5(this,"featureName",FEATURE_EDITION_BURNABLE.name),_defineProperty$5(this,"contractWrapper",void 0),this.contractWrapper=_e}async tokens(_e,tt){const rt=await this.contractWrapper.getSignerAddress();return this.from(rt,_e,tt)}async from(_e,tt,rt){return{receipt:await this.contractWrapper.sendTransaction("burn",[_e,tt,rt])}}async batch(_e,tt){const rt=await this.contractWrapper.getSignerAddress();return this.batchFrom(rt,_e,tt)}async batchFrom(_e,tt,rt){return{receipt:await this.contractWrapper.sendTransaction("burnBatch",[_e,tt,rt])}}}class Erc1155Enumerable{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_EDITION_ENUMERABLE.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc1155",void 0),this.erc1155=_e,this.contractWrapper=tt}async all(_e){const tt=BigNumber.from((_e==null?void 0:_e.start)||0).toNumber(),rt=BigNumber.from((_e==null?void 0:_e.count)||DEFAULT_QUERY_ALL_COUNT).toNumber(),nt=Math.min((await this.totalCount()).toNumber(),tt+rt);return await Promise.all([...Array(nt-tt).keys()].map(it=>this.erc1155.get((tt+it).toString())))}async totalCount(){return await this.contractWrapper.readContract.nextTokenIdToMint()}async totalCirculatingSupply(_e){return await this.contractWrapper.readContract.totalSupply(_e)}async owned(_e){const tt=_e||await this.contractWrapper.getSignerAddress(),rt=await this.contractWrapper.readContract.nextTokenIdToMint(),it=(await this.contractWrapper.readContract.balanceOfBatch(Array(rt.toNumber()).fill(tt),Array.from(Array(rt.toNumber()).keys()))).map((at,st)=>({tokenId:st,balance:at})).filter(at=>at.balance.gt(0));return await Promise.all(it.map(async at=>({...await this.erc1155.get(at.tokenId.toString()),owner:tt,quantityOwned:at.balance.toNumber()})))}}async function getPrebuiltInfo(et,_e){try{const tt=new Contract(et,IThirdwebContractABI,_e),[rt,nt]=await Promise.all([toUtf8String(await tt.contractType()).replace(/\x00/g,""),await tt.contractVersion()]);return{type:rt,version:nt}}catch{return}}class ERC1155Claimable{constructor(_e){_defineProperty$5(this,"featureName",FEATURE_EDITION_CLAIM_CUSTOM.name),_defineProperty$5(this,"contractWrapper",void 0),this.contractWrapper=_e}async getClaimTransaction(_e,tt,rt,nt){let it={};return nt&&nt.pricePerToken&&(it=await calculateClaimCost(this.contractWrapper,nt.pricePerToken,rt,nt.currencyAddress,nt.checkERC20Allowance)),TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"claim",args:[_e,tt,rt],overrides:it})}async to(_e,tt,rt,nt){return await(await this.getClaimTransaction(_e,tt,rt,nt)).execute()}}class Erc1155ClaimableWithConditions{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_EDITION_CLAIM_CONDITIONS_V2.name),_defineProperty$5(this,"conditions",void 0),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),this.contractWrapper=_e,this.storage=tt;const rt=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);this.conditions=new DropErc1155ClaimConditions(_e,rt,this.storage)}async to(_e,tt,rt,nt){return await(await this.conditions.getClaimTransaction(_e,tt,rt,nt)).execute()}}class Erc1155LazyMintable{constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_EDITION_LAZY_MINTABLE_V2.name),_defineProperty$5(this,"revealer",void 0),_defineProperty$5(this,"claimWithConditions",void 0),_defineProperty$5(this,"claim",void 0),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc1155",void 0),_defineProperty$5(this,"storage",void 0),this.erc1155=_e,this.contractWrapper=tt,this.storage=rt,this.claim=this.detectErc1155Claimable(),this.claimWithConditions=this.detectErc1155ClaimableWithConditions(),this.revealer=this.detectErc1155Revealable()}async lazyMint(_e,tt){const rt=await this.erc1155.nextTokenIdToMint(),nt=await uploadOrExtractURIs(_e,this.storage,rt.toNumber(),tt),it=nt[0].substring(0,nt[0].lastIndexOf("/"));for(let _t=0;_t<nt.length;_t++){const Et=nt[_t].substring(0,nt[_t].lastIndexOf("/"));if(it!==Et)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${it}' but got '${Et}'`)}const at=await this.isLegacyEditionDropContract();let st;at?st=await this.contractWrapper.sendTransaction("lazyMint",[nt.length,`${it.endsWith("/")?it:`${it}/`}`]):st=await this.contractWrapper.sendTransaction("lazyMint",[nt.length,`${it.endsWith("/")?it:`${it}/`}`,toUtf8Bytes("")]);const ct=this.contractWrapper.parseLogs("TokensLazyMinted",st==null?void 0:st.logs),ut=ct[0].args.startTokenId,ft=ct[0].args.endTokenId,gt=[];for(let _t=ut;_t.lte(ft);_t=_t.add(1))gt.push({id:_t,receipt:st,data:()=>this.erc1155.getTokenMetadata(_t)});return gt}detectErc1155Claimable(){if(detectContractFeature(this.contractWrapper,"ERC1155ClaimCustom"))return new ERC1155Claimable(this.contractWrapper)}detectErc1155ClaimableWithConditions(){if(detectContractFeature(this.contractWrapper,"ERC1155ClaimConditionsV1")||detectContractFeature(this.contractWrapper,"ERC1155ClaimConditionsV2")||detectContractFeature(this.contractWrapper,"ERC1155ClaimPhasesV1")||detectContractFeature(this.contractWrapper,"ERC1155ClaimPhasesV2"))return new Erc1155ClaimableWithConditions(this.contractWrapper,this.storage)}detectErc1155Revealable(){if(detectContractFeature(this.contractWrapper,"ERC1155Revealable"))return new DelayedReveal(this.contractWrapper,this.storage,FEATURE_EDITION_REVEALABLE.name,()=>this.erc1155.nextTokenIdToMint())}async isLegacyEditionDropContract(){const _e=await getPrebuiltInfo(this.contractWrapper.readContract.address,this.contractWrapper.getProvider());return _e&&_e.type==="DropERC1155"&&_e.version<3}}class Erc1155BatchMintable{constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_EDITION_BATCH_MINTABLE.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc1155",void 0),_defineProperty$5(this,"storage",void 0),this.erc1155=_e,this.contractWrapper=tt,this.storage=rt}async to(_e,tt){const rt=tt.map(ut=>ut.metadata),nt=tt.map(ut=>ut.supply),at=(await uploadOrExtractURIs(rt,this.storage)).map((ut,ft)=>this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[_e,MaxUint256$1,ut,nt[ft]])),st=await this.contractWrapper.multiCall(at),ct=this.contractWrapper.parseLogs("TokensMinted",st.logs);if(ct.length===0||ct.length<rt.length)throw new Error("TokenMinted event not found, minting failed");return ct.map(ut=>{const ft=ut.args.tokenIdMinted;return{id:ft,receipt:st,data:()=>this.erc1155.get(ft)}})}}class Erc1155Mintable{constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_EDITION_MINTABLE.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"erc1155",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"batch",void 0),this.erc1155=_e,this.contractWrapper=tt,this.storage=rt,this.batch=this.detectErc1155BatchMintable()}async to(_e,tt){const rt=await this.getMintTransaction(_e,tt),{receipt:nt}=await rt.execute(),it=this.contractWrapper.parseLogs("TransferSingle",nt==null?void 0:nt.logs);if(it.length===0)throw new Error("TransferSingleEvent event not found");const at=it[0].args.id;return{id:at,receipt:nt,data:()=>this.erc1155.get(at.toString())}}async getMintTransaction(_e,tt){const rt=await uploadOrExtractURI(tt.metadata,this.storage);return TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"mintTo",args:[_e,MaxUint256$1,rt,tt.supply]})}async additionalSupplyTo(_e,tt,rt){const nt=await this.erc1155.getTokenMetadata(tt),it=await this.contractWrapper.sendTransaction("mintTo",[_e,tt,nt.uri,rt]);return{id:BigNumber.from(tt),receipt:it,data:()=>this.erc1155.get(tt)}}detectErc1155BatchMintable(){if(detectContractFeature(this.contractWrapper,"ERC1155BatchMintable"))return new Erc1155BatchMintable(this.erc1155,this.contractWrapper,this.storage)}}class Erc1155SignatureMintable{constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_EDITION_SIGNATURE_MINTABLE.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"roles",void 0),this.contractWrapper=_e,this.storage=tt,this.roles=rt}async mint(_e){const tt=_e.payload,rt=_e.signature,nt=await this.mapPayloadToContractStruct(tt),it=await this.contractWrapper.getCallOverrides();await setErc20Allowance(this.contractWrapper,nt.pricePerToken.mul(nt.quantity),tt.currencyAddress,it);const at=await this.contractWrapper.sendTransaction("mintWithSignature",[nt,rt],it),st=this.contractWrapper.parseLogs("TokensMintedWithSignature",at.logs);if(st.length===0)throw new Error("No MintWithSignature event found");return{id:st[0].args.tokenIdMinted,receipt:at}}async mintBatch(_e){const rt=(await Promise.all(_e.map(async at=>{const st=await this.mapPayloadToContractStruct(at.payload),ct=at.signature,ut=at.payload.price;if(BigNumber.from(ut).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:st,signature:ct}}))).map(at=>this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[at.message,at.signature])),nt=await this.contractWrapper.multiCall(rt),it=this.contractWrapper.parseLogs("TokensMintedWithSignature",nt.logs);if(it.length===0)throw new Error("No MintWithSignature event found");return it.map(at=>({id:at.args.tokenIdMinted,receipt:nt}))}async verify(_e){const tt=_e.payload,rt=_e.signature,nt=await this.mapPayloadToContractStruct(tt);return(await this.contractWrapper.readContract.verify(nt,rt))[0]}async generate(_e){const tt={..._e,tokenId:MaxUint256$1};return this.generateFromTokenId(tt)}async generateFromTokenId(_e){return(await this.generateBatchFromTokenIds([_e]))[0]}async generateBatch(_e){const tt=_e.map(rt=>({...rt,tokenId:MaxUint256$1}));return this.generateBatchFromTokenIds(tt)}async generateBatchFromTokenIds(_e){var ut;await((ut=this.roles)==null?void 0:ut.verify(["minter"],await this.contractWrapper.getSignerAddress()));const tt=_e.map(ft=>Signature1155PayloadInputWithTokenId.parse(ft)),rt=tt.map(ft=>ft.metadata),nt=await uploadOrExtractURIs(rt,this.storage),it=await this.contractWrapper.getChainID(),at=this.contractWrapper.getSigner();invariant$1(at,"No signer available");const st=await getPrebuiltInfo(this.contractWrapper.readContract.address,this.contractWrapper.getProvider()),ct=(st==null?void 0:st.type)==="TokenERC1155";return await Promise.all(tt.map(async(ft,gt)=>{const _t=nt[gt],Et=Signature1155PayloadOutput.parse({...ft,uri:_t}),$t=await this.contractWrapper.signTypedData(at,{name:ct?"TokenERC1155":"SignatureMintERC1155",version:"1",chainId:it,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:MintRequest1155},await this.mapPayloadToContractStruct(Et));return{payload:Et,signature:$t.toString()}}))}async mapPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress);return{to:_e.to,tokenId:_e.tokenId,uri:_e.uri,quantity:_e.quantity,pricePerToken:tt,currency:_e.currencyAddress,validityStartTimestamp:_e.mintStartTime,validityEndTimestamp:_e.mintEndTime,uid:_e.uid,royaltyRecipient:_e.royaltyRecipient,royaltyBps:_e.royaltyBps,primarySaleRecipient:_e.primarySaleRecipient}}}class Erc1155{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$5(this,"featureName",FEATURE_EDITION.name),_defineProperty$5(this,"query",void 0),_defineProperty$5(this,"mintable",void 0),_defineProperty$5(this,"burnable",void 0),_defineProperty$5(this,"lazyMintable",void 0),_defineProperty$5(this,"signatureMintable",void 0),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"_chainId",void 0),this.contractWrapper=_e,this.storage=tt,this.query=this.detectErc1155Enumerable(),this.mintable=this.detectErc1155Mintable(),this.burnable=this.detectErc1155Burnable(),this.lazyMintable=this.detectErc1155LazyMintable(),this.signatureMintable=this.detectErc1155SignatureMintable(),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(_e){const[tt,rt]=await Promise.all([this.contractWrapper.readContract.totalSupply(_e).catch(()=>BigNumber.from(0)),this.getTokenMetadata(_e).catch(()=>({id:_e.toString(),uri:"",...FALLBACK_METADATA}))]);return{owner:AddressZero,metadata:rt,type:"ERC1155",supply:tt.toNumber()}}async totalSupply(_e){return await this.contractWrapper.readContract.totalSupply(_e)}async balanceOf(_e,tt){return await this.contractWrapper.readContract.balanceOf(_e,tt)}async balance(_e){return await this.balanceOf(await this.contractWrapper.getSignerAddress(),_e)}async isApproved(_e,tt){return await this.contractWrapper.readContract.isApprovedForAll(_e,tt)}async transfer(_e,tt,rt){let nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0];const it=await this.contractWrapper.getSignerAddress();return{receipt:await this.contractWrapper.sendTransaction("safeTransferFrom",[it,_e,tt,rt,nt])}}async setApprovalForAll(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("setApprovalForAll",[_e,tt])}}async airdrop(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0];const nt=await this.contractWrapper.getSignerAddress(),it=await this.balanceOf(nt,_e),at=AirdropInputSchema.parse(tt),st=at.reduce((ut,ft)=>ut+Number((ft==null?void 0:ft.quantity)||1),0);if(it.toNumber()<st)throw new Error(`The caller owns ${it.toNumber()} NFTs, but wants to airdrop ${st} NFTs.`);const ct=at.map(ut=>{let{address:ft,quantity:gt}=ut;return this.contractWrapper.readContract.interface.encodeFunctionData("safeTransferFrom",[nt,ft,_e,gt,rt])});return{receipt:await this.contractWrapper.multiCall(ct)}}async nextTokenIdToMint(){if(hasFunction("nextTokenIdToMint",this.contractWrapper))return await this.contractWrapper.readContract.nextTokenIdToMint();throw new Error("Contract requires the `nextTokenIdToMint` function available to determine the next token ID to mint")}async getAll(_e){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).all(_e)}async totalCount(){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).totalCount()}async totalCirculatingSupply(_e){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).totalCirculatingSupply(_e)}async getOwned(_e){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).owned(_e)}async mint(_e){return this.mintTo(await this.contractWrapper.getSignerAddress(),_e)}async mintTo(_e,tt){return assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).to(_e,tt)}async getMintTransaction(_e,tt){return assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).getMintTransaction(_e,tt)}async mintAdditionalSupply(_e,tt){return assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).additionalSupplyTo(await this.contractWrapper.getSignerAddress(),_e,tt)}async mintAdditionalSupplyTo(_e,tt,rt){return assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).additionalSupplyTo(_e,tt,rt)}async mintBatch(_e){return this.mintBatchTo(await this.contractWrapper.getSignerAddress(),_e)}async mintBatchTo(_e,tt){var rt;return assertEnabled((rt=this.mintable)==null?void 0:rt.batch,FEATURE_EDITION_BATCH_MINTABLE).to(_e,tt)}async burn(_e,tt){return assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).tokens(_e,tt)}async burnFrom(_e,tt,rt){return assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).from(_e,tt,rt)}async burnBatch(_e,tt){return assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).batch(_e,tt)}async burnBatchFrom(_e,tt,rt){return assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).batchFrom(_e,tt,rt)}async lazyMint(_e,tt){return assertEnabled(this.lazyMintable,FEATURE_EDITION_LAZY_MINTABLE_V2).lazyMint(_e,tt)}async getClaimTransaction(_e,tt,rt,nt){var st,ct;const it=(st=this.lazyMintable)==null?void 0:st.claimWithConditions,at=(ct=this.lazyMintable)==null?void 0:ct.claim;if(it)return it.conditions.getClaimTransaction(_e,tt,rt,nt);if(at)return at.getClaimTransaction(_e,tt,rt,nt);throw new ExtensionNotImplementedError(FEATURE_EDITION_CLAIM_CUSTOM)}async claim(_e,tt,rt){return this.claimTo(await this.contractWrapper.getSignerAddress(),_e,tt,rt)}async claimTo(_e,tt,rt,nt){var st,ct;const it=(st=this.lazyMintable)==null?void 0:st.claimWithConditions,at=(ct=this.lazyMintable)==null?void 0:ct.claim;if(it)return it.to(_e,tt,rt,nt);if(at)return at.to(_e,tt,rt,nt);throw new ExtensionNotImplementedError(FEATURE_EDITION_CLAIM_CUSTOM)}get claimConditions(){var _e;return assertEnabled((_e=this.lazyMintable)==null?void 0:_e.claimWithConditions,FEATURE_EDITION_CLAIM_CONDITIONS_V2).conditions}get signature(){return assertEnabled(this.signatureMintable,FEATURE_EDITION_SIGNATURE_MINTABLE)}get revealer(){var _e;return assertEnabled((_e=this.lazyMintable)==null?void 0:_e.revealer,FEATURE_EDITION_REVEALABLE)}async getTokenMetadata(_e){const tt=await this.contractWrapper.readContract.uri(_e);if(!tt)throw new NotFoundError;return fetchTokenMetadata(_e,tt,this.storage)}detectErc1155Enumerable(){if(detectContractFeature(this.contractWrapper,"ERC1155Enumerable"))return new Erc1155Enumerable(this,this.contractWrapper)}detectErc1155Mintable(){if(detectContractFeature(this.contractWrapper,"ERC1155Mintable"))return new Erc1155Mintable(this,this.contractWrapper,this.storage)}detectErc1155Burnable(){if(detectContractFeature(this.contractWrapper,"ERC1155Burnable"))return new Erc1155Burnable(this.contractWrapper)}detectErc1155LazyMintable(){if(detectContractFeature(this.contractWrapper,"ERC1155LazyMintableV1")||detectContractFeature(this.contractWrapper,"ERC1155LazyMintableV2"))return new Erc1155LazyMintable(this,this.contractWrapper,this.storage)}detectErc1155SignatureMintable(){if(detectContractFeature(this.contractWrapper,"ERC1155SignatureMintable"))return new Erc1155SignatureMintable(this.contractWrapper,this.storage)}}class StandardErc1155{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"erc1155",void 0),_defineProperty$5(this,"_chainId",void 0),this.contractWrapper=_e,this.storage=tt,this.erc1155=new Erc1155(this.contractWrapper,this.storage,rt),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(_e){return this.erc1155.get(_e)}async totalSupply(_e){return this.erc1155.totalSupply(_e)}async balanceOf(_e,tt){return this.erc1155.balanceOf(_e,tt)}async balance(_e){return this.erc1155.balance(_e)}async isApproved(_e,tt){return this.erc1155.isApproved(_e,tt)}async transfer(_e,tt,rt){let nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0];return this.erc1155.transfer(_e,tt,rt,nt)}async setApprovalForAll(_e,tt){return this.erc1155.setApprovalForAll(_e,tt)}async airdrop(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0];return this.erc1155.airdrop(_e,tt,rt)}}async function isTokenApprovedForTransfer(et,_e,tt,rt,nt){try{const it=new Contract(tt,ERC165Abi,et),at=await it.supportsInterface(InterfaceId_IERC721),st=await it.supportsInterface(InterfaceId_IERC1155);if(at){const ct=new Contract(tt,Erc721Abi,et);return await ct.isApprovedForAll(nt,_e)?!0:(await ct.getApproved(rt)).toLowerCase()===_e.toLowerCase()}else return st?await new Contract(tt,Erc1155Abi,et).isApprovedForAll(nt,_e):(console.error("Contract does not implement ERC 1155 or ERC 721."),!1)}catch(it){return console.error("Failed to check if token is approved",it),!1}}async function handleTokenApproval(et,_e,tt,rt,nt){const it=new ContractWrapper(et.getSignerOrProvider(),tt,ERC165Abi,et.options),at=await it.readContract.supportsInterface(InterfaceId_IERC721),st=await it.readContract.supportsInterface(InterfaceId_IERC1155);if(at){const ct=new ContractWrapper(et.getSignerOrProvider(),tt,Erc721Abi,et.options);await ct.readContract.isApprovedForAll(nt,_e)||(await ct.readContract.getApproved(rt)).toLowerCase()===_e.toLowerCase()||await ct.sendTransaction("setApprovalForAll",[_e,!0])}else if(st){const ct=new ContractWrapper(et.getSignerOrProvider(),tt,Erc1155Abi,et.options);await ct.readContract.isApprovedForAll(nt,_e)||await ct.sendTransaction("setApprovalForAll",[_e,!0])}else throw Error("Contract must implement ERC 1155 or ERC 721.")}function validateNewListingParam(et){switch(invariant$1(et.assetContractAddress!==void 0&&et.assetContractAddress!==null,"Asset contract address is required"),invariant$1(et.buyoutPricePerToken!==void 0&&et.buyoutPricePerToken!==null,"Buyout price is required"),invariant$1(et.listingDurationInSeconds!==void 0&&et.listingDurationInSeconds!==null,"Listing duration is required"),invariant$1(et.startTimestamp!==void 0&&et.startTimestamp!==null,"Start time is required"),invariant$1(et.tokenId!==void 0&&et.tokenId!==null,"Token ID is required"),invariant$1(et.quantity!==void 0&&et.quantity!==null,"Quantity is required"),et.type){case"NewAuctionListing":invariant$1(et.reservePricePerToken!==void 0&&et.reservePricePerToken!==null,"Reserve price is required")}}async function mapOffer(et,_e,tt){return{quantity:tt.quantityDesired,pricePerToken:tt.pricePerToken,currencyContractAddress:tt.currency,buyerAddress:tt.offeror,quantityDesired:tt.quantityWanted,currencyValue:await fetchCurrencyValue(et,tt.currency,tt.quantityWanted.mul(tt.pricePerToken)),listingId:_e}}function isWinningBid(et,_e,tt){return tt=BigNumber.from(tt),et=BigNumber.from(et),_e=BigNumber.from(_e),et.eq(BigNumber.from(0))?!1:_e.sub(et).mul(MAX_BPS).div(et).gte(tt)}async function getAllInBatches(et,_e,tt){let rt=[];for(;_e-et>DEFAULT_QUERY_ALL_COUNT;)rt.push(tt(et,et+DEFAULT_QUERY_ALL_COUNT-1)),et+=DEFAULT_QUERY_ALL_COUNT;return rt.push(tt(et,_e-1)),await Promise.all(rt)}class MarketplaceDirect{constructor(_e,tt){_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),this.contractWrapper=_e,this.storage=tt}getAddress(){return this.contractWrapper.readContract.address}async getListing(_e){const tt=await this.contractWrapper.readContract.listings(_e);if(tt.assetContract===AddressZero)throw new ListingNotFoundError(this.getAddress(),_e.toString());if(tt.listingType!==ListingType.Direct)throw new WrongListingTypeError(this.getAddress(),_e.toString(),"Auction","Direct");return await this.mapListing(tt)}async getActiveOffer(_e,tt){await this.validateListing(BigNumber.from(_e)),invariant$1(isAddress(tt),"Address must be a valid address");const rt=await this.contractWrapper.readContract.offers(_e,tt);if(rt.offeror!==AddressZero)return await mapOffer(this.contractWrapper.getProvider(),BigNumber.from(_e),rt)}async createListing(_e){validateNewListingParam(_e),await handleTokenApproval(this.contractWrapper,this.getAddress(),_e.assetContractAddress,_e.tokenId,await this.contractWrapper.getSignerAddress());const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.buyoutPricePerToken,_e.currencyContractAddress);let rt=Math.floor(_e.startTimestamp.getTime()/1e3);const it=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;rt<it&&(rt=it);const at=await this.contractWrapper.sendTransaction("createListing",[{assetContract:_e.assetContractAddress,tokenId:_e.tokenId,buyoutPricePerToken:tt,currencyToAccept:cleanCurrencyAddress(_e.currencyContractAddress),listingType:ListingType.Direct,quantityToList:_e.quantity,reservePricePerToken:tt,secondsUntilEndTime:_e.listingDurationInSeconds,startTime:BigNumber.from(rt)}],{gasLimit:5e5});return{id:this.contractWrapper.parseLogs("ListingAdded",at==null?void 0:at.logs)[0].args.listingId,receipt:at}}async makeOffer(_e,tt,rt,nt,it){if(isNativeToken(rt))throw new Error("You must use the wrapped native token address when making an offer with a native token");const at=await normalizePriceValue(this.contractWrapper.getProvider(),nt,rt);try{await this.getListing(_e)}catch(gt){throw console.error("Failed to get listing, err =",gt),new Error(`Error getting the listing with id ${_e}`)}const st=BigNumber.from(tt),ct=BigNumber.from(at).mul(st),ut=await this.contractWrapper.getCallOverrides()||{};await setErc20Allowance(this.contractWrapper,ct,rt,ut);let ft=MaxUint256$1;return it&&(ft=BigNumber.from(Math.floor(it.getTime()/1e3))),{receipt:await this.contractWrapper.sendTransaction("offer",[_e,tt,rt,at,ft],ut)}}async acceptOffer(_e,tt){await this.validateListing(BigNumber.from(_e));const rt=await this.contractWrapper.readContract.offers(_e,tt);return{receipt:await this.contractWrapper.sendTransaction("acceptOffer",[_e,tt,rt.currency,rt.pricePerToken])}}async buyoutListing(_e,tt,rt){const nt=await this.validateListing(BigNumber.from(_e)),{valid:it,error:at}=await this.isStillValidListing(nt,tt);if(!it)throw new Error(`Listing ${_e} is no longer valid. ${at}`);const st=rt||await this.contractWrapper.getSignerAddress(),ct=BigNumber.from(tt),ut=BigNumber.from(nt.buyoutPrice).mul(ct),ft=await this.contractWrapper.getCallOverrides()||{};return await setErc20Allowance(this.contractWrapper,ut,nt.currencyContractAddress,ft),{receipt:await this.contractWrapper.sendTransaction("buy",[_e,st,ct,nt.currencyContractAddress,ut],ft)}}async updateListing(_e){return{receipt:await this.contractWrapper.sendTransaction("updateListing",[_e.id,_e.quantity,_e.buyoutPrice,_e.buyoutPrice,_e.currencyContractAddress,_e.startTimeInSeconds,_e.secondsUntilEnd])}}async cancelListing(_e){return{receipt:await this.contractWrapper.sendTransaction("cancelDirectListing",[_e])}}async validateListing(_e){try{return await this.getListing(_e)}catch(tt){throw console.error(`Error getting the listing with id ${_e}`),tt}}async mapListing(_e){return{assetContractAddress:_e.assetContract,buyoutPrice:BigNumber.from(_e.buyoutPricePerToken),currencyContractAddress:_e.currency,buyoutCurrencyValuePerToken:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.buyoutPricePerToken),id:_e.listingId.toString(),tokenId:_e.tokenId,quantity:_e.quantity,startTimeInSeconds:_e.startTime,asset:await fetchTokenMetadataForContract(_e.assetContract,this.contractWrapper.getProvider(),_e.tokenId,this.storage),secondsUntilEnd:_e.endTime,sellerAddress:_e.tokenOwner,type:ListingType.Direct}}async isStillValidListing(_e,tt){if(!await isTokenApprovedForTransfer(this.contractWrapper.getProvider(),this.getAddress(),_e.assetContractAddress,_e.tokenId,_e.sellerAddress))return{valid:!1,error:`Token '${_e.tokenId}' from contract '${_e.assetContractAddress}' is not approved for transfer`};const nt=this.contractWrapper.getProvider(),it=new Contract(_e.assetContractAddress,ERC165Abi,nt),at=await it.supportsInterface(InterfaceId_IERC721),st=await it.supportsInterface(InterfaceId_IERC1155);if(at){const ut=(await new Contract(_e.assetContractAddress,Erc721Abi,nt).ownerOf(_e.tokenId)).toLowerCase()===_e.sellerAddress.toLowerCase();return{valid:ut,error:ut?void 0:`Seller is not the owner of Token '${_e.tokenId}' from contract '${_e.assetContractAddress} anymore'`}}else if(st){const ft=(await new Contract(_e.assetContractAddress,Erc1155Abi,nt).balanceOf(_e.sellerAddress,_e.tokenId)).gte(tt||_e.quantity);return{valid:ft,error:ft?void 0:`Seller does not have enough balance of Token '${_e.tokenId}' from contract '${_e.assetContractAddress} to fulfill the listing`}}else return{valid:!1,error:"Contract does not implement ERC 1155 or ERC 721."}}}class MarketplaceAuction{constructor(_e,tt){_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"encoder",void 0),this.contractWrapper=_e,this.storage=tt,this.encoder=new ContractEncoder(_e)}getAddress(){return this.contractWrapper.readContract.address}async getListing(_e){const tt=await this.contractWrapper.readContract.listings(_e);if(tt.listingId.toString()!==_e.toString())throw new ListingNotFoundError(this.getAddress(),_e.toString());if(tt.listingType!==ListingType.Auction)throw new WrongListingTypeError(this.getAddress(),_e.toString(),"Direct","Auction");return await this.mapListing(tt)}async getWinningBid(_e){await this.validateListing(BigNumber.from(_e));const tt=await this.contractWrapper.readContract.winningBid(_e);if(tt.offeror!==AddressZero)return await mapOffer(this.contractWrapper.getProvider(),BigNumber.from(_e),tt)}async getWinner(_e){const tt=await this.validateListing(BigNumber.from(_e)),rt=await this.contractWrapper.readContract.winningBid(_e),nt=BigNumber.from(Math.floor(Date.now()/1e3)),it=BigNumber.from(tt.endTimeInEpochSeconds);if(nt.gt(it)&&rt.offeror!==AddressZero)return rt.offeror;const st=(await this.contractWrapper.readContract.queryFilter(this.contractWrapper.readContract.filters.AuctionClosed())).find(ct=>ct.args.listingId.eq(BigNumber.from(_e)));if(!st)throw new Error(`Could not find auction with listingId ${_e} in closed auctions`);return st.args.winningBidder}async createListing(_e){validateNewListingParam(_e),await handleTokenApproval(this.contractWrapper,this.getAddress(),_e.assetContractAddress,_e.tokenId,await this.contractWrapper.getSignerAddress());const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.buyoutPricePerToken,_e.currencyContractAddress),rt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.reservePricePerToken,_e.currencyContractAddress);let nt=Math.floor(_e.startTimestamp.getTime()/1e3);const at=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;nt<at&&(nt=at);const st=await this.contractWrapper.sendTransaction("createListing",[{assetContract:_e.assetContractAddress,tokenId:_e.tokenId,buyoutPricePerToken:tt,currencyToAccept:cleanCurrencyAddress(_e.currencyContractAddress),listingType:ListingType.Auction,quantityToList:_e.quantity,reservePricePerToken:rt,secondsUntilEndTime:_e.listingDurationInSeconds,startTime:BigNumber.from(nt)}],{gasLimit:5e5});return{id:this.contractWrapper.parseLogs("ListingAdded",st==null?void 0:st.logs)[0].args.listingId,receipt:st}}async buyoutListing(_e){const tt=await this.validateListing(BigNumber.from(_e)),rt=await fetchCurrencyMetadata(this.contractWrapper.getProvider(),tt.currencyContractAddress);return this.makeBid(_e,formatUnits(tt.buyoutPrice,rt.decimals))}async makeBid(_e,tt){const rt=await this.validateListing(BigNumber.from(_e)),nt=await normalizePriceValue(this.contractWrapper.getProvider(),tt,rt.currencyContractAddress);if(nt.eq(BigNumber.from(0)))throw new Error("Cannot make a bid with 0 value");const it=await this.contractWrapper.readContract.bidBufferBps(),at=await this.getWinningBid(_e);if(at){const ft=isWinningBid(at.pricePerToken,nt,it);invariant$1(ft,"Bid price is too low based on the current winning bid and the bid buffer")}else{const ft=nt,gt=BigNumber.from(rt.reservePrice);invariant$1(ft.gte(gt),"Bid price is too low based on reserve price")}const st=BigNumber.from(rt.quantity),ct=nt.mul(st),ut=await this.contractWrapper.getCallOverrides()||{};return await setErc20Allowance(this.contractWrapper,ct,rt.currencyContractAddress,ut),{receipt:await this.contractWrapper.sendTransaction("offer",[_e,rt.quantity,rt.currencyContractAddress,nt,MaxUint256$1],ut)}}async cancelListing(_e){const tt=await this.validateListing(BigNumber.from(_e)),rt=BigNumber.from(Math.floor(Date.now()/1e3)),nt=BigNumber.from(tt.startTimeInEpochSeconds),it=await this.contractWrapper.readContract.winningBid(_e);if(rt.gt(nt)&&it.offeror!==AddressZero)throw new AuctionAlreadyStartedError(_e.toString());return{receipt:await this.contractWrapper.sendTransaction("closeAuction",[BigNumber.from(_e),await this.contractWrapper.getSignerAddress()])}}async closeListing(_e,tt){tt||(tt=await this.contractWrapper.getSignerAddress());const rt=await this.validateListing(BigNumber.from(_e));try{return{receipt:await this.contractWrapper.sendTransaction("closeAuction",[BigNumber.from(_e),tt])}}catch(nt){throw nt.message.includes("cannot close auction before it has ended")?new AuctionHasNotEndedError(_e.toString(),rt.endTimeInEpochSeconds.toString()):nt}}async executeSale(_e){const tt=await this.validateListing(BigNumber.from(_e));try{const rt=await this.getWinningBid(_e);invariant$1(rt,"No winning bid found");const nt=this.encoder.encode("closeAuction",[_e,tt.sellerAddress]),it=this.encoder.encode("closeAuction",[_e,rt.buyerAddress]);return await this.contractWrapper.multiCall([nt,it])}catch(rt){throw rt.message.includes("cannot close auction before it has ended")?new AuctionHasNotEndedError(_e.toString(),tt.endTimeInEpochSeconds.toString()):rt}}async updateListing(_e){return{receipt:await this.contractWrapper.sendTransaction("updateListing",[_e.id,_e.quantity,_e.reservePrice,_e.buyoutPrice,_e.currencyContractAddress,_e.startTimeInEpochSeconds,_e.endTimeInEpochSeconds])}}async getBidBufferBps(){return this.contractWrapper.readContract.bidBufferBps()}async getMinimumNextBid(_e){const[tt,rt,nt]=await Promise.all([this.getBidBufferBps(),this.getWinningBid(_e),await this.validateListing(BigNumber.from(_e))]),it=rt?rt.currencyValue.value:nt.reservePrice,at=it.add(it.mul(tt).div(1e4));return fetchCurrencyValue(this.contractWrapper.getProvider(),nt.currencyContractAddress,at)}async validateListing(_e){try{return await this.getListing(_e)}catch(tt){throw console.error(`Error getting the listing with id ${_e}`),tt}}async mapListing(_e){return{assetContractAddress:_e.assetContract,buyoutPrice:BigNumber.from(_e.buyoutPricePerToken),currencyContractAddress:_e.currency,buyoutCurrencyValuePerToken:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.buyoutPricePerToken),id:_e.listingId.toString(),tokenId:_e.tokenId,quantity:_e.quantity,startTimeInEpochSeconds:_e.startTime,asset:await fetchTokenMetadataForContract(_e.assetContract,this.contractWrapper.getProvider(),_e.tokenId,this.storage),reservePriceCurrencyValuePerToken:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.reservePricePerToken),reservePrice:BigNumber.from(_e.reservePricePerToken),endTimeInEpochSeconds:_e.endTime,sellerAddress:_e.tokenOwner,type:ListingType.Auction}}}async function getCompositePluginABI(et,_e,tt,rt,nt){let it=[];try{if(isFeatureEnabled(AbiSchema.parse(_e),"PluginRouter")){const ut=(await new ContractWrapper(tt,et,RouterABI,rt).readContract.getAllPlugins()).map(gt=>gt.pluginAddress),ft=Array.from(new Set(ut));it=await getPluginABI(ft,tt,nt)}}catch{}return it.length>0?joinABIs([_e,...it]):_e}async function getPluginABI(et,_e,tt){return(await Promise.all(et.map(rt=>fetchContractMetadataFromAddress(rt,_e,tt).catch(nt=>(console.error(`Failed to fetch plug-in for ${rt}`,nt),{abi:[]}))))).map(rt=>rt.abi)}function joinABIs(et){const _e=et.map(nt=>AbiSchema.parse(nt)).flat(),rt=unique(_e,(nt,it)=>nt.name===it.name&&nt.type===it.type&&nt.inputs.length===it.inputs.length).filter(nt=>nt.type!=="constructor");return AbiSchema.parse(rt)}const DropErc20ContractInput=CommonContractSchema.merge(MerkleSchema).merge(CommonSymbolSchema),DropErc20ContractOutput=CommonContractOutputSchema.merge(MerkleSchema).merge(CommonSymbolSchema),DropErc20ContractDeploy=DropErc20ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc20ContractSchema={deploy:DropErc20ContractDeploy,output:DropErc20ContractOutput,input:DropErc20ContractInput},MultiwrapContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),MultiwrapContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),MultiwrapContractDeploy=MultiwrapContractInput.merge(CommonTrustedForwarderSchema),MultiwrapContractSchema={deploy:MultiwrapContractDeploy,output:MultiwrapContractOutput,input:MultiwrapContractInput},EditionDropInitializer={name:"DropERC1155",contractType:"edition-drop",schema:DropErc1155ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([await EditionDropInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./edition-drop-bfcbf317.esm.26a2fe69.js"),[]),st.getNetwork()]);return new ut.EditionDrop(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return rt;const nt=await getContractInfo(et,_e);return!nt||nt.version>2?(await __vitePreload(()=>import("./DropERC1155.6c5a69de.js"),[])).default:(await __vitePreload(()=>import("./DropERC1155_V2.c5cf7fe7.js"),[])).default}},EditionInitializer={name:"TokenERC1155",contractType:"edition",schema:TokenErc1155ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([EditionInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./edition-9a187c3b.esm.8bc02276.js"),[]),st.getNetwork()]);return new ut.Edition(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./TokenERC1155.83e1e7a8.js"),[])).default}},MarketplaceInitializer={name:"Marketplace",contractType:"marketplace",schema:MarketplaceContractSchema,roles:["admin","lister","asset"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([MarketplaceInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./marketplace-b5a93405.esm.e3c33735.js"),[]),st.getNetwork()]);return new ut.Marketplace(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./Marketplace.b3514f1b.js"),[])).default}},MarketplaceV3Initializer={name:"MarketplaceRouter",contractType:"marketplace-v3",schema:MarketplaceContractSchema,roles:["admin","lister","asset"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([MarketplaceV3Initializer.getAbi(nt,st,it),__vitePreload(()=>import("./marketplacev3-c7322be3.esm.6ec88a6e.js"),[]),st.getNetwork()]),gt=typeof ct=="string"?JSON.parse(ct):ct,_t=await getCompositePluginABI(nt,AbiSchema.parse(gt),st,at,it);return new ut.MarketplaceV3(rt,nt,it,at,_t,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./MarketplaceV3.9b334dbf.js"),[])).default}},MultiwrapInitializer={name:"Multiwrap",contractType:"multiwrap",schema:MultiwrapContractSchema,roles:["admin","transfer","minter","unwrap","asset"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([MultiwrapInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./multiwrap-846e4cd6.esm.63185d67.js"),[]),st.getNetwork()]);return new ut.Multiwrap(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./Multiwrap.c2906dc3.js"),[])).default}},NFTCollectionInitializer={name:"TokenERC721",contractType:"nft-collection",schema:TokenErc721ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([NFTCollectionInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./nft-collection-4d74298d.esm.f95f448a.js"),[]),st.getNetwork()]);return new ut.NFTCollection(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./TokenERC721.2a21a520.js"),[])).default}},NFTDropInitializer={name:"DropERC721",contractType:"nft-drop",schema:DropErc721ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([NFTDropInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./nft-drop-72171cc1.esm.d0282c1b.js"),[]),st.getNetwork()]);return new ut.NFTDrop(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return rt;const nt=await getContractInfo(et,_e);return!nt||nt.version>3?(await __vitePreload(()=>import("./DropERC721.c34eedd6.js"),[])).default:(await __vitePreload(()=>import("./DropERC721_V3.b4826320.js"),[])).default}},PackInitializer={name:"Pack",contractType:"pack",schema:PackContractSchema,roles:["admin","minter","asset","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([PackInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./pack-949ac07a.esm.ae0e59a4.js"),[]),st.getNetwork()]);return new ut.Pack(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./Pack.bd619f30.js"),[])).default}},SignatureDropInitializer={name:"SignatureDrop",contractType:"signature-drop",schema:DropErc721ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([SignatureDropInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./signature-drop-e36cf29a.esm.f8b52e50.js"),[]),st.getNetwork()]);return new ut.SignatureDrop(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return rt;const nt=await getContractInfo(et,_e);return!nt||nt.version>4?(await __vitePreload(()=>import("./SignatureDrop.a28d2120.js"),[])).default:(await __vitePreload(()=>import("./SignatureDrop_V4.47cb47cb.js"),[])).default}},SplitInitializer={name:"Split",contractType:"split",schema:SplitsContractSchema,roles:["admin"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([SplitInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./split-f5cd58b6.esm.47ae457f.js"),[]),st.getNetwork()]);return new ut.Split(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./Split.4bcc427c.js"),[])).default}},TokenDropInitializer={name:"DropERC20",contractType:"token-drop",schema:DropErc20ContractSchema,roles:["admin","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([TokenDropInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./token-drop-fa66ac06.esm.65cea9c6.js"),[]),st.getNetwork()]);return new ut.TokenDrop(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return rt;const nt=await getContractInfo(et,_e);return!nt||nt.version>2?(await __vitePreload(()=>import("./DropERC20.6cc478fc.js"),[])).default:(await __vitePreload(()=>import("./DropERC20_V2.bd95b050.js"),[])).default}},TokenInitializer={name:"TokenERC20",contractType:"token",schema:TokenErc20ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([TokenInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./token-df443647.esm.532c8cea.js"),[]),st.getNetwork()]);return new ut.Token(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./TokenERC20.43e32265.js"),[])).default}},VoteInitializer={name:"VoteERC20",contractType:"vote",schema:VoteContractSchema,roles:[],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,st]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([VoteInitializer.getAbi(nt,st,it),__vitePreload(()=>import("./vote-9de5b5f1.esm.dbe9c9fa.js"),[]),st.getNetwork()]);return new ut.Vote(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./VoteERC20.a2458b8e.js"),[])).default}};async function getContractInfo(et,_e){try{return await getPrebuiltInfo(et,_e)}catch{return}}const PREBUILT_CONTRACTS_MAP={[EditionDropInitializer.contractType]:EditionDropInitializer,[EditionInitializer.contractType]:EditionInitializer,[MarketplaceInitializer.contractType]:MarketplaceInitializer,[MarketplaceV3Initializer.contractType]:MarketplaceV3Initializer,[MultiwrapInitializer.contractType]:MultiwrapInitializer,[NFTCollectionInitializer.contractType]:NFTCollectionInitializer,[NFTDropInitializer.contractType]:NFTDropInitializer,[PackInitializer.contractType]:PackInitializer,[SignatureDropInitializer.contractType]:SignatureDropInitializer,[SplitInitializer.contractType]:SplitInitializer,[TokenDropInitializer.contractType]:TokenDropInitializer,[TokenInitializer.contractType]:TokenInitializer,[VoteInitializer.contractType]:VoteInitializer},SmartContract$1={name:"SmartContract",contractType:"custom",schema:{},roles:ALL_ROLES},CONTRACTS_MAP={...PREBUILT_CONTRACTS_MAP,[SmartContract$1.contractType]:SmartContract$1};function getContractTypeForRemoteName(et){var _e;return((_e=Object.values(CONTRACTS_MAP).find(tt=>tt.name===et))==null?void 0:_e.contractType)||"custom"}function getContractName(et){var _e;return(_e=Object.values(CONTRACTS_MAP).find(tt=>tt.contractType===et))==null?void 0:_e.name}class ContractAppURI{constructor(_e,tt){_defineProperty$5(this,"featureName",FEATURE_APPURI.name),_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"metadata",void 0),this.contractWrapper=_e,this.metadata=tt}async get(){return detectContractFeature(this.contractWrapper,"AppURI")?await this.contractWrapper.readContract.appURI():(await this.metadata.get()).appURI||""}async set(_e){return detectContractFeature(this.contractWrapper,"AppURI")?{receipt:await this.contractWrapper.sendTransaction("setAppURI",[_e])}:await this.metadata.update({appURI:_e})}}class ContractEvents{constructor(_e){_defineProperty$5(this,"contractWrapper",void 0),this.contractWrapper=_e}addTransactionListener(_e){this.contractWrapper.addListener(EventType.Transaction,_e)}removeTransactionListener(_e){this.contractWrapper.off(EventType.Transaction,_e)}addEventListener(_e,tt){const rt=this.contractWrapper.readContract.interface.getEvent(_e),it={address:this.contractWrapper.readContract.address,topics:[this.contractWrapper.readContract.interface.getEventTopic(rt)]},at=st=>{const ct=this.contractWrapper.readContract.interface.parseLog(st);tt(this.toContractEvent(ct.eventFragment,ct.args,st))};return this.contractWrapper.getProvider().on(it,at),()=>{this.contractWrapper.getProvider().off(it,at)}}listenToAllEvents(_e){const rt={address:this.contractWrapper.readContract.address},nt=it=>{try{const at=this.contractWrapper.readContract.interface.parseLog(it);_e(this.toContractEvent(at.eventFragment,at.args,it))}catch(at){console.error("Could not parse event:",it,at)}};return this.contractWrapper.getProvider().on(rt,nt),()=>{this.contractWrapper.getProvider().off(rt,nt)}}removeEventListener(_e,tt){const rt=this.contractWrapper.readContract.interface.getEvent(_e);this.contractWrapper.readContract.off(rt.name,tt)}removeAllListeners(){this.contractWrapper.readContract.removeAllListeners();const tt={address:this.contractWrapper.readContract.address};this.contractWrapper.getProvider().removeAllListeners(tt)}async getAllEvents(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{fromBlock:0,toBlock:"latest",order:"desc"};const rt=(await this.contractWrapper.readContract.queryFilter({},_e.fromBlock,_e.toBlock)).sort((nt,it)=>_e.order==="desc"?it.blockNumber-nt.blockNumber:nt.blockNumber-it.blockNumber);return this.parseEvents(rt)}async getEvents(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fromBlock:0,toBlock:"latest",order:"desc"};const rt=this.contractWrapper.readContract.interface.getEvent(_e),nt=this.contractWrapper.readContract.interface.getEvent(_e),it=tt.filters?nt.inputs.map(ut=>tt.filters[ut.name]):[],at=this.contractWrapper.readContract.filters[rt.name](...it),ct=(await this.contractWrapper.readContract.queryFilter(at,tt.fromBlock,tt.toBlock)).sort((ut,ft)=>tt.order==="desc"?ft.blockNumber-ut.blockNumber:ut.blockNumber-ft.blockNumber);return this.parseEvents(ct)}parseEvents(_e){return _e.map(tt=>{const rt=Object.fromEntries(Object.entries(tt).filter(nt=>typeof nt[1]!="function"&&nt[0]!=="args"));if(tt.args){const nt=Object.entries(tt.args),it=nt.slice(nt.length/2,nt.length),at={};for(const[st,ct]of it)at[st]=ct;return{eventName:tt.event||"",data:at,transaction:rt}}return{eventName:tt.event||"",data:{},transaction:rt}})}toContractEvent(_e,tt,rt){const nt=Object.fromEntries(Object.entries(rt).filter(at=>typeof at[1]!="function"&&at[0]!=="args")),it={};return _e.inputs.forEach((at,st)=>{if(Array.isArray(tt[st])){const ct=at.components;if(ct){const ut=tt[st];if(at.type==="tuple[]"){const ft=[];for(let gt=0;gt<ut.length;gt++){const _t=ut[gt],Et={};for(let $t=0;$t<ct.length;$t++){const It=ct[$t].name;Et[It]=_t[$t]}ft.push(Et)}it[at.name]=ft}else{const ft={};for(let gt=0;gt<ct.length;gt++){const _t=ct[gt].name;ft[_t]=ut[gt]}it[at.name]=ft}}}else it[at.name]=tt[st]}),{eventName:_e.name,data:it,transaction:nt}}}class ContractInterceptor{constructor(_e){_defineProperty$5(this,"contractWrapper",void 0),this.contractWrapper=_e}overrideNextTransaction(_e){this.contractWrapper.withTransactionOverride(_e)}}class ContractPlatformFee{constructor(_e){_defineProperty$5(this,"featureName",FEATURE_PLATFORM_FEE.name),_defineProperty$5(this,"contractWrapper",void 0),this.contractWrapper=_e}async get(){const[_e,tt]=await this.contractWrapper.readContract.getPlatformFeeInfo();return CommonPlatformFeeSchema.parse({platform_fee_recipient:_e,platform_fee_basis_points:tt})}async set(_e){const tt=CommonPlatformFeeSchema.parse(_e);return{receipt:await this.contractWrapper.sendTransaction("setPlatformFeeInfo",[tt.platform_fee_recipient,tt.platform_fee_basis_points])}}}class ContractPublishedMetadata{constructor(_e,tt){_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"_cachedMetadata",void 0),this.contractWrapper=_e,this.storage=tt}async get(){return this._cachedMetadata?this._cachedMetadata:(this._cachedMetadata=await fetchContractMetadataFromAddress(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),this.storage),this._cachedMetadata)}async extractFunctions(){let _e;try{_e=await this.get()}catch{}return extractFunctionsFromAbi(AbiSchema.parse(this.contractWrapper.abi),_e==null?void 0:_e.metadata)}async extractEvents(){let _e;try{_e=await this.get()}catch{}return extractEventsFromAbi(AbiSchema.parse(this.contractWrapper.abi),_e==null?void 0:_e.metadata)}}class SmartContract{get royalties(){return assertEnabled(this.detectRoyalties(),FEATURE_ROYALTY)}get roles(){return assertEnabled(this.detectRoles(),FEATURE_PERMISSIONS)}get sales(){return assertEnabled(this.detectPrimarySales(),FEATURE_PRIMARY_SALE)}get platformFees(){return assertEnabled(this.detectPlatformFees(),FEATURE_PLATFORM_FEE)}get owner(){return assertEnabled(this.detectOwnable(),FEATURE_OWNER)}get erc20(){return assertEnabled(this.detectErc20(),FEATURE_TOKEN)}get erc721(){return assertEnabled(this.detectErc721(),FEATURE_NFT)}get erc1155(){return assertEnabled(this.detectErc1155(),FEATURE_EDITION)}get chainId(){return this._chainId}constructor(_e,tt,rt,nt){let it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},at=arguments.length>5?arguments[5]:void 0,st=arguments.length>6&&arguments[6]!==void 0?arguments[6]:new ContractWrapper(_e,tt,rt,it);_defineProperty$5(this,"contractWrapper",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"events",void 0),_defineProperty$5(this,"interceptor",void 0),_defineProperty$5(this,"encoder",void 0),_defineProperty$5(this,"estimator",void 0),_defineProperty$5(this,"publishedMetadata",void 0),_defineProperty$5(this,"abi",void 0),_defineProperty$5(this,"metadata",void 0),_defineProperty$5(this,"appURI",void 0),_defineProperty$5(this,"_chainId",void 0),this._chainId=at,this.storage=nt,this.contractWrapper=st,this.abi=rt,this.events=new ContractEvents(this.contractWrapper),this.encoder=new ContractEncoder(this.contractWrapper),this.interceptor=new ContractInterceptor(this.contractWrapper),this.estimator=new GasCostEstimator(this.contractWrapper),this.publishedMetadata=new ContractPublishedMetadata(this.contractWrapper,this.storage),this.metadata=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage),this.appURI=new ContractAppURI(this.contractWrapper,this.metadata)}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async call(_e){for(var tt=arguments.length,rt=new Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];return this.contractWrapper.call(_e,...rt)}detectRoyalties(){if(detectContractFeature(this.contractWrapper,"Royalty")){const _e=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);return new ContractRoyalty(this.contractWrapper,_e)}}detectRoles(){if(detectContractFeature(this.contractWrapper,"Permissions"))return new ContractRoles(this.contractWrapper,ALL_ROLES)}detectPrimarySales(){if(detectContractFeature(this.contractWrapper,"PrimarySale"))return new ContractPrimarySale(this.contractWrapper)}detectPlatformFees(){if(detectContractFeature(this.contractWrapper,"PlatformFee"))return new ContractPlatformFee(this.contractWrapper)}detectErc20(){if(detectContractFeature(this.contractWrapper,"ERC20"))return new Erc20(this.contractWrapper,this.storage,this.chainId)}detectErc721(){if(detectContractFeature(this.contractWrapper,"ERC721"))return new Erc721(this.contractWrapper,this.storage,this.chainId)}detectErc1155(){if(detectContractFeature(this.contractWrapper,"ERC1155"))return new Erc1155(this.contractWrapper,this.storage,this.chainId)}detectOwnable(){if(detectContractFeature(this.contractWrapper,"Ownable"))return new ContractOwner(this.contractWrapper)}}const MAX_LENGTH=256,NUMERIC_IDENTIFIER="0|[1-9]\\d*",MAIN_VERSION_IDENTIFIER=`(${NUMERIC_IDENTIFIER})\\.(${NUMERIC_IDENTIFIER})\\.(${NUMERIC_IDENTIFIER})`,REGEX_MAIN_VERSION=new RegExp(MAIN_VERSION_IDENTIFIER);function toSemver(et){if(et.length>MAX_LENGTH)throw new Error(`version is longer than ${MAX_LENGTH} characters`);const _e=et.trim().match(REGEX_MAIN_VERSION);if(!_e||(_e==null?void 0:_e.length)!==4)throw new Error(`${et} is not a valid semantic version. Should be in the format of major.minor.patch. Ex: 0.4.1`);const tt=Number(_e[1]),rt=Number(_e[2]),nt=Number(_e[3]),it=[tt,rt,nt].join(".");return{major:tt,minor:rt,patch:nt,versionString:it}}function isIncrementalVersion(et,_e){const tt=toSemver(et),rt=toSemver(_e);if(rt.major>tt.major)return!0;const nt=rt.major===tt.major;if(nt&&rt.minor>tt.minor)return!0;const it=rt.minor===tt.minor;return nt&&it&&rt.patch>tt.patch}class ContractPublisher extends RPCConnectionHandler{constructor(_e,tt,rt){super(_e,tt),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"publisher",void 0),this.storage=rt,this.publisher=new ContractWrapper(_e,getContractPublisherAddress(),ContractPublisherAbi,tt)}updateSignerOrProvider(_e){super.updateSignerOrProvider(_e),this.publisher.updateSignerOrProvider(_e)}async extractConstructorParams(_e){return extractConstructorParams(_e,this.storage)}async extractFunctions(_e){return extractFunctions(_e,this.storage)}async fetchCompilerMetadataFromPredeployURI(_e){return fetchPreDeployMetadata(_e,this.storage)}async fetchPrePublishMetadata(_e,tt){const rt=await fetchPreDeployMetadata(_e,this.storage),nt=tt?await this.getLatest(tt,rt.name):void 0,it=nt?await this.fetchPublishedContractInfo(nt):void 0;return{preDeployMetadata:rt,latestPublishedContractMetadata:it}}async fetchCompilerMetadataFromAddress(_e){return fetchContractMetadataFromAddress(_e,this.getProvider(),this.storage)}async fetchPublishedContractInfo(_e){return{name:_e.id,publishedTimestamp:_e.timestamp,publishedMetadata:await this.fetchFullPublishMetadata(_e.metadataUri)}}async fetchFullPublishMetadata(_e){return fetchExtendedReleaseMetadata(_e,this.storage)}async resolvePublishMetadataFromCompilerMetadata(_e){const tt=await this.publisher.readContract.getPublishedUriFromCompilerUri(_e);if(tt.length===0)throw Error(`Could not resolve published metadata URI from ${_e}`);return await Promise.all(tt.filter(rt=>rt.length>0).map(rt=>this.fetchFullPublishMetadata(rt)))}async resolveContractUriFromAddress(_e){const tt=await resolveContractUriFromAddress(_e,this.getProvider());return invariant$1(tt,"Could not resolve contract URI from address"),tt}async fetchContractSourcesFromAddress(_e){const tt=await this.fetchCompilerMetadataFromAddress(_e);return await fetchSourceFilesFromMetadata(tt,this.storage)}async updatePublisherProfile(_e){const tt=this.getSigner();invariant$1(tt,"A signer is required");const rt=await tt.getAddress(),nt=await this.storage.upload(_e);return{receipt:await this.publisher.sendTransaction("setPublisherProfileUri",[rt,nt])}}async getPublisherProfile(_e){const tt=await this.publisher.readContract.getPublisherProfileUri(_e);return!tt||tt.length===0?{}:ProfileSchemaOutput.parse(await this.storage.downloadJSON(tt))}async getAll(_e){const rt=(await this.publisher.readContract.getAllPublishedContracts(_e)).reduce((nt,it)=>(nt[it.contractId]=it,nt),{});return Object.entries(rt).map(nt=>{let[,it]=nt;return this.toPublishedContract(it)})}async getAllVersions(_e,tt){const rt=await this.publisher.readContract.getPublishedContractVersions(_e,tt);if(rt.length===0)throw Error("Not found");return rt.map(nt=>this.toPublishedContract(nt))}async getVersion(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest";if(rt==="latest")return this.getLatest(_e,tt);const nt=await this.getAllVersions(_e,tt),at=(await Promise.all(nt.map(st=>this.fetchPublishedContractInfo(st)))).find(st=>st.publishedMetadata.version===rt);return invariant$1(at,"Contract version not found"),nt.find(st=>st.timestamp===at.publishedTimestamp)}async getLatest(_e,tt){const rt=await this.publisher.readContract.getPublishedContract(_e,tt);if(rt&&rt.publishMetadataUri)return this.toPublishedContract(rt)}async publish(_e,tt){const rt=this.getSigner();invariant$1(rt,"A signer is required");const nt=await rt.getAddress(),it=await fetchRawPredeployMetadata(_e,this.storage),at=await this.getLatest(nt,it.name);if(at&&at.metadataUri){const At=(await this.fetchPublishedContractInfo(at)).publishedMetadata.version;if(!isIncrementalVersion(At,tt.version))throw Error(`Version ${tt.version} is not greater than ${At}`)}const st=await(await this.storage.download(it.bytecodeUri)).text(),ct=st.startsWith("0x")?st:`0x${st}`,ut=keccak256(["bytes"],[ct]),ft=it.name,gt=FullPublishMetadataSchemaInput.parse({...tt,metadataUri:it.metadataUri,bytecodeUri:it.bytecodeUri,name:it.name,analytics:it.analytics,publisher:nt}),_t=await this.storage.upload(gt),Et=await this.publisher.sendTransaction("publishContract",[nt,ft,_t,it.metadataUri,ut,AddressZero]),$t=this.publisher.parseLogs("ContractPublished",Et.logs);if($t.length<1)throw new Error("No ContractPublished event found");const It=$t[0].args.publishedContract;return{receipt:Et,data:async()=>this.toPublishedContract(It)}}async unpublish(_e,tt){return{receipt:await this.publisher.sendTransaction("unpublishContract",[_e,tt])}}toPublishedContract(_e){return PublishedContractSchema.parse({id:_e.contractId,timestamp:_e.publishTimestamp,metadataUri:_e.publishMetadataUri})}}class MultichainRegistry{constructor(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_defineProperty$5(this,"registryLogic",void 0),_defineProperty$5(this,"registryRouter",void 0),_defineProperty$5(this,"storage",void 0),this.storage=tt,this.registryLogic=new ContractWrapper(_e,getMultichainRegistryAddress(),TWRegistryABI,rt),this.registryRouter=new ContractWrapper(_e,getMultichainRegistryAddress(),TWRegistryRouterABI,rt)}async updateSigner(_e){this.registryLogic.updateSignerOrProvider(_e),this.registryRouter.updateSignerOrProvider(_e)}async getContractMetadataURI(_e,tt){return await this.registryLogic.readContract.getMetadataUri(_e,tt)}async getContractMetadata(_e,tt){const rt=await this.getContractMetadataURI(_e,tt);if(!rt)throw new Error(`No metadata URI found for contract ${tt} on chain ${_e}`);return await this.storage.downloadJSON(rt)}async getContractAddresses(_e){return(await this.registryLogic.readContract.getAll(_e)).filter(tt=>isAddress(tt.deploymentAddress)&&tt.deploymentAddress.toLowerCase()!==AddressZero).map(tt=>({address:tt.deploymentAddress,chainId:tt.chainId.toNumber()}))}async addContract(_e){return await this.addContracts([_e])}async addContracts(_e){const tt=await this.registryRouter.getSignerAddress(),rt=[];return _e.forEach(nt=>{rt.push(this.registryLogic.readContract.interface.encodeFunctionData("add",[tt,nt.address,nt.chainId,nt.metadataURI||""]))}),{receipt:await this.registryRouter.multiCall(rt)}}async removeContract(_e){return await this.removeContracts([_e])}async removeContracts(_e){const tt=await this.registryRouter.getSignerAddress(),rt=[];return _e.forEach(nt=>{rt.push(this.registryLogic.readContract.interface.encodeFunctionData("remove",[tt,nt.address,nt.chainId]))}),{receipt:await this.registryRouter.multiCall(rt)}}}class UserWallet{constructor(_e,tt){_defineProperty$5(this,"connection",void 0),_defineProperty$5(this,"options",void 0),_defineProperty$5(this,"events",new EventEmitter$1$1),this.connection=new RPCConnectionHandler(_e,tt),this.options=tt,this.events=new EventEmitter$1$1}connect(_e){this.connection.updateSignerOrProvider(_e),this.events.emit("signerChanged",this.connection.getSigner())}async transfer(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NATIVE_TOKEN_ADDRESS;const nt=this.requireWallet(),it=await normalizePriceValue(this.connection.getProvider(),tt,rt);if(isNativeToken(rt)){const at=await nt.getAddress();return{receipt:await(await nt.sendTransaction({from:at,to:_e,value:it})).wait()}}else return{receipt:await this.createErc20(rt).sendTransaction("transfer",[_e,it])}}async balance(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NATIVE_TOKEN_ADDRESS;this.requireWallet();const tt=this.connection.getProvider();let rt;return isNativeToken(_e)?rt=await tt.getBalance(await this.getAddress()):rt=await this.createErc20(_e).readContract.balanceOf(await this.getAddress()),await fetchCurrencyValue(tt,_e,rt)}async getAddress(){return await this.requireWallet().getAddress()}async getChainId(){return await this.requireWallet().getChainId()}isConnected(){try{return this.requireWallet(),!0}catch{return!1}}async sign(_e){return await this.requireWallet().signMessage(_e)}async signTypedData(_e,tt,rt){return await signTypedDataInternal(this.requireWallet(),_e,tt,rt)}recoverAddress(_e,tt){const rt=hashMessage(_e),nt=arrayify(rt);return recoverAddress(nt,tt)}async sendRawTransaction(_e){return{receipt:await(await this.requireWallet().sendTransaction(_e)).wait()}}requireWallet(){const _e=this.connection.getSigner();return invariant$1(_e,"This action requires a connected wallet. Please pass a valid signer to the SDK."),_e}createErc20(_e){return new ContractWrapper(this.connection.getSignerOrProvider(),_e,ERC20Abi,this.options)}}class ThirdwebSDK extends RPCConnectionHandler{static async fromWallet(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new ThirdwebStorage;const it=getProviderForNetwork(tt),at=Signer.isSigner(it)?it.provider:typeof it=="string"?getReadOnlyProvider(it):it;let st=await _e.getSigner();return at&&(st=st.connect(at)),ThirdwebSDK.fromSigner(st,tt,rt,nt)}static fromSigner(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new ThirdwebStorage;const it=new ThirdwebSDK(tt||_e,rt,nt);return it.updateSignerOrProvider(_e),it}static fromPrivateKey(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new ThirdwebStorage;const it=getProviderForNetwork(tt),at=Signer.isSigner(it)?it.provider:typeof it=="string"?getReadOnlyProvider(it):it,st=new Wallet(_e,at);return ThirdwebSDK.fromSigner(st,tt,rt,nt)}constructor(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new ThirdwebStorage;const nt=getProviderForNetwork(_e);super(nt,tt),_defineProperty$5(this,"contractCache",new Map),_defineProperty$5(this,"_publisher",void 0),_defineProperty$5(this,"storageHandler",void 0),_defineProperty$5(this,"deployer",void 0),_defineProperty$5(this,"multiChainRegistry",void 0),_defineProperty$5(this,"wallet",void 0),_defineProperty$5(this,"storage",void 0),this.storageHandler=rt,this.storage=rt,this.wallet=new UserWallet(nt,tt),this.deployer=new ContractDeployer(nt,tt,rt),this.multiChainRegistry=new MultichainRegistry(nt,this.storageHandler,this.options),this._publisher=new ContractPublisher(nt,this.options,this.storageHandler)}get auth(){throw new Error(`The sdk.auth namespace has been moved to the @thirdweb-dev/auth package and is no longer available after @thirdweb-dev/sdk >= 3.7.0. 
      Please visit https://portal.thirdweb.com/auth for instructions on how to switch to using the new auth package (@thirdweb-dev/auth@3.0.0).
      
      If you still want to use the old @thirdweb-dev/auth@2.0.0 package, you can downgrade the SDK to version 3.6.0.`)}async getNFTDrop(_e){return await this.getContract(_e,"nft-drop")}async getSignatureDrop(_e){return await this.getContract(_e,"signature-drop")}async getNFTCollection(_e){return await this.getContract(_e,"nft-collection")}async getEditionDrop(_e){return await this.getContract(_e,"edition-drop")}async getEdition(_e){return await this.getContract(_e,"edition")}async getTokenDrop(_e){return await this.getContract(_e,"token-drop")}async getToken(_e){return await this.getContract(_e,"token")}async getVote(_e){return await this.getContract(_e,"vote")}async getSplit(_e){return await this.getContract(_e,"split")}async getMarketplace(_e){return await this.getContract(_e,"marketplace")}async getMarketplaceV3(_e){return await this.getContract(_e,"marketplace-v3")}async getPack(_e){return await this.getContract(_e,"pack")}async getMultiwrap(_e){return await this.getContract(_e,"multiwrap")}async getContract(_e,tt){if(this.contractCache.has(_e))return this.contractCache.get(_e);let rt;if(!tt||tt==="custom"){const nt=await this.resolveContractType(_e);if(nt==="custom")try{const at=await this.getPublisher().fetchCompilerMetadataFromAddress(_e);rt=await this.getContractFromAbi(_e,at.abi)}catch(it){throw new Error(`Error fetching ABI for this contract

${it}`)}else{const it=await PREBUILT_CONTRACTS_MAP[nt].getAbi(_e,this.getProvider(),this.storage);rt=await this.getContractFromAbi(_e,it)}}else typeof tt=="string"&&tt in PREBUILT_CONTRACTS_MAP?rt=await PREBUILT_CONTRACTS_MAP[tt].initialize(this.getSignerOrProvider(),_e,this.storage,this.options):rt=await this.getContractFromAbi(_e,tt);return this.contractCache.set(_e,rt),rt}async getBuiltInContract(_e,tt){return await this.getContract(_e,tt)}async resolveContractType(_e){try{const tt=new Contract(_e,IThirdwebContractABI,this.getProvider()),rt=toUtf8String(await tt.contractType()).replace(/\x00/g,"");return getContractTypeForRemoteName(rt)}catch{return"custom"}}async getContractList(_e){var nt;const tt=await((nt=await this.deployer.getRegistry())==null?void 0:nt.getContractAddresses(_e))||[];return(await Promise.all(tt.map(async it=>{let at="custom";try{at=await this.resolveContractType(it)}catch{}let st;if(at==="custom")try{st=(await this.getContract(it)).metadata}catch(ct){console.warn(`Couldn't get contract metadata for custom contract: ${it} - ${ct}`)}else st=(await this.getContract(it,at)).metadata;return{address:it,contractType:at,metadata:st}}))).filter(it=>it.metadata).map(it=>{let{address:at,contractType:st,metadata:ct}=it;return invariant$1(ct,"All ThirdwebContracts require metadata"),{address:at,contractType:st,metadata:()=>ct.get()}})}updateSignerOrProvider(_e){super.updateSignerOrProvider(_e),this.updateContractSignerOrProvider()}updateContractSignerOrProvider(){this.wallet.connect(this.getSignerOrProvider()),this.deployer.updateSignerOrProvider(this.getSignerOrProvider()),this._publisher.updateSignerOrProvider(this.getSignerOrProvider()),this.multiChainRegistry.updateSigner(this.getSignerOrProvider());for(const[,_e]of this.contractCache)_e.onNetworkUpdated(this.getSignerOrProvider())}async getContractFromAbi(_e,tt){if(this.contractCache.has(_e))return this.contractCache.get(_e);const[,rt]=getSignerAndProvider(this.getSignerOrProvider(),this.options),nt=typeof tt=="string"?JSON.parse(tt):tt,it=new SmartContract(this.getSignerOrProvider(),_e,await getCompositePluginABI(_e,AbiSchema.parse(nt),rt,this.options,this.storage),this.storageHandler,this.options,(await rt.getNetwork()).chainId);return this.contractCache.set(_e,it),it}async getBalance(_e){return fetchCurrencyValue(this.getProvider(),NATIVE_TOKEN_ADDRESS,await this.getProvider().getBalance(_e))}getPublisher(){return this._publisher}}class ContractFactory extends ContractWrapper{constructor(_e,tt,rt,nt){super(tt,_e,TWFactoryAbi,nt),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"DEFAULT_VERSION_MAP",{[NFTDropInitializer.contractType]:3,[NFTCollectionInitializer.contractType]:1,[SignatureDropInitializer.contractType]:4,[MultiwrapInitializer.contractType]:1,[EditionDropInitializer.contractType]:2,[EditionInitializer.contractType]:1,[TokenDropInitializer.contractType]:2,[TokenInitializer.contractType]:1,[VoteInitializer.contractType]:1,[SplitInitializer.contractType]:1,[MarketplaceInitializer.contractType]:2,[MarketplaceV3Initializer.contractType]:1,[PackInitializer.contractType]:2}),this.storage=rt}async deploy(_e,tt,rt,nt){const it=PREBUILT_CONTRACTS_MAP[_e],at=it.schema.deploy.parse(tt),st=await this.storage.upload(at),ct=await this.getImplementation(it,nt);if(!ct||ct===AddressZero)throw new Error(`No implementation found for ${_e}`);const ut=await it.getAbi(ct,this.getProvider(),this.storage),ft=Contract.getInterface(ut).encodeFunctionData("initialize",await this.getDeployArguments(_e,at,st)),gt=await this.getProvider().getBlockNumber(),_t=formatBytes32String(gt.toString()),Et=await this.sendTransaction("deployProxyByImplementation",[ct,ft,_t]),$t=this.parseLogs("ProxyDeployed",Et.logs);if($t.length<1)throw new Error("No ProxyDeployed event found");const It=$t[0].args.proxy;return rt.emit("contractDeployed",{status:"completed",contractAddress:It,transactionHash:Et.transactionHash}),It}async deployProxyByImplementation(_e,tt,rt,nt,it){const at=Contract.getInterface(tt).encodeFunctionData(rt,nt),st=await this.getProvider().getBlockNumber(),ct=await this.sendTransaction("deployProxyByImplementation",[_e,at,formatBytes32String(st.toString())]),ut=this.parseLogs("ProxyDeployed",ct.logs);if(ut.length<1)throw new Error("No ProxyDeployed event found");const ft=ut[0].args.proxy;return it.emit("contractDeployed",{status:"completed",contractAddress:ft,transactionHash:ct.transactionHash}),ft}async getDeployArguments(_e,tt,rt){let nt=_e===PackInitializer.contractType?[]:await this.getDefaultTrustedForwarders();switch(tt.trusted_forwarders&&tt.trusted_forwarders.length>0&&(nt=tt.trusted_forwarders),_e){case NFTDropInitializer.contractType:case NFTCollectionInitializer.contractType:const it=NFTDropInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),it.name,it.symbol,rt,nt,it.primary_sale_recipient,it.fee_recipient,it.seller_fee_basis_points,it.platform_fee_basis_points,it.platform_fee_recipient];case SignatureDropInitializer.contractType:const at=SignatureDropInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),at.name,at.symbol,rt,nt,at.primary_sale_recipient,at.fee_recipient,at.seller_fee_basis_points,at.platform_fee_basis_points,at.platform_fee_recipient];case MultiwrapInitializer.contractType:const st=MultiwrapInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),st.name,st.symbol,rt,nt,st.fee_recipient,st.seller_fee_basis_points];case EditionDropInitializer.contractType:case EditionInitializer.contractType:const ct=EditionDropInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),ct.name,ct.symbol,rt,nt,ct.primary_sale_recipient,ct.fee_recipient,ct.seller_fee_basis_points,ct.platform_fee_basis_points,ct.platform_fee_recipient];case TokenDropInitializer.contractType:case TokenInitializer.contractType:const ut=TokenInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),ut.name,ut.symbol,rt,nt,ut.primary_sale_recipient,ut.platform_fee_recipient,ut.platform_fee_basis_points];case VoteInitializer.contractType:const ft=VoteInitializer.schema.deploy.parse(tt);return[ft.name,rt,nt,ft.voting_token_address,ft.voting_delay_in_blocks,ft.voting_period_in_blocks,BigNumber.from(ft.proposal_token_threshold),ft.voting_quorum_fraction];case SplitInitializer.contractType:const gt=SplitInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),rt,nt,gt.recipients.map(It=>It.address),gt.recipients.map(It=>BigNumber.from(It.sharesBps))];case MarketplaceInitializer.contractType:const _t=MarketplaceInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),rt,nt,_t.platform_fee_recipient,_t.platform_fee_basis_points];case MarketplaceV3Initializer.contractType:const Et=MarketplaceV3Initializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),rt,nt,Et.platform_fee_recipient,Et.platform_fee_basis_points];case PackInitializer.contractType:const $t=PackInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),$t.name,$t.symbol,rt,nt,$t.fee_recipient,$t.seller_fee_basis_points];default:return[]}}async getDefaultTrustedForwarders(){const _e=await this.getChainID();return getDefaultTrustedForwarders(_e)}async getImplementation(_e,tt){const rt=formatBytes32String(_e.name),nt=await this.getChainID(),it=getApprovedImplementation(nt,_e.contractType);return it&&it.length>0&&tt===void 0?it:this.readContract.getImplementation(rt,tt!==void 0?tt:this.DEFAULT_VERSION_MAP[_e.contractType])}async getLatestVersion(_e){const tt=getContractName(_e);if(!tt)throw new Error(`Invalid contract type ${_e}`);const rt=formatBytes32String(tt);return this.readContract.currentVersion(rt)}}class ContractRegistry extends ContractWrapper{constructor(_e,tt,rt){super(tt,_e,TWRegistryABI$1,rt)}async getContractAddresses(_e){return(await this.readContract.getAll(_e)).filter(tt=>isAddress(tt)&&tt.toLowerCase()!==AddressZero)}async addContract(_e){return await this.addContracts([_e])}async addContracts(_e){const tt=await this.getSignerAddress(),rt=[];return _e.forEach(nt=>{rt.push(this.readContract.interface.encodeFunctionData("add",[tt,nt]))}),{receipt:await this.multiCall(rt)}}async removeContract(_e){return await this.removeContracts([_e])}async removeContracts(_e){const tt=await this.getSignerAddress(),rt=[];return _e.forEach(nt=>{rt.push(this.readContract.interface.encodeFunctionData("remove",[tt,nt]))}),{receipt:await this.multiCall(rt)}}}class ContractDeployer extends RPCConnectionHandler{constructor(_e,tt,rt){super(_e,tt),_defineProperty$5(this,"_factory",void 0),_defineProperty$5(this,"_registry",void 0),_defineProperty$5(this,"storage",void 0),_defineProperty$5(this,"events",void 0),_defineProperty$5(this,"transactionListener",nt=>{nt.status==="submitted"&&this.events.emit("contractDeployed",{status:"submitted",transactionHash:nt.transactionHash})}),this.storage=rt,this.events=new EventEmitter$1$1,this.getFactory(),this.getRegistry()}async deployNFTCollection(_e){return await this.deployBuiltInContract(NFTCollectionInitializer.contractType,_e)}async deployNFTDrop(_e){return await this.deployBuiltInContract(NFTDropInitializer.contractType,_e)}async deploySignatureDrop(_e){return await this.deployBuiltInContract(SignatureDropInitializer.contractType,_e)}async deployMultiwrap(_e){return await this.deployBuiltInContract(MultiwrapInitializer.contractType,_e)}async deployEdition(_e){return await this.deployBuiltInContract(EditionInitializer.contractType,_e)}async deployEditionDrop(_e){return await this.deployBuiltInContract(EditionDropInitializer.contractType,_e)}async deployToken(_e){return await this.deployBuiltInContract(TokenInitializer.contractType,_e)}async deployTokenDrop(_e){return await this.deployBuiltInContract(TokenDropInitializer.contractType,_e)}async deployMarketplace(_e){return await this.deployBuiltInContract(MarketplaceInitializer.contractType,_e)}async deployMarketplaceV3(_e){return await this.deployBuiltInContract(MarketplaceV3Initializer.contractType,_e)}async deployPack(_e){return await this.deployBuiltInContract(PackInitializer.contractType,_e)}async deploySplit(_e){return await this.deployBuiltInContract(SplitInitializer.contractType,_e)}async deployVote(_e){return await this.deployBuiltInContract(VoteInitializer.contractType,_e)}async deployBuiltInContract(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest";const nt=(await this.getProvider().getNetwork()).chainId,it=PREBUILT_CONTRACTS_MAP[_e].schema.deploy.parse(tt),at=await this.getFactory();if(nt===ChainId$1.Hardhat||nt===ChainId$1.Localhost){let ft;try{ft=parseInt(rt),isNaN(ft)&&(ft=void 0)}catch{ft=void 0}at.on(EventType.Transaction,this.transactionListener);const gt=await at.deploy(_e,it,this.events,ft);return at.off(EventType.Transaction,this.transactionListener),gt}const st=getContractName(_e);invariant$1(st,"contract name not found");const ct=await this.storage.upload(it),ut=await at.getDeployArguments(_e,it,ct);return this.deployReleasedContract("0xdd99b75f095d0c4d5112aCe938e4e6ed962fb024",st,ut,rt)}async getLatestBuiltInContractVersion(_e){return await(await this.getFactory()).getLatestVersion(_e)}async deployReleasedContract(_e,tt,rt){let nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest";const it=await new ThirdwebSDK("polygon").getPublisher().getVersion(_e,tt,nt);if(!it)throw new Error(`No release found for '${tt}' at version '${nt}' by '${_e}'`);return await this.deployContractFromUri(it.metadataUri,rt)}async deployViaFactory(_e,tt,rt,nt,it){const at=this.getSigner();invariant$1(at,"signer is required");const st=new ContractFactory(_e,this.getSignerOrProvider(),this.storage,this.options);st.on(EventType.Transaction,this.transactionListener);const ct=await st.deployProxyByImplementation(tt,rt,nt,it,this.events);return st.off(EventType.Transaction,this.transactionListener),ct}async deployProxy(_e,tt,rt,nt){const it=Contract.getInterface(tt).encodeFunctionData(rt,nt),{TWProxy__factory:at}=await __vitePreload(()=>import("./thirdweb-dev-contracts-js-factories-TWProxy__factory.esm.2f1ee9ff.js"),[]);return this.deployContractWithAbi(at.abi,at.bytecode,[_e,it])}async getRegistry(){return this._registry?this._registry:this._registry=this.getProvider().getNetwork().then(async _e=>{let{chainId:tt}=_e;const rt=getContractAddressByChainId(tt,"twRegistry");return new ContractRegistry(rt,this.getSignerOrProvider(),this.options)})}async getFactory(){return this._factory?this._factory:this._factory=this.getProvider().getNetwork().then(async _e=>{let{chainId:tt}=_e;const rt=getContractAddressByChainId(tt,"twFactory");return new ContractFactory(rt,this.getSignerOrProvider(),this.storage,this.options)})}updateSignerOrProvider(_e){super.updateSignerOrProvider(_e),this.updateContractSignerOrProvider()}updateContractSignerOrProvider(){var _e,tt;(_e=this._factory)==null||_e.then(rt=>{rt.updateSignerOrProvider(this.getSignerOrProvider())}).catch(()=>{}),(tt=this._registry)==null||tt.then(rt=>{rt.updateSignerOrProvider(this.getSignerOrProvider())}).catch(()=>{})}async deployContractFromUri(_e,tt,rt){const nt=this.getSigner();invariant$1(nt,"A signer is required");const it=await fetchPreDeployMetadata(_e,this.storage);let at,st,ct;try{const Et=await fetchExtendedReleaseMetadata(_e,this.storage);at=Et.isDeployableViaFactory,st=Et.isDeployableViaProxy,ct=FactoryDeploymentSchema.parse(Et.factoryDeploymentData)}catch{}const ut=(rt==null?void 0:rt.forceDirectDeploy)||!1;if(ct&&(st||at)&&!ut){const Et=(await this.getProvider().getNetwork()).chainId;invariant$1(ct.implementationAddresses,"implementationAddresses is required");const $t=ct.implementationAddresses[Et];invariant$1($t,`implementationAddress not found for chainId '${Et}'`),invariant$1(ct.implementationInitializerFunction,"implementationInitializerFunction not set'");const It=extractFunctionParamsFromAbi(it.abi,ct.implementationInitializerFunction).map(At=>At.type),Tt=this.convertParamValues(It,tt);if(at){invariant$1(ct.factoryAddresses,"isDeployableViaFactory is true so factoryAddresses is required");const At=ct.factoryAddresses[Et];return invariant$1(At,`isDeployableViaFactory is true and factoryAddress not found for chainId '${Et}'`),await this.deployViaFactory(At,$t,it.abi,ct.implementationInitializerFunction,Tt)}else if(st)return await this.deployProxy($t,it.abi,ct.implementationInitializerFunction,Tt)}const ft=it.bytecode.startsWith("0x")?it.bytecode:`0x${it.bytecode}`;if(!isHexString$4(ft))throw new Error(`Contract bytecode is invalid.

${ft}`);const gt=extractConstructorParamsFromAbi(it.abi).map(Et=>Et.type),_t=this.convertParamValues(gt,tt);return this.deployContractWithAbi(it.abi,ft,_t)}convertParamValues(_e,tt){if(_e.length!==tt.length)throw Error("Passed the wrong number of constructor arguments");return _e.map((rt,nt)=>rt==="tuple"||rt.endsWith("[]")?typeof tt[nt]=="string"?JSON.parse(tt[nt]):tt[nt]:rt==="bytes32"?(invariant$1(isHexString$4(tt[nt]),`Could not parse bytes32 value. Expected valid hex string but got "${tt[nt]}".`),hexZeroPad(tt[nt],32)):rt.startsWith("bytes")?(invariant$1(isHexString$4(tt[nt]),`Could not parse bytes value. Expected valid hex string but got "${tt[nt]}".`),tt[nt]):rt.startsWith("uint")||rt.startsWith("int")?BigNumber.from(tt[nt].toString()):tt[nt])}async deployContractWithAbi(_e,tt,rt){const nt=this.getSigner();invariant$1(nt,"Signer is required to deploy contracts");const it=await new ContractFactory$1(_e,tt).connect(nt).deploy(...rt);this.events.emit("contractDeployed",{status:"submitted",transactionHash:it.deployTransaction.hash});const at=await it.deployed();return this.events.emit("contractDeployed",{status:"completed",contractAddress:at.address,transactionHash:at.deployTransaction.hash}),at.address}addDeployListener(_e){this.events.on("contractDeployed",_e)}removeDeployListener(_e){this.events.off("contractDeployed",_e)}removeAllDeployListeners(){this.events.removeAllListeners("contractDeployed")}}class ContractOwner{constructor(_e){_defineProperty$5(this,"featureName",FEATURE_OWNER.name),_defineProperty$5(this,"contractWrapper",void 0),this.contractWrapper=_e}async get(){return this.contractWrapper.readContract.owner()}async set(_e){return{receipt:await this.contractWrapper.sendTransaction("setOwner",[_e])}}}const metadataCache={},polygonSDK=new ThirdwebSDK("polygon");function getCacheKey(et,_e){return`${et}-${_e}`}function putInCache(et,_e,tt){metadataCache[getCacheKey(et,_e)]=tt}function getFromCache(et,_e){return metadataCache[getCacheKey(et,_e)]}async function fetchContractMetadataFromAddress(et,_e,tt){const rt=(await _e.getNetwork()).chainId,nt=getFromCache(et,rt);if(nt)return nt;let it;try{const at=await resolveContractUriFromAddress(et,_e);if(!at)throw new Error(`Could not resolve metadata for contract at ${et}`);it=await fetchContractMetadata(at,tt)}catch{try{const st=await polygonSDK.multiChainRegistry.getContractMetadataURI(rt,et);it=await fetchContractMetadata(st,tt)}catch{throw new Error(`Could not resolve metadata for contract at ${et}`)}}if(!it)throw new Error(`Could not resolve metadata for contract at ${et}`);return putInCache(et,rt,it),it}async function fetchAbiFromAddress(et,_e,tt){try{const rt=await fetchContractMetadataFromAddress(et,_e,tt);if(rt&&rt.abi)return rt.abi}catch{}}async function fetchContractMetadata(et,_e){const tt=await _e.downloadJSON(et);if(!tt||!tt.output)throw new Error(`Could not resolve metadata for contract at ${et}`);const rt=AbiSchema.parse(tt.output.abi),nt=tt.settings.compilationTarget,it=Object.keys(nt),at=nt[it[0]],st=ContractInfoSchema.parse({title:tt.output.devdoc.title,author:tt.output.devdoc.author,details:tt.output.devdoc.detail,notice:tt.output.userdoc.notice}),ct=[...new Set(Object.entries(tt.sources).map(ut=>{let[,ft]=ut;return ft.license}))];return{name:at,abi:rt,metadata:tt,info:st,licenses:ct}}async function fetchSourceFilesFromMetadata(et,_e){return await Promise.all(Object.entries(et.metadata.sources).map(async tt=>{let[rt,nt]=tt;const it=nt.urls,at=it?it.find(st=>st.includes("ipfs")):void 0;if(at){const st=at.split("ipfs/")[1],ct=new Promise((ft,gt)=>setTimeout(()=>gt("timeout"),3e3)),ut=await Promise.race([(await _e.download(`ipfs://${st}`)).text(),ct]);return{filename:rt,source:ut}}else return{filename:rt,source:nt.content||"Could not find source for this contract"}}))}const BYOCContractMetadataSchema=CommonContractSchema.catchall(mod.union([BigNumberTransformSchema,mod.unknown()])),CustomContractInput=BYOCContractMetadataSchema.merge(CommonRoyaltySchema.merge(MerkleSchema).merge(CommonSymbolSchema).partial()),CustomContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema.merge(MerkleSchema).merge(CommonSymbolSchema).partial()),CustomContractDeploy=CustomContractInput.merge(CommonPlatformFeeSchema.merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema).partial()),CustomContractSchema={deploy:CustomContractDeploy,output:CustomContractOutput,input:CustomContractInput},AbiTypeBaseSchema=mod.object({type:mod.string(),name:mod.string()}).catchall(mod.any()),AbiTypeSchema=AbiTypeBaseSchema.extend({stateMutability:mod.string().optional(),components:mod.array(AbiTypeBaseSchema).optional()}).catchall(mod.any()),AbiObjectSchema=mod.object({type:mod.string(),name:mod.string().default(""),inputs:mod.array(AbiTypeSchema).default([]),outputs:mod.array(AbiTypeSchema).default([])}).catchall(mod.any()),AbiSchema=mod.array(AbiObjectSchema),PreDeployMetadata=mod.object({name:mod.string(),metadataUri:mod.string(),bytecodeUri:mod.string(),analytics:mod.any().optional()}).catchall(mod.any()),ChainIdToAddressSchema=mod.record(mod.string(),mod.string()),FactoryDeploymentSchema=mod.object({implementationAddresses:ChainIdToAddressSchema,implementationInitializerFunction:mod.string().default("initialize"),factoryAddresses:ChainIdToAddressSchema.optional()}),ExtraPublishMetadataSchemaInput=mod.object({version:mod.string().refine(et=>{try{return toSemver(et),!0}catch{return!1}},et=>({message:`'${et}' is not a valid semantic version. Should be in the format of major.minor.patch. Ex: 0.4.1`})),displayName:mod.string().optional(),description:mod.string().optional(),readme:mod.string().optional(),license:mod.string().optional(),changelog:mod.string().optional(),tags:mod.array(mod.string()).optional(),audit:FileOrBufferOrStringSchema.nullable().optional(),logo:FileOrBufferOrStringSchema.nullable().optional(),isDeployableViaFactory:mod.boolean().optional(),isDeployableViaProxy:mod.boolean().optional(),factoryDeploymentData:FactoryDeploymentSchema.optional(),constructorParams:mod.record(mod.string(),mod.object({displayName:mod.string().optional(),description:mod.string().optional(),defaultValue:mod.string().optional()}).catchall(mod.any())).optional()}).catchall(mod.any()),ExtraPublishMetadataSchemaOutput=ExtraPublishMetadataSchemaInput.extend({audit:mod.string().nullable().optional(),logo:mod.string().nullable().optional()}),FullPublishMetadataSchemaInput=PreDeployMetadata.merge(ExtraPublishMetadataSchemaInput).extend({publisher:AddressSchema.optional()}),FullPublishMetadataSchemaOutput=PreDeployMetadata.merge(ExtraPublishMetadataSchemaOutput).extend({publisher:AddressSchema.optional()}),ProfileSchemaInput=mod.object({name:mod.string().optional(),bio:mod.string().optional(),avatar:FileOrBufferOrStringSchema.nullable().optional(),website:mod.string().optional(),twitter:mod.string().optional(),telegram:mod.string().optional(),facebook:mod.string().optional(),github:mod.string().optional(),medium:mod.string().optional(),linkedin:mod.string().optional(),reddit:mod.string().optional(),discord:mod.string().optional()}),ProfileSchemaOutput=ProfileSchemaInput.extend({avatar:mod.string().nullable().optional()}),PublishedContractSchema=mod.object({id:mod.string(),timestamp:BigNumberishSchema,metadataUri:mod.string()}),ContractInfoSchema=mod.object({title:mod.string().optional(),author:mod.string().optional(),details:mod.string().optional(),notice:mod.string().optional()}),CompilerMetadataFetchedSchema=mod.object({name:mod.string(),abi:AbiSchema,metadata:mod.record(mod.string(),mod.any()),info:ContractInfoSchema,licenses:mod.array(mod.string().optional()).default([]).transform(et=>et.filter(_e=>_e!==void 0))}),PreDeployMetadataFetchedSchema=PreDeployMetadata.merge(CompilerMetadataFetchedSchema).extend({bytecode:mod.string()}),PAPER_API_BASE="https://paper.xyz/api",PAPER_API_VERSION="2022-08-12",PAPER_API_URL=`${PAPER_API_BASE}/${PAPER_API_VERSION}/platform/thirdweb`,PAPER_CHAIN_ID_MAP={[ChainId$1.Mainnet]:"Ethereum",[ChainId$1.Goerli]:"Goerli",[ChainId$1.Polygon]:"Polygon",[ChainId$1.Mumbai]:"Mumbai",[ChainId$1.Avalanche]:"Avalanche"};function parseChainIdToPaperChain(et){return invariant$1(et in PAPER_CHAIN_ID_MAP,`chainId not supported by paper: ${et}`),PAPER_CHAIN_ID_MAP[et]}async function fetchRegisteredCheckoutId(et,_e){const tt=parseChainIdToPaperChain(_e),nt=await(await fetch(`${PAPER_API_URL}/register-contract?contractAddress=${et}&chain=${tt}`)).json();return invariant$1(nt.result.id,"Contract is not registered with paper"),nt.result.id}const DEFAULT_PARAMS={expiresInMinutes:15,feeBearer:"BUYER",sendEmailOnSuccess:!0,redirectAfterPayment:!1};async function createCheckoutLinkIntent(et,_e){const rt=await(await fetch(`${PAPER_API_URL}/checkout-link-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contractId:et,...DEFAULT_PARAMS,..._e,metadata:{..._e.metadata,via_platform:"thirdweb"},hideNativeMint:!0,hidePaperWallet:!!_e.walletAddress,hideExternalWallet:!0,hidePayWithCrypto:!0,usePaperKey:!1})})).json();return invariant$1(rt.checkoutLinkIntentUrl,"Failed to create checkout link intent"),rt.checkoutLinkIntentUrl}class PaperCheckout{constructor(_e){_defineProperty$5(this,"contractWrapper",void 0),this.contractWrapper=_e}async getCheckoutId(){return fetchRegisteredCheckoutId(this.contractWrapper.readContract.address,await this.contractWrapper.getChainID())}async isEnabled(){try{return!!await this.getCheckoutId()}catch{return!1}}async createLinkIntent(_e){return await createCheckoutLinkIntent(await this.getCheckoutId(),_e)}}function _toPrimitive(et,_e){if(typeof et!="object"||et===null)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(et,_e||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey(et){var _e=_toPrimitive(et,"string");return typeof _e=="symbol"?_e:String(_e)}function _defineProperty$3(et,_e,tt){return _e=_toPropertyKey(_e),_e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}mod.string().refine(et=>isAddress(et),et=>({message:`${et} is not a valid address`}));const RawDateSchema=mod.date().transform(et=>BigNumber.from(Math.floor(et.getTime()/1e3))),AccountTypeSchema=mod.union([mod.literal("evm"),mod.literal("solana")]),literalSchema=mod.union([mod.string(),mod.number(),mod.boolean(),mod.null()]),JsonSchema=mod.lazy(()=>mod.union([literalSchema,mod.array(JsonSchema),mod.record(JsonSchema)]),{invalid_type_error:"Provided value was not valid JSON"}),LoginOptionsSchema=mod.object({domain:mod.string().optional(),statement:mod.string().optional(),uri:mod.string().optional(),version:mod.string().optional(),chainId:mod.string().optional(),nonce:mod.string().optional(),expirationTime:mod.date().optional(),invalidBefore:mod.date().optional(),resources:mod.array(mod.string()).optional()}).optional(),LoginPayloadDataSchema=mod.object({type:AccountTypeSchema,domain:mod.string(),address:mod.string(),statement:mod.string().default("Please ensure that the domain above matches the URL of the current website."),uri:mod.string().optional(),version:mod.string().default("1"),chain_id:mod.string().optional(),nonce:mod.string().default(v4()),issued_at:mod.date().default(new Date).transform(et=>et.toISOString()),expiration_time:mod.date().transform(et=>et.toISOString()),invalid_before:mod.date().default(new Date).transform(et=>et.toISOString()),resources:mod.array(mod.string()).optional()}),LoginPayloadSchema=mod.object({payload:LoginPayloadDataSchema,signature:mod.string()}),VerifyOptionsSchemaRequired=mod.object({domain:mod.string().optional(),statement:mod.string().optional(),uri:mod.string().optional(),version:mod.string().optional(),chainId:mod.string().optional(),validateNonce:mod.function().args(mod.string()).optional(),resources:mod.array(mod.string()).optional()}),VerifyOptionsSchema=VerifyOptionsSchemaRequired.optional(),GenerateOptionsSchema=mod.object({domain:mod.string().optional(),tokenId:mod.string().optional(),expirationTime:mod.date().optional(),invalidBefore:mod.date().optional(),session:mod.union([JsonSchema,mod.function().args(mod.string())]).optional(),verifyOptions:VerifyOptionsSchemaRequired.omit({domain:!0}).optional()}).optional(),AuthenticationPayloadDataSchema=mod.object({iss:mod.string(),sub:mod.string(),aud:mod.string(),exp:RawDateSchema.transform(et=>et.toNumber()),nbf:RawDateSchema.transform(et=>et.toNumber()),iat:RawDateSchema.transform(et=>et.toNumber()),jti:mod.string().default(v4()),ctx:JsonSchema.optional()});mod.object({payload:AuthenticationPayloadDataSchema,signature:mod.string()});const AuthenticateOptionsSchema=mod.object({domain:mod.string().optional(),validateTokenId:mod.function().args(mod.string()).optional()}).optional();LoginPayloadSchema.extend({payload:LoginPayloadDataSchema.extend({issued_at:mod.string(),expiration_time:mod.string(),invalid_before:mod.string()})});const isBrowser$4=()=>typeof window!="undefined";class ThirdwebAuth{constructor(_e,tt){_defineProperty$3(this,"domain",void 0),_defineProperty$3(this,"wallet",void 0),this.wallet=_e,this.domain=tt}updateWallet(_e){this.wallet=_e}async login(_e){const tt=LoginOptionsSchema.parse(_e);let rt=tt==null?void 0:tt.chainId;if(!rt&&this.wallet.getChainId)try{rt=(await this.wallet.getChainId()).toString()}catch{}const nt=LoginPayloadDataSchema.parse({type:this.wallet.type,domain:(tt==null?void 0:tt.domain)||this.domain,address:await this.wallet.getAddress(),statement:tt==null?void 0:tt.statement,version:tt==null?void 0:tt.version,uri:(tt==null?void 0:tt.uri)||(isBrowser$4()?window.location.href:void 0),chain_id:rt,nonce:tt==null?void 0:tt.nonce,expiration_time:(tt==null?void 0:tt.expirationTime)||new Date(Date.now()+1e3*60*5),invalid_before:tt==null?void 0:tt.invalidBefore,resources:tt==null?void 0:tt.resources}),it=this.generateMessage(nt),at=await this.wallet.signMessage(it);return{payload:nt,signature:at}}async verify(_e,tt){const rt=VerifyOptionsSchema.parse(tt);if(_e.payload.type!==this.wallet.type)throw new Error(`Expected chain type '${this.wallet.type}' does not match chain type on payload '${_e.payload.type}'`);const nt=(rt==null?void 0:rt.domain)||this.domain;if(_e.payload.domain!==nt)throw new Error(`Expected domain '${nt}' does not match domain on payload '${_e.payload.domain}'`);if(rt!=null&&rt.statement&&_e.payload.statement!==rt.statement)throw new Error(`Expected statement '${rt.statement}' does not match statement on payload '${_e.payload.statement}'`);if(rt!=null&&rt.uri&&_e.payload.uri!==rt.uri)throw new Error(`Expected URI '${rt.uri}' does not match URI on payload '${_e.payload.uri}'`);if(rt!=null&&rt.version&&_e.payload.version!==rt.version)throw new Error(`Expected version '${rt.version}' does not match version on payload '${_e.payload.version}'`);if(rt!=null&&rt.chainId&&_e.payload.chain_id!==rt.chainId)throw new Error(`Expected chain ID '${rt.chainId}' does not match chain ID on payload '${_e.payload.chain_id}'`);if((rt==null?void 0:rt.validateNonce)!==void 0)try{await rt.validateNonce(_e.payload.nonce)}catch(ut){throw console.log(ut),new Error("Login request nonce is invalid")}const it=new Date;if(it<new Date(_e.payload.invalid_before))throw new Error("Login request is not yet valid");if(it>new Date(_e.payload.expiration_time))throw new Error("Login request has expired");if(rt!=null&&rt.resources){const ut=rt.resources.filter(ft=>{var gt;return!((gt=_e.payload.resources)!=null&&gt.includes(ft))});if(ut.length>0)throw new Error(`Login request is missing required resources: ${ut.join(", ")}`)}const at=this.generateMessage(_e.payload),st=this.wallet.type==="evm"&&_e.payload.chain_id?parseInt(_e.payload.chain_id):void 0;if(!await this.verifySignature(at,_e.signature,_e.payload.address,st))throw new Error(`Signer address does not match payload address '${_e.payload.address.toLowerCase()}'`);return _e.payload.address}async generate(_e,tt){if(isBrowser$4())throw new Error("Authentication tokens should not be generated in the browser, as they must be signed by a server-side admin wallet.");const rt=GenerateOptionsSchema.parse(tt),nt=(rt==null?void 0:rt.domain)||this.domain,it=await this.verify(_e,{domain:nt,...rt==null?void 0:rt.verifyOptions});let at;if(typeof(rt==null?void 0:rt.session)=="function"){const Tt=await rt.session(it);Tt&&(at=Tt)}else at=rt==null?void 0:rt.session;const st=await this.wallet.getAddress(),ct=AuthenticationPayloadDataSchema.parse({iss:st,sub:it,aud:nt,nbf:(rt==null?void 0:rt.invalidBefore)||new Date,exp:(rt==null?void 0:rt.expirationTime)||new Date(Date.now()+1e3*60*60*5),iat:new Date,jti:rt==null?void 0:rt.tokenId,ctx:at}),ut=JSON.stringify(ct),ft=await this.wallet.signMessage(ut),gt={alg:"ES256",typ:"JWT"},_t=Buffer.from(JSON.stringify(gt)).toString("base64"),Et=Buffer.from(JSON.stringify(ct)).toString("base64").replace(/=/g,""),$t=Buffer.from(ft).toString("base64");return`${_t}.${Et}.${$t}`}async authenticate(_e,tt){if(isBrowser$4())throw new Error("Should not authenticate tokens in the browser, as they must be verified by the server-side admin wallet.");const rt=AuthenticateOptionsSchema.parse(tt),nt=(rt==null?void 0:rt.domain)||this.domain,it=_e.split(".")[1],at=_e.split(".")[2],st=JSON.parse(Buffer.from(it,"base64").toString()),ct=Buffer.from(at,"base64").toString();if((rt==null?void 0:rt.validateTokenId)!==void 0)try{await rt.validateTokenId(st.jti)}catch{throw new Error("Token ID is invalid")}if(st.aud!==nt)throw new Error(`Expected token to be for the domain '${nt}', but found token with domain '${st.aud}'`);const ut=Math.floor(new Date().getTime()/1e3);if(ut<st.nbf)throw new Error(`This token is invalid before epoch time '${st.nbf}', current epoch time is '${ut}'`);if(ut>st.exp)throw new Error(`This token expired at epoch time '${st.exp}', current epoch time is '${ut}'`);const ft=await this.wallet.getAddress();if(ft.toLowerCase()!==st.iss.toLowerCase())throw new Error(`Expected the connected wallet address '${ft}' to match the token issuer address '${st.iss}'`);let gt;if(this.wallet.getChainId)try{gt=await this.wallet.getChainId()}catch{}if(!await this.verifySignature(JSON.stringify(st),ct,ft,gt))throw new Error(`The connected wallet address '${ft}' did not sign the token`);return{address:st.sub,session:st.ctx}}async verifySignature(_e,tt,rt,nt){return this.wallet.verifySignature(_e,tt,rt,nt)}generateMessage(_e){const tt=_e.type==="evm"?"Ethereum":"Solana";let nt=[`${_e.domain} wants you to sign in with your ${tt} account:`,_e.address].join(`
`);nt=[nt,_e.statement].join(`

`),_e.statement&&(nt+=`
`);const it=[];if(_e.uri){const gt=`URI: ${_e.uri}`;it.push(gt)}const at=`Version: ${_e.version}`;if(it.push(at),_e.chain_id){const gt="Chain ID: "+_e.chain_id||"1";it.push(gt)}const st=`Nonce: ${_e.nonce}`;it.push(st);const ct=`Issued At: ${_e.issued_at}`;it.push(ct);const ut=`Expiration Time: ${_e.expiration_time}`;if(it.push(ut),_e.invalid_before){const gt=`Not Before: ${_e.invalid_before}`;it.push(gt)}_e.resources&&it.push(["Resources:",..._e.resources.map(gt=>`- ${gt}`)].join(`
`));const ft=it.join(`
`);return[nt,ft].join(`
`)}}function _checkPrivateRedeclaration$1(et,_e){if(_e.has(et))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec$1(et,_e,tt){_checkPrivateRedeclaration$1(et,_e),_e.set(et,tt)}function _classApplyDescriptorGet$1(et,_e){return _e.get?_e.get.call(et):_e.value}function _classExtractFieldDescriptor$1(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to "+tt+" private field on non-instance");return _e.get(et)}function _classPrivateFieldGet$1(et,_e){var tt=_classExtractFieldDescriptor$1(et,_e,"get");return _classApplyDescriptorGet$1(et,tt)}function _classApplyDescriptorSet$1(et,_e,tt){if(_e.set)_e.set.call(et,tt);else{if(!_e.writable)throw new TypeError("attempted to set read only private field");_e.value=tt}}function _classPrivateFieldSet$1(et,_e,tt){var rt=_classExtractFieldDescriptor$1(et,_e,"set");return _classApplyDescriptorSet$1(et,rt,tt),tt}const arbitrum={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}},arbitrumGoerli={id:421613,name:"Arbitrum Goerli",network:"arbitrum-goerli",nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-goerli.g.alchemy.com/v2"],webSocket:["wss://arb-goerli.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-goerli.infura.io/v3"],webSocket:["wss://arbitrum-goerli.infura.io/ws/v3"]},default:{http:["https://goerli-rollup.arbitrum.io/rpc"]},public:{http:["https://goerli-rollup.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://goerli.arbiscan.io/"},default:{name:"Arbiscan",url:"https://goerli.arbiscan.io/"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:88114}},testnet:!0},avalanche={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}},avalancheFuji={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0},bsc={id:56,name:"BNB Smart Chain",network:"bsc",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]},public:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}},bscTestnet={id:97,name:"Binance Smart Chain Testnet",network:"bsc-testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://bsc-testnet.public.blastapi.io"]},public:{http:["https://bsc-testnet.public.blastapi.io"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://testnet.bscscan.com"},default:{name:"BscScan",url:"https://testnet.bscscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0},fantom={id:250,name:"Fantom",network:"fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]},public:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{etherscan:{name:"FTMScan",url:"https://ftmscan.com"},default:{name:"FTMScan",url:"https://ftmscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}},fantomTestnet={id:4002,name:"Fantom Testnet",network:"fantom-testnet",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.testnet.fantom.network"]},public:{http:["https://rpc.testnet.fantom.network"]}},blockExplorers:{etherscan:{name:"FTMScan",url:"https://testnet.ftmscan.com"},default:{name:"FTMScan",url:"https://testnet.ftmscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:8328688}}},goerli={id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0},mainnet={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}},optimism={id:10,name:"Optimism",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Etherscan",url:"https://optimistic.etherscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263}}},optimismGoerli={id:420,name:"Optimism Goerli",network:"optimism-goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-goerli.g.alchemy.com/v2"],webSocket:["wss://opt-goerli.g.alchemy.com/v2"]},infura:{http:["https://optimism-goerli.infura.io/v3"],webSocket:["wss://optimism-goerli.infura.io/ws/v3"]},default:{http:["https://goerli.optimism.io"]},public:{http:["https://goerli.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"},default:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:49461}},testnet:!0},polygon={id:137,name:"Polygon",network:"matic",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}},polygonMumbai={id:80001,name:"Polygon Mumbai",network:"maticmum",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mumbai.g.alchemy.com/v2"],webSocket:["wss://polygon-mumbai.g.alchemy.com/v2"]},infura:{http:["https://polygon-mumbai.infura.io/v3"],webSocket:["wss://polygon-mumbai.infura.io/ws/v3"]},default:{http:["https://matic-mumbai.chainstacklabs.com"]},public:{http:["https://matic-mumbai.chainstacklabs.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://mumbai.polygonscan.com"},default:{name:"PolygonScan",url:"https://mumbai.polygonscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}},testnet:!0};let ChainId;(function(et){et[et.Mainnet=1]="Mainnet",et[et.Goerli=5]="Goerli",et[et.Polygon=137]="Polygon",et[et.Mumbai=80001]="Mumbai",et[et.Fantom=250]="Fantom",et[et.FantomTestnet=4002]="FantomTestnet",et[et.Avalanche=43114]="Avalanche",et[et.AvalancheFujiTestnet=43113]="AvalancheFujiTestnet",et[et.Optimism=10]="Optimism",et[et.OptimismGoerli=420]="OptimismGoerli",et[et.Arbitrum=42161]="Arbitrum",et[et.ArbitrumGoerli=421613]="ArbitrumGoerli",et[et.BinanceSmartChainMainnet=56]="BinanceSmartChainMainnet",et[et.BinanceSmartChainTestnet=97]="BinanceSmartChainTestnet"})(ChainId||(ChainId={}));ChainId.Mainnet,ChainId.Goerli,ChainId.Polygon,ChainId.Mumbai,ChainId.Fantom,ChainId.FantomTestnet,ChainId.Avalanche,ChainId.AvalancheFujiTestnet,ChainId.Optimism,ChainId.OptimismGoerli,ChainId.Arbitrum,ChainId.ArbitrumGoerli,ChainId.BinanceSmartChainMainnet,ChainId.BinanceSmartChainTestnet;const DEFAULT_API_KEY="c6634ad2d97b74baf15ff556016830c251050e6c36b9da508ce3ec80095d3dc1";function getRpcNameFromChainId(et){switch(et){case ChainId.Mainnet:return"mainnet";case ChainId.Goerli:return"goerli";case ChainId.Polygon:return"polygon";case ChainId.Mumbai:return"mumbai";case ChainId.Avalanche:return"avalanche";case ChainId.AvalancheFujiTestnet:return"avalanche-fuji";case ChainId.Fantom:return"fantom";case ChainId.FantomTestnet:return"fantom-testnet";case ChainId.Arbitrum:return"arbitrum";case ChainId.ArbitrumGoerli:return"arbitrum-goerli";case ChainId.Optimism:return"optimism";case ChainId.OptimismGoerli:return"optimism-goerli";case ChainId.BinanceSmartChainMainnet:return"bsc";case ChainId.BinanceSmartChainTestnet:return"bsc-testnet";default:throw new Error("Unsupported chain id")}}function getRpcUrl$1(et){return`https://${getRpcNameFromChainId(et)}.rpc.thirdweb.com/${DEFAULT_API_KEY}`}function enhanceChain(et){var tt;const _e=getRpcUrl$1(et.id);return{...et,rpcUrls:{...et.rpcUrls,default:{...et.rpcUrls.default,http:[_e,...et.rpcUrls.default.http]},public:{...et.rpcUrls.public,http:[_e,...((tt=et.rpcUrls.public)==null?void 0:tt.http)||[]]}}}}const supportedChains={[ChainId.Mainnet]:enhanceChain(mainnet),[ChainId.Goerli]:enhanceChain(goerli),[ChainId.Polygon]:enhanceChain(polygon),[ChainId.Mumbai]:enhanceChain(polygonMumbai),[ChainId.Avalanche]:enhanceChain(avalanche),[ChainId.AvalancheFujiTestnet]:enhanceChain(avalancheFuji),[ChainId.Fantom]:enhanceChain(fantom),[ChainId.FantomTestnet]:enhanceChain(fantomTestnet),[ChainId.Arbitrum]:enhanceChain(arbitrum),[ChainId.ArbitrumGoerli]:enhanceChain(arbitrumGoerli),[ChainId.Optimism]:enhanceChain(optimism),[ChainId.OptimismGoerli]:enhanceChain(optimismGoerli),[ChainId.BinanceSmartChainMainnet]:enhanceChain(bsc),[ChainId.BinanceSmartChainTestnet]:enhanceChain(bscTestnet)};Object.values(supportedChains);const EIP1271_ABI=["function isValidSignature(bytes32 _message, bytes _signature) public view returns (bytes4)"],EIP1271_MAGICVALUE="0x1626ba7e",checkContractWalletSignature=async(et,_e,tt,rt)=>{var ct;const nt=(ct=supportedChains[rt])==null?void 0:ct.rpcUrls.default.http[0];if(!nt)return!1;const it=new JsonRpcProvider$1(nt),at=new Contract(tt,EIP1271_ABI,it),st=hashMessage(et);try{return await at.isValidSignature(st,_e)===EIP1271_MAGICVALUE}catch{return!1}};var _signer=new WeakMap;class SignerWallet{constructor(_e){_defineProperty$3(this,"type","evm"),_classPrivateFieldInitSpec$1(this,_signer,{writable:!0,value:void 0}),_classPrivateFieldSet$1(this,_signer,_e)}async getAddress(){return _classPrivateFieldGet$1(this,_signer).getAddress()}async getChainId(){return _classPrivateFieldGet$1(this,_signer).getChainId()}async signMessage(_e){return await _classPrivateFieldGet$1(this,_signer).signMessage(_e)}async verifySignature(_e,tt,rt,nt){const it=hashMessage(_e),at=arrayify(it);if(recoverAddress(at,tt)===rt)return!0;if(nt!==void 0)try{return await checkContractWalletSignature(_e,tt,rt,nt||1)}catch{}return!1}}const chain$2={mainnet:{id:ChainId$1.Mainnet,name:"Ethereum Mainnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.Mainnet],rpcUrls:["https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]},goerli:{id:ChainId$1.Goerli,name:"Goerli",nativeCurrency:NATIVE_TOKENS[ChainId$1.Goerli],rpcUrls:["https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://goerli.etherscan.io"}],testnet:!0},polygonMainnet:{id:ChainId$1.Polygon,name:"Polygon Mainnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.Polygon],rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://polygonscan.com"}]},polygonTestnetMumbai:{id:ChainId$1.Mumbai,name:"Mumbai",nativeCurrency:NATIVE_TOKENS[ChainId$1.Mumbai],rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com"],blockExplorers:[{name:"PolygonScan",url:"https://mumbai.polygonscan.com"}],testnet:!0},avalanche:{id:ChainId$1.Avalanche,name:"Avalanche",nativeCurrency:NATIVE_TOKENS[ChainId$1.Avalanche],rpcUrls:["https://api.avax.network/ext/bc/C/rpc","https://rpc.ankr.com/avalanche"],blockExplorers:[{name:"SnowTrace",url:"https://snowtrace.io/"}],testnet:!1},avalancheFujiTestnet:{id:ChainId$1.AvalancheFujiTestnet,name:"Avalanche Fuji Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.AvalancheFujiTestnet],rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorers:[{name:"SnowTrace",url:"https://testnet.snowtrace.io/"}],testnet:!0},fantom:{id:ChainId$1.Fantom,name:"Fantom Opera",nativeCurrency:NATIVE_TOKENS[ChainId$1.Fantom],rpcUrls:["https://rpc.ftm.tools"],blockExplorers:[{name:"FTMscan",url:"https://ftmscan.com/"}],testnet:!1},fantomTestnet:{id:ChainId$1.FantomTestnet,name:"Fantom Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.FantomTestnet],rpcUrls:["https://rpc.testnet.fantom.network"],blockExplorers:[{name:"FTMscan",url:"https://testnet.ftmscan.com/"}],testnet:!0},optimism:{id:ChainId$1.Optimism,name:"Optimism",nativeCurrency:NATIVE_TOKENS[ChainId$1.Optimism],rpcUrls:["https://mainnet.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://optimistic.etherscan.io/"}],testnet:!1},optimismGoerli:{id:ChainId$1.OptimismGoerli,name:"Optimism Goerli Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.OptimismGoerli],rpcUrls:["https://goerli.optimism.io/"],blockExplorers:[{name:"Etherscan",url:"https://goerli-optimism.etherscan.io/"}],testnet:!0},arbitrum:{id:ChainId$1.Arbitrum,name:"Arbitrum One",nativeCurrency:NATIVE_TOKENS[ChainId$1.Arbitrum],rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorers:[{name:"Arbiscan",url:"https://arbiscan.io/"}],testnet:!1},arbitrumGoerli:{id:ChainId$1.ArbitrumGoerli,name:"Arbitrum Goerli",nativeCurrency:NATIVE_TOKENS[ChainId$1.ArbitrumGoerli],rpcUrls:["https://goerli-rollup.arbitrum.io/rpc/"],blockExplorers:[{name:"Arbitrum Goerli Rollup Explorer",url:"https://goerli-rollup-explorer.arbitrum.io"}],testnet:!0},binanceSmartChainMainnet:{id:ChainId$1.BinanceSmartChainMainnet,name:"Binance Smart Chain Mainnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.BinanceSmartChainMainnet],rpcUrls:["https://bsc-dataseed1.binance.org"],blockExplorers:[{name:"BscScan",url:"https://bscscan.com/"}],testnet:!1},binanceSmartChainTestnet:{id:ChainId$1.BinanceSmartChainTestnet,name:"Binance Smart Chain Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.BinanceSmartChainTestnet],rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545"],blockExplorers:[{name:"BscScan",url:"https://testnet.bscscan.com/"}],testnet:!0}},defaultSupportedChains$1=Object.values(chain$2),ThirdwebConfigContext=react.exports.createContext({rpcUrlMap:DEFAULT_RPC_URLS,supportedChains:defaultSupportedChains$1}),ThirdwebConfigProvider=et=>{let{value:_e,children:tt}=et;return jsx(ThirdwebConfigContext.Provider,{value:_e,children:tt})};function useThirdwebConfigContext(){return react.exports.useContext(ThirdwebConfigContext)}const INITIAL_CONTEXT_VALUE={wallet:void 0,address:void 0,chainId:void 0,signer:void 0},ThirdwebConnectedWalletContext=react.exports.createContext(INITIAL_CONTEXT_VALUE),ThirdwebConnectedWalletProvider=et=>{let{signer:_e,children:tt}=et;const{rpcUrlMap:rt}=useThirdwebConfigContext(),[nt,it]=react.exports.useState({...INITIAL_CONTEXT_VALUE,signer:_e||void 0});return react.exports.useEffect(()=>{it(at=>({...at,signer:_e||void 0}))},[_e]),react.exports.useEffect(()=>{let at=_e;return _e?Promise.all([_e.getAddress(),_e.getChainId()]).then(st=>{let[ct,ut]=st;const ft=rt[ut];if(_e===at){const gt=new UserWallet(_e,{readonlySettings:ft?{rpcUrl:ft,chainId:ut}:void 0});it({wallet:gt,address:ct,chainId:ut,signer:_e})}}).catch(st=>{}):it(INITIAL_CONTEXT_VALUE),()=>{at=void 0}},[_e]),jsx(ThirdwebConnectedWalletContext.Provider,{value:nt,children:tt})};function useThirdwebConnectedWalletContext(){return react.exports.useContext(ThirdwebConnectedWalletContext)}function useSigner$1(){return useThirdwebConnectedWalletContext().signer}const ThirdwebAuthContext=react.exports.createContext(void 0),ThirdwebAuthProvider=et=>{let{value:_e,children:tt}=et;const rt=useSigner$1(),nt=react.exports.useMemo(()=>{if(!_e)return;const it={..._e,authUrl:_e.authUrl.replace(/\/$/,""),auth:void 0};return rt&&(it.auth=new ThirdwebAuth(new SignerWallet(rt),_e.domain)),it},[_e,rt]);return jsx(ThirdwebAuthContext.Provider,{value:nt,children:tt})},ThirdwebSDKContext=react.exports.createContext({desiredChainId:-1}),WrappedThirdwebSDKProvider=et=>{let{sdkOptions:_e,desiredChainId:tt,storageInterface:rt,provider:nt,queryClient:it,authConfig:at,children:st}=et;const{signer:ct}=useThirdwebConnectedWalletContext(),[ut,ft]=react.exports.useState();react.exports.useEffect(()=>{if(!tt||typeof window=="undefined")return;const _t=new ThirdwebSDK(nt,_e,rt);ct&&_t.updateSignerOrProvider(ct),_t._constructedAt=Date.now(),_t._chainId=tt,ft(_t)},[nt,_e,rt,tt]),react.exports.useEffect(()=>{ut&&ut._chainId===tt&&(ct?ut.updateSignerOrProvider(ct):ut.updateSignerOrProvider(nt))},[ct,ut,tt,nt]);const gt=react.exports.useMemo(()=>({sdk:ut,desiredChainId:tt||-1,_inProvider:!0}),[tt,ut]);return jsx(QueryClientProviderWithDefault,{queryClient:it,children:jsx(ThirdwebAuthProvider,{value:at,children:jsx(ThirdwebSDKContext.Provider,{value:gt,children:st})})})},ThirdwebSDKProvider=et=>{let{signer:_e,children:tt,...rt}=et;return jsx(ThirdwebConnectedWalletProvider,{signer:_e,children:jsx(WrappedThirdwebSDKProvider,{...rt,children:tt})})};function useSDKContext(){const et=react.exports.useContext(ThirdwebSDKContext);return invariant$1(et._inProvider,"useSDK must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),et}function useSDK(){const{sdk:et}=useSDKContext();return et}function useSDKChainId(){const et=useSDK();return et==null?void 0:et._chainId}const TW_CACHE_KEY_PREFIX="tw-cache";function enforceCachePrefix(et){return[TW_CACHE_KEY_PREFIX,...et.filter(_e=>typeof _e!="string"||_e!==TW_CACHE_KEY_PREFIX)]}function createContractCacheKey(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AddressZero,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return enforceCachePrefix(["contract",et,..._e])}function createCacheKeyWithNetwork(et,_e){return enforceCachePrefix(cacheKeys.network.active(_e).concat(et))}const cacheKeys={auth:{user:()=>enforceCachePrefix(["user"])},network:{active:et=>enforceCachePrefix(["chainId",et])},wallet:{balance:(et,_e,tt)=>enforceCachePrefix(createCacheKeyWithNetwork(enforceCachePrefix(["balance",{walletAddress:_e,tokenAddress:tt}]),et))},contract:{read:(et,_e)=>createContractCacheKey(et,["read",_e]),type:et=>createContractCacheKey(et,["contract-type"]),compilerMetadata:et=>createContractCacheKey(et,["publish-metadata"]),typeAndCompilerMetadata:et=>createContractCacheKey(et,["contract-type-and-metadata"]),metadata:et=>createContractCacheKey(et,["metadata"]),extractFunctions:et=>createContractCacheKey(et,["extractFunctions"]),call:(et,_e,tt)=>createContractCacheKey(et,["call",_e,tt]),events:{getEvents:(et,_e)=>createContractCacheKey(et,["events","getEvents",{eventName:_e}]),getAllEvents:et=>createContractCacheKey(et,["events","getAllEvents"])},nft:{get:(et,_e)=>createContractCacheKey(et,["get",{tokenId:_e}]),balanceOf:(et,_e,tt)=>createContractCacheKey(et,["balanceOf",{owner:_e,tokenId:tt}]),query:{all:(et,_e)=>createContractCacheKey(et,_e?["query","all",_e]:["query","all"]),totalCirculatingSupply:et=>createContractCacheKey(et,["query","totalCirculatingSupply"]),totalCount:et=>createContractCacheKey(et,["query","totalCount"]),owned:{all:(et,_e)=>createContractCacheKey(et,["query","owned","all",_e])}},drop:{getAllUnclaimed:(et,_e)=>createContractCacheKey(et,_e?["getAllUnclaimed",_e]:["getAllUnclaimed"]),getAllClaimed:(et,_e)=>createContractCacheKey(et,_e?["getAllClaimed",_e]:["getAllClaimed"]),totalUnclaimedSupply:et=>createContractCacheKey(et,["totalUnclaimedSupply"]),totalClaimedSupply:et=>createContractCacheKey(et,["totalClaimedSupply"]),revealer:{getBatchesToReveal:(et,_e)=>createContractCacheKey(et,_e?["getBatchesToReveal",_e]:["getBatchesToReveal"])}}},token:{totalSupply:et=>createContractCacheKey(et,["totalSupply"]),decimals:et=>createContractCacheKey(et,["decimals"]),balanceOf:(et,_e)=>createContractCacheKey(et,["balanceOf",{walletAddress:_e}])},marketplace:{getListing:(et,_e)=>createContractCacheKey(et,["getListing",{listingId:_e}]),getAllListings:(et,_e)=>createContractCacheKey(et,_e?["getAllListings",_e]:["getAllListings"]),getTotalCount:et=>createContractCacheKey(et,["getTotalCount"]),getActiveListings:(et,_e)=>createContractCacheKey(et,_e?["getActiveListings",_e]:["getActiveListings"]),getBidBufferBps:et=>createContractCacheKey(et,["getBidBufferBps"]),auction:{getWinningBid:(et,_e)=>createContractCacheKey(et,["auction","getWinningBid",{listingId:_e}]),getWinner:(et,_e)=>createContractCacheKey(et,["auction","getWinner",{listingId:_e}])},directListings:{getAll:(et,_e)=>createContractCacheKey(et,_e?["getAllDirectListings",_e]:["getAllDirectListings"]),getAllValid:(et,_e)=>createContractCacheKey(et,_e?["getAllValidDirectListings",_e]:["getAllValidDirectListings"]),getListing:(et,_e)=>createContractCacheKey(et,["getListing",{listingId:_e}]),getTotalCount:et=>createContractCacheKey(et,["getTotalDirectListingsCount"])},englishAuctions:{getAll:(et,_e)=>createContractCacheKey(et,_e?["getAllEnglishAuctions",_e]:["getAllEnglishAuctions"]),getAllValid:(et,_e)=>createContractCacheKey(et,_e?["getAllEValidEnglishAuctions",_e]:["getAllEValidEnglishAuctions"]),getAuction:(et,_e)=>createContractCacheKey(et,["getAuction",{auctionId:_e}]),getWinningBid:(et,_e)=>createContractCacheKey(et,["getWinningBid",{auctionId:_e}]),getTotalCount:et=>createContractCacheKey(et,["getTotalEnglishAuctionsCount"])}}},extensions:{claimConditions:{getActive:(et,_e,tt)=>createContractCacheKey(et,_e?["claimConditions","getActive",{tokenId:_e},tt]:["claimConditions","getActive",tt]),getAll:(et,_e,tt)=>createContractCacheKey(et,_e?["claimConditions","getAll",{tokenId:_e},tt]:["claimConditions","getAll",tt]),getClaimerProofs:(et,_e)=>createContractCacheKey(et,_e?["claimConditions","getClaimerProofs",{tokenId:_e}]:["claimConditions","getClaimerProofs"]),getClaimIneligibilityReasons:(et,_e,tt)=>createContractCacheKey(et,tt?["claimConditions","getIneligibilityReasons",{tokenId:tt},_e]:["claimConditions","getIneligibilityReasons",_e]),useActiveClaimConditionForWallet:(et,_e,tt)=>createContractCacheKey(et,tt?["claimConditions","useActiveClaimConditionForWallet",{tokenId:tt,walletAddress:_e},,]:["claimConditions","getIneligibilityReasons",{walletAddress:_e}])},sales:{getRecipient:et=>createContractCacheKey(et,["sales"])},royalties:{getDefaultRoyaltyInfo:et=>createContractCacheKey(et,["royalties"])},platformFees:{get:et=>createContractCacheKey(et,["platformFees"])},metadata:{get:et=>createContractCacheKey(et,["metadata"])},roles:{getAll:et=>createContractCacheKey(et,["roles"]),get:(et,_e)=>createContractCacheKey(et,["roles",{role:_e}])}}};function useQueryWithNetwork(et,_e,tt){const rt=useSDKChainId(),nt={...tt,enabled:!!(rt&&(tt==null?void 0:tt.enabled))};return useQuery(createCacheKeyWithNetwork(et,rt),_e,nt)}function useAddress(){return useThirdwebConnectedWalletContext().address}function useChainId(){return useThirdwebConnectedWalletContext().chainId}async function fetchContractType(et,_e){if(!et||!_e)return null;try{return await _e.resolveContractType(et)}catch(tt){return console.error("failed to resolve contract type",tt),"custom"}}function useContractType(et){const _e=useSDK();return useQueryWithNetwork(cacheKeys.contract.type(et),()=>fetchContractType(et,_e),{cacheTime:1/0,staleTime:1/0,enabled:!!et&&!!_e})}const contractType={cacheKey:(et,_e)=>createCacheKeyWithNetwork(cacheKeys.contract.type(et),_e),useQuery:useContractType,fetchQuery:fetchContractType};function fetchCompilerMetadata(et,_e){if(!et||!_e)return null;try{return _e.getPublisher().fetchCompilerMetadataFromAddress(et)}catch{return null}}function useCompilerMetadata(et){const _e=useSDK();return useQueryWithNetwork(cacheKeys.contract.compilerMetadata(et),()=>fetchCompilerMetadata(et,_e),{cacheTime:1/0,staleTime:1/0,enabled:!!et&&!!_e})}const compilerMetadata={cacheKey:(et,_e)=>createCacheKeyWithNetwork(cacheKeys.contract.compilerMetadata(et),_e),useQuery:useCompilerMetadata,fetchQuery:fetchCompilerMetadata};function useContract(et,_e){const tt=useSDK(),rt=useQueryClient(),nt=useSDKChainId(),it=useAddress(),at=useChainId(),st=tt==null?void 0:tt._constructedAt,ct=useQueryWithNetwork(neverPersist(["contract-instance",et,{wallet:it,walletChainId:at,sdkTimestamp:st}]),async()=>{var ut;if(requiredParamInvariant(et,"contract address is required"),invariant$1(tt,"SDK not initialized"),invariant$1(nt,"active chain id is required"),!_e||_e==="custom"){const ft=await rt.fetchQuery(contractType.cacheKey(et,nt),()=>contractType.fetchQuery(et,tt),{cacheTime:1/0,staleTime:1/0});let gt;return ft==="custom"&&(gt=(ut=await rt.fetchQuery(compilerMetadata.cacheKey(et,nt),()=>compilerMetadata.fetchQuery(et,tt),{cacheTime:1/0,staleTime:1/0,retry:0}))==null?void 0:ut.abi),invariant$1(ft,"failed to resolve contract type"),tt.getContract(et,gt||ft)}return tt.getContract(et,_e)},{keepPreviousData:!0,cacheTime:1/0,staleTime:1/0,enabled:!!et&&!!tt&&!!nt,retry:0});return{...ct,data:ct.data,contract:ct.data}}function useContractMetadata(et){return useQueryWithNetwork(cacheKeys.contract.metadata(et==null?void 0:et.getAddress()),async()=>(requiredParamInvariant(et,"contract is required"),await et.metadata.get()),{enabled:!!et})}function getErcs(et){return{erc1155:getErc1155(et),erc721:getErc721(et),erc20:getErc20(et)}}function getErc1155(et){if(!!et)try{if("erc1155"in et)return et.erc1155}catch{return}}function getErc721(et){if(!!et)try{if("erc721"in et)return et.erc721}catch{return}}function getErc20(et){if(!!et)try{if("erc20"in et)return et.erc20}catch{return}}function useNFT(et,_e){const tt=et==null?void 0:et.getAddress(),{erc721:rt,erc1155:nt}=getErcs(et);return useQueryWithNetwork(cacheKeys.contract.nft.get(tt,_e),async()=>{if(requiredParamInvariant(et,"No Contract instance provided"),nt)return invariant$1(nt.get,"Contract instance does not support get"),await nt.get(BigNumber.from(_e||0));if(rt)return invariant$1(rt.get,"Contract instance does not support get"),await rt.get(BigNumber.from(_e||0));invariant$1(!1,"Unknown NFT type")},{enabled:!!rt||!!nt&&_e!==void 0})}function useNFTBalance(et,_e,tt){const rt=et==null?void 0:et.getAddress(),{erc721:nt,erc1155:it}=getErcs(et);return useQueryWithNetwork(cacheKeys.contract.nft.balanceOf(rt,_e,tt),()=>{if(requiredParamInvariant(et,"No Contract instance provided"),invariant$1(_e,"No owner wallet address provided"),it)return requiredParamInvariant(tt,"No tokenId provided"),invariant$1(it.balanceOf,"Contract instance does not support balanceOf"),it.balanceOf(_e,tt);if(nt)return invariant$1(nt.balanceOf,"Contract instance does not support balanceOf"),nt.balanceOf(_e);invariant$1(!1,"Unknown NFT type")},{enabled:!!nt||!!it&&!!_e})}var eventemitter3={exports:{}};(function(et){var _e=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(ct,ut,ft){this.fn=ct,this.context=ut,this.once=ft||!1}function it(ct,ut,ft,gt,_t){if(typeof ft!="function")throw new TypeError("The listener must be a function");var Et=new nt(ft,gt||ct,_t),$t=tt?tt+ut:ut;return ct._events[$t]?ct._events[$t].fn?ct._events[$t]=[ct._events[$t],Et]:ct._events[$t].push(Et):(ct._events[$t]=Et,ct._eventsCount++),ct}function at(ct,ut){--ct._eventsCount===0?ct._events=new rt:delete ct._events[ut]}function st(){this._events=new rt,this._eventsCount=0}st.prototype.eventNames=function(){var ut=[],ft,gt;if(this._eventsCount===0)return ut;for(gt in ft=this._events)_e.call(ft,gt)&&ut.push(tt?gt.slice(1):gt);return Object.getOwnPropertySymbols?ut.concat(Object.getOwnPropertySymbols(ft)):ut},st.prototype.listeners=function(ut){var ft=tt?tt+ut:ut,gt=this._events[ft];if(!gt)return[];if(gt.fn)return[gt.fn];for(var _t=0,Et=gt.length,$t=new Array(Et);_t<Et;_t++)$t[_t]=gt[_t].fn;return $t},st.prototype.listenerCount=function(ut){var ft=tt?tt+ut:ut,gt=this._events[ft];return gt?gt.fn?1:gt.length:0},st.prototype.emit=function(ut,ft,gt,_t,Et,$t){var It=tt?tt+ut:ut;if(!this._events[It])return!1;var Tt=this._events[It],At=arguments.length,Rt,kt;if(Tt.fn){switch(Tt.once&&this.removeListener(ut,Tt.fn,void 0,!0),At){case 1:return Tt.fn.call(Tt.context),!0;case 2:return Tt.fn.call(Tt.context,ft),!0;case 3:return Tt.fn.call(Tt.context,ft,gt),!0;case 4:return Tt.fn.call(Tt.context,ft,gt,_t),!0;case 5:return Tt.fn.call(Tt.context,ft,gt,_t,Et),!0;case 6:return Tt.fn.call(Tt.context,ft,gt,_t,Et,$t),!0}for(kt=1,Rt=new Array(At-1);kt<At;kt++)Rt[kt-1]=arguments[kt];Tt.fn.apply(Tt.context,Rt)}else{var Ot=Tt.length,Wt;for(kt=0;kt<Ot;kt++)switch(Tt[kt].once&&this.removeListener(ut,Tt[kt].fn,void 0,!0),At){case 1:Tt[kt].fn.call(Tt[kt].context);break;case 2:Tt[kt].fn.call(Tt[kt].context,ft);break;case 3:Tt[kt].fn.call(Tt[kt].context,ft,gt);break;case 4:Tt[kt].fn.call(Tt[kt].context,ft,gt,_t);break;default:if(!Rt)for(Wt=1,Rt=new Array(At-1);Wt<At;Wt++)Rt[Wt-1]=arguments[Wt];Tt[kt].fn.apply(Tt[kt].context,Rt)}}return!0},st.prototype.on=function(ut,ft,gt){return it(this,ut,ft,gt,!1)},st.prototype.once=function(ut,ft,gt){return it(this,ut,ft,gt,!0)},st.prototype.removeListener=function(ut,ft,gt,_t){var Et=tt?tt+ut:ut;if(!this._events[Et])return this;if(!ft)return at(this,Et),this;var $t=this._events[Et];if($t.fn)$t.fn===ft&&(!_t||$t.once)&&(!gt||$t.context===gt)&&at(this,Et);else{for(var It=0,Tt=[],At=$t.length;It<At;It++)($t[It].fn!==ft||_t&&!$t[It].once||gt&&$t[It].context!==gt)&&Tt.push($t[It]);Tt.length?this._events[Et]=Tt.length===1?Tt[0]:Tt:at(this,Et)}return this},st.prototype.removeAllListeners=function(ut){var ft;return ut?(ft=tt?tt+ut:ut,this._events[ft]&&at(this,ft)):(this._events=new rt,this._eventsCount=0),this},st.prototype.off=st.prototype.removeListener,st.prototype.addListener=st.prototype.on,st.prefixed=tt,st.EventEmitter=st,et.exports=st})(eventemitter3);var EventEmitter$2=eventemitter3.exports;function _checkPrivateRedeclaration(et,_e){if(_e.has(et))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec(et,_e,tt){_checkPrivateRedeclaration(et,_e),_e.set(et,tt)}function _defineProperty$2(et,_e,tt){return _e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function _classApplyDescriptorGet(et,_e){return _e.get?_e.get.call(et):_e.value}function _classExtractFieldDescriptor(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to "+tt+" private field on non-instance");return _e.get(et)}function _classPrivateFieldGet(et,_e){var tt=_classExtractFieldDescriptor(et,_e,"get");return _classApplyDescriptorGet(et,tt)}function _classApplyDescriptorSet(et,_e,tt){if(_e.set)_e.set.call(et,tt);else{if(!_e.writable)throw new TypeError("attempted to set read only private field");_e.value=tt}}function _classPrivateFieldSet(et,_e,tt){var rt=_classExtractFieldDescriptor(et,_e,"set");return _classApplyDescriptorSet(et,rt,tt),tt}const chain$1={mainnet:{id:1,name:"Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]},ropsten:{id:3,name:"Ropsten",nativeCurrency:{name:"Ropsten Ether",symbol:"ropETH",decimals:18},rpcUrls:["https://ropsten.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://ropsten.etherscan.io"}],testnet:!0},rinkeby:{id:4,name:"Rinkeby",nativeCurrency:{name:"Rinkeby Ether",symbol:"rETH",decimals:18},rpcUrls:["https://rinkeby.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://rinkeby.etherscan.io"}],testnet:!0},gnosis:{id:100,name:"Gnosis Chain",nativeCurrency:{name:"xDai",symbol:"xDAI",decimals:18},rpcUrls:["https://rpc.gnosischain.com"],blockExplorers:[{name:"Blockscout",url:"https://blockscout.com"}]},goerli:{id:5,name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"gETH",decimals:18},rpcUrls:["https://goerli.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://goerli.etherscan.io"}],testnet:!0},kovan:{id:42,name:"Kovan",nativeCurrency:{name:"Kovan Ether",symbol:"kETH",decimals:18},rpcUrls:["https://kovan.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://kovan.etherscan.io"}],testnet:!0},optimism:{id:10,name:"Optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://optimistic.etherscan.io"}]},optimismKovan:{id:69,name:"Optimism Kovan",nativeCurrency:{name:"Kovan Ether",symbol:"KOR",decimals:18},rpcUrls:["https://kovan.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://kovan-optimistic.etherscan.io"}],testnet:!0},polygonMainnet:{id:137,name:"Polygon Mainnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://polygonscan.com"}]},polygonTestnetMumbai:{id:80001,name:"Mumbai",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://mumbai.polygonscan.com"}],testnet:!0},arbitrumOne:{id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"AETH",decimals:18},rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorers:[{name:"Arbiscan",url:"https://arbiscan.io"},{name:"Arbitrum Explorer",url:"https://explorer.arbitrum.io"}]},arbitrumRinkeby:{id:421611,name:"Arbitrum Rinkeby",nativeCurrency:{name:"Arbitrum Rinkeby Ether",symbol:"ARETH",decimals:18},rpcUrls:["https://rinkeby.arbitrum.io/rpc"],blockExplorers:[{name:"Arbitrum Explorer",url:"https://rinkeby-explorer.arbitrum.io"}],testnet:!0},avalanche:{id:43114,name:"Avalanche Mainnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax.network/ext/bc/C/rpc"],blockExplorers:[{name:"SnowTrace",url:"https://snowtrace.io"}],testnet:!1},avalancheFuji:{id:43113,name:"Avalanche Fuji Testnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorers:[{name:"SnowTrace",url:"https://testnet.snowtrace.io"}],testnet:!0},localhost:{id:1337,name:"Localhost",rpcUrls:["https://127.0.0.1:8545"]},hardhat:{id:31337,name:"Hardhat",rpcUrls:["http://127.0.0.1:8545"]}},allChains=Object.values(chain$1),defaultChains=[chain$1.mainnet,chain$1.ropsten,chain$1.rinkeby,chain$1.goerli,chain$1.kovan];chain$1.gnosis,chain$1.optimism,chain$1.optimismKovan,chain$1.polygonMainnet,chain$1.polygonTestnetMumbai,chain$1.arbitrumOne,chain$1.arbitrumRinkeby;chain$1.localhost,chain$1.hardhat;const normalizeChainId=et=>typeof et=="string"?Number.parseInt(et,et.trim().substring(0,2)==="0x"?16:10):et;class AddChainError extends Error{constructor(){super(...arguments),_defineProperty$2(this,"name","AddChainError"),_defineProperty$2(this,"message","Error adding chain")}}class ChainNotConfiguredError extends Error{constructor(){super(...arguments),_defineProperty$2(this,"name","ChainNotConfigured"),_defineProperty$2(this,"message","Chain not configured")}}class ConnectorNotFoundError extends Error{constructor(){super(...arguments),_defineProperty$2(this,"name","ConnectorNotFoundError"),_defineProperty$2(this,"message","Connector not found")}}class SwitchChainError extends Error{constructor(){super(...arguments),_defineProperty$2(this,"name","SwitchChainError"),_defineProperty$2(this,"message","Error switching chain")}}class UserRejectedRequestError extends Error{constructor(){super(...arguments),_defineProperty$2(this,"name","UserRejectedRequestError"),_defineProperty$2(this,"message","User rejected request")}}class Connector$1 extends EventEmitter$2{constructor(_e){let{chains:tt=defaultChains,options:rt}=_e;super(),_defineProperty$2(this,"id",void 0),_defineProperty$2(this,"name",void 0),_defineProperty$2(this,"chains",void 0),_defineProperty$2(this,"options",void 0),_defineProperty$2(this,"ready",void 0),this.chains=tt,this.options=rt}isChainUnsupported(_e){return!this.chains.some(tt=>tt.id===_e)}}var utils$6={},require$$0$2=getAugmentedNamespace(lib_esm$b),require$$1$1=getAugmentedNamespace(lib_esm$f),require$$2$2=getAugmentedNamespace(lib_esm$d),require$$3$3=getAugmentedNamespace(lib_esm$8),require$$4=getAugmentedNamespace(lib_esm$j),require$$5=getAugmentedNamespace(lib_esm$c),require$$6$1=getAugmentedNamespace(lib_esm$6),require$$7=getAugmentedNamespace(lib_esm$4),require$$8=getAugmentedNamespace(lib_esm$h),require$$9=getAugmentedNamespace(lib_esm$k),require$$10=getAugmentedNamespace(lib_esm$7),require$$11=getAugmentedNamespace(lib_esm$1),require$$12=getAugmentedNamespace(lib_esm$5),require$$13=getAugmentedNamespace(lib_esm$i),require$$14=getAugmentedNamespace(lib_esm$g),require$$15=getAugmentedNamespace(lib_esm$a),require$$16=getAugmentedNamespace(lib_esm$e),require$$17=getAugmentedNamespace(lib_esm$9),require$$18=getAugmentedNamespace(lib_esm),require$$19=getAugmentedNamespace(lib_esm$3),require$$20=getAugmentedNamespace(lib_esm$2);(function(et){var _e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Ct,Nt,ht,ot){ot===void 0&&(ot=ht),Object.defineProperty(Ct,ot,{enumerable:!0,get:function(){return Nt[ht]}})}:function(Ct,Nt,ht,ot){ot===void 0&&(ot=ht),Ct[ot]=Nt[ht]}),tt=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Ct,Nt){Object.defineProperty(Ct,"default",{enumerable:!0,value:Nt})}:function(Ct,Nt){Ct.default=Nt}),rt=commonjsGlobal&&commonjsGlobal.__importStar||function(Ct){if(Ct&&Ct.__esModule)return Ct;var Nt={};if(Ct!=null)for(var ht in Ct)ht!=="default"&&Object.prototype.hasOwnProperty.call(Ct,ht)&&_e(Nt,Ct,ht);return tt(Nt,Ct),Nt};Object.defineProperty(et,"__esModule",{value:!0}),et.formatBytes32String=et.Utf8ErrorFuncs=et.toUtf8String=et.toUtf8CodePoints=et.toUtf8Bytes=et._toEscapedUtf8String=et.nameprep=et.hexDataSlice=et.hexDataLength=et.hexZeroPad=et.hexValue=et.hexStripZeros=et.hexConcat=et.isHexString=et.hexlify=et.base64=et.base58=et.TransactionDescription=et.LogDescription=et.Interface=et.SigningKey=et.HDNode=et.defaultPath=et.isBytesLike=et.isBytes=et.zeroPad=et.stripZeros=et.concat=et.arrayify=et.shallowCopy=et.resolveProperties=et.getStatic=et.defineReadOnly=et.deepCopy=et.checkProperties=et.poll=et.fetchJson=et._fetchData=et.RLP=et.Logger=et.checkResultErrors=et.FormatTypes=et.ParamType=et.FunctionFragment=et.EventFragment=et.ErrorFragment=et.ConstructorFragment=et.Fragment=et.defaultAbiCoder=et.AbiCoder=void 0,et.Indexed=et.Utf8ErrorReason=et.UnicodeNormalizationForm=et.SupportedAlgorithm=et.mnemonicToSeed=et.isValidMnemonic=et.entropyToMnemonic=et.mnemonicToEntropy=et.getAccountPath=et.verifyTypedData=et.verifyMessage=et.recoverPublicKey=et.computePublicKey=et.recoverAddress=et.computeAddress=et.getJsonWalletAddress=et.TransactionTypes=et.serializeTransaction=et.parseTransaction=et.accessListify=et.joinSignature=et.splitSignature=et.soliditySha256=et.solidityKeccak256=et.solidityPack=et.shuffled=et.randomBytes=et.sha512=et.sha256=et.ripemd160=et.keccak256=et.computeHmac=et.commify=et.parseUnits=et.formatUnits=et.parseEther=et.formatEther=et.isAddress=et.getCreate2Address=et.getContractAddress=et.getIcapAddress=et.getAddress=et._TypedDataEncoder=et.id=et.isValidName=et.namehash=et.hashMessage=et.dnsEncode=et.parseBytes32String=void 0;var nt=require$$0$2;Object.defineProperty(et,"AbiCoder",{enumerable:!0,get:function(){return nt.AbiCoder}}),Object.defineProperty(et,"checkResultErrors",{enumerable:!0,get:function(){return nt.checkResultErrors}}),Object.defineProperty(et,"ConstructorFragment",{enumerable:!0,get:function(){return nt.ConstructorFragment}}),Object.defineProperty(et,"defaultAbiCoder",{enumerable:!0,get:function(){return nt.defaultAbiCoder}}),Object.defineProperty(et,"ErrorFragment",{enumerable:!0,get:function(){return nt.ErrorFragment}}),Object.defineProperty(et,"EventFragment",{enumerable:!0,get:function(){return nt.EventFragment}}),Object.defineProperty(et,"FormatTypes",{enumerable:!0,get:function(){return nt.FormatTypes}}),Object.defineProperty(et,"Fragment",{enumerable:!0,get:function(){return nt.Fragment}}),Object.defineProperty(et,"FunctionFragment",{enumerable:!0,get:function(){return nt.FunctionFragment}}),Object.defineProperty(et,"Indexed",{enumerable:!0,get:function(){return nt.Indexed}}),Object.defineProperty(et,"Interface",{enumerable:!0,get:function(){return nt.Interface}}),Object.defineProperty(et,"LogDescription",{enumerable:!0,get:function(){return nt.LogDescription}}),Object.defineProperty(et,"ParamType",{enumerable:!0,get:function(){return nt.ParamType}}),Object.defineProperty(et,"TransactionDescription",{enumerable:!0,get:function(){return nt.TransactionDescription}});var it=require$$1$1;Object.defineProperty(et,"getAddress",{enumerable:!0,get:function(){return it.getAddress}}),Object.defineProperty(et,"getCreate2Address",{enumerable:!0,get:function(){return it.getCreate2Address}}),Object.defineProperty(et,"getContractAddress",{enumerable:!0,get:function(){return it.getContractAddress}}),Object.defineProperty(et,"getIcapAddress",{enumerable:!0,get:function(){return it.getIcapAddress}}),Object.defineProperty(et,"isAddress",{enumerable:!0,get:function(){return it.isAddress}});var at=rt(require$$2$2);et.base64=at;var st=require$$3$3;Object.defineProperty(et,"base58",{enumerable:!0,get:function(){return st.Base58}});var ct=require$$4;Object.defineProperty(et,"arrayify",{enumerable:!0,get:function(){return ct.arrayify}}),Object.defineProperty(et,"concat",{enumerable:!0,get:function(){return ct.concat}}),Object.defineProperty(et,"hexConcat",{enumerable:!0,get:function(){return ct.hexConcat}}),Object.defineProperty(et,"hexDataSlice",{enumerable:!0,get:function(){return ct.hexDataSlice}}),Object.defineProperty(et,"hexDataLength",{enumerable:!0,get:function(){return ct.hexDataLength}}),Object.defineProperty(et,"hexlify",{enumerable:!0,get:function(){return ct.hexlify}}),Object.defineProperty(et,"hexStripZeros",{enumerable:!0,get:function(){return ct.hexStripZeros}}),Object.defineProperty(et,"hexValue",{enumerable:!0,get:function(){return ct.hexValue}}),Object.defineProperty(et,"hexZeroPad",{enumerable:!0,get:function(){return ct.hexZeroPad}}),Object.defineProperty(et,"isBytes",{enumerable:!0,get:function(){return ct.isBytes}}),Object.defineProperty(et,"isBytesLike",{enumerable:!0,get:function(){return ct.isBytesLike}}),Object.defineProperty(et,"isHexString",{enumerable:!0,get:function(){return ct.isHexString}}),Object.defineProperty(et,"joinSignature",{enumerable:!0,get:function(){return ct.joinSignature}}),Object.defineProperty(et,"zeroPad",{enumerable:!0,get:function(){return ct.zeroPad}}),Object.defineProperty(et,"splitSignature",{enumerable:!0,get:function(){return ct.splitSignature}}),Object.defineProperty(et,"stripZeros",{enumerable:!0,get:function(){return ct.stripZeros}});var ut=require$$5;Object.defineProperty(et,"_TypedDataEncoder",{enumerable:!0,get:function(){return ut._TypedDataEncoder}}),Object.defineProperty(et,"dnsEncode",{enumerable:!0,get:function(){return ut.dnsEncode}}),Object.defineProperty(et,"hashMessage",{enumerable:!0,get:function(){return ut.hashMessage}}),Object.defineProperty(et,"id",{enumerable:!0,get:function(){return ut.id}}),Object.defineProperty(et,"isValidName",{enumerable:!0,get:function(){return ut.isValidName}}),Object.defineProperty(et,"namehash",{enumerable:!0,get:function(){return ut.namehash}});var ft=require$$6$1;Object.defineProperty(et,"defaultPath",{enumerable:!0,get:function(){return ft.defaultPath}}),Object.defineProperty(et,"entropyToMnemonic",{enumerable:!0,get:function(){return ft.entropyToMnemonic}}),Object.defineProperty(et,"getAccountPath",{enumerable:!0,get:function(){return ft.getAccountPath}}),Object.defineProperty(et,"HDNode",{enumerable:!0,get:function(){return ft.HDNode}}),Object.defineProperty(et,"isValidMnemonic",{enumerable:!0,get:function(){return ft.isValidMnemonic}}),Object.defineProperty(et,"mnemonicToEntropy",{enumerable:!0,get:function(){return ft.mnemonicToEntropy}}),Object.defineProperty(et,"mnemonicToSeed",{enumerable:!0,get:function(){return ft.mnemonicToSeed}});var gt=require$$7;Object.defineProperty(et,"getJsonWalletAddress",{enumerable:!0,get:function(){return gt.getJsonWalletAddress}});var _t=require$$8;Object.defineProperty(et,"keccak256",{enumerable:!0,get:function(){return _t.keccak256}});var Et=require$$9;Object.defineProperty(et,"Logger",{enumerable:!0,get:function(){return Et.Logger}});var $t=require$$10;Object.defineProperty(et,"computeHmac",{enumerable:!0,get:function(){return $t.computeHmac}}),Object.defineProperty(et,"ripemd160",{enumerable:!0,get:function(){return $t.ripemd160}}),Object.defineProperty(et,"sha256",{enumerable:!0,get:function(){return $t.sha256}}),Object.defineProperty(et,"sha512",{enumerable:!0,get:function(){return $t.sha512}});var It=require$$11;Object.defineProperty(et,"solidityKeccak256",{enumerable:!0,get:function(){return It.keccak256}}),Object.defineProperty(et,"solidityPack",{enumerable:!0,get:function(){return It.pack}}),Object.defineProperty(et,"soliditySha256",{enumerable:!0,get:function(){return It.sha256}});var Tt=require$$12;Object.defineProperty(et,"randomBytes",{enumerable:!0,get:function(){return Tt.randomBytes}}),Object.defineProperty(et,"shuffled",{enumerable:!0,get:function(){return Tt.shuffled}});var At=require$$13;Object.defineProperty(et,"checkProperties",{enumerable:!0,get:function(){return At.checkProperties}}),Object.defineProperty(et,"deepCopy",{enumerable:!0,get:function(){return At.deepCopy}}),Object.defineProperty(et,"defineReadOnly",{enumerable:!0,get:function(){return At.defineReadOnly}}),Object.defineProperty(et,"getStatic",{enumerable:!0,get:function(){return At.getStatic}}),Object.defineProperty(et,"resolveProperties",{enumerable:!0,get:function(){return At.resolveProperties}}),Object.defineProperty(et,"shallowCopy",{enumerable:!0,get:function(){return At.shallowCopy}});var Rt=rt(require$$14);et.RLP=Rt;var kt=require$$15;Object.defineProperty(et,"computePublicKey",{enumerable:!0,get:function(){return kt.computePublicKey}}),Object.defineProperty(et,"recoverPublicKey",{enumerable:!0,get:function(){return kt.recoverPublicKey}}),Object.defineProperty(et,"SigningKey",{enumerable:!0,get:function(){return kt.SigningKey}});var Ot=require$$16;Object.defineProperty(et,"formatBytes32String",{enumerable:!0,get:function(){return Ot.formatBytes32String}}),Object.defineProperty(et,"nameprep",{enumerable:!0,get:function(){return Ot.nameprep}}),Object.defineProperty(et,"parseBytes32String",{enumerable:!0,get:function(){return Ot.parseBytes32String}}),Object.defineProperty(et,"_toEscapedUtf8String",{enumerable:!0,get:function(){return Ot._toEscapedUtf8String}}),Object.defineProperty(et,"toUtf8Bytes",{enumerable:!0,get:function(){return Ot.toUtf8Bytes}}),Object.defineProperty(et,"toUtf8CodePoints",{enumerable:!0,get:function(){return Ot.toUtf8CodePoints}}),Object.defineProperty(et,"toUtf8String",{enumerable:!0,get:function(){return Ot.toUtf8String}}),Object.defineProperty(et,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return Ot.Utf8ErrorFuncs}});var Wt=require$$17;Object.defineProperty(et,"accessListify",{enumerable:!0,get:function(){return Wt.accessListify}}),Object.defineProperty(et,"computeAddress",{enumerable:!0,get:function(){return Wt.computeAddress}}),Object.defineProperty(et,"parseTransaction",{enumerable:!0,get:function(){return Wt.parse}}),Object.defineProperty(et,"recoverAddress",{enumerable:!0,get:function(){return Wt.recoverAddress}}),Object.defineProperty(et,"serializeTransaction",{enumerable:!0,get:function(){return Wt.serialize}}),Object.defineProperty(et,"TransactionTypes",{enumerable:!0,get:function(){return Wt.TransactionTypes}});var zt=require$$18;Object.defineProperty(et,"commify",{enumerable:!0,get:function(){return zt.commify}}),Object.defineProperty(et,"formatEther",{enumerable:!0,get:function(){return zt.formatEther}}),Object.defineProperty(et,"parseEther",{enumerable:!0,get:function(){return zt.parseEther}}),Object.defineProperty(et,"formatUnits",{enumerable:!0,get:function(){return zt.formatUnits}}),Object.defineProperty(et,"parseUnits",{enumerable:!0,get:function(){return zt.parseUnits}});var Kt=require$$19;Object.defineProperty(et,"verifyMessage",{enumerable:!0,get:function(){return Kt.verifyMessage}}),Object.defineProperty(et,"verifyTypedData",{enumerable:!0,get:function(){return Kt.verifyTypedData}});var Jt=require$$20;Object.defineProperty(et,"_fetchData",{enumerable:!0,get:function(){return Jt._fetchData}}),Object.defineProperty(et,"fetchJson",{enumerable:!0,get:function(){return Jt.fetchJson}}),Object.defineProperty(et,"poll",{enumerable:!0,get:function(){return Jt.poll}});var ar=require$$10;Object.defineProperty(et,"SupportedAlgorithm",{enumerable:!0,get:function(){return ar.SupportedAlgorithm}});var jt=require$$16;Object.defineProperty(et,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return jt.UnicodeNormalizationForm}}),Object.defineProperty(et,"Utf8ErrorReason",{enumerable:!0,get:function(){return jt.Utf8ErrorReason}})})(utils$6);const getInjectedName=et=>et?et.isBraveWallet?"Brave Wallet":et.isMetaMask?"MetaMask":et.isCoinbaseWallet?"Coinbase Wallet":et.isFrame?"Frame":et.isTally?"Tally":"Injected":"Injected",shimKey="wagmi.shimDisconnect";var _provider$2=new WeakMap;class InjectedConnector extends Connector$1{constructor(_e){super({..._e,options:_e==null?void 0:_e.options}),_defineProperty$2(this,"id","injected"),_defineProperty$2(this,"name",void 0),_defineProperty$2(this,"ready",typeof window!="undefined"&&!!window.ethereum),_classPrivateFieldInitSpec(this,_provider$2,{writable:!0,value:void 0}),_defineProperty$2(this,"onAccountsChanged",rt=>{rt.length===0?this.emit("disconnect"):this.emit("change",{account:utils$6.getAddress(rt[0])})}),_defineProperty$2(this,"onChainChanged",rt=>{const nt=normalizeChainId(rt),it=this.isChainUnsupported(nt);this.emit("change",{chain:{id:nt,unsupported:it}})}),_defineProperty$2(this,"onDisconnect",()=>{var rt;this.emit("disconnect"),(rt=this.options)!==null&&rt!==void 0&&rt.shimDisconnect&&typeof localStorage!="undefined"&&localStorage.removeItem(shimKey)});let tt="Injected";typeof window!="undefined"&&(tt=getInjectedName(window.ethereum)),this.name=tt}async connect(){try{var _e;const rt=this.getProvider();if(!rt)throw new ConnectorNotFoundError;if(rt.on){var tt;rt.on("accountsChanged",this.onAccountsChanged),rt.on("chainChanged",this.onChainChanged),(tt=this.options)!==null&&tt!==void 0&&tt.shimChainChangedDisconnect||rt.on("disconnect",this.onDisconnect)}const nt=await this.getAccount(),it=await this.getChainId(),at=this.isChainUnsupported(it);return(_e=this.options)!==null&&_e!==void 0&&_e.shimDisconnect&&typeof localStorage!="undefined"&&localStorage.setItem(shimKey,"true"),{account:nt,chain:{id:it,unsupported:at},provider:rt}}catch(rt){throw rt.code===4001?new UserRejectedRequestError:rt}}async disconnect(){var _e;const tt=this.getProvider();!(tt!=null&&tt.removeListener)||(tt.removeListener("accountsChanged",this.onAccountsChanged),tt.removeListener("chainChanged",this.onChainChanged),tt.removeListener("disconnect",this.onDisconnect),(_e=this.options)!==null&&_e!==void 0&&_e.shimDisconnect&&typeof localStorage!="undefined"&&localStorage.removeItem(shimKey))}async getAccount(){const _e=this.getProvider();if(!_e)throw new ConnectorNotFoundError;const tt=await _e.request({method:"eth_requestAccounts"});return utils$6.getAddress(tt[0])}async getChainId(){const _e=this.getProvider();if(!_e)throw new ConnectorNotFoundError;return await _e.request({method:"eth_chainId"}).then(normalizeChainId)}getProvider(){return typeof window!="undefined"&&!!window.ethereum&&_classPrivateFieldSet(this,_provider$2,window.ethereum),_classPrivateFieldGet(this,_provider$2)}async getSigner(){const _e=this.getProvider(),tt=await this.getAccount();return new Web3Provider(_e).getSigner(tt)}async isAuthorized(){try{var _e;if((_e=this.options)!==null&&_e!==void 0&&_e.shimDisconnect&&typeof localStorage!="undefined"&&!localStorage.getItem(shimKey))return!1;const tt=this.getProvider();if(!tt)throw new ConnectorNotFoundError;return!!(await tt.request({method:"eth_accounts"}))[0]}catch{return!1}}async switchChain(_e){const tt=this.getProvider();if(!tt)throw new ConnectorNotFoundError;const rt=utils$6.hexValue(_e);try{return await tt.request({method:"wallet_switchEthereumChain",params:[{chainId:rt}]}),[...this.chains,...allChains].find(at=>at.id===_e)}catch(it){if(it.code===4902)try{var nt;const at=this.chains.find(st=>st.id===_e);if(!at)throw new ChainNotConfiguredError;return await tt.request({method:"wallet_addEthereumChain",params:[{chainId:rt,chainName:at.name,nativeCurrency:at.nativeCurrency,rpcUrls:at.rpcUrls,blockExplorerUrls:(nt=at.blockExplorers)===null||nt===void 0?void 0:nt.map(st=>st.url)}]}),at}catch{throw new AddChainError}else throw it.code===4001?new UserRejectedRequestError:new SwitchChainError}}async watchAsset(_e){let{address:tt,decimals:rt=18,image:nt,symbol:it}=_e;const at=this.getProvider();if(!at)throw new ConnectorNotFoundError;await at.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:tt,decimals:rt,image:nt,symbol:it}}})}}const useProvider=()=>{const{state:et}=useContext();return et.provider},useCacheBuster=()=>useContext().state.cacheBuster,useCancel=()=>{const et=react.exports.useRef(null);return react.exports.useEffect(()=>()=>{var tt;return(tt=et.current)===null||tt===void 0?void 0:tt.call(et)},[]),react.exports.useCallback(tt=>{var rt;(rt=et.current)===null||rt===void 0||rt.call(et),tt&&(et.current=tt)},[])},useLocalStorage=function(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const[tt,rt]=react.exports.useState(()=>{if(typeof localStorage=="undefined")return _e;const it=localStorage.getItem(et);try{return it?JSON.parse(it):_e}catch(at){return console.warn(at),_e}}),nt=react.exports.useCallback(it=>{if(it!==tt)if(rt(it),it===null?localStorage.removeItem(et):localStorage.setItem(et,JSON.stringify(it)),it===null)localStorage.removeItem(et);else try{localStorage.setItem(et,JSON.stringify(it))}catch(at){console.error(at)}},[tt,rt,et]);return[tt,nt]},initialState$7={data:void 0,error:void 0,loading:!1},useSigner=function(){let{skip:et}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const _e=useCacheBuster(),{state:{connector:tt}}=useContext(),[rt,nt]=react.exports.useState(initialState$7),it=useCancel(),at=react.exports.useCallback(async()=>{let st=!1;it(()=>{st=!0});try{nt(ut=>({...ut,error:void 0,loading:!0}));const ct=await(tt==null?void 0:tt.getSigner());return st||nt(ut=>({...ut,data:ct,loading:!1})),ct}catch(ct){const ut=ct;st||nt(ft=>({...ft,data:void 0,error:ut,loading:!1}))}},[it,tt]);return react.exports.useEffect(()=>{if(!et)return at(),it},[_e,tt,it,et]),[rt,at]},Context$1=react.exports.createContext(null),Provider$1=et=>{var _e,tt,rt,nt,it,at;let{autoConnect:st=!1,children:ct,connectors:ut=[new InjectedConnector],connectorStorageKey:ft="wagmi.wallet",provider:gt=getDefaultProvider(),webSocketProvider:_t}=et;const[Et,$t]=useLocalStorage(ft),[It,Tt]=react.exports.useState({cacheBuster:1,connecting:st}),At=react.exports.useMemo(()=>{var Wt,zt;return typeof ut!="function"?ut:ut({chainId:(Wt=It.data)===null||Wt===void 0||(zt=Wt.chain)===null||zt===void 0?void 0:zt.id})},[ut,(_e=It.data)===null||_e===void 0||(tt=_e.chain)===null||tt===void 0?void 0:tt.id]),Rt=react.exports.useMemo(()=>{var Wt,zt;return typeof gt!="function"?gt:gt({chainId:(Wt=It.data)===null||Wt===void 0||(zt=Wt.chain)===null||zt===void 0?void 0:zt.id,connector:It.connector})},[gt,(rt=It.data)===null||rt===void 0||(nt=rt.chain)===null||nt===void 0?void 0:nt.id,It.connector]),kt=react.exports.useMemo(()=>{var Wt,zt;if(!!_t)return typeof _t!="function"?_t:_t({chainId:(Wt=It.data)===null||Wt===void 0||(zt=Wt.chain)===null||zt===void 0?void 0:zt.id,connector:It.connector})},[_t,(it=It.data)===null||it===void 0||(at=it.chain)===null||at===void 0?void 0:at.id,It.connector]);react.exports.useEffect(()=>{!st||(async()=>{Tt(zt=>({...zt,connecting:!0}));const Wt=Et?[...At].sort(zt=>zt.name===Et?-1:1):At;for(const zt of Wt){if(!zt.ready||!zt.isAuthorized||!await zt.isAuthorized())continue;const Jt=await zt.connect();Tt(ar=>({...ar,connector:zt,data:Jt}));break}Tt(zt=>({...zt,connecting:!1}))})()},[]),react.exports.useEffect(()=>()=>{!It.connector||It.connector.disconnect()},[It.connector]),react.exports.useEffect(()=>{if(!It.connector)return;const Wt=Jt=>Tt(ar=>({...ar,cacheBuster:ar.cacheBuster+1,data:{...ar.data,...Jt}})),zt=()=>Tt({cacheBuster:1}),Kt=Jt=>Tt(ar=>({...ar,error:Jt}));return It.connector.on("change",Wt),It.connector.on("disconnect",zt),It.connector.on("error",Kt),()=>{!It.connector||(It.connector.off("change",Wt),It.connector.off("disconnect",zt),It.connector.off("error",Kt))}},[It.connector]);const Ot={state:{cacheBuster:It.cacheBuster,connecting:It.connecting,connectors:At,connector:It.connector,data:It.data,provider:Rt,webSocketProvider:kt},setState:Tt,setLastUsedConnector:$t};return react.exports.createElement(Context$1.Provider,{value:Ot},ct)},useContext=()=>{const et=react.exports.useContext(Context$1);if(!et)throw Error("Must be used within Provider");return et};var dist$2={},CoinbaseWalletSDK$1={},ScopedLocalStorage$1={};Object.defineProperty(ScopedLocalStorage$1,"__esModule",{value:!0});ScopedLocalStorage$1.ScopedLocalStorage=void 0;class ScopedLocalStorage{constructor(_e){this.scope=_e}setItem(_e,tt){localStorage.setItem(this.scopedKey(_e),tt)}getItem(_e){return localStorage.getItem(this.scopedKey(_e))}removeItem(_e){localStorage.removeItem(this.scopedKey(_e))}clear(){const _e=this.scopedKey(""),tt=[];for(let rt=0;rt<localStorage.length;rt++){const nt=localStorage.key(rt);typeof nt=="string"&&nt.startsWith(_e)&&tt.push(nt)}tt.forEach(rt=>localStorage.removeItem(rt))}scopedKey(_e){return`${this.scope}:${_e}`}}ScopedLocalStorage$1.ScopedLocalStorage=ScopedLocalStorage;var CoinbaseWalletProvider$1={},safeEventEmitter$1={},events={exports:{}},R$2=typeof Reflect=="object"?Reflect:null,ReflectApply$1=R$2&&typeof R$2.apply=="function"?R$2.apply:function(_e,tt,rt){return Function.prototype.apply.call(_e,tt,rt)},ReflectOwnKeys;R$2&&typeof R$2.ownKeys=="function"?ReflectOwnKeys=R$2.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:ReflectOwnKeys=function(_e){return Object.getOwnPropertyNames(_e)};function ProcessEmitWarning(et){console&&console.warn&&console.warn(et)}var NumberIsNaN=Number.isNaN||function(_e){return _e!==_e};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1;events.exports.once=once$2;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(et){if(typeof et!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof et)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(et){if(typeof et!="number"||et<0||NumberIsNaN(et))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+et+".");defaultMaxListeners=et}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function(_e){if(typeof _e!="number"||_e<0||NumberIsNaN(_e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_e+".");return this._maxListeners=_e,this};function _getMaxListeners(et){return et._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:et._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function(_e){for(var tt=[],rt=1;rt<arguments.length;rt++)tt.push(arguments[rt]);var nt=_e==="error",it=this._events;if(it!==void 0)nt=nt&&it.error===void 0;else if(!nt)return!1;if(nt){var at;if(tt.length>0&&(at=tt[0]),at instanceof Error)throw at;var st=new Error("Unhandled error."+(at?" ("+at.message+")":""));throw st.context=at,st}var ct=it[_e];if(ct===void 0)return!1;if(typeof ct=="function")ReflectApply$1(ct,this,tt);else for(var ut=ct.length,ft=arrayClone$2(ct,ut),rt=0;rt<ut;++rt)ReflectApply$1(ft[rt],this,tt);return!0};function _addListener(et,_e,tt,rt){var nt,it,at;if(checkListener(tt),it=et._events,it===void 0?(it=et._events=Object.create(null),et._eventsCount=0):(it.newListener!==void 0&&(et.emit("newListener",_e,tt.listener?tt.listener:tt),it=et._events),at=it[_e]),at===void 0)at=it[_e]=tt,++et._eventsCount;else if(typeof at=="function"?at=it[_e]=rt?[tt,at]:[at,tt]:rt?at.unshift(tt):at.push(tt),nt=_getMaxListeners(et),nt>0&&at.length>nt&&!at.warned){at.warned=!0;var st=new Error("Possible EventEmitter memory leak detected. "+at.length+" "+String(_e)+" listeners added. Use emitter.setMaxListeners() to increase limit");st.name="MaxListenersExceededWarning",st.emitter=et,st.type=_e,st.count=at.length,ProcessEmitWarning(st)}return et}EventEmitter$1.prototype.addListener=function(_e,tt){return _addListener(this,_e,tt,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function(_e,tt){return _addListener(this,_e,tt,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(et,_e,tt){var rt={fired:!1,wrapFn:void 0,target:et,type:_e,listener:tt},nt=onceWrapper.bind(rt);return nt.listener=tt,rt.wrapFn=nt,nt}EventEmitter$1.prototype.once=function(_e,tt){return checkListener(tt),this.on(_e,_onceWrap(this,_e,tt)),this};EventEmitter$1.prototype.prependOnceListener=function(_e,tt){return checkListener(tt),this.prependListener(_e,_onceWrap(this,_e,tt)),this};EventEmitter$1.prototype.removeListener=function(_e,tt){var rt,nt,it,at,st;if(checkListener(tt),nt=this._events,nt===void 0)return this;if(rt=nt[_e],rt===void 0)return this;if(rt===tt||rt.listener===tt)--this._eventsCount===0?this._events=Object.create(null):(delete nt[_e],nt.removeListener&&this.emit("removeListener",_e,rt.listener||tt));else if(typeof rt!="function"){for(it=-1,at=rt.length-1;at>=0;at--)if(rt[at]===tt||rt[at].listener===tt){st=rt[at].listener,it=at;break}if(it<0)return this;it===0?rt.shift():spliceOne(rt,it),rt.length===1&&(nt[_e]=rt[0]),nt.removeListener!==void 0&&this.emit("removeListener",_e,st||tt)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function(_e){var tt,rt,nt;if(rt=this._events,rt===void 0)return this;if(rt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):rt[_e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete rt[_e]),this;if(arguments.length===0){var it=Object.keys(rt),at;for(nt=0;nt<it.length;++nt)at=it[nt],at!=="removeListener"&&this.removeAllListeners(at);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(tt=rt[_e],typeof tt=="function")this.removeListener(_e,tt);else if(tt!==void 0)for(nt=tt.length-1;nt>=0;nt--)this.removeListener(_e,tt[nt]);return this};function _listeners(et,_e,tt){var rt=et._events;if(rt===void 0)return[];var nt=rt[_e];return nt===void 0?[]:typeof nt=="function"?tt?[nt.listener||nt]:[nt]:tt?unwrapListeners(nt):arrayClone$2(nt,nt.length)}EventEmitter$1.prototype.listeners=function(_e){return _listeners(this,_e,!0)};EventEmitter$1.prototype.rawListeners=function(_e){return _listeners(this,_e,!1)};EventEmitter$1.listenerCount=function(et,_e){return typeof et.listenerCount=="function"?et.listenerCount(_e):listenerCount.call(et,_e)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(et){var _e=this._events;if(_e!==void 0){var tt=_e[et];if(typeof tt=="function")return 1;if(tt!==void 0)return tt.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone$2(et,_e){for(var tt=new Array(_e),rt=0;rt<_e;++rt)tt[rt]=et[rt];return tt}function spliceOne(et,_e){for(;_e+1<et.length;_e++)et[_e]=et[_e+1];et.pop()}function unwrapListeners(et){for(var _e=new Array(et.length),tt=0;tt<_e.length;++tt)_e[tt]=et[tt].listener||et[tt];return _e}function once$2(et,_e){return new Promise(function(tt,rt){function nt(at){et.removeListener(_e,it),rt(at)}function it(){typeof et.removeListener=="function"&&et.removeListener("error",nt),tt([].slice.call(arguments))}eventTargetAgnosticAddListener(et,_e,it,{once:!0}),_e!=="error"&&addErrorHandlerIfEventEmitter(et,nt,{once:!0})})}function addErrorHandlerIfEventEmitter(et,_e,tt){typeof et.on=="function"&&eventTargetAgnosticAddListener(et,"error",_e,tt)}function eventTargetAgnosticAddListener(et,_e,tt,rt){if(typeof et.on=="function")rt.once?et.once(_e,tt):et.on(_e,tt);else if(typeof et.addEventListener=="function")et.addEventListener(_e,function nt(it){rt.once&&et.removeEventListener(_e,nt),tt(it)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof et)}Object.defineProperty(safeEventEmitter$1,"__esModule",{value:!0});const events_1=events.exports;function safeApply$1(et,_e,tt){try{Reflect.apply(et,_e,tt)}catch(rt){setTimeout(()=>{throw rt})}}function arrayClone$1(et){const _e=et.length,tt=new Array(_e);for(let rt=0;rt<_e;rt+=1)tt[rt]=et[rt];return tt}class SafeEventEmitter$4 extends events_1.EventEmitter{emit(_e,...tt){let rt=_e==="error";const nt=this._events;if(nt!==void 0)rt=rt&&nt.error===void 0;else if(!rt)return!1;if(rt){let at;if(tt.length>0&&([at]=tt),at instanceof Error)throw at;const st=new Error(`Unhandled error.${at?` (${at.message})`:""}`);throw st.context=at,st}const it=nt[_e];if(it===void 0)return!1;if(typeof it=="function")safeApply$1(it,this,tt);else{const at=it.length,st=arrayClone$1(it);for(let ct=0;ct<at;ct+=1)safeApply$1(st[ct],this,tt)}return!0}}safeEventEmitter$1.default=SafeEventEmitter$4;var bn$1={exports:{}};(function(et){(function(_e,tt){function rt(ht,ot){if(!ht)throw new Error(ot||"Assertion failed")}function nt(ht,ot){ht.super_=ot;var dt=function(){};dt.prototype=ot.prototype,ht.prototype=new dt,ht.prototype.constructor=ht}function it(ht,ot,dt){if(it.isBN(ht))return ht;this.negative=0,this.words=null,this.length=0,this.red=null,ht!==null&&((ot==="le"||ot==="be")&&(dt=ot,ot=10),this._init(ht||0,ot||10,dt||"be"))}typeof _e=="object"?_e.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?at=window.Buffer:at=require("buffer").Buffer}catch{}it.isBN=function(ot){return ot instanceof it?!0:ot!==null&&typeof ot=="object"&&ot.constructor.wordSize===it.wordSize&&Array.isArray(ot.words)},it.max=function(ot,dt){return ot.cmp(dt)>0?ot:dt},it.min=function(ot,dt){return ot.cmp(dt)<0?ot:dt},it.prototype._init=function(ot,dt,mt){if(typeof ot=="number")return this._initNumber(ot,dt,mt);if(typeof ot=="object")return this._initArray(ot,dt,mt);dt==="hex"&&(dt=16),rt(dt===(dt|0)&&dt>=2&&dt<=36),ot=ot.toString().replace(/\s+/g,"");var wt=0;ot[0]==="-"&&(wt++,this.negative=1),wt<ot.length&&(dt===16?this._parseHex(ot,wt,mt):(this._parseBase(ot,dt,wt),mt==="le"&&this._initArray(this.toArray(),dt,mt)))},it.prototype._initNumber=function(ot,dt,mt){ot<0&&(this.negative=1,ot=-ot),ot<67108864?(this.words=[ot&67108863],this.length=1):ot<4503599627370496?(this.words=[ot&67108863,ot/67108864&67108863],this.length=2):(rt(ot<9007199254740992),this.words=[ot&67108863,ot/67108864&67108863,1],this.length=3),mt==="le"&&this._initArray(this.toArray(),dt,mt)},it.prototype._initArray=function(ot,dt,mt){if(rt(typeof ot.length=="number"),ot.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ot.length/3),this.words=new Array(this.length);for(var wt=0;wt<this.length;wt++)this.words[wt]=0;var bt,vt,St=0;if(mt==="be")for(wt=ot.length-1,bt=0;wt>=0;wt-=3)vt=ot[wt]|ot[wt-1]<<8|ot[wt-2]<<16,this.words[bt]|=vt<<St&67108863,this.words[bt+1]=vt>>>26-St&67108863,St+=24,St>=26&&(St-=26,bt++);else if(mt==="le")for(wt=0,bt=0;wt<ot.length;wt+=3)vt=ot[wt]|ot[wt+1]<<8|ot[wt+2]<<16,this.words[bt]|=vt<<St&67108863,this.words[bt+1]=vt>>>26-St&67108863,St+=24,St>=26&&(St-=26,bt++);return this._strip()};function st(ht,ot){var dt=ht.charCodeAt(ot);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;rt(!1,"Invalid character in "+ht)}function ct(ht,ot,dt){var mt=st(ht,dt);return dt-1>=ot&&(mt|=st(ht,dt-1)<<4),mt}it.prototype._parseHex=function(ot,dt,mt){this.length=Math.ceil((ot.length-dt)/6),this.words=new Array(this.length);for(var wt=0;wt<this.length;wt++)this.words[wt]=0;var bt=0,vt=0,St;if(mt==="be")for(wt=ot.length-1;wt>=dt;wt-=2)St=ct(ot,dt,wt)<<bt,this.words[vt]|=St&67108863,bt>=18?(bt-=18,vt+=1,this.words[vt]|=St>>>26):bt+=8;else{var yt=ot.length-dt;for(wt=yt%2===0?dt+1:dt;wt<ot.length;wt+=2)St=ct(ot,dt,wt)<<bt,this.words[vt]|=St&67108863,bt>=18?(bt-=18,vt+=1,this.words[vt]|=St>>>26):bt+=8}this._strip()};function ut(ht,ot,dt,mt){for(var wt=0,bt=0,vt=Math.min(ht.length,dt),St=ot;St<vt;St++){var yt=ht.charCodeAt(St)-48;wt*=mt,yt>=49?bt=yt-49+10:yt>=17?bt=yt-17+10:bt=yt,rt(yt>=0&&bt<mt,"Invalid character"),wt+=bt}return wt}it.prototype._parseBase=function(ot,dt,mt){this.words=[0],this.length=1;for(var wt=0,bt=1;bt<=67108863;bt*=dt)wt++;wt--,bt=bt/dt|0;for(var vt=ot.length-mt,St=vt%wt,yt=Math.min(vt,vt-St)+mt,lt=0,xt=mt;xt<yt;xt+=wt)lt=ut(ot,xt,xt+wt,dt),this.imuln(bt),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt);if(St!==0){var Ut=1;for(lt=ut(ot,xt,ot.length,dt),xt=0;xt<St;xt++)Ut*=dt;this.imuln(Ut),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt)}this._strip()},it.prototype.copy=function(ot){ot.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)ot.words[dt]=this.words[dt];ot.length=this.length,ot.negative=this.negative,ot.red=this.red};function ft(ht,ot){ht.words=ot.words,ht.length=ot.length,ht.negative=ot.negative,ht.red=ot.red}if(it.prototype._move=function(ot){ft(ot,this)},it.prototype.clone=function(){var ot=new it(null);return this.copy(ot),ot},it.prototype._expand=function(ot){for(;this.length<ot;)this.words[this.length++]=0;return this},it.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{it.prototype[Symbol.for("nodejs.util.inspect.custom")]=gt}catch{it.prototype.inspect=gt}else it.prototype.inspect=gt;function gt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _t=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Et=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],$t=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(ot,dt){ot=ot||10,dt=dt|0||1;var mt;if(ot===16||ot==="hex"){mt="";for(var wt=0,bt=0,vt=0;vt<this.length;vt++){var St=this.words[vt],yt=((St<<wt|bt)&16777215).toString(16);bt=St>>>24-wt&16777215,bt!==0||vt!==this.length-1?mt=_t[6-yt.length]+yt+mt:mt=yt+mt,wt+=2,wt>=26&&(wt-=26,vt--)}for(bt!==0&&(mt=bt.toString(16)+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}if(ot===(ot|0)&&ot>=2&&ot<=36){var lt=Et[ot],xt=$t[ot];mt="";var Ut=this.clone();for(Ut.negative=0;!Ut.isZero();){var Pt=Ut.modrn(xt).toString(ot);Ut=Ut.idivn(xt),Ut.isZero()?mt=Pt+mt:mt=_t[lt-Pt.length]+Pt+mt}for(this.isZero()&&(mt="0"+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}rt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var ot=this.words[0];return this.length===2?ot+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ot+=4503599627370496+this.words[1]*67108864:this.length>2&&rt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ot:ot},it.prototype.toJSON=function(){return this.toString(16,2)},at&&(it.prototype.toBuffer=function(ot,dt){return this.toArrayLike(at,ot,dt)}),it.prototype.toArray=function(ot,dt){return this.toArrayLike(Array,ot,dt)};var It=function(ot,dt){return ot.allocUnsafe?ot.allocUnsafe(dt):new ot(dt)};it.prototype.toArrayLike=function(ot,dt,mt){this._strip();var wt=this.byteLength(),bt=mt||Math.max(1,wt);rt(wt<=bt,"byte array longer than desired length"),rt(bt>0,"Requested array length <= 0");var vt=It(ot,bt),St=dt==="le"?"LE":"BE";return this["_toArrayLike"+St](vt,wt),vt},it.prototype._toArrayLikeLE=function(ot,dt){for(var mt=0,wt=0,bt=0,vt=0;bt<this.length;bt++){var St=this.words[bt]<<vt|wt;ot[mt++]=St&255,mt<ot.length&&(ot[mt++]=St>>8&255),mt<ot.length&&(ot[mt++]=St>>16&255),vt===6?(mt<ot.length&&(ot[mt++]=St>>24&255),wt=0,vt=0):(wt=St>>>24,vt+=2)}if(mt<ot.length)for(ot[mt++]=wt;mt<ot.length;)ot[mt++]=0},it.prototype._toArrayLikeBE=function(ot,dt){for(var mt=ot.length-1,wt=0,bt=0,vt=0;bt<this.length;bt++){var St=this.words[bt]<<vt|wt;ot[mt--]=St&255,mt>=0&&(ot[mt--]=St>>8&255),mt>=0&&(ot[mt--]=St>>16&255),vt===6?(mt>=0&&(ot[mt--]=St>>24&255),wt=0,vt=0):(wt=St>>>24,vt+=2)}if(mt>=0)for(ot[mt--]=wt;mt>=0;)ot[mt--]=0},Math.clz32?it.prototype._countBits=function(ot){return 32-Math.clz32(ot)}:it.prototype._countBits=function(ot){var dt=ot,mt=0;return dt>=4096&&(mt+=13,dt>>>=13),dt>=64&&(mt+=7,dt>>>=7),dt>=8&&(mt+=4,dt>>>=4),dt>=2&&(mt+=2,dt>>>=2),mt+dt},it.prototype._zeroBits=function(ot){if(ot===0)return 26;var dt=ot,mt=0;return(dt&8191)===0&&(mt+=13,dt>>>=13),(dt&127)===0&&(mt+=7,dt>>>=7),(dt&15)===0&&(mt+=4,dt>>>=4),(dt&3)===0&&(mt+=2,dt>>>=2),(dt&1)===0&&mt++,mt},it.prototype.bitLength=function(){var ot=this.words[this.length-1],dt=this._countBits(ot);return(this.length-1)*26+dt};function Tt(ht){for(var ot=new Array(ht.bitLength()),dt=0;dt<ot.length;dt++){var mt=dt/26|0,wt=dt%26;ot[dt]=ht.words[mt]>>>wt&1}return ot}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ot=0,dt=0;dt<this.length;dt++){var mt=this._zeroBits(this.words[dt]);if(ot+=mt,mt!==26)break}return ot},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(ot){return this.negative!==0?this.abs().inotn(ot).iaddn(1):this.clone()},it.prototype.fromTwos=function(ot){return this.testn(ot-1)?this.notn(ot).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(ot){for(;this.length<ot.length;)this.words[this.length++]=0;for(var dt=0;dt<ot.length;dt++)this.words[dt]=this.words[dt]|ot.words[dt];return this._strip()},it.prototype.ior=function(ot){return rt((this.negative|ot.negative)===0),this.iuor(ot)},it.prototype.or=function(ot){return this.length>ot.length?this.clone().ior(ot):ot.clone().ior(this)},it.prototype.uor=function(ot){return this.length>ot.length?this.clone().iuor(ot):ot.clone().iuor(this)},it.prototype.iuand=function(ot){var dt;this.length>ot.length?dt=ot:dt=this;for(var mt=0;mt<dt.length;mt++)this.words[mt]=this.words[mt]&ot.words[mt];return this.length=dt.length,this._strip()},it.prototype.iand=function(ot){return rt((this.negative|ot.negative)===0),this.iuand(ot)},it.prototype.and=function(ot){return this.length>ot.length?this.clone().iand(ot):ot.clone().iand(this)},it.prototype.uand=function(ot){return this.length>ot.length?this.clone().iuand(ot):ot.clone().iuand(this)},it.prototype.iuxor=function(ot){var dt,mt;this.length>ot.length?(dt=this,mt=ot):(dt=ot,mt=this);for(var wt=0;wt<mt.length;wt++)this.words[wt]=dt.words[wt]^mt.words[wt];if(this!==dt)for(;wt<dt.length;wt++)this.words[wt]=dt.words[wt];return this.length=dt.length,this._strip()},it.prototype.ixor=function(ot){return rt((this.negative|ot.negative)===0),this.iuxor(ot)},it.prototype.xor=function(ot){return this.length>ot.length?this.clone().ixor(ot):ot.clone().ixor(this)},it.prototype.uxor=function(ot){return this.length>ot.length?this.clone().iuxor(ot):ot.clone().iuxor(this)},it.prototype.inotn=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=Math.ceil(ot/26)|0,mt=ot%26;this._expand(dt),mt>0&&dt--;for(var wt=0;wt<dt;wt++)this.words[wt]=~this.words[wt]&67108863;return mt>0&&(this.words[wt]=~this.words[wt]&67108863>>26-mt),this._strip()},it.prototype.notn=function(ot){return this.clone().inotn(ot)},it.prototype.setn=function(ot,dt){rt(typeof ot=="number"&&ot>=0);var mt=ot/26|0,wt=ot%26;return this._expand(mt+1),dt?this.words[mt]=this.words[mt]|1<<wt:this.words[mt]=this.words[mt]&~(1<<wt),this._strip()},it.prototype.iadd=function(ot){var dt;if(this.negative!==0&&ot.negative===0)return this.negative=0,dt=this.isub(ot),this.negative^=1,this._normSign();if(this.negative===0&&ot.negative!==0)return ot.negative=0,dt=this.isub(ot),ot.negative=1,dt._normSign();var mt,wt;this.length>ot.length?(mt=this,wt=ot):(mt=ot,wt=this);for(var bt=0,vt=0;vt<wt.length;vt++)dt=(mt.words[vt]|0)+(wt.words[vt]|0)+bt,this.words[vt]=dt&67108863,bt=dt>>>26;for(;bt!==0&&vt<mt.length;vt++)dt=(mt.words[vt]|0)+bt,this.words[vt]=dt&67108863,bt=dt>>>26;if(this.length=mt.length,bt!==0)this.words[this.length]=bt,this.length++;else if(mt!==this)for(;vt<mt.length;vt++)this.words[vt]=mt.words[vt];return this},it.prototype.add=function(ot){var dt;return ot.negative!==0&&this.negative===0?(ot.negative=0,dt=this.sub(ot),ot.negative^=1,dt):ot.negative===0&&this.negative!==0?(this.negative=0,dt=ot.sub(this),this.negative=1,dt):this.length>ot.length?this.clone().iadd(ot):ot.clone().iadd(this)},it.prototype.isub=function(ot){if(ot.negative!==0){ot.negative=0;var dt=this.iadd(ot);return ot.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ot),this.negative=1,this._normSign();var mt=this.cmp(ot);if(mt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var wt,bt;mt>0?(wt=this,bt=ot):(wt=ot,bt=this);for(var vt=0,St=0;St<bt.length;St++)dt=(wt.words[St]|0)-(bt.words[St]|0)+vt,vt=dt>>26,this.words[St]=dt&67108863;for(;vt!==0&&St<wt.length;St++)dt=(wt.words[St]|0)+vt,vt=dt>>26,this.words[St]=dt&67108863;if(vt===0&&St<wt.length&&wt!==this)for(;St<wt.length;St++)this.words[St]=wt.words[St];return this.length=Math.max(this.length,St),wt!==this&&(this.negative=1),this._strip()},it.prototype.sub=function(ot){return this.clone().isub(ot)};function At(ht,ot,dt){dt.negative=ot.negative^ht.negative;var mt=ht.length+ot.length|0;dt.length=mt,mt=mt-1|0;var wt=ht.words[0]|0,bt=ot.words[0]|0,vt=wt*bt,St=vt&67108863,yt=vt/67108864|0;dt.words[0]=St;for(var lt=1;lt<mt;lt++){for(var xt=yt>>>26,Ut=yt&67108863,Pt=Math.min(lt,ot.length-1),qt=Math.max(0,lt-ht.length+1);qt<=Pt;qt++){var ir=lt-qt|0;wt=ht.words[ir]|0,bt=ot.words[qt]|0,vt=wt*bt+Ut,xt+=vt/67108864|0,Ut=vt&67108863}dt.words[lt]=Ut|0,yt=xt|0}return yt!==0?dt.words[lt]=yt|0:dt.length--,dt._strip()}var Rt=function(ot,dt,mt){var wt=ot.words,bt=dt.words,vt=mt.words,St=0,yt,lt,xt,Ut=wt[0]|0,Pt=Ut&8191,qt=Ut>>>13,ir=wt[1]|0,Yt=ir&8191,rr=ir>>>13,Sr=wt[2]|0,lr=Sr&8191,ur=Sr>>>13,Ur=wt[3]|0,dr=Ur&8191,xr=Ur>>>13,er=wt[4]|0,Ft=er&8191,Lt=er>>>13,Qt=wt[5]|0,tr=Qt&8191,sr=Qt>>>13,Er=wt[6]|0,mr=Er&8191,gr=Er>>>13,Qr=wt[7]|0,wr=Qr&8191,Vt=Qr>>>13,Dt=wt[8]|0,Bt=Dt&8191,Gt=Dt>>>13,cr=wt[9]|0,nr=cr&8191,or=cr>>>13,qr=bt[0]|0,vr=qr&8191,br=qr>>>13,Zr=bt[1]|0,yr=Zr&8191,Rr=Zr>>>13,dn=bt[2]|0,Mr=dn&8191,$r=dn>>>13,Sn=bt[3]|0,Ir=Sn&8191,kr=Sn>>>13,xn=bt[4]|0,Pr=xn&8191,Nr=xn>>>13,wn=bt[5]|0,Fr=wn&8191,Or=wn>>>13,rn=bt[6]|0,Cr=rn&8191,Br=rn>>>13,Tn=bt[7]|0,Dr=Tn&8191,Lr=Tn>>>13,In=bt[8]|0,Ar=In&8191,Tr=In>>>13,pn=bt[9]|0,jr=pn&8191,Hr=pn>>>13;mt.negative=ot.negative^dt.negative,mt.length=19,yt=Math.imul(Pt,vr),lt=Math.imul(Pt,br),lt=lt+Math.imul(qt,vr)|0,xt=Math.imul(qt,br);var mn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(mn>>>26)|0,mn&=67108863,yt=Math.imul(Yt,vr),lt=Math.imul(Yt,br),lt=lt+Math.imul(rr,vr)|0,xt=Math.imul(rr,br),yt=yt+Math.imul(Pt,yr)|0,lt=lt+Math.imul(Pt,Rr)|0,lt=lt+Math.imul(qt,yr)|0,xt=xt+Math.imul(qt,Rr)|0;var sn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(sn>>>26)|0,sn&=67108863,yt=Math.imul(lr,vr),lt=Math.imul(lr,br),lt=lt+Math.imul(ur,vr)|0,xt=Math.imul(ur,br),yt=yt+Math.imul(Yt,yr)|0,lt=lt+Math.imul(Yt,Rr)|0,lt=lt+Math.imul(rr,yr)|0,xt=xt+Math.imul(rr,Rr)|0,yt=yt+Math.imul(Pt,Mr)|0,lt=lt+Math.imul(Pt,$r)|0,lt=lt+Math.imul(qt,Mr)|0,xt=xt+Math.imul(qt,$r)|0;var cn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(cn>>>26)|0,cn&=67108863,yt=Math.imul(dr,vr),lt=Math.imul(dr,br),lt=lt+Math.imul(xr,vr)|0,xt=Math.imul(xr,br),yt=yt+Math.imul(lr,yr)|0,lt=lt+Math.imul(lr,Rr)|0,lt=lt+Math.imul(ur,yr)|0,xt=xt+Math.imul(ur,Rr)|0,yt=yt+Math.imul(Yt,Mr)|0,lt=lt+Math.imul(Yt,$r)|0,lt=lt+Math.imul(rr,Mr)|0,xt=xt+Math.imul(rr,$r)|0,yt=yt+Math.imul(Pt,Ir)|0,lt=lt+Math.imul(Pt,kr)|0,lt=lt+Math.imul(qt,Ir)|0,xt=xt+Math.imul(qt,kr)|0;var fn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(fn>>>26)|0,fn&=67108863,yt=Math.imul(Ft,vr),lt=Math.imul(Ft,br),lt=lt+Math.imul(Lt,vr)|0,xt=Math.imul(Lt,br),yt=yt+Math.imul(dr,yr)|0,lt=lt+Math.imul(dr,Rr)|0,lt=lt+Math.imul(xr,yr)|0,xt=xt+Math.imul(xr,Rr)|0,yt=yt+Math.imul(lr,Mr)|0,lt=lt+Math.imul(lr,$r)|0,lt=lt+Math.imul(ur,Mr)|0,xt=xt+Math.imul(ur,$r)|0,yt=yt+Math.imul(Yt,Ir)|0,lt=lt+Math.imul(Yt,kr)|0,lt=lt+Math.imul(rr,Ir)|0,xt=xt+Math.imul(rr,kr)|0,yt=yt+Math.imul(Pt,Pr)|0,lt=lt+Math.imul(Pt,Nr)|0,lt=lt+Math.imul(qt,Pr)|0,xt=xt+Math.imul(qt,Nr)|0;var ln=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(ln>>>26)|0,ln&=67108863,yt=Math.imul(tr,vr),lt=Math.imul(tr,br),lt=lt+Math.imul(sr,vr)|0,xt=Math.imul(sr,br),yt=yt+Math.imul(Ft,yr)|0,lt=lt+Math.imul(Ft,Rr)|0,lt=lt+Math.imul(Lt,yr)|0,xt=xt+Math.imul(Lt,Rr)|0,yt=yt+Math.imul(dr,Mr)|0,lt=lt+Math.imul(dr,$r)|0,lt=lt+Math.imul(xr,Mr)|0,xt=xt+Math.imul(xr,$r)|0,yt=yt+Math.imul(lr,Ir)|0,lt=lt+Math.imul(lr,kr)|0,lt=lt+Math.imul(ur,Ir)|0,xt=xt+Math.imul(ur,kr)|0,yt=yt+Math.imul(Yt,Pr)|0,lt=lt+Math.imul(Yt,Nr)|0,lt=lt+Math.imul(rr,Pr)|0,xt=xt+Math.imul(rr,Nr)|0,yt=yt+Math.imul(Pt,Fr)|0,lt=lt+Math.imul(Pt,Or)|0,lt=lt+Math.imul(qt,Fr)|0,xt=xt+Math.imul(qt,Or)|0;var $n=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+($n>>>26)|0,$n&=67108863,yt=Math.imul(mr,vr),lt=Math.imul(mr,br),lt=lt+Math.imul(gr,vr)|0,xt=Math.imul(gr,br),yt=yt+Math.imul(tr,yr)|0,lt=lt+Math.imul(tr,Rr)|0,lt=lt+Math.imul(sr,yr)|0,xt=xt+Math.imul(sr,Rr)|0,yt=yt+Math.imul(Ft,Mr)|0,lt=lt+Math.imul(Ft,$r)|0,lt=lt+Math.imul(Lt,Mr)|0,xt=xt+Math.imul(Lt,$r)|0,yt=yt+Math.imul(dr,Ir)|0,lt=lt+Math.imul(dr,kr)|0,lt=lt+Math.imul(xr,Ir)|0,xt=xt+Math.imul(xr,kr)|0,yt=yt+Math.imul(lr,Pr)|0,lt=lt+Math.imul(lr,Nr)|0,lt=lt+Math.imul(ur,Pr)|0,xt=xt+Math.imul(ur,Nr)|0,yt=yt+Math.imul(Yt,Fr)|0,lt=lt+Math.imul(Yt,Or)|0,lt=lt+Math.imul(rr,Fr)|0,xt=xt+Math.imul(rr,Or)|0,yt=yt+Math.imul(Pt,Cr)|0,lt=lt+Math.imul(Pt,Br)|0,lt=lt+Math.imul(qt,Cr)|0,xt=xt+Math.imul(qt,Br)|0;var Pn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,yt=Math.imul(wr,vr),lt=Math.imul(wr,br),lt=lt+Math.imul(Vt,vr)|0,xt=Math.imul(Vt,br),yt=yt+Math.imul(mr,yr)|0,lt=lt+Math.imul(mr,Rr)|0,lt=lt+Math.imul(gr,yr)|0,xt=xt+Math.imul(gr,Rr)|0,yt=yt+Math.imul(tr,Mr)|0,lt=lt+Math.imul(tr,$r)|0,lt=lt+Math.imul(sr,Mr)|0,xt=xt+Math.imul(sr,$r)|0,yt=yt+Math.imul(Ft,Ir)|0,lt=lt+Math.imul(Ft,kr)|0,lt=lt+Math.imul(Lt,Ir)|0,xt=xt+Math.imul(Lt,kr)|0,yt=yt+Math.imul(dr,Pr)|0,lt=lt+Math.imul(dr,Nr)|0,lt=lt+Math.imul(xr,Pr)|0,xt=xt+Math.imul(xr,Nr)|0,yt=yt+Math.imul(lr,Fr)|0,lt=lt+Math.imul(lr,Or)|0,lt=lt+Math.imul(ur,Fr)|0,xt=xt+Math.imul(ur,Or)|0,yt=yt+Math.imul(Yt,Cr)|0,lt=lt+Math.imul(Yt,Br)|0,lt=lt+Math.imul(rr,Cr)|0,xt=xt+Math.imul(rr,Br)|0,yt=yt+Math.imul(Pt,Dr)|0,lt=lt+Math.imul(Pt,Lr)|0,lt=lt+Math.imul(qt,Dr)|0,xt=xt+Math.imul(qt,Lr)|0;var vn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(vn>>>26)|0,vn&=67108863,yt=Math.imul(Bt,vr),lt=Math.imul(Bt,br),lt=lt+Math.imul(Gt,vr)|0,xt=Math.imul(Gt,br),yt=yt+Math.imul(wr,yr)|0,lt=lt+Math.imul(wr,Rr)|0,lt=lt+Math.imul(Vt,yr)|0,xt=xt+Math.imul(Vt,Rr)|0,yt=yt+Math.imul(mr,Mr)|0,lt=lt+Math.imul(mr,$r)|0,lt=lt+Math.imul(gr,Mr)|0,xt=xt+Math.imul(gr,$r)|0,yt=yt+Math.imul(tr,Ir)|0,lt=lt+Math.imul(tr,kr)|0,lt=lt+Math.imul(sr,Ir)|0,xt=xt+Math.imul(sr,kr)|0,yt=yt+Math.imul(Ft,Pr)|0,lt=lt+Math.imul(Ft,Nr)|0,lt=lt+Math.imul(Lt,Pr)|0,xt=xt+Math.imul(Lt,Nr)|0,yt=yt+Math.imul(dr,Fr)|0,lt=lt+Math.imul(dr,Or)|0,lt=lt+Math.imul(xr,Fr)|0,xt=xt+Math.imul(xr,Or)|0,yt=yt+Math.imul(lr,Cr)|0,lt=lt+Math.imul(lr,Br)|0,lt=lt+Math.imul(ur,Cr)|0,xt=xt+Math.imul(ur,Br)|0,yt=yt+Math.imul(Yt,Dr)|0,lt=lt+Math.imul(Yt,Lr)|0,lt=lt+Math.imul(rr,Dr)|0,xt=xt+Math.imul(rr,Lr)|0,yt=yt+Math.imul(Pt,Ar)|0,lt=lt+Math.imul(Pt,Tr)|0,lt=lt+Math.imul(qt,Ar)|0,xt=xt+Math.imul(qt,Tr)|0;var kn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(kn>>>26)|0,kn&=67108863,yt=Math.imul(nr,vr),lt=Math.imul(nr,br),lt=lt+Math.imul(or,vr)|0,xt=Math.imul(or,br),yt=yt+Math.imul(Bt,yr)|0,lt=lt+Math.imul(Bt,Rr)|0,lt=lt+Math.imul(Gt,yr)|0,xt=xt+Math.imul(Gt,Rr)|0,yt=yt+Math.imul(wr,Mr)|0,lt=lt+Math.imul(wr,$r)|0,lt=lt+Math.imul(Vt,Mr)|0,xt=xt+Math.imul(Vt,$r)|0,yt=yt+Math.imul(mr,Ir)|0,lt=lt+Math.imul(mr,kr)|0,lt=lt+Math.imul(gr,Ir)|0,xt=xt+Math.imul(gr,kr)|0,yt=yt+Math.imul(tr,Pr)|0,lt=lt+Math.imul(tr,Nr)|0,lt=lt+Math.imul(sr,Pr)|0,xt=xt+Math.imul(sr,Nr)|0,yt=yt+Math.imul(Ft,Fr)|0,lt=lt+Math.imul(Ft,Or)|0,lt=lt+Math.imul(Lt,Fr)|0,xt=xt+Math.imul(Lt,Or)|0,yt=yt+Math.imul(dr,Cr)|0,lt=lt+Math.imul(dr,Br)|0,lt=lt+Math.imul(xr,Cr)|0,xt=xt+Math.imul(xr,Br)|0,yt=yt+Math.imul(lr,Dr)|0,lt=lt+Math.imul(lr,Lr)|0,lt=lt+Math.imul(ur,Dr)|0,xt=xt+Math.imul(ur,Lr)|0,yt=yt+Math.imul(Yt,Ar)|0,lt=lt+Math.imul(Yt,Tr)|0,lt=lt+Math.imul(rr,Ar)|0,xt=xt+Math.imul(rr,Tr)|0,yt=yt+Math.imul(Pt,jr)|0,lt=lt+Math.imul(Pt,Hr)|0,lt=lt+Math.imul(qt,jr)|0,xt=xt+Math.imul(qt,Hr)|0;var Nn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,yt=Math.imul(nr,yr),lt=Math.imul(nr,Rr),lt=lt+Math.imul(or,yr)|0,xt=Math.imul(or,Rr),yt=yt+Math.imul(Bt,Mr)|0,lt=lt+Math.imul(Bt,$r)|0,lt=lt+Math.imul(Gt,Mr)|0,xt=xt+Math.imul(Gt,$r)|0,yt=yt+Math.imul(wr,Ir)|0,lt=lt+Math.imul(wr,kr)|0,lt=lt+Math.imul(Vt,Ir)|0,xt=xt+Math.imul(Vt,kr)|0,yt=yt+Math.imul(mr,Pr)|0,lt=lt+Math.imul(mr,Nr)|0,lt=lt+Math.imul(gr,Pr)|0,xt=xt+Math.imul(gr,Nr)|0,yt=yt+Math.imul(tr,Fr)|0,lt=lt+Math.imul(tr,Or)|0,lt=lt+Math.imul(sr,Fr)|0,xt=xt+Math.imul(sr,Or)|0,yt=yt+Math.imul(Ft,Cr)|0,lt=lt+Math.imul(Ft,Br)|0,lt=lt+Math.imul(Lt,Cr)|0,xt=xt+Math.imul(Lt,Br)|0,yt=yt+Math.imul(dr,Dr)|0,lt=lt+Math.imul(dr,Lr)|0,lt=lt+Math.imul(xr,Dr)|0,xt=xt+Math.imul(xr,Lr)|0,yt=yt+Math.imul(lr,Ar)|0,lt=lt+Math.imul(lr,Tr)|0,lt=lt+Math.imul(ur,Ar)|0,xt=xt+Math.imul(ur,Tr)|0,yt=yt+Math.imul(Yt,jr)|0,lt=lt+Math.imul(Yt,Hr)|0,lt=lt+Math.imul(rr,jr)|0,xt=xt+Math.imul(rr,Hr)|0;var hn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(hn>>>26)|0,hn&=67108863,yt=Math.imul(nr,Mr),lt=Math.imul(nr,$r),lt=lt+Math.imul(or,Mr)|0,xt=Math.imul(or,$r),yt=yt+Math.imul(Bt,Ir)|0,lt=lt+Math.imul(Bt,kr)|0,lt=lt+Math.imul(Gt,Ir)|0,xt=xt+Math.imul(Gt,kr)|0,yt=yt+Math.imul(wr,Pr)|0,lt=lt+Math.imul(wr,Nr)|0,lt=lt+Math.imul(Vt,Pr)|0,xt=xt+Math.imul(Vt,Nr)|0,yt=yt+Math.imul(mr,Fr)|0,lt=lt+Math.imul(mr,Or)|0,lt=lt+Math.imul(gr,Fr)|0,xt=xt+Math.imul(gr,Or)|0,yt=yt+Math.imul(tr,Cr)|0,lt=lt+Math.imul(tr,Br)|0,lt=lt+Math.imul(sr,Cr)|0,xt=xt+Math.imul(sr,Br)|0,yt=yt+Math.imul(Ft,Dr)|0,lt=lt+Math.imul(Ft,Lr)|0,lt=lt+Math.imul(Lt,Dr)|0,xt=xt+Math.imul(Lt,Lr)|0,yt=yt+Math.imul(dr,Ar)|0,lt=lt+Math.imul(dr,Tr)|0,lt=lt+Math.imul(xr,Ar)|0,xt=xt+Math.imul(xr,Tr)|0,yt=yt+Math.imul(lr,jr)|0,lt=lt+Math.imul(lr,Hr)|0,lt=lt+Math.imul(ur,jr)|0,xt=xt+Math.imul(ur,Hr)|0;var Bn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,yt=Math.imul(nr,Ir),lt=Math.imul(nr,kr),lt=lt+Math.imul(or,Ir)|0,xt=Math.imul(or,kr),yt=yt+Math.imul(Bt,Pr)|0,lt=lt+Math.imul(Bt,Nr)|0,lt=lt+Math.imul(Gt,Pr)|0,xt=xt+Math.imul(Gt,Nr)|0,yt=yt+Math.imul(wr,Fr)|0,lt=lt+Math.imul(wr,Or)|0,lt=lt+Math.imul(Vt,Fr)|0,xt=xt+Math.imul(Vt,Or)|0,yt=yt+Math.imul(mr,Cr)|0,lt=lt+Math.imul(mr,Br)|0,lt=lt+Math.imul(gr,Cr)|0,xt=xt+Math.imul(gr,Br)|0,yt=yt+Math.imul(tr,Dr)|0,lt=lt+Math.imul(tr,Lr)|0,lt=lt+Math.imul(sr,Dr)|0,xt=xt+Math.imul(sr,Lr)|0,yt=yt+Math.imul(Ft,Ar)|0,lt=lt+Math.imul(Ft,Tr)|0,lt=lt+Math.imul(Lt,Ar)|0,xt=xt+Math.imul(Lt,Tr)|0,yt=yt+Math.imul(dr,jr)|0,lt=lt+Math.imul(dr,Hr)|0,lt=lt+Math.imul(xr,jr)|0,xt=xt+Math.imul(xr,Hr)|0;var yn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(yn>>>26)|0,yn&=67108863,yt=Math.imul(nr,Pr),lt=Math.imul(nr,Nr),lt=lt+Math.imul(or,Pr)|0,xt=Math.imul(or,Nr),yt=yt+Math.imul(Bt,Fr)|0,lt=lt+Math.imul(Bt,Or)|0,lt=lt+Math.imul(Gt,Fr)|0,xt=xt+Math.imul(Gt,Or)|0,yt=yt+Math.imul(wr,Cr)|0,lt=lt+Math.imul(wr,Br)|0,lt=lt+Math.imul(Vt,Cr)|0,xt=xt+Math.imul(Vt,Br)|0,yt=yt+Math.imul(mr,Dr)|0,lt=lt+Math.imul(mr,Lr)|0,lt=lt+Math.imul(gr,Dr)|0,xt=xt+Math.imul(gr,Lr)|0,yt=yt+Math.imul(tr,Ar)|0,lt=lt+Math.imul(tr,Tr)|0,lt=lt+Math.imul(sr,Ar)|0,xt=xt+Math.imul(sr,Tr)|0,yt=yt+Math.imul(Ft,jr)|0,lt=lt+Math.imul(Ft,Hr)|0,lt=lt+Math.imul(Lt,jr)|0,xt=xt+Math.imul(Lt,Hr)|0;var Cn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,yt=Math.imul(nr,Fr),lt=Math.imul(nr,Or),lt=lt+Math.imul(or,Fr)|0,xt=Math.imul(or,Or),yt=yt+Math.imul(Bt,Cr)|0,lt=lt+Math.imul(Bt,Br)|0,lt=lt+Math.imul(Gt,Cr)|0,xt=xt+Math.imul(Gt,Br)|0,yt=yt+Math.imul(wr,Dr)|0,lt=lt+Math.imul(wr,Lr)|0,lt=lt+Math.imul(Vt,Dr)|0,xt=xt+Math.imul(Vt,Lr)|0,yt=yt+Math.imul(mr,Ar)|0,lt=lt+Math.imul(mr,Tr)|0,lt=lt+Math.imul(gr,Ar)|0,xt=xt+Math.imul(gr,Tr)|0,yt=yt+Math.imul(tr,jr)|0,lt=lt+Math.imul(tr,Hr)|0,lt=lt+Math.imul(sr,jr)|0,xt=xt+Math.imul(sr,Hr)|0;var Dn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,yt=Math.imul(nr,Cr),lt=Math.imul(nr,Br),lt=lt+Math.imul(or,Cr)|0,xt=Math.imul(or,Br),yt=yt+Math.imul(Bt,Dr)|0,lt=lt+Math.imul(Bt,Lr)|0,lt=lt+Math.imul(Gt,Dr)|0,xt=xt+Math.imul(Gt,Lr)|0,yt=yt+Math.imul(wr,Ar)|0,lt=lt+Math.imul(wr,Tr)|0,lt=lt+Math.imul(Vt,Ar)|0,xt=xt+Math.imul(Vt,Tr)|0,yt=yt+Math.imul(mr,jr)|0,lt=lt+Math.imul(mr,Hr)|0,lt=lt+Math.imul(gr,jr)|0,xt=xt+Math.imul(gr,Hr)|0;var Fn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,yt=Math.imul(nr,Dr),lt=Math.imul(nr,Lr),lt=lt+Math.imul(or,Dr)|0,xt=Math.imul(or,Lr),yt=yt+Math.imul(Bt,Ar)|0,lt=lt+Math.imul(Bt,Tr)|0,lt=lt+Math.imul(Gt,Ar)|0,xt=xt+Math.imul(Gt,Tr)|0,yt=yt+Math.imul(wr,jr)|0,lt=lt+Math.imul(wr,Hr)|0,lt=lt+Math.imul(Vt,jr)|0,xt=xt+Math.imul(Vt,Hr)|0;var jn=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(jn>>>26)|0,jn&=67108863,yt=Math.imul(nr,Ar),lt=Math.imul(nr,Tr),lt=lt+Math.imul(or,Ar)|0,xt=Math.imul(or,Tr),yt=yt+Math.imul(Bt,jr)|0,lt=lt+Math.imul(Bt,Hr)|0,lt=lt+Math.imul(Gt,jr)|0,xt=xt+Math.imul(Gt,Hr)|0;var Ln=(St+yt|0)+((lt&8191)<<13)|0;St=(xt+(lt>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,yt=Math.imul(nr,jr),lt=Math.imul(nr,Hr),lt=lt+Math.imul(or,jr)|0,xt=Math.imul(or,Hr);var Wn=(St+yt|0)+((lt&8191)<<13)|0;return St=(xt+(lt>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,vt[0]=mn,vt[1]=sn,vt[2]=cn,vt[3]=fn,vt[4]=ln,vt[5]=$n,vt[6]=Pn,vt[7]=vn,vt[8]=kn,vt[9]=Nn,vt[10]=hn,vt[11]=Bn,vt[12]=yn,vt[13]=Cn,vt[14]=Dn,vt[15]=Fn,vt[16]=jn,vt[17]=Ln,vt[18]=Wn,St!==0&&(vt[19]=St,mt.length++),mt};Math.imul||(Rt=At);function kt(ht,ot,dt){dt.negative=ot.negative^ht.negative,dt.length=ht.length+ot.length;for(var mt=0,wt=0,bt=0;bt<dt.length-1;bt++){var vt=wt;wt=0;for(var St=mt&67108863,yt=Math.min(bt,ot.length-1),lt=Math.max(0,bt-ht.length+1);lt<=yt;lt++){var xt=bt-lt,Ut=ht.words[xt]|0,Pt=ot.words[lt]|0,qt=Ut*Pt,ir=qt&67108863;vt=vt+(qt/67108864|0)|0,ir=ir+St|0,St=ir&67108863,vt=vt+(ir>>>26)|0,wt+=vt>>>26,vt&=67108863}dt.words[bt]=St,mt=vt,vt=wt}return mt!==0?dt.words[bt]=mt:dt.length--,dt._strip()}function Ot(ht,ot,dt){return kt(ht,ot,dt)}it.prototype.mulTo=function(ot,dt){var mt,wt=this.length+ot.length;return this.length===10&&ot.length===10?mt=Rt(this,ot,dt):wt<63?mt=At(this,ot,dt):wt<1024?mt=kt(this,ot,dt):mt=Ot(this,ot,dt),mt},it.prototype.mul=function(ot){var dt=new it(null);return dt.words=new Array(this.length+ot.length),this.mulTo(ot,dt)},it.prototype.mulf=function(ot){var dt=new it(null);return dt.words=new Array(this.length+ot.length),Ot(this,ot,dt)},it.prototype.imul=function(ot){return this.clone().mulTo(ot,this)},it.prototype.imuln=function(ot){var dt=ot<0;dt&&(ot=-ot),rt(typeof ot=="number"),rt(ot<67108864);for(var mt=0,wt=0;wt<this.length;wt++){var bt=(this.words[wt]|0)*ot,vt=(bt&67108863)+(mt&67108863);mt>>=26,mt+=bt/67108864|0,mt+=vt>>>26,this.words[wt]=vt&67108863}return mt!==0&&(this.words[wt]=mt,this.length++),dt?this.ineg():this},it.prototype.muln=function(ot){return this.clone().imuln(ot)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(ot){var dt=Tt(ot);if(dt.length===0)return new it(1);for(var mt=this,wt=0;wt<dt.length&&dt[wt]===0;wt++,mt=mt.sqr());if(++wt<dt.length)for(var bt=mt.sqr();wt<dt.length;wt++,bt=bt.sqr())dt[wt]!==0&&(mt=mt.mul(bt));return mt},it.prototype.iushln=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=ot%26,mt=(ot-dt)/26,wt=67108863>>>26-dt<<26-dt,bt;if(dt!==0){var vt=0;for(bt=0;bt<this.length;bt++){var St=this.words[bt]&wt,yt=(this.words[bt]|0)-St<<dt;this.words[bt]=yt|vt,vt=St>>>26-dt}vt&&(this.words[bt]=vt,this.length++)}if(mt!==0){for(bt=this.length-1;bt>=0;bt--)this.words[bt+mt]=this.words[bt];for(bt=0;bt<mt;bt++)this.words[bt]=0;this.length+=mt}return this._strip()},it.prototype.ishln=function(ot){return rt(this.negative===0),this.iushln(ot)},it.prototype.iushrn=function(ot,dt,mt){rt(typeof ot=="number"&&ot>=0);var wt;dt?wt=(dt-dt%26)/26:wt=0;var bt=ot%26,vt=Math.min((ot-bt)/26,this.length),St=67108863^67108863>>>bt<<bt,yt=mt;if(wt-=vt,wt=Math.max(0,wt),yt){for(var lt=0;lt<vt;lt++)yt.words[lt]=this.words[lt];yt.length=vt}if(vt!==0)if(this.length>vt)for(this.length-=vt,lt=0;lt<this.length;lt++)this.words[lt]=this.words[lt+vt];else this.words[0]=0,this.length=1;var xt=0;for(lt=this.length-1;lt>=0&&(xt!==0||lt>=wt);lt--){var Ut=this.words[lt]|0;this.words[lt]=xt<<26-bt|Ut>>>bt,xt=Ut&St}return yt&&xt!==0&&(yt.words[yt.length++]=xt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},it.prototype.ishrn=function(ot,dt,mt){return rt(this.negative===0),this.iushrn(ot,dt,mt)},it.prototype.shln=function(ot){return this.clone().ishln(ot)},it.prototype.ushln=function(ot){return this.clone().iushln(ot)},it.prototype.shrn=function(ot){return this.clone().ishrn(ot)},it.prototype.ushrn=function(ot){return this.clone().iushrn(ot)},it.prototype.testn=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=ot%26,mt=(ot-dt)/26,wt=1<<dt;if(this.length<=mt)return!1;var bt=this.words[mt];return!!(bt&wt)},it.prototype.imaskn=function(ot){rt(typeof ot=="number"&&ot>=0);var dt=ot%26,mt=(ot-dt)/26;if(rt(this.negative===0,"imaskn works only with positive numbers"),this.length<=mt)return this;if(dt!==0&&mt++,this.length=Math.min(mt,this.length),dt!==0){var wt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=wt}return this._strip()},it.prototype.maskn=function(ot){return this.clone().imaskn(ot)},it.prototype.iaddn=function(ot){return rt(typeof ot=="number"),rt(ot<67108864),ot<0?this.isubn(-ot):this.negative!==0?this.length===1&&(this.words[0]|0)<=ot?(this.words[0]=ot-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ot),this.negative=1,this):this._iaddn(ot)},it.prototype._iaddn=function(ot){this.words[0]+=ot;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(ot){if(rt(typeof ot=="number"),rt(ot<67108864),ot<0)return this.iaddn(-ot);if(this.negative!==0)return this.negative=0,this.iaddn(ot),this.negative=1,this;if(this.words[0]-=ot,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},it.prototype.addn=function(ot){return this.clone().iaddn(ot)},it.prototype.subn=function(ot){return this.clone().isubn(ot)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(ot,dt,mt){var wt=ot.length+mt,bt;this._expand(wt);var vt,St=0;for(bt=0;bt<ot.length;bt++){vt=(this.words[bt+mt]|0)+St;var yt=(ot.words[bt]|0)*dt;vt-=yt&67108863,St=(vt>>26)-(yt/67108864|0),this.words[bt+mt]=vt&67108863}for(;bt<this.length-mt;bt++)vt=(this.words[bt+mt]|0)+St,St=vt>>26,this.words[bt+mt]=vt&67108863;if(St===0)return this._strip();for(rt(St===-1),St=0,bt=0;bt<this.length;bt++)vt=-(this.words[bt]|0)+St,St=vt>>26,this.words[bt]=vt&67108863;return this.negative=1,this._strip()},it.prototype._wordDiv=function(ot,dt){var mt=this.length-ot.length,wt=this.clone(),bt=ot,vt=bt.words[bt.length-1]|0,St=this._countBits(vt);mt=26-St,mt!==0&&(bt=bt.ushln(mt),wt.iushln(mt),vt=bt.words[bt.length-1]|0);var yt=wt.length-bt.length,lt;if(dt!=="mod"){lt=new it(null),lt.length=yt+1,lt.words=new Array(lt.length);for(var xt=0;xt<lt.length;xt++)lt.words[xt]=0}var Ut=wt.clone()._ishlnsubmul(bt,1,yt);Ut.negative===0&&(wt=Ut,lt&&(lt.words[yt]=1));for(var Pt=yt-1;Pt>=0;Pt--){var qt=(wt.words[bt.length+Pt]|0)*67108864+(wt.words[bt.length+Pt-1]|0);for(qt=Math.min(qt/vt|0,67108863),wt._ishlnsubmul(bt,qt,Pt);wt.negative!==0;)qt--,wt.negative=0,wt._ishlnsubmul(bt,1,Pt),wt.isZero()||(wt.negative^=1);lt&&(lt.words[Pt]=qt)}return lt&&lt._strip(),wt._strip(),dt!=="div"&&mt!==0&&wt.iushrn(mt),{div:lt||null,mod:wt}},it.prototype.divmod=function(ot,dt,mt){if(rt(!ot.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var wt,bt,vt;return this.negative!==0&&ot.negative===0?(vt=this.neg().divmod(ot,dt),dt!=="mod"&&(wt=vt.div.neg()),dt!=="div"&&(bt=vt.mod.neg(),mt&&bt.negative!==0&&bt.iadd(ot)),{div:wt,mod:bt}):this.negative===0&&ot.negative!==0?(vt=this.divmod(ot.neg(),dt),dt!=="mod"&&(wt=vt.div.neg()),{div:wt,mod:vt.mod}):(this.negative&ot.negative)!==0?(vt=this.neg().divmod(ot.neg(),dt),dt!=="div"&&(bt=vt.mod.neg(),mt&&bt.negative!==0&&bt.isub(ot)),{div:vt.div,mod:bt}):ot.length>this.length||this.cmp(ot)<0?{div:new it(0),mod:this}:ot.length===1?dt==="div"?{div:this.divn(ot.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modrn(ot.words[0]))}:{div:this.divn(ot.words[0]),mod:new it(this.modrn(ot.words[0]))}:this._wordDiv(ot,dt)},it.prototype.div=function(ot){return this.divmod(ot,"div",!1).div},it.prototype.mod=function(ot){return this.divmod(ot,"mod",!1).mod},it.prototype.umod=function(ot){return this.divmod(ot,"mod",!0).mod},it.prototype.divRound=function(ot){var dt=this.divmod(ot);if(dt.mod.isZero())return dt.div;var mt=dt.div.negative!==0?dt.mod.isub(ot):dt.mod,wt=ot.ushrn(1),bt=ot.andln(1),vt=mt.cmp(wt);return vt<0||bt===1&&vt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modrn=function(ot){var dt=ot<0;dt&&(ot=-ot),rt(ot<=67108863);for(var mt=(1<<26)%ot,wt=0,bt=this.length-1;bt>=0;bt--)wt=(mt*wt+(this.words[bt]|0))%ot;return dt?-wt:wt},it.prototype.modn=function(ot){return this.modrn(ot)},it.prototype.idivn=function(ot){var dt=ot<0;dt&&(ot=-ot),rt(ot<=67108863);for(var mt=0,wt=this.length-1;wt>=0;wt--){var bt=(this.words[wt]|0)+mt*67108864;this.words[wt]=bt/ot|0,mt=bt%ot}return this._strip(),dt?this.ineg():this},it.prototype.divn=function(ot){return this.clone().idivn(ot)},it.prototype.egcd=function(ot){rt(ot.negative===0),rt(!ot.isZero());var dt=this,mt=ot.clone();dt.negative!==0?dt=dt.umod(ot):dt=dt.clone();for(var wt=new it(1),bt=new it(0),vt=new it(0),St=new it(1),yt=0;dt.isEven()&&mt.isEven();)dt.iushrn(1),mt.iushrn(1),++yt;for(var lt=mt.clone(),xt=dt.clone();!dt.isZero();){for(var Ut=0,Pt=1;(dt.words[0]&Pt)===0&&Ut<26;++Ut,Pt<<=1);if(Ut>0)for(dt.iushrn(Ut);Ut-- >0;)(wt.isOdd()||bt.isOdd())&&(wt.iadd(lt),bt.isub(xt)),wt.iushrn(1),bt.iushrn(1);for(var qt=0,ir=1;(mt.words[0]&ir)===0&&qt<26;++qt,ir<<=1);if(qt>0)for(mt.iushrn(qt);qt-- >0;)(vt.isOdd()||St.isOdd())&&(vt.iadd(lt),St.isub(xt)),vt.iushrn(1),St.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),wt.isub(vt),bt.isub(St)):(mt.isub(dt),vt.isub(wt),St.isub(bt))}return{a:vt,b:St,gcd:mt.iushln(yt)}},it.prototype._invmp=function(ot){rt(ot.negative===0),rt(!ot.isZero());var dt=this,mt=ot.clone();dt.negative!==0?dt=dt.umod(ot):dt=dt.clone();for(var wt=new it(1),bt=new it(0),vt=mt.clone();dt.cmpn(1)>0&&mt.cmpn(1)>0;){for(var St=0,yt=1;(dt.words[0]&yt)===0&&St<26;++St,yt<<=1);if(St>0)for(dt.iushrn(St);St-- >0;)wt.isOdd()&&wt.iadd(vt),wt.iushrn(1);for(var lt=0,xt=1;(mt.words[0]&xt)===0&&lt<26;++lt,xt<<=1);if(lt>0)for(mt.iushrn(lt);lt-- >0;)bt.isOdd()&&bt.iadd(vt),bt.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),wt.isub(bt)):(mt.isub(dt),bt.isub(wt))}var Ut;return dt.cmpn(1)===0?Ut=wt:Ut=bt,Ut.cmpn(0)<0&&Ut.iadd(ot),Ut},it.prototype.gcd=function(ot){if(this.isZero())return ot.abs();if(ot.isZero())return this.abs();var dt=this.clone(),mt=ot.clone();dt.negative=0,mt.negative=0;for(var wt=0;dt.isEven()&&mt.isEven();wt++)dt.iushrn(1),mt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;mt.isEven();)mt.iushrn(1);var bt=dt.cmp(mt);if(bt<0){var vt=dt;dt=mt,mt=vt}else if(bt===0||mt.cmpn(1)===0)break;dt.isub(mt)}while(!0);return mt.iushln(wt)},it.prototype.invm=function(ot){return this.egcd(ot).a.umod(ot)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(ot){return this.words[0]&ot},it.prototype.bincn=function(ot){rt(typeof ot=="number");var dt=ot%26,mt=(ot-dt)/26,wt=1<<dt;if(this.length<=mt)return this._expand(mt+1),this.words[mt]|=wt,this;for(var bt=wt,vt=mt;bt!==0&&vt<this.length;vt++){var St=this.words[vt]|0;St+=bt,bt=St>>>26,St&=67108863,this.words[vt]=St}return bt!==0&&(this.words[vt]=bt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(ot){var dt=ot<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var mt;if(this.length>1)mt=1;else{dt&&(ot=-ot),rt(ot<=67108863,"Number is too big");var wt=this.words[0]|0;mt=wt===ot?0:wt<ot?-1:1}return this.negative!==0?-mt|0:mt},it.prototype.cmp=function(ot){if(this.negative!==0&&ot.negative===0)return-1;if(this.negative===0&&ot.negative!==0)return 1;var dt=this.ucmp(ot);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(ot){if(this.length>ot.length)return 1;if(this.length<ot.length)return-1;for(var dt=0,mt=this.length-1;mt>=0;mt--){var wt=this.words[mt]|0,bt=ot.words[mt]|0;if(wt!==bt){wt<bt?dt=-1:wt>bt&&(dt=1);break}}return dt},it.prototype.gtn=function(ot){return this.cmpn(ot)===1},it.prototype.gt=function(ot){return this.cmp(ot)===1},it.prototype.gten=function(ot){return this.cmpn(ot)>=0},it.prototype.gte=function(ot){return this.cmp(ot)>=0},it.prototype.ltn=function(ot){return this.cmpn(ot)===-1},it.prototype.lt=function(ot){return this.cmp(ot)===-1},it.prototype.lten=function(ot){return this.cmpn(ot)<=0},it.prototype.lte=function(ot){return this.cmp(ot)<=0},it.prototype.eqn=function(ot){return this.cmpn(ot)===0},it.prototype.eq=function(ot){return this.cmp(ot)===0},it.red=function(ot){return new Ct(ot)},it.prototype.toRed=function(ot){return rt(!this.red,"Already a number in reduction context"),rt(this.negative===0,"red works only with positives"),ot.convertTo(this)._forceRed(ot)},it.prototype.fromRed=function(){return rt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(ot){return this.red=ot,this},it.prototype.forceRed=function(ot){return rt(!this.red,"Already a number in reduction context"),this._forceRed(ot)},it.prototype.redAdd=function(ot){return rt(this.red,"redAdd works only with red numbers"),this.red.add(this,ot)},it.prototype.redIAdd=function(ot){return rt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ot)},it.prototype.redSub=function(ot){return rt(this.red,"redSub works only with red numbers"),this.red.sub(this,ot)},it.prototype.redISub=function(ot){return rt(this.red,"redISub works only with red numbers"),this.red.isub(this,ot)},it.prototype.redShl=function(ot){return rt(this.red,"redShl works only with red numbers"),this.red.shl(this,ot)},it.prototype.redMul=function(ot){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,ot),this.red.mul(this,ot)},it.prototype.redIMul=function(ot){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,ot),this.red.imul(this,ot)},it.prototype.redSqr=function(){return rt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return rt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return rt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return rt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return rt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(ot){return rt(this.red&&!ot.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ot)};var Wt={k256:null,p224:null,p192:null,p25519:null};function zt(ht,ot){this.name=ht,this.p=new it(ot,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}zt.prototype._tmp=function(){var ot=new it(null);return ot.words=new Array(Math.ceil(this.n/13)),ot},zt.prototype.ireduce=function(ot){var dt=ot,mt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),mt=dt.bitLength();while(mt>this.n);var wt=mt<this.n?-1:dt.ucmp(this.p);return wt===0?(dt.words[0]=0,dt.length=1):wt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},zt.prototype.split=function(ot,dt){ot.iushrn(this.n,0,dt)},zt.prototype.imulK=function(ot){return ot.imul(this.k)};function Kt(){zt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}nt(Kt,zt),Kt.prototype.split=function(ot,dt){for(var mt=4194303,wt=Math.min(ot.length,9),bt=0;bt<wt;bt++)dt.words[bt]=ot.words[bt];if(dt.length=wt,ot.length<=9){ot.words[0]=0,ot.length=1;return}var vt=ot.words[9];for(dt.words[dt.length++]=vt&mt,bt=10;bt<ot.length;bt++){var St=ot.words[bt]|0;ot.words[bt-10]=(St&mt)<<4|vt>>>22,vt=St}vt>>>=22,ot.words[bt-10]=vt,vt===0&&ot.length>10?ot.length-=10:ot.length-=9},Kt.prototype.imulK=function(ot){ot.words[ot.length]=0,ot.words[ot.length+1]=0,ot.length+=2;for(var dt=0,mt=0;mt<ot.length;mt++){var wt=ot.words[mt]|0;dt+=wt*977,ot.words[mt]=dt&67108863,dt=wt*64+(dt/67108864|0)}return ot.words[ot.length-1]===0&&(ot.length--,ot.words[ot.length-1]===0&&ot.length--),ot};function Jt(){zt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}nt(Jt,zt);function ar(){zt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}nt(ar,zt);function jt(){zt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}nt(jt,zt),jt.prototype.imulK=function(ot){for(var dt=0,mt=0;mt<ot.length;mt++){var wt=(ot.words[mt]|0)*19+dt,bt=wt&67108863;wt>>>=26,ot.words[mt]=bt,dt=wt}return dt!==0&&(ot.words[ot.length++]=dt),ot},it._prime=function(ot){if(Wt[ot])return Wt[ot];var dt;if(ot==="k256")dt=new Kt;else if(ot==="p224")dt=new Jt;else if(ot==="p192")dt=new ar;else if(ot==="p25519")dt=new jt;else throw new Error("Unknown prime "+ot);return Wt[ot]=dt,dt};function Ct(ht){if(typeof ht=="string"){var ot=it._prime(ht);this.m=ot.p,this.prime=ot}else rt(ht.gtn(1),"modulus must be greater than 1"),this.m=ht,this.prime=null}Ct.prototype._verify1=function(ot){rt(ot.negative===0,"red works only with positives"),rt(ot.red,"red works only with red numbers")},Ct.prototype._verify2=function(ot,dt){rt((ot.negative|dt.negative)===0,"red works only with positives"),rt(ot.red&&ot.red===dt.red,"red works only with red numbers")},Ct.prototype.imod=function(ot){return this.prime?this.prime.ireduce(ot)._forceRed(this):(ft(ot,ot.umod(this.m)._forceRed(this)),ot)},Ct.prototype.neg=function(ot){return ot.isZero()?ot.clone():this.m.sub(ot)._forceRed(this)},Ct.prototype.add=function(ot,dt){this._verify2(ot,dt);var mt=ot.add(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt._forceRed(this)},Ct.prototype.iadd=function(ot,dt){this._verify2(ot,dt);var mt=ot.iadd(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt},Ct.prototype.sub=function(ot,dt){this._verify2(ot,dt);var mt=ot.sub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt._forceRed(this)},Ct.prototype.isub=function(ot,dt){this._verify2(ot,dt);var mt=ot.isub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt},Ct.prototype.shl=function(ot,dt){return this._verify1(ot),this.imod(ot.ushln(dt))},Ct.prototype.imul=function(ot,dt){return this._verify2(ot,dt),this.imod(ot.imul(dt))},Ct.prototype.mul=function(ot,dt){return this._verify2(ot,dt),this.imod(ot.mul(dt))},Ct.prototype.isqr=function(ot){return this.imul(ot,ot.clone())},Ct.prototype.sqr=function(ot){return this.mul(ot,ot)},Ct.prototype.sqrt=function(ot){if(ot.isZero())return ot.clone();var dt=this.m.andln(3);if(rt(dt%2===1),dt===3){var mt=this.m.add(new it(1)).iushrn(2);return this.pow(ot,mt)}for(var wt=this.m.subn(1),bt=0;!wt.isZero()&&wt.andln(1)===0;)bt++,wt.iushrn(1);rt(!wt.isZero());var vt=new it(1).toRed(this),St=vt.redNeg(),yt=this.m.subn(1).iushrn(1),lt=this.m.bitLength();for(lt=new it(2*lt*lt).toRed(this);this.pow(lt,yt).cmp(St)!==0;)lt.redIAdd(St);for(var xt=this.pow(lt,wt),Ut=this.pow(ot,wt.addn(1).iushrn(1)),Pt=this.pow(ot,wt),qt=bt;Pt.cmp(vt)!==0;){for(var ir=Pt,Yt=0;ir.cmp(vt)!==0;Yt++)ir=ir.redSqr();rt(Yt<qt);var rr=this.pow(xt,new it(1).iushln(qt-Yt-1));Ut=Ut.redMul(rr),xt=rr.redSqr(),Pt=Pt.redMul(xt),qt=Yt}return Ut},Ct.prototype.invm=function(ot){var dt=ot._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Ct.prototype.pow=function(ot,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return ot.clone();var mt=4,wt=new Array(1<<mt);wt[0]=new it(1).toRed(this),wt[1]=ot;for(var bt=2;bt<wt.length;bt++)wt[bt]=this.mul(wt[bt-1],ot);var vt=wt[0],St=0,yt=0,lt=dt.bitLength()%26;for(lt===0&&(lt=26),bt=dt.length-1;bt>=0;bt--){for(var xt=dt.words[bt],Ut=lt-1;Ut>=0;Ut--){var Pt=xt>>Ut&1;if(vt!==wt[0]&&(vt=this.sqr(vt)),Pt===0&&St===0){yt=0;continue}St<<=1,St|=Pt,yt++,!(yt!==mt&&(bt!==0||Ut!==0))&&(vt=this.mul(vt,wt[St]),yt=0,St=0)}lt=26}return vt},Ct.prototype.convertTo=function(ot){var dt=ot.umod(this.m);return dt===ot?dt.clone():dt},Ct.prototype.convertFrom=function(ot){var dt=ot.clone();return dt.red=null,dt},it.mont=function(ot){return new Nt(ot)};function Nt(ht){Ct.call(this,ht),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}nt(Nt,Ct),Nt.prototype.convertTo=function(ot){return this.imod(ot.ushln(this.shift))},Nt.prototype.convertFrom=function(ot){var dt=this.imod(ot.mul(this.rinv));return dt.red=null,dt},Nt.prototype.imul=function(ot,dt){if(ot.isZero()||dt.isZero())return ot.words[0]=0,ot.length=1,ot;var mt=ot.imul(dt),wt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bt=mt.isub(wt).iushrn(this.shift),vt=bt;return bt.cmp(this.m)>=0?vt=bt.isub(this.m):bt.cmpn(0)<0&&(vt=bt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.mul=function(ot,dt){if(ot.isZero()||dt.isZero())return new it(0)._forceRed(this);var mt=ot.mul(dt),wt=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bt=mt.isub(wt).iushrn(this.shift),vt=bt;return bt.cmp(this.m)>=0?vt=bt.isub(this.m):bt.cmpn(0)<0&&(vt=bt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.invm=function(ot){var dt=this.imod(ot._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(et,commonjsGlobal)})(bn$1);var dist$1={},classes={},fastSafeStringify=stringify$3;stringify$3.default=stringify$3;stringify$3.stable=deterministicStringify;stringify$3.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify$3(et,_e,tt,rt){typeof rt=="undefined"&&(rt=defaultOptions()),decirc(et,"",0,[],void 0,0,rt);var nt;try{replacerStack.length===0?nt=JSON.stringify(et,_e,tt):nt=JSON.stringify(et,replaceGetterValues(_e),tt)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var it=arr.pop();it.length===4?Object.defineProperty(it[0],it[1],it[3]):it[0][it[1]]=it[2]}}return nt}function setReplace(et,_e,tt,rt){var nt=Object.getOwnPropertyDescriptor(rt,tt);nt.get!==void 0?nt.configurable?(Object.defineProperty(rt,tt,{value:et}),arr.push([rt,tt,_e,nt])):replacerStack.push([_e,tt,et]):(rt[tt]=et,arr.push([rt,tt,_e]))}function decirc(et,_e,tt,rt,nt,it,at){it+=1;var st;if(typeof et=="object"&&et!==null){for(st=0;st<rt.length;st++)if(rt[st]===et){setReplace(CIRCULAR_REPLACE_NODE,et,_e,nt);return}if(typeof at.depthLimit!="undefined"&&it>at.depthLimit){setReplace(LIMIT_REPLACE_NODE,et,_e,nt);return}if(typeof at.edgesLimit!="undefined"&&tt+1>at.edgesLimit){setReplace(LIMIT_REPLACE_NODE,et,_e,nt);return}if(rt.push(et),Array.isArray(et))for(st=0;st<et.length;st++)decirc(et[st],st,st,rt,et,it,at);else{var ct=Object.keys(et);for(st=0;st<ct.length;st++){var ut=ct[st];decirc(et[ut],ut,st,rt,et,it,at)}}rt.pop()}}function compareFunction(et,_e){return et<_e?-1:et>_e?1:0}function deterministicStringify(et,_e,tt,rt){typeof rt=="undefined"&&(rt=defaultOptions());var nt=deterministicDecirc(et,"",0,[],void 0,0,rt)||et,it;try{replacerStack.length===0?it=JSON.stringify(nt,_e,tt):it=JSON.stringify(nt,replaceGetterValues(_e),tt)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var at=arr.pop();at.length===4?Object.defineProperty(at[0],at[1],at[3]):at[0][at[1]]=at[2]}}return it}function deterministicDecirc(et,_e,tt,rt,nt,it,at){it+=1;var st;if(typeof et=="object"&&et!==null){for(st=0;st<rt.length;st++)if(rt[st]===et){setReplace(CIRCULAR_REPLACE_NODE,et,_e,nt);return}try{if(typeof et.toJSON=="function")return}catch{return}if(typeof at.depthLimit!="undefined"&&it>at.depthLimit){setReplace(LIMIT_REPLACE_NODE,et,_e,nt);return}if(typeof at.edgesLimit!="undefined"&&tt+1>at.edgesLimit){setReplace(LIMIT_REPLACE_NODE,et,_e,nt);return}if(rt.push(et),Array.isArray(et))for(st=0;st<et.length;st++)deterministicDecirc(et[st],st,st,rt,et,it,at);else{var ct={},ut=Object.keys(et).sort(compareFunction);for(st=0;st<ut.length;st++){var ft=ut[st];deterministicDecirc(et[ft],ft,st,rt,et,it,at),ct[ft]=et[ft]}if(typeof nt!="undefined")arr.push([nt,_e,et]),nt[_e]=ct;else return ct}rt.pop()}}function replaceGetterValues(et){return et=typeof et!="undefined"?et:function(_e,tt){return tt},function(_e,tt){if(replacerStack.length>0)for(var rt=0;rt<replacerStack.length;rt++){var nt=replacerStack[rt];if(nt[1]===_e&&nt[0]===tt){tt=nt[2],replacerStack.splice(rt,1);break}}return et.call(this,_e,tt)}}Object.defineProperty(classes,"__esModule",{value:!0});classes.EthereumProviderError=classes.EthereumRpcError=void 0;const fast_safe_stringify_1=fastSafeStringify;class EthereumRpcError extends Error{constructor(_e,tt,rt){if(!Number.isInteger(_e))throw new Error('"code" must be an integer.');if(!tt||typeof tt!="string")throw new Error('"message" must be a nonempty string.');super(tt),this.code=_e,rt!==void 0&&(this.data=rt)}serialize(){const _e={code:this.code,message:this.message};return this.data!==void 0&&(_e.data=this.data),this.stack&&(_e.stack=this.stack),_e}toString(){return fast_safe_stringify_1.default(this.serialize(),stringifyReplacer,2)}}classes.EthereumRpcError=EthereumRpcError;class EthereumProviderError extends EthereumRpcError{constructor(_e,tt,rt){if(!isValidEthProviderCode(_e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(_e,tt,rt)}}classes.EthereumProviderError=EthereumProviderError;function isValidEthProviderCode(et){return Number.isInteger(et)&&et>=1e3&&et<=4999}function stringifyReplacer(et,_e){if(_e!=="[Circular]")return _e}var utils$5={},errorConstants={};Object.defineProperty(errorConstants,"__esModule",{value:!0});errorConstants.errorValues=errorConstants.errorCodes=void 0;errorConstants.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};errorConstants.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.serializeError=et.isValidCode=et.getMessageFromCode=et.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const _e=errorConstants,tt=classes,rt=_e.errorCodes.rpc.internal,nt="Unspecified error message. This is a bug, please report it.",it={code:rt,message:at(rt)};et.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function at(_t,Et=nt){if(Number.isInteger(_t)){const $t=_t.toString();if(gt(_e.errorValues,$t))return _e.errorValues[$t].message;if(ut(_t))return et.JSON_RPC_SERVER_ERROR_MESSAGE}return Et}et.getMessageFromCode=at;function st(_t){if(!Number.isInteger(_t))return!1;const Et=_t.toString();return!!(_e.errorValues[Et]||ut(_t))}et.isValidCode=st;function ct(_t,{fallbackError:Et=it,shouldIncludeStack:$t=!1}={}){var It,Tt;if(!Et||!Number.isInteger(Et.code)||typeof Et.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(_t instanceof tt.EthereumRpcError)return _t.serialize();const At={};if(_t&&typeof _t=="object"&&!Array.isArray(_t)&&gt(_t,"code")&&st(_t.code)){const kt=_t;At.code=kt.code,kt.message&&typeof kt.message=="string"?(At.message=kt.message,gt(kt,"data")&&(At.data=kt.data)):(At.message=at(At.code),At.data={originalError:ft(_t)})}else{At.code=Et.code;const kt=(It=_t)===null||It===void 0?void 0:It.message;At.message=kt&&typeof kt=="string"?kt:Et.message,At.data={originalError:ft(_t)}}const Rt=(Tt=_t)===null||Tt===void 0?void 0:Tt.stack;return $t&&_t&&Rt&&typeof Rt=="string"&&(At.stack=Rt),At}et.serializeError=ct;function ut(_t){return _t>=-32099&&_t<=-32e3}function ft(_t){return _t&&typeof _t=="object"&&!Array.isArray(_t)?Object.assign({},_t):_t}function gt(_t,Et){return Object.prototype.hasOwnProperty.call(_t,Et)}})(utils$5);var errors={};Object.defineProperty(errors,"__esModule",{value:!0});errors.ethErrors=void 0;const classes_1=classes,utils_1=utils$5,error_constants_1=errorConstants;errors.ethErrors={rpc:{parse:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.parse,et),invalidRequest:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest,et),invalidParams:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams,et),methodNotFound:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound,et),internal:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.internal,et),server:et=>{if(!et||typeof et!="object"||Array.isArray(et))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:_e}=et;if(!Number.isInteger(_e)||_e>-32005||_e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError(_e,et)},invalidInput:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput,et),resourceNotFound:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound,et),resourceUnavailable:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable,et),transactionRejected:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected,et),methodNotSupported:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported,et),limitExceeded:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded,et)},provider:{userRejectedRequest:et=>getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest,et),unauthorized:et=>getEthProviderError(error_constants_1.errorCodes.provider.unauthorized,et),unsupportedMethod:et=>getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod,et),disconnected:et=>getEthProviderError(error_constants_1.errorCodes.provider.disconnected,et),chainDisconnected:et=>getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected,et),custom:et=>{if(!et||typeof et!="object"||Array.isArray(et))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:_e,message:tt,data:rt}=et;if(!tt||typeof tt!="string")throw new Error('"message" must be a nonempty string');return new classes_1.EthereumProviderError(_e,tt,rt)}}};function getEthJsonRpcError(et,_e){const[tt,rt]=parseOpts(_e);return new classes_1.EthereumRpcError(et,tt||utils_1.getMessageFromCode(et),rt)}function getEthProviderError(et,_e){const[tt,rt]=parseOpts(_e);return new classes_1.EthereumProviderError(et,tt||utils_1.getMessageFromCode(et),rt)}function parseOpts(et){if(et){if(typeof et=="string")return[et];if(typeof et=="object"&&!Array.isArray(et)){const{message:_e,data:tt}=et;if(_e&&typeof _e!="string")throw new Error("Must specify string message.");return[_e||void 0,tt]}}return[]}(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.getMessageFromCode=et.serializeError=et.EthereumProviderError=et.EthereumRpcError=et.ethErrors=et.errorCodes=void 0;const _e=classes;Object.defineProperty(et,"EthereumRpcError",{enumerable:!0,get:function(){return _e.EthereumRpcError}}),Object.defineProperty(et,"EthereumProviderError",{enumerable:!0,get:function(){return _e.EthereumProviderError}});const tt=utils$5;Object.defineProperty(et,"serializeError",{enumerable:!0,get:function(){return tt.serializeError}}),Object.defineProperty(et,"getMessageFromCode",{enumerable:!0,get:function(){return tt.getMessageFromCode}});const rt=errors;Object.defineProperty(et,"ethErrors",{enumerable:!0,get:function(){return rt.ethErrors}});const nt=errorConstants;Object.defineProperty(et,"errorCodes",{enumerable:!0,get:function(){return nt.errorCodes}})})(dist$1);var EventListener={};Object.defineProperty(EventListener,"__esModule",{value:!0});EventListener.EVENTS=void 0;EventListener.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Session$1={},sha256={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=globalThis:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(et){return Object.prototype.toString.call(et)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(et){return typeof et=="object"&&et.buffer&&et.buffer.constructor===ArrayBuffer});var createOutputMethod=function(et,_e){return function(tt){return new Sha256(_e,!0).update(tt)[et]()}},createMethod=function(et){var _e=createOutputMethod("hex",et);NODE_JS&&(_e=nodeWrap(_e,et)),_e.create=function(){return new Sha256(et)},_e.update=function(nt){return _e.create().update(nt)};for(var tt=0;tt<OUTPUT_TYPES.length;++tt){var rt=OUTPUT_TYPES[tt];_e[rt]=createOutputMethod(rt,et)}return _e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(et){if(typeof et=="string")return crypto.createHash(algorithm).update(et,"utf8").digest("hex");if(et==null)throw new Error(ERROR);return et.constructor===ArrayBuffer&&(et=new Uint8Array(et)),Array.isArray(et)||ArrayBuffer.isView(et)||et.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(et)).digest("hex"):method(et)};return nodeMethod},createHmacOutputMethod=function(et,_e){return function(tt,rt){return new HmacSha256(tt,_e,!0).update(rt)[et]()}},createHmacMethod=function(et){var _e=createHmacOutputMethod("hex",et);_e.create=function(nt){return new HmacSha256(nt,et)},_e.update=function(nt,it){return _e.create(nt).update(it)};for(var tt=0;tt<OUTPUT_TYPES.length;++tt){var rt=OUTPUT_TYPES[tt];_e[rt]=createHmacOutputMethod(rt,et)}return _e};function Sha256(et,_e){_e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],et?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=et}Sha256.prototype.update=function(et){if(!this.finalized){var _e,tt=typeof et;if(tt!=="string"){if(tt==="object"){if(et===null)throw new Error(ERROR);if(ARRAY_BUFFER&&et.constructor===ArrayBuffer)et=new Uint8Array(et);else if(!Array.isArray(et)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(et)))throw new Error(ERROR)}else throw new Error(ERROR);_e=!0}for(var rt,nt=0,it,at=et.length,st=this.blocks;nt<at;){if(this.hashed&&(this.hashed=!1,st[0]=this.block,st[16]=st[1]=st[2]=st[3]=st[4]=st[5]=st[6]=st[7]=st[8]=st[9]=st[10]=st[11]=st[12]=st[13]=st[14]=st[15]=0),_e)for(it=this.start;nt<at&&it<64;++nt)st[it>>2]|=et[nt]<<SHIFT[it++&3];else for(it=this.start;nt<at&&it<64;++nt)rt=et.charCodeAt(nt),rt<128?st[it>>2]|=rt<<SHIFT[it++&3]:rt<2048?(st[it>>2]|=(192|rt>>6)<<SHIFT[it++&3],st[it>>2]|=(128|rt&63)<<SHIFT[it++&3]):rt<55296||rt>=57344?(st[it>>2]|=(224|rt>>12)<<SHIFT[it++&3],st[it>>2]|=(128|rt>>6&63)<<SHIFT[it++&3],st[it>>2]|=(128|rt&63)<<SHIFT[it++&3]):(rt=65536+((rt&1023)<<10|et.charCodeAt(++nt)&1023),st[it>>2]|=(240|rt>>18)<<SHIFT[it++&3],st[it>>2]|=(128|rt>>12&63)<<SHIFT[it++&3],st[it>>2]|=(128|rt>>6&63)<<SHIFT[it++&3],st[it>>2]|=(128|rt&63)<<SHIFT[it++&3]);this.lastByteIndex=it,this.bytes+=it-this.start,it>=64?(this.block=st[16],this.start=it-64,this.hash(),this.hashed=!0):this.start=it}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var et=this.blocks,_e=this.lastByteIndex;et[16]=this.block,et[_e>>2]|=EXTRA[_e&3],this.block=et[16],_e>=56&&(this.hashed||this.hash(),et[0]=this.block,et[16]=et[1]=et[2]=et[3]=et[4]=et[5]=et[6]=et[7]=et[8]=et[9]=et[10]=et[11]=et[12]=et[13]=et[14]=et[15]=0),et[14]=this.hBytes<<3|this.bytes>>>29,et[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var et=this.h0,_e=this.h1,tt=this.h2,rt=this.h3,nt=this.h4,it=this.h5,at=this.h6,st=this.h7,ct=this.blocks,ut,ft,gt,_t,Et,$t,It,Tt,At,Rt,kt;for(ut=16;ut<64;++ut)Et=ct[ut-15],ft=(Et>>>7|Et<<25)^(Et>>>18|Et<<14)^Et>>>3,Et=ct[ut-2],gt=(Et>>>17|Et<<15)^(Et>>>19|Et<<13)^Et>>>10,ct[ut]=ct[ut-16]+ft+ct[ut-7]+gt<<0;for(kt=_e&tt,ut=0;ut<64;ut+=4)this.first?(this.is224?(Tt=300032,Et=ct[0]-1413257819,st=Et-150054599<<0,rt=Et+24177077<<0):(Tt=704751109,Et=ct[0]-210244248,st=Et-1521486534<<0,rt=Et+143694565<<0),this.first=!1):(ft=(et>>>2|et<<30)^(et>>>13|et<<19)^(et>>>22|et<<10),gt=(nt>>>6|nt<<26)^(nt>>>11|nt<<21)^(nt>>>25|nt<<7),Tt=et&_e,_t=Tt^et&tt^kt,It=nt&it^~nt&at,Et=st+gt+It+K[ut]+ct[ut],$t=ft+_t,st=rt+Et<<0,rt=Et+$t<<0),ft=(rt>>>2|rt<<30)^(rt>>>13|rt<<19)^(rt>>>22|rt<<10),gt=(st>>>6|st<<26)^(st>>>11|st<<21)^(st>>>25|st<<7),At=rt&et,_t=At^rt&_e^Tt,It=st&nt^~st&it,Et=at+gt+It+K[ut+1]+ct[ut+1],$t=ft+_t,at=tt+Et<<0,tt=Et+$t<<0,ft=(tt>>>2|tt<<30)^(tt>>>13|tt<<19)^(tt>>>22|tt<<10),gt=(at>>>6|at<<26)^(at>>>11|at<<21)^(at>>>25|at<<7),Rt=tt&rt,_t=Rt^tt&et^At,It=at&st^~at&nt,Et=it+gt+It+K[ut+2]+ct[ut+2],$t=ft+_t,it=_e+Et<<0,_e=Et+$t<<0,ft=(_e>>>2|_e<<30)^(_e>>>13|_e<<19)^(_e>>>22|_e<<10),gt=(it>>>6|it<<26)^(it>>>11|it<<21)^(it>>>25|it<<7),kt=_e&tt,_t=kt^_e&rt^Rt,It=it&at^~it&st,Et=nt+gt+It+K[ut+3]+ct[ut+3],$t=ft+_t,nt=et+Et<<0,et=Et+$t<<0;this.h0=this.h0+et<<0,this.h1=this.h1+_e<<0,this.h2=this.h2+tt<<0,this.h3=this.h3+rt<<0,this.h4=this.h4+nt<<0,this.h5=this.h5+it<<0,this.h6=this.h6+at<<0,this.h7=this.h7+st<<0},Sha256.prototype.hex=function(){this.finalize();var et=this.h0,_e=this.h1,tt=this.h2,rt=this.h3,nt=this.h4,it=this.h5,at=this.h6,st=this.h7,ct=HEX_CHARS[et>>28&15]+HEX_CHARS[et>>24&15]+HEX_CHARS[et>>20&15]+HEX_CHARS[et>>16&15]+HEX_CHARS[et>>12&15]+HEX_CHARS[et>>8&15]+HEX_CHARS[et>>4&15]+HEX_CHARS[et&15]+HEX_CHARS[_e>>28&15]+HEX_CHARS[_e>>24&15]+HEX_CHARS[_e>>20&15]+HEX_CHARS[_e>>16&15]+HEX_CHARS[_e>>12&15]+HEX_CHARS[_e>>8&15]+HEX_CHARS[_e>>4&15]+HEX_CHARS[_e&15]+HEX_CHARS[tt>>28&15]+HEX_CHARS[tt>>24&15]+HEX_CHARS[tt>>20&15]+HEX_CHARS[tt>>16&15]+HEX_CHARS[tt>>12&15]+HEX_CHARS[tt>>8&15]+HEX_CHARS[tt>>4&15]+HEX_CHARS[tt&15]+HEX_CHARS[rt>>28&15]+HEX_CHARS[rt>>24&15]+HEX_CHARS[rt>>20&15]+HEX_CHARS[rt>>16&15]+HEX_CHARS[rt>>12&15]+HEX_CHARS[rt>>8&15]+HEX_CHARS[rt>>4&15]+HEX_CHARS[rt&15]+HEX_CHARS[nt>>28&15]+HEX_CHARS[nt>>24&15]+HEX_CHARS[nt>>20&15]+HEX_CHARS[nt>>16&15]+HEX_CHARS[nt>>12&15]+HEX_CHARS[nt>>8&15]+HEX_CHARS[nt>>4&15]+HEX_CHARS[nt&15]+HEX_CHARS[it>>28&15]+HEX_CHARS[it>>24&15]+HEX_CHARS[it>>20&15]+HEX_CHARS[it>>16&15]+HEX_CHARS[it>>12&15]+HEX_CHARS[it>>8&15]+HEX_CHARS[it>>4&15]+HEX_CHARS[it&15]+HEX_CHARS[at>>28&15]+HEX_CHARS[at>>24&15]+HEX_CHARS[at>>20&15]+HEX_CHARS[at>>16&15]+HEX_CHARS[at>>12&15]+HEX_CHARS[at>>8&15]+HEX_CHARS[at>>4&15]+HEX_CHARS[at&15];return this.is224||(ct+=HEX_CHARS[st>>28&15]+HEX_CHARS[st>>24&15]+HEX_CHARS[st>>20&15]+HEX_CHARS[st>>16&15]+HEX_CHARS[st>>12&15]+HEX_CHARS[st>>8&15]+HEX_CHARS[st>>4&15]+HEX_CHARS[st&15]),ct},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var et=this.h0,_e=this.h1,tt=this.h2,rt=this.h3,nt=this.h4,it=this.h5,at=this.h6,st=this.h7,ct=[et>>24&255,et>>16&255,et>>8&255,et&255,_e>>24&255,_e>>16&255,_e>>8&255,_e&255,tt>>24&255,tt>>16&255,tt>>8&255,tt&255,rt>>24&255,rt>>16&255,rt>>8&255,rt&255,nt>>24&255,nt>>16&255,nt>>8&255,nt&255,it>>24&255,it>>16&255,it>>8&255,it&255,at>>24&255,at>>16&255,at>>8&255,at&255];return this.is224||ct.push(st>>24&255,st>>16&255,st>>8&255,st&255),ct},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var et=new ArrayBuffer(this.is224?28:32),_e=new DataView(et);return _e.setUint32(0,this.h0),_e.setUint32(4,this.h1),_e.setUint32(8,this.h2),_e.setUint32(12,this.h3),_e.setUint32(16,this.h4),_e.setUint32(20,this.h5),_e.setUint32(24,this.h6),this.is224||_e.setUint32(28,this.h7),et};function HmacSha256(et,_e,tt){var rt,nt=typeof et;if(nt==="string"){var it=[],at=et.length,st=0,ct;for(rt=0;rt<at;++rt)ct=et.charCodeAt(rt),ct<128?it[st++]=ct:ct<2048?(it[st++]=192|ct>>6,it[st++]=128|ct&63):ct<55296||ct>=57344?(it[st++]=224|ct>>12,it[st++]=128|ct>>6&63,it[st++]=128|ct&63):(ct=65536+((ct&1023)<<10|et.charCodeAt(++rt)&1023),it[st++]=240|ct>>18,it[st++]=128|ct>>12&63,it[st++]=128|ct>>6&63,it[st++]=128|ct&63);et=it}else if(nt==="object"){if(et===null)throw new Error(ERROR);if(ARRAY_BUFFER&&et.constructor===ArrayBuffer)et=new Uint8Array(et);else if(!Array.isArray(et)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(et)))throw new Error(ERROR)}else throw new Error(ERROR);et.length>64&&(et=new Sha256(_e,!0).update(et).array());var ut=[],ft=[];for(rt=0;rt<64;++rt){var gt=et[rt]||0;ut[rt]=92^gt,ft[rt]=54^gt}Sha256.call(this,_e,tt),this.update(ft),this.oKeyPad=ut,this.inner=!0,this.sharedMemory=tt}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var et=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(et),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(et,_e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,rt){tt.__proto__=rt}||function(tt,rt){for(var nt in rt)rt.hasOwnProperty(nt)&&(tt[nt]=rt[nt])},extendStatics(et,_e)};function __extends(et,_e){extendStatics(et,_e);function tt(){this.constructor=et}et.prototype=_e===null?Object.create(_e):(tt.prototype=_e.prototype,new tt)}function isFunction(et){return typeof et=="function"}var _enable_super_gross_mode_that_will_cause_bad_things=!1,config$1={Promise:void 0,set useDeprecatedSynchronousErrorHandling(et){if(et){var _e=new Error;""+_e.stack}_enable_super_gross_mode_that_will_cause_bad_things=et},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(et){setTimeout(function(){throw et},0)}var empty$1={closed:!0,next:function(et){},error:function(et){if(config$1.useDeprecatedSynchronousErrorHandling)throw et;hostReportError(et)},complete:function(){}},isArray$7=function(){return Array.isArray||function(et){return et&&typeof et.length=="number"}}();function isObject$1(et){return et!==null&&typeof et=="object"}var UnsubscriptionErrorImpl=function(){function et(_e){return Error.call(this),this.message=_e?_e.length+` errors occurred during unsubscription:
`+_e.map(function(tt,rt){return rt+1+") "+tt.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=_e,this}return et.prototype=Object.create(Error.prototype),et}(),UnsubscriptionError=UnsubscriptionErrorImpl,Subscription=function(){function et(_e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,_e&&(this._ctorUnsubscribe=!0,this._unsubscribe=_e)}return et.prototype.unsubscribe=function(){var _e;if(!this.closed){var tt=this,rt=tt._parentOrParents,nt=tt._ctorUnsubscribe,it=tt._unsubscribe,at=tt._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,rt instanceof et)rt.remove(this);else if(rt!==null)for(var st=0;st<rt.length;++st){var ct=rt[st];ct.remove(this)}if(isFunction(it)){nt&&(this._unsubscribe=void 0);try{it.call(this)}catch(gt){_e=gt instanceof UnsubscriptionError?flattenUnsubscriptionErrors(gt.errors):[gt]}}if(isArray$7(at))for(var st=-1,ut=at.length;++st<ut;){var ft=at[st];if(isObject$1(ft))try{ft.unsubscribe()}catch(_t){_e=_e||[],_t instanceof UnsubscriptionError?_e=_e.concat(flattenUnsubscriptionErrors(_t.errors)):_e.push(_t)}}if(_e)throw new UnsubscriptionError(_e)}},et.prototype.add=function(_e){var tt=_e;if(!_e)return et.EMPTY;switch(typeof _e){case"function":tt=new et(_e);case"object":if(tt===this||tt.closed||typeof tt.unsubscribe!="function")return tt;if(this.closed)return tt.unsubscribe(),tt;if(!(tt instanceof et)){var rt=tt;tt=new et,tt._subscriptions=[rt]}break;default:throw new Error("unrecognized teardown "+_e+" added to Subscription.")}var nt=tt._parentOrParents;if(nt===null)tt._parentOrParents=this;else if(nt instanceof et){if(nt===this)return tt;tt._parentOrParents=[nt,this]}else if(nt.indexOf(this)===-1)nt.push(this);else return tt;var it=this._subscriptions;return it===null?this._subscriptions=[tt]:it.push(tt),tt},et.prototype.remove=function(_e){var tt=this._subscriptions;if(tt){var rt=tt.indexOf(_e);rt!==-1&&tt.splice(rt,1)}},et.EMPTY=function(_e){return _e.closed=!0,_e}(new et),et}();function flattenUnsubscriptionErrors(et){return et.reduce(function(_e,tt){return _e.concat(tt instanceof UnsubscriptionError?tt.errors:tt)},[])}var rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Subscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this)||this;switch(it.syncErrorValue=null,it.syncErrorThrown=!1,it.syncErrorThrowable=!1,it.isStopped=!1,arguments.length){case 0:it.destination=empty$1;break;case 1:if(!tt){it.destination=empty$1;break}if(typeof tt=="object"){tt instanceof _e?(it.syncErrorThrowable=tt.syncErrorThrowable,it.destination=tt,tt.add(it)):(it.syncErrorThrowable=!0,it.destination=new SafeSubscriber(it,tt));break}default:it.syncErrorThrowable=!0,it.destination=new SafeSubscriber(it,tt,rt,nt);break}return it}return _e.prototype[rxSubscriber]=function(){return this},_e.create=function(tt,rt,nt){var it=new _e(tt,rt,nt);return it.syncErrorThrowable=!1,it},_e.prototype.next=function(tt){this.isStopped||this._next(tt)},_e.prototype.error=function(tt){this.isStopped||(this.isStopped=!0,this._error(tt))},_e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},_e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,et.prototype.unsubscribe.call(this))},_e.prototype._next=function(tt){this.destination.next(tt)},_e.prototype._error=function(tt){this.destination.error(tt),this.unsubscribe()},_e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},_e.prototype._unsubscribeAndRecycle=function(){var tt=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=tt,this},_e}(Subscription),SafeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this)||this;at._parentSubscriber=tt;var st,ct=at;return isFunction(rt)?st=rt:rt&&(st=rt.next,nt=rt.error,it=rt.complete,rt!==empty$1&&(ct=Object.create(rt),isFunction(ct.unsubscribe)&&at.add(ct.unsubscribe.bind(ct)),ct.unsubscribe=at.unsubscribe.bind(at))),at._context=ct,at._next=st,at._error=nt,at._complete=it,at}return _e.prototype.next=function(tt){if(!this.isStopped&&this._next){var rt=this._parentSubscriber;!config$1.useDeprecatedSynchronousErrorHandling||!rt.syncErrorThrowable?this.__tryOrUnsub(this._next,tt):this.__tryOrSetError(rt,this._next,tt)&&this.unsubscribe()}},_e.prototype.error=function(tt){if(!this.isStopped){var rt=this._parentSubscriber,nt=config$1.useDeprecatedSynchronousErrorHandling;if(this._error)!nt||!rt.syncErrorThrowable?(this.__tryOrUnsub(this._error,tt),this.unsubscribe()):(this.__tryOrSetError(rt,this._error,tt),this.unsubscribe());else if(rt.syncErrorThrowable)nt?(rt.syncErrorValue=tt,rt.syncErrorThrown=!0):hostReportError(tt),this.unsubscribe();else{if(this.unsubscribe(),nt)throw tt;hostReportError(tt)}}},_e.prototype.complete=function(){var tt=this;if(!this.isStopped){var rt=this._parentSubscriber;if(this._complete){var nt=function(){return tt._complete.call(tt._context)};!config$1.useDeprecatedSynchronousErrorHandling||!rt.syncErrorThrowable?(this.__tryOrUnsub(nt),this.unsubscribe()):(this.__tryOrSetError(rt,nt),this.unsubscribe())}else this.unsubscribe()}},_e.prototype.__tryOrUnsub=function(tt,rt){try{tt.call(this._context,rt)}catch(nt){if(this.unsubscribe(),config$1.useDeprecatedSynchronousErrorHandling)throw nt;hostReportError(nt)}},_e.prototype.__tryOrSetError=function(tt,rt,nt){if(!config$1.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{rt.call(this._context,nt)}catch(it){return config$1.useDeprecatedSynchronousErrorHandling?(tt.syncErrorValue=it,tt.syncErrorThrown=!0,!0):(hostReportError(it),!0)}return!1},_e.prototype._unsubscribe=function(){var tt=this._parentSubscriber;this._context=null,this._parentSubscriber=null,tt.unsubscribe()},_e}(Subscriber);function canReportError(et){for(;et;){var _e=et,tt=_e.closed,rt=_e.destination,nt=_e.isStopped;if(tt||nt)return!1;rt&&rt instanceof Subscriber?et=rt:et=null}return!0}function toSubscriber(et,_e,tt){if(et){if(et instanceof Subscriber)return et;if(et[rxSubscriber])return et[rxSubscriber]()}return!et&&!_e&&!tt?new Subscriber(empty$1):new Subscriber(et,_e,tt)}var observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(et){return et}function pipe$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return pipeFromArray(et)}function pipeFromArray(et){return et.length===0?identity:et.length===1?et[0]:function(tt){return et.reduce(function(rt,nt){return nt(rt)},tt)}}var Observable=function(){function et(_e){this._isScalar=!1,_e&&(this._subscribe=_e)}return et.prototype.lift=function(_e){var tt=new et;return tt.source=this,tt.operator=_e,tt},et.prototype.subscribe=function(_e,tt,rt){var nt=this.operator,it=toSubscriber(_e,tt,rt);if(nt?it.add(nt.call(it,this.source)):it.add(this.source||config$1.useDeprecatedSynchronousErrorHandling&&!it.syncErrorThrowable?this._subscribe(it):this._trySubscribe(it)),config$1.useDeprecatedSynchronousErrorHandling&&it.syncErrorThrowable&&(it.syncErrorThrowable=!1,it.syncErrorThrown))throw it.syncErrorValue;return it},et.prototype._trySubscribe=function(_e){try{return this._subscribe(_e)}catch(tt){config$1.useDeprecatedSynchronousErrorHandling&&(_e.syncErrorThrown=!0,_e.syncErrorValue=tt),canReportError(_e)?_e.error(tt):console.warn(tt)}},et.prototype.forEach=function(_e,tt){var rt=this;return tt=getPromiseCtor(tt),new tt(function(nt,it){var at;at=rt.subscribe(function(st){try{_e(st)}catch(ct){it(ct),at&&at.unsubscribe()}},it,nt)})},et.prototype._subscribe=function(_e){var tt=this.source;return tt&&tt.subscribe(_e)},et.prototype[observable]=function(){return this},et.prototype.pipe=function(){for(var _e=[],tt=0;tt<arguments.length;tt++)_e[tt]=arguments[tt];return _e.length===0?this:pipeFromArray(_e)(this)},et.prototype.toPromise=function(_e){var tt=this;return _e=getPromiseCtor(_e),new _e(function(rt,nt){var it;tt.subscribe(function(at){return it=at},function(at){return nt(at)},function(){return rt(it)})})},et.create=function(_e){return new et(_e)},et}();function getPromiseCtor(et){if(et||(et=config$1.Promise||Promise),!et)throw new Error("no Promise impl found");return et}var ObjectUnsubscribedErrorImpl=function(){function et(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return et.prototype=Object.create(Error.prototype),et}(),ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl,SubjectSubscription=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.subject=tt,nt.subscriber=rt,nt.closed=!1,nt}return _e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var tt=this.subject,rt=tt.observers;if(this.subject=null,!(!rt||rt.length===0||tt.isStopped||tt.closed)){var nt=rt.indexOf(this.subscriber);nt!==-1&&rt.splice(nt,1)}}},_e}(Subscription),SubjectSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.destination=tt,rt}return _e}(Subscriber),Subject=function(et){__extends(_e,et);function _e(){var tt=et.call(this)||this;return tt.observers=[],tt.closed=!1,tt.isStopped=!1,tt.hasError=!1,tt.thrownError=null,tt}return _e.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},_e.prototype.lift=function(tt){var rt=new AnonymousSubject(this,this);return rt.operator=tt,rt},_e.prototype.next=function(tt){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var rt=this.observers,nt=rt.length,it=rt.slice(),at=0;at<nt;at++)it[at].next(tt)},_e.prototype.error=function(tt){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=tt,this.isStopped=!0;for(var rt=this.observers,nt=rt.length,it=rt.slice(),at=0;at<nt;at++)it[at].error(tt);this.observers.length=0},_e.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var tt=this.observers,rt=tt.length,nt=tt.slice(),it=0;it<rt;it++)nt[it].complete();this.observers.length=0},_e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},_e.prototype._trySubscribe=function(tt){if(this.closed)throw new ObjectUnsubscribedError;return et.prototype._trySubscribe.call(this,tt)},_e.prototype._subscribe=function(tt){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(tt.error(this.thrownError),Subscription.EMPTY):this.isStopped?(tt.complete(),Subscription.EMPTY):(this.observers.push(tt),new SubjectSubscription(this,tt))},_e.prototype.asObservable=function(){var tt=new Observable;return tt.source=this,tt},_e.create=function(tt,rt){return new AnonymousSubject(tt,rt)},_e}(Observable),AnonymousSubject=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.destination=tt,nt.source=rt,nt}return _e.prototype.next=function(tt){var rt=this.destination;rt&&rt.next&&rt.next(tt)},_e.prototype.error=function(tt){var rt=this.destination;rt&&rt.error&&this.destination.error(tt)},_e.prototype.complete=function(){var tt=this.destination;tt&&tt.complete&&this.destination.complete()},_e.prototype._subscribe=function(tt){var rt=this.source;return rt?this.source.subscribe(tt):Subscription.EMPTY},_e}(Subject);function refCount(){return function(_e){return _e.lift(new RefCountOperator(_e))}}var RefCountOperator=function(){function et(_e){this.connectable=_e}return et.prototype.call=function(_e,tt){var rt=this.connectable;rt._refCount++;var nt=new RefCountSubscriber(_e,rt),it=tt.subscribe(nt);return nt.closed||(nt.connection=rt.connect()),it},et}(),RefCountSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.connectable=rt,nt}return _e.prototype._unsubscribe=function(){var tt=this.connectable;if(!tt){this.connection=null;return}this.connectable=null;var rt=tt._refCount;if(rt<=0){this.connection=null;return}if(tt._refCount=rt-1,rt>1){this.connection=null;return}var nt=this.connection,it=tt._connection;this.connection=null,it&&(!nt||it===nt)&&it.unsubscribe()},_e}(Subscriber),ConnectableObservable=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.source=tt,nt.subjectFactory=rt,nt._refCount=0,nt._isComplete=!1,nt}return _e.prototype._subscribe=function(tt){return this.getSubject().subscribe(tt)},_e.prototype.getSubject=function(){var tt=this._subject;return(!tt||tt.isStopped)&&(this._subject=this.subjectFactory()),this._subject},_e.prototype.connect=function(){var tt=this._connection;return tt||(this._isComplete=!1,tt=this._connection=new Subscription,tt.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),tt.closed&&(this._connection=null,tt=Subscription.EMPTY)),tt},_e.prototype.refCount=function(){return refCount()(this)},_e}(Observable),connectableObservableDescriptor=function(){var et=ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:et._subscribe},_isComplete:{value:et._isComplete,writable:!0},getSubject:{value:et.getSubject},connect:{value:et.connect},refCount:{value:et.refCount}}}(),ConnectableSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.connectable=rt,nt}return _e.prototype._error=function(tt){this._unsubscribe(),et.prototype._error.call(this,tt)},_e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),et.prototype._complete.call(this)},_e.prototype._unsubscribe=function(){var tt=this.connectable;if(tt){this.connectable=null;var rt=tt._connection;tt._refCount=0,tt._subject=null,tt._connection=null,rt&&rt.unsubscribe()}},_e}(SubjectSubscriber);function groupBy(et,_e,tt,rt){return function(nt){return nt.lift(new GroupByOperator(et,_e,tt,rt))}}var GroupByOperator=function(){function et(_e,tt,rt,nt){this.keySelector=_e,this.elementSelector=tt,this.durationSelector=rt,this.subjectSelector=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new GroupBySubscriber(_e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},et}(),GroupBySubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var st=et.call(this,tt)||this;return st.keySelector=rt,st.elementSelector=nt,st.durationSelector=it,st.subjectSelector=at,st.groups=null,st.attemptedToUnsubscribe=!1,st.count=0,st}return _e.prototype._next=function(tt){var rt;try{rt=this.keySelector(tt)}catch(nt){this.error(nt);return}this._group(tt,rt)},_e.prototype._group=function(tt,rt){var nt=this.groups;nt||(nt=this.groups=new Map);var it=nt.get(rt),at;if(this.elementSelector)try{at=this.elementSelector(tt)}catch(ut){this.error(ut)}else at=tt;if(!it){it=this.subjectSelector?this.subjectSelector():new Subject,nt.set(rt,it);var st=new GroupedObservable(rt,it,this);if(this.destination.next(st),this.durationSelector){var ct=void 0;try{ct=this.durationSelector(new GroupedObservable(rt,it))}catch(ut){this.error(ut);return}this.add(ct.subscribe(new GroupDurationSubscriber(rt,it,this)))}}it.closed||it.next(at)},_e.prototype._error=function(tt){var rt=this.groups;rt&&(rt.forEach(function(nt,it){nt.error(tt)}),rt.clear()),this.destination.error(tt)},_e.prototype._complete=function(){var tt=this.groups;tt&&(tt.forEach(function(rt,nt){rt.complete()}),tt.clear()),this.destination.complete()},_e.prototype.removeGroup=function(tt){this.groups.delete(tt)},_e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&et.prototype.unsubscribe.call(this))},_e}(Subscriber),GroupDurationSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,rt)||this;return it.key=tt,it.group=rt,it.parent=nt,it}return _e.prototype._next=function(tt){this.complete()},_e.prototype._unsubscribe=function(){var tt=this,rt=tt.parent,nt=tt.key;this.key=this.parent=null,rt&&rt.removeGroup(nt)},_e}(Subscriber),GroupedObservable=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this)||this;return it.key=tt,it.groupSubject=rt,it.refCountSubscription=nt,it}return _e.prototype._subscribe=function(tt){var rt=new Subscription,nt=this,it=nt.refCountSubscription,at=nt.groupSubject;return it&&!it.closed&&rt.add(new InnerRefCountSubscription(it)),rt.add(at.subscribe(tt)),rt},_e}(Observable),InnerRefCountSubscription=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this)||this;return rt.parent=tt,tt.count++,rt}return _e.prototype.unsubscribe=function(){var tt=this.parent;!tt.closed&&!this.closed&&(et.prototype.unsubscribe.call(this),tt.count-=1,tt.count===0&&tt.attemptedToUnsubscribe&&tt.unsubscribe())},_e}(Subscription),BehaviorSubject=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this)||this;return rt._value=tt,rt}return Object.defineProperty(_e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),_e.prototype._subscribe=function(tt){var rt=et.prototype._subscribe.call(this,tt);return rt&&!rt.closed&&tt.next(this._value),rt},_e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value},_e.prototype.next=function(tt){et.prototype.next.call(this,this._value=tt)},_e}(Subject),Action$1=function(et){__extends(_e,et);function _e(tt,rt){return et.call(this)||this}return _e.prototype.schedule=function(tt,rt){return this},_e}(Subscription),AsyncAction=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt,rt)||this;return nt.scheduler=tt,nt.work=rt,nt.pending=!1,nt}return _e.prototype.schedule=function(tt,rt){if(rt===void 0&&(rt=0),this.closed)return this;this.state=tt;var nt=this.id,it=this.scheduler;return nt!=null&&(this.id=this.recycleAsyncId(it,nt,rt)),this.pending=!0,this.delay=rt,this.id=this.id||this.requestAsyncId(it,this.id,rt),this},_e.prototype.requestAsyncId=function(tt,rt,nt){return nt===void 0&&(nt=0),setInterval(tt.flush.bind(tt,this),nt)},_e.prototype.recycleAsyncId=function(tt,rt,nt){if(nt===void 0&&(nt=0),nt!==null&&this.delay===nt&&this.pending===!1)return rt;clearInterval(rt)},_e.prototype.execute=function(tt,rt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var nt=this._execute(tt,rt);if(nt)return nt;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},_e.prototype._execute=function(tt,rt){var nt=!1,it=void 0;try{this.work(tt)}catch(at){nt=!0,it=!!at&&at||new Error(at)}if(nt)return this.unsubscribe(),it},_e.prototype._unsubscribe=function(){var tt=this.id,rt=this.scheduler,nt=rt.actions,it=nt.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,it!==-1&&nt.splice(it,1),tt!=null&&(this.id=this.recycleAsyncId(rt,tt,null)),this.delay=null},_e}(Action$1),QueueAction=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt,rt)||this;return nt.scheduler=tt,nt.work=rt,nt}return _e.prototype.schedule=function(tt,rt){return rt===void 0&&(rt=0),rt>0?et.prototype.schedule.call(this,tt,rt):(this.delay=rt,this.state=tt,this.scheduler.flush(this),this)},_e.prototype.execute=function(tt,rt){return rt>0||this.closed?et.prototype.execute.call(this,tt,rt):this._execute(tt,rt)},_e.prototype.requestAsyncId=function(tt,rt,nt){return nt===void 0&&(nt=0),nt!==null&&nt>0||nt===null&&this.delay>0?et.prototype.requestAsyncId.call(this,tt,rt,nt):tt.flush(this)},_e}(AsyncAction),Scheduler=function(){function et(_e,tt){tt===void 0&&(tt=et.now),this.SchedulerAction=_e,this.now=tt}return et.prototype.schedule=function(_e,tt,rt){return tt===void 0&&(tt=0),new this.SchedulerAction(this,_e).schedule(rt,tt)},et.now=function(){return Date.now()},et}(),AsyncScheduler=function(et){__extends(_e,et);function _e(tt,rt){rt===void 0&&(rt=Scheduler.now);var nt=et.call(this,tt,function(){return _e.delegate&&_e.delegate!==nt?_e.delegate.now():rt()})||this;return nt.actions=[],nt.active=!1,nt.scheduled=void 0,nt}return _e.prototype.schedule=function(tt,rt,nt){return rt===void 0&&(rt=0),_e.delegate&&_e.delegate!==this?_e.delegate.schedule(tt,rt,nt):et.prototype.schedule.call(this,tt,rt,nt)},_e.prototype.flush=function(tt){var rt=this.actions;if(this.active){rt.push(tt);return}var nt;this.active=!0;do if(nt=tt.execute(tt.state,tt.delay))break;while(tt=rt.shift());if(this.active=!1,nt){for(;tt=rt.shift();)tt.unsubscribe();throw nt}},_e}(Scheduler),QueueScheduler=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e}(AsyncScheduler),queueScheduler=new QueueScheduler(QueueAction),queue=queueScheduler,EMPTY=new Observable(function(et){return et.complete()});function empty(et){return et?emptyScheduled(et):EMPTY}function emptyScheduled(et){return new Observable(function(_e){return et.schedule(function(){return _e.complete()})})}function isScheduler(et){return et&&typeof et.schedule=="function"}var subscribeToArray=function(et){return function(_e){for(var tt=0,rt=et.length;tt<rt&&!_e.closed;tt++)_e.next(et[tt]);_e.complete()}};function scheduleArray(et,_e){return new Observable(function(tt){var rt=new Subscription,nt=0;return rt.add(_e.schedule(function(){if(nt===et.length){tt.complete();return}tt.next(et[nt++]),tt.closed||rt.add(this.schedule())})),rt})}function fromArray(et,_e){return _e?scheduleArray(et,_e):new Observable(subscribeToArray(et))}function of(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=et[et.length-1];return isScheduler(tt)?(et.pop(),scheduleArray(et,tt)):fromArray(et)}function throwError(et,_e){return _e?new Observable(function(tt){return _e.schedule(dispatch$7,0,{error:et,subscriber:tt})}):new Observable(function(tt){return tt.error(et)})}function dispatch$7(et){var _e=et.error,tt=et.subscriber;tt.error(_e)}var NotificationKind;NotificationKind||(NotificationKind={});var Notification$1=function(){function et(_e,tt,rt){this.kind=_e,this.value=tt,this.error=rt,this.hasValue=_e==="N"}return et.prototype.observe=function(_e){switch(this.kind){case"N":return _e.next&&_e.next(this.value);case"E":return _e.error&&_e.error(this.error);case"C":return _e.complete&&_e.complete()}},et.prototype.do=function(_e,tt,rt){var nt=this.kind;switch(nt){case"N":return _e&&_e(this.value);case"E":return tt&&tt(this.error);case"C":return rt&&rt()}},et.prototype.accept=function(_e,tt,rt){return _e&&typeof _e.next=="function"?this.observe(_e):this.do(_e,tt,rt)},et.prototype.toObservable=function(){var _e=this.kind;switch(_e){case"N":return of(this.value);case"E":return throwError(this.error);case"C":return empty()}throw new Error("unexpected notification kind value")},et.createNext=function(_e){return typeof _e!="undefined"?new et("N",_e):et.undefinedValueNotification},et.createError=function(_e){return new et("E",void 0,_e)},et.createComplete=function(){return et.completeNotification},et.completeNotification=new et("C"),et.undefinedValueNotification=new et("N",void 0),et}();function observeOn(et,_e){return _e===void 0&&(_e=0),function(rt){return rt.lift(new ObserveOnOperator(et,_e))}}var ObserveOnOperator=function(){function et(_e,tt){tt===void 0&&(tt=0),this.scheduler=_e,this.delay=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ObserveOnSubscriber(_e,this.scheduler,this.delay))},et}(),ObserveOnSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){nt===void 0&&(nt=0);var it=et.call(this,tt)||this;return it.scheduler=rt,it.delay=nt,it}return _e.dispatch=function(tt){var rt=tt.notification,nt=tt.destination;rt.observe(nt),this.unsubscribe()},_e.prototype.scheduleMessage=function(tt){var rt=this.destination;rt.add(this.scheduler.schedule(_e.dispatch,this.delay,new ObserveOnMessage(tt,this.destination)))},_e.prototype._next=function(tt){this.scheduleMessage(Notification$1.createNext(tt))},_e.prototype._error=function(tt){this.scheduleMessage(Notification$1.createError(tt)),this.unsubscribe()},_e.prototype._complete=function(){this.scheduleMessage(Notification$1.createComplete()),this.unsubscribe()},_e}(Subscriber),ObserveOnMessage=function(){function et(_e,tt){this.notification=_e,this.destination=tt}return et}(),ReplaySubject=function(et){__extends(_e,et);function _e(tt,rt,nt){tt===void 0&&(tt=Number.POSITIVE_INFINITY),rt===void 0&&(rt=Number.POSITIVE_INFINITY);var it=et.call(this)||this;return it.scheduler=nt,it._events=[],it._infiniteTimeWindow=!1,it._bufferSize=tt<1?1:tt,it._windowTime=rt<1?1:rt,rt===Number.POSITIVE_INFINITY?(it._infiniteTimeWindow=!0,it.next=it.nextInfiniteTimeWindow):it.next=it.nextTimeWindow,it}return _e.prototype.nextInfiniteTimeWindow=function(tt){if(!this.isStopped){var rt=this._events;rt.push(tt),rt.length>this._bufferSize&&rt.shift()}et.prototype.next.call(this,tt)},_e.prototype.nextTimeWindow=function(tt){this.isStopped||(this._events.push(new ReplayEvent(this._getNow(),tt)),this._trimBufferThenGetEvents()),et.prototype.next.call(this,tt)},_e.prototype._subscribe=function(tt){var rt=this._infiniteTimeWindow,nt=rt?this._events:this._trimBufferThenGetEvents(),it=this.scheduler,at=nt.length,st;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?st=Subscription.EMPTY:(this.observers.push(tt),st=new SubjectSubscription(this,tt)),it&&tt.add(tt=new ObserveOnSubscriber(tt,it)),rt)for(var ct=0;ct<at&&!tt.closed;ct++)tt.next(nt[ct]);else for(var ct=0;ct<at&&!tt.closed;ct++)tt.next(nt[ct].value);return this.hasError?tt.error(this.thrownError):this.isStopped&&tt.complete(),st},_e.prototype._getNow=function(){return(this.scheduler||queue).now()},_e.prototype._trimBufferThenGetEvents=function(){for(var tt=this._getNow(),rt=this._bufferSize,nt=this._windowTime,it=this._events,at=it.length,st=0;st<at&&!(tt-it[st].time<nt);)st++;return at>rt&&(st=Math.max(st,at-rt)),st>0&&it.splice(0,st),it},_e}(Subject),ReplayEvent=function(){function et(_e,tt){this.time=_e,this.value=tt}return et}(),AsyncSubject=function(et){__extends(_e,et);function _e(){var tt=et!==null&&et.apply(this,arguments)||this;return tt.value=null,tt.hasNext=!1,tt.hasCompleted=!1,tt}return _e.prototype._subscribe=function(tt){return this.hasError?(tt.error(this.thrownError),Subscription.EMPTY):this.hasCompleted&&this.hasNext?(tt.next(this.value),tt.complete(),Subscription.EMPTY):et.prototype._subscribe.call(this,tt)},_e.prototype.next=function(tt){this.hasCompleted||(this.value=tt,this.hasNext=!0)},_e.prototype.error=function(tt){this.hasCompleted||et.prototype.error.call(this,tt)},_e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&et.prototype.next.call(this,this.value),et.prototype.complete.call(this)},_e}(Subject),nextHandle=1,RESOLVED=function(){return Promise.resolve()}(),activeHandles={};function findAndClearHandle(et){return et in activeHandles?(delete activeHandles[et],!0):!1}var Immediate={setImmediate:function(et){var _e=nextHandle++;return activeHandles[_e]=!0,RESOLVED.then(function(){return findAndClearHandle(_e)&&et()}),_e},clearImmediate:function(et){findAndClearHandle(et)}},AsapAction=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt,rt)||this;return nt.scheduler=tt,nt.work=rt,nt}return _e.prototype.requestAsyncId=function(tt,rt,nt){return nt===void 0&&(nt=0),nt!==null&&nt>0?et.prototype.requestAsyncId.call(this,tt,rt,nt):(tt.actions.push(this),tt.scheduled||(tt.scheduled=Immediate.setImmediate(tt.flush.bind(tt,null))))},_e.prototype.recycleAsyncId=function(tt,rt,nt){if(nt===void 0&&(nt=0),nt!==null&&nt>0||nt===null&&this.delay>0)return et.prototype.recycleAsyncId.call(this,tt,rt,nt);tt.actions.length===0&&(Immediate.clearImmediate(rt),tt.scheduled=void 0)},_e}(AsyncAction),AsapScheduler=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype.flush=function(tt){this.active=!0,this.scheduled=void 0;var rt=this.actions,nt,it=-1,at=rt.length;tt=tt||rt.shift();do if(nt=tt.execute(tt.state,tt.delay))break;while(++it<at&&(tt=rt.shift()));if(this.active=!1,nt){for(;++it<at&&(tt=rt.shift());)tt.unsubscribe();throw nt}},_e}(AsyncScheduler),asapScheduler=new AsapScheduler(AsapAction),asap=asapScheduler,asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler,AnimationFrameAction=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt,rt)||this;return nt.scheduler=tt,nt.work=rt,nt}return _e.prototype.requestAsyncId=function(tt,rt,nt){return nt===void 0&&(nt=0),nt!==null&&nt>0?et.prototype.requestAsyncId.call(this,tt,rt,nt):(tt.actions.push(this),tt.scheduled||(tt.scheduled=requestAnimationFrame(function(){return tt.flush(null)})))},_e.prototype.recycleAsyncId=function(tt,rt,nt){if(nt===void 0&&(nt=0),nt!==null&&nt>0||nt===null&&this.delay>0)return et.prototype.recycleAsyncId.call(this,tt,rt,nt);tt.actions.length===0&&(cancelAnimationFrame(rt),tt.scheduled=void 0)},_e}(AsyncAction),AnimationFrameScheduler=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype.flush=function(tt){this.active=!0,this.scheduled=void 0;var rt=this.actions,nt,it=-1,at=rt.length;tt=tt||rt.shift();do if(nt=tt.execute(tt.state,tt.delay))break;while(++it<at&&(tt=rt.shift()));if(this.active=!1,nt){for(;++it<at&&(tt=rt.shift());)tt.unsubscribe();throw nt}},_e}(AsyncScheduler),animationFrameScheduler=new AnimationFrameScheduler(AnimationFrameAction),animationFrame=animationFrameScheduler,VirtualTimeScheduler=function(et){__extends(_e,et);function _e(tt,rt){tt===void 0&&(tt=VirtualAction),rt===void 0&&(rt=Number.POSITIVE_INFINITY);var nt=et.call(this,tt,function(){return nt.frame})||this;return nt.maxFrames=rt,nt.frame=0,nt.index=-1,nt}return _e.prototype.flush=function(){for(var tt=this,rt=tt.actions,nt=tt.maxFrames,it,at;(at=rt[0])&&at.delay<=nt&&(rt.shift(),this.frame=at.delay,!(it=at.execute(at.state,at.delay))););if(it){for(;at=rt.shift();)at.unsubscribe();throw it}},_e.frameTimeFactor=10,_e}(AsyncScheduler),VirtualAction=function(et){__extends(_e,et);function _e(tt,rt,nt){nt===void 0&&(nt=tt.index+=1);var it=et.call(this,tt,rt)||this;return it.scheduler=tt,it.work=rt,it.index=nt,it.active=!0,it.index=tt.index=nt,it}return _e.prototype.schedule=function(tt,rt){if(rt===void 0&&(rt=0),!this.id)return et.prototype.schedule.call(this,tt,rt);this.active=!1;var nt=new _e(this.scheduler,this.work);return this.add(nt),nt.schedule(tt,rt)},_e.prototype.requestAsyncId=function(tt,rt,nt){nt===void 0&&(nt=0),this.delay=tt.frame+nt;var it=tt.actions;return it.push(this),it.sort(_e.sortActions),!0},_e.prototype.recycleAsyncId=function(tt,rt,nt){},_e.prototype._execute=function(tt,rt){if(this.active===!0)return et.prototype._execute.call(this,tt,rt)},_e.sortActions=function(tt,rt){return tt.delay===rt.delay?tt.index===rt.index?0:tt.index>rt.index?1:-1:tt.delay>rt.delay?1:-1},_e}(AsyncAction);function noop$3(){}function isObservable(et){return!!et&&(et instanceof Observable||typeof et.lift=="function"&&typeof et.subscribe=="function")}var ArgumentOutOfRangeErrorImpl=function(){function et(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return et.prototype=Object.create(Error.prototype),et}(),ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl,EmptyErrorImpl=function(){function et(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return et.prototype=Object.create(Error.prototype),et}(),EmptyError=EmptyErrorImpl,TimeoutErrorImpl=function(){function et(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return et.prototype=Object.create(Error.prototype),et}(),TimeoutError=TimeoutErrorImpl;function map(et,_e){return function(rt){if(typeof et!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return rt.lift(new MapOperator(et,_e))}}var MapOperator=function(){function et(_e,tt){this.project=_e,this.thisArg=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new MapSubscriber(_e,this.project,this.thisArg))},et}(),MapSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.project=rt,it.count=0,it.thisArg=nt||it,it}return _e.prototype._next=function(tt){var rt;try{rt=this.project.call(this.thisArg,tt,this.count++)}catch(nt){this.destination.error(nt);return}this.destination.next(rt)},_e}(Subscriber);function bindCallback(et,_e,tt){if(_e)if(isScheduler(_e))tt=_e;else return function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];return bindCallback(et,tt).apply(void 0,rt).pipe(map(function(it){return isArray$7(it)?_e.apply(void 0,it):_e(it)}))};return function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];var it=this,at,st={context:it,subject:at,callbackFunc:et,scheduler:tt};return new Observable(function(ct){if(tt){var ft={args:rt,subscriber:ct,params:st};return tt.schedule(dispatch$6,0,ft)}else{if(!at){at=new AsyncSubject;var ut=function(){for(var gt=[],_t=0;_t<arguments.length;_t++)gt[_t]=arguments[_t];at.next(gt.length<=1?gt[0]:gt),at.complete()};try{et.apply(it,rt.concat([ut]))}catch(gt){canReportError(at)?at.error(gt):console.warn(gt)}}return at.subscribe(ct)}})}}function dispatch$6(et){var _e=this,tt=et.args,rt=et.subscriber,nt=et.params,it=nt.callbackFunc,at=nt.context,st=nt.scheduler,ct=nt.subject;if(!ct){ct=nt.subject=new AsyncSubject;var ut=function(){for(var ft=[],gt=0;gt<arguments.length;gt++)ft[gt]=arguments[gt];var _t=ft.length<=1?ft[0]:ft;_e.add(st.schedule(dispatchNext$3,0,{value:_t,subject:ct}))};try{it.apply(at,tt.concat([ut]))}catch(ft){ct.error(ft)}}this.add(ct.subscribe(rt))}function dispatchNext$3(et){var _e=et.value,tt=et.subject;tt.next(_e),tt.complete()}function bindNodeCallback(et,_e,tt){if(_e)if(isScheduler(_e))tt=_e;else return function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];return bindNodeCallback(et,tt).apply(void 0,rt).pipe(map(function(it){return isArray$7(it)?_e.apply(void 0,it):_e(it)}))};return function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];var it={subject:void 0,args:rt,callbackFunc:et,scheduler:tt,context:this};return new Observable(function(at){var st=it.context,ct=it.subject;if(tt)return tt.schedule(dispatch$5,0,{params:it,subscriber:at,context:st});if(!ct){ct=it.subject=new AsyncSubject;var ut=function(){for(var ft=[],gt=0;gt<arguments.length;gt++)ft[gt]=arguments[gt];var _t=ft.shift();if(_t){ct.error(_t);return}ct.next(ft.length<=1?ft[0]:ft),ct.complete()};try{et.apply(st,rt.concat([ut]))}catch(ft){canReportError(ct)?ct.error(ft):console.warn(ft)}}return ct.subscribe(at)})}}function dispatch$5(et){var _e=this,tt=et.params,rt=et.subscriber,nt=et.context,it=tt.callbackFunc,at=tt.args,st=tt.scheduler,ct=tt.subject;if(!ct){ct=tt.subject=new AsyncSubject;var ut=function(){for(var ft=[],gt=0;gt<arguments.length;gt++)ft[gt]=arguments[gt];var _t=ft.shift();if(_t)_e.add(st.schedule(dispatchError,0,{err:_t,subject:ct}));else{var Et=ft.length<=1?ft[0]:ft;_e.add(st.schedule(dispatchNext$2,0,{value:Et,subject:ct}))}};try{it.apply(nt,at.concat([ut]))}catch(ft){this.add(st.schedule(dispatchError,0,{err:ft,subject:ct}))}}this.add(ct.subscribe(rt))}function dispatchNext$2(et){var _e=et.value,tt=et.subject;tt.next(_e),tt.complete()}function dispatchError(et){var _e=et.err,tt=et.subject;tt.error(_e)}var OuterSubscriber=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype.notifyNext=function(tt,rt,nt,it,at){this.destination.next(rt)},_e.prototype.notifyError=function(tt,rt){this.destination.error(tt)},_e.prototype.notifyComplete=function(tt){this.destination.complete()},_e}(Subscriber),InnerSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this)||this;return it.parent=tt,it.outerValue=rt,it.outerIndex=nt,it.index=0,it}return _e.prototype._next=function(tt){this.parent.notifyNext(this.outerValue,tt,this.outerIndex,this.index++,this)},_e.prototype._error=function(tt){this.parent.notifyError(tt,this),this.unsubscribe()},_e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},_e}(Subscriber),subscribeToPromise=function(et){return function(_e){return et.then(function(tt){_e.closed||(_e.next(tt),_e.complete())},function(tt){return _e.error(tt)}).then(null,hostReportError),_e}};function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator(),subscribeToIterable=function(et){return function(_e){var tt=et[iterator]();do{var rt=void 0;try{rt=tt.next()}catch(nt){return _e.error(nt),_e}if(rt.done){_e.complete();break}if(_e.next(rt.value),_e.closed)break}while(!0);return typeof tt.return=="function"&&_e.add(function(){tt.return&&tt.return()}),_e}},subscribeToObservable=function(et){return function(_e){var tt=et[observable]();if(typeof tt.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return tt.subscribe(_e)}},isArrayLike=function(et){return et&&typeof et.length=="number"&&typeof et!="function"};function isPromise(et){return!!et&&typeof et.subscribe!="function"&&typeof et.then=="function"}var subscribeTo=function(et){if(!!et&&typeof et[observable]=="function")return subscribeToObservable(et);if(isArrayLike(et))return subscribeToArray(et);if(isPromise(et))return subscribeToPromise(et);if(!!et&&typeof et[iterator]=="function")return subscribeToIterable(et);var _e=isObject$1(et)?"an invalid object":"'"+et+"'",tt="You provided "+_e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(tt)};function subscribeToResult(et,_e,tt,rt,nt){if(nt===void 0&&(nt=new InnerSubscriber(et,tt,rt)),!nt.closed)return _e instanceof Observable?_e.subscribe(nt):subscribeTo(_e)(nt)}var NONE={};function combineLatest$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=void 0,rt=void 0;return isScheduler(et[et.length-1])&&(rt=et.pop()),typeof et[et.length-1]=="function"&&(tt=et.pop()),et.length===1&&isArray$7(et[0])&&(et=et[0]),fromArray(et,rt).lift(new CombineLatestOperator(tt))}var CombineLatestOperator=function(){function et(_e){this.resultSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new CombineLatestSubscriber(_e,this.resultSelector))},et}(),CombineLatestSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.resultSelector=rt,nt.active=0,nt.values=[],nt.observables=[],nt}return _e.prototype._next=function(tt){this.values.push(NONE),this.observables.push(tt)},_e.prototype._complete=function(){var tt=this.observables,rt=tt.length;if(rt===0)this.destination.complete();else{this.active=rt,this.toRespond=rt;for(var nt=0;nt<rt;nt++){var it=tt[nt];this.add(subscribeToResult(this,it,void 0,nt))}}},_e.prototype.notifyComplete=function(tt){(this.active-=1)===0&&this.destination.complete()},_e.prototype.notifyNext=function(tt,rt,nt){var it=this.values,at=it[nt],st=this.toRespond?at===NONE?--this.toRespond:this.toRespond:0;it[nt]=rt,st===0&&(this.resultSelector?this._tryResultSelector(it):this.destination.next(it.slice()))},_e.prototype._tryResultSelector=function(tt){var rt;try{rt=this.resultSelector.apply(this,tt)}catch(nt){this.destination.error(nt);return}this.destination.next(rt)},_e}(OuterSubscriber);function scheduleObservable(et,_e){return new Observable(function(tt){var rt=new Subscription;return rt.add(_e.schedule(function(){var nt=et[observable]();rt.add(nt.subscribe({next:function(it){rt.add(_e.schedule(function(){return tt.next(it)}))},error:function(it){rt.add(_e.schedule(function(){return tt.error(it)}))},complete:function(){rt.add(_e.schedule(function(){return tt.complete()}))}}))})),rt})}function schedulePromise(et,_e){return new Observable(function(tt){var rt=new Subscription;return rt.add(_e.schedule(function(){return et.then(function(nt){rt.add(_e.schedule(function(){tt.next(nt),rt.add(_e.schedule(function(){return tt.complete()}))}))},function(nt){rt.add(_e.schedule(function(){return tt.error(nt)}))})})),rt})}function scheduleIterable(et,_e){if(!et)throw new Error("Iterable cannot be null");return new Observable(function(tt){var rt=new Subscription,nt;return rt.add(function(){nt&&typeof nt.return=="function"&&nt.return()}),rt.add(_e.schedule(function(){nt=et[iterator](),rt.add(_e.schedule(function(){if(!tt.closed){var it,at;try{var st=nt.next();it=st.value,at=st.done}catch(ct){tt.error(ct);return}at?tt.complete():(tt.next(it),this.schedule())}}))})),rt})}function isInteropObservable(et){return et&&typeof et[observable]=="function"}function isIterable(et){return et&&typeof et[iterator]=="function"}function scheduled(et,_e){if(et!=null){if(isInteropObservable(et))return scheduleObservable(et,_e);if(isPromise(et))return schedulePromise(et,_e);if(isArrayLike(et))return scheduleArray(et,_e);if(isIterable(et)||typeof et=="string")return scheduleIterable(et,_e)}throw new TypeError((et!==null&&typeof et||et)+" is not observable")}function from$3(et,_e){return _e?scheduled(et,_e):et instanceof Observable?et:new Observable(subscribeTo(et))}var SimpleInnerSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this)||this;return rt.parent=tt,rt}return _e.prototype._next=function(tt){this.parent.notifyNext(tt)},_e.prototype._error=function(tt){this.parent.notifyError(tt),this.unsubscribe()},_e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},_e}(Subscriber),SimpleOuterSubscriber=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype.notifyNext=function(tt){this.destination.next(tt)},_e.prototype.notifyError=function(tt){this.destination.error(tt)},_e.prototype.notifyComplete=function(){this.destination.complete()},_e}(Subscriber);function innerSubscribe(et,_e){if(!_e.closed){if(et instanceof Observable)return et.subscribe(_e);var tt;try{tt=subscribeTo(et)(_e)}catch(rt){_e.error(rt)}return tt}}function mergeMap(et,_e,tt){return tt===void 0&&(tt=Number.POSITIVE_INFINITY),typeof _e=="function"?function(rt){return rt.pipe(mergeMap(function(nt,it){return from$3(et(nt,it)).pipe(map(function(at,st){return _e(nt,at,it,st)}))},tt))}:(typeof _e=="number"&&(tt=_e),function(rt){return rt.lift(new MergeMapOperator(et,tt))})}var MergeMapOperator=function(){function et(_e,tt){tt===void 0&&(tt=Number.POSITIVE_INFINITY),this.project=_e,this.concurrent=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new MergeMapSubscriber(_e,this.project,this.concurrent))},et}(),MergeMapSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){nt===void 0&&(nt=Number.POSITIVE_INFINITY);var it=et.call(this,tt)||this;return it.project=rt,it.concurrent=nt,it.hasCompleted=!1,it.buffer=[],it.active=0,it.index=0,it}return _e.prototype._next=function(tt){this.active<this.concurrent?this._tryNext(tt):this.buffer.push(tt)},_e.prototype._tryNext=function(tt){var rt,nt=this.index++;try{rt=this.project(tt,nt)}catch(it){this.destination.error(it);return}this.active++,this._innerSub(rt)},_e.prototype._innerSub=function(tt){var rt=new SimpleInnerSubscriber(this),nt=this.destination;nt.add(rt);var it=innerSubscribe(tt,rt);it!==rt&&nt.add(it)},_e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},_e.prototype.notifyNext=function(tt){this.destination.next(tt)},_e.prototype.notifyComplete=function(){var tt=this.buffer;this.active--,tt.length>0?this._next(tt.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},_e}(SimpleOuterSubscriber),flatMap=mergeMap;function mergeAll(et){return et===void 0&&(et=Number.POSITIVE_INFINITY),mergeMap(identity,et)}function concatAll(){return mergeAll(1)}function concat$2(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return concatAll()(of.apply(void 0,et))}function defer(et){return new Observable(function(_e){var tt;try{tt=et()}catch(nt){_e.error(nt);return}var rt=tt?from$3(tt):empty();return rt.subscribe(_e)})}function forkJoin(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];if(et.length===1){var tt=et[0];if(isArray$7(tt))return forkJoinInternal(tt,null);if(isObject$1(tt)&&Object.getPrototypeOf(tt)===Object.prototype){var rt=Object.keys(tt);return forkJoinInternal(rt.map(function(it){return tt[it]}),rt)}}if(typeof et[et.length-1]=="function"){var nt=et.pop();return et=et.length===1&&isArray$7(et[0])?et[0]:et,forkJoinInternal(et,null).pipe(map(function(it){return nt.apply(void 0,it)}))}return forkJoinInternal(et,null)}function forkJoinInternal(et,_e){return new Observable(function(tt){var rt=et.length;if(rt===0){tt.complete();return}for(var nt=new Array(rt),it=0,at=0,st=function(ut){var ft=from$3(et[ut]),gt=!1;tt.add(ft.subscribe({next:function(_t){gt||(gt=!0,at++),nt[ut]=_t},error:function(_t){return tt.error(_t)},complete:function(){it++,(it===rt||!gt)&&(at===rt&&tt.next(_e?_e.reduce(function(_t,Et,$t){return _t[Et]=nt[$t],_t},{}):nt),tt.complete())}}))},ct=0;ct<rt;ct++)st(ct)})}function fromEvent(et,_e,tt,rt){return isFunction(tt)&&(rt=tt,tt=void 0),rt?fromEvent(et,_e,tt).pipe(map(function(nt){return isArray$7(nt)?rt.apply(void 0,nt):rt(nt)})):new Observable(function(nt){function it(at){arguments.length>1?nt.next(Array.prototype.slice.call(arguments)):nt.next(at)}setupSubscription(et,_e,it,nt,tt)})}function setupSubscription(et,_e,tt,rt,nt){var it;if(isEventTarget(et)){var at=et;et.addEventListener(_e,tt,nt),it=function(){return at.removeEventListener(_e,tt,nt)}}else if(isJQueryStyleEventEmitter(et)){var st=et;et.on(_e,tt),it=function(){return st.off(_e,tt)}}else if(isNodeStyleEventEmitter(et)){var ct=et;et.addListener(_e,tt),it=function(){return ct.removeListener(_e,tt)}}else if(et&&et.length)for(var ut=0,ft=et.length;ut<ft;ut++)setupSubscription(et[ut],_e,tt,rt,nt);else throw new TypeError("Invalid event target");rt.add(it)}function isNodeStyleEventEmitter(et){return et&&typeof et.addListener=="function"&&typeof et.removeListener=="function"}function isJQueryStyleEventEmitter(et){return et&&typeof et.on=="function"&&typeof et.off=="function"}function isEventTarget(et){return et&&typeof et.addEventListener=="function"&&typeof et.removeEventListener=="function"}function fromEventPattern(et,_e,tt){return tt?fromEventPattern(et,_e).pipe(map(function(rt){return isArray$7(rt)?tt.apply(void 0,rt):tt(rt)})):new Observable(function(rt){var nt=function(){for(var at=[],st=0;st<arguments.length;st++)at[st]=arguments[st];return rt.next(at.length===1?at[0]:at)},it;try{it=et(nt)}catch(at){rt.error(at);return}if(!!isFunction(_e))return function(){return _e(nt,it)}})}function generate(et,_e,tt,rt,nt){var it,at;if(arguments.length==1){var st=et;at=st.initialState,_e=st.condition,tt=st.iterate,it=st.resultSelector||identity,nt=st.scheduler}else rt===void 0||isScheduler(rt)?(at=et,it=identity,nt=rt):(at=et,it=rt);return new Observable(function(ct){var ut=at;if(nt)return nt.schedule(dispatch$4,0,{subscriber:ct,iterate:tt,condition:_e,resultSelector:it,state:ut});do{if(_e){var ft=void 0;try{ft=_e(ut)}catch(_t){ct.error(_t);return}if(!ft){ct.complete();break}}var gt=void 0;try{gt=it(ut)}catch(_t){ct.error(_t);return}if(ct.next(gt),ct.closed)break;try{ut=tt(ut)}catch(_t){ct.error(_t);return}}while(!0)})}function dispatch$4(et){var _e=et.subscriber,tt=et.condition;if(!_e.closed){if(et.needIterate)try{et.state=et.iterate(et.state)}catch(it){_e.error(it);return}else et.needIterate=!0;if(tt){var rt=void 0;try{rt=tt(et.state)}catch(it){_e.error(it);return}if(!rt){_e.complete();return}if(_e.closed)return}var nt;try{nt=et.resultSelector(et.state)}catch(it){_e.error(it);return}if(!_e.closed&&(_e.next(nt),!_e.closed))return this.schedule(et)}}function iif(et,_e,tt){return _e===void 0&&(_e=EMPTY),tt===void 0&&(tt=EMPTY),defer(function(){return et()?_e:tt})}function isNumeric(et){return!isArray$7(et)&&et-parseFloat(et)+1>=0}function interval(et,_e){return et===void 0&&(et=0),_e===void 0&&(_e=async),(!isNumeric(et)||et<0)&&(et=0),(!_e||typeof _e.schedule!="function")&&(_e=async),new Observable(function(tt){return tt.add(_e.schedule(dispatch$3,et,{subscriber:tt,counter:0,period:et})),tt})}function dispatch$3(et){var _e=et.subscriber,tt=et.counter,rt=et.period;_e.next(tt),this.schedule({subscriber:_e,counter:tt+1,period:rt},rt)}function merge$2(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=Number.POSITIVE_INFINITY,rt=null,nt=et[et.length-1];return isScheduler(nt)?(rt=et.pop(),et.length>1&&typeof et[et.length-1]=="number"&&(tt=et.pop())):typeof nt=="number"&&(tt=et.pop()),rt===null&&et.length===1&&et[0]instanceof Observable?et[0]:mergeAll(tt)(fromArray(et,rt))}var NEVER=new Observable(noop$3);function never(){return NEVER}function onErrorResumeNext$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];if(et.length===0)return EMPTY;var tt=et[0],rt=et.slice(1);return et.length===1&&isArray$7(tt)?onErrorResumeNext$1.apply(void 0,tt):new Observable(function(nt){var it=function(){return nt.add(onErrorResumeNext$1.apply(void 0,rt).subscribe(nt))};return from$3(tt).subscribe({next:function(at){nt.next(at)},error:it,complete:it})})}function pairs(et,_e){return _e?new Observable(function(tt){var rt=Object.keys(et),nt=new Subscription;return nt.add(_e.schedule(dispatch$2,0,{keys:rt,index:0,subscriber:tt,subscription:nt,obj:et})),nt}):new Observable(function(tt){for(var rt=Object.keys(et),nt=0;nt<rt.length&&!tt.closed;nt++){var it=rt[nt];et.hasOwnProperty(it)&&tt.next([it,et[it]])}tt.complete()})}function dispatch$2(et){var _e=et.keys,tt=et.index,rt=et.subscriber,nt=et.subscription,it=et.obj;if(!rt.closed)if(tt<_e.length){var at=_e[tt];rt.next([at,it[at]]),nt.add(this.schedule({keys:_e,index:tt+1,subscriber:rt,subscription:nt,obj:it}))}else rt.complete()}function not(et,_e){function tt(){return!tt.pred.apply(tt.thisArg,arguments)}return tt.pred=et,tt.thisArg=_e,tt}function filter(et,_e){return function(rt){return rt.lift(new FilterOperator(et,_e))}}var FilterOperator=function(){function et(_e,tt){this.predicate=_e,this.thisArg=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new FilterSubscriber(_e,this.predicate,this.thisArg))},et}(),FilterSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.predicate=rt,it.thisArg=nt,it.count=0,it}return _e.prototype._next=function(tt){var rt;try{rt=this.predicate.call(this.thisArg,tt,this.count++)}catch(nt){this.destination.error(nt);return}rt&&this.destination.next(tt)},_e}(Subscriber);function partition$1(et,_e,tt){return[filter(_e,tt)(new Observable(subscribeTo(et))),filter(not(_e,tt))(new Observable(subscribeTo(et)))]}function race$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];if(et.length===1)if(isArray$7(et[0]))et=et[0];else return et[0];return fromArray(et,void 0).lift(new RaceOperator)}var RaceOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new RaceSubscriber(_e))},et}(),RaceSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.hasFirst=!1,rt.observables=[],rt.subscriptions=[],rt}return _e.prototype._next=function(tt){this.observables.push(tt)},_e.prototype._complete=function(){var tt=this.observables,rt=tt.length;if(rt===0)this.destination.complete();else{for(var nt=0;nt<rt&&!this.hasFirst;nt++){var it=tt[nt],at=subscribeToResult(this,it,void 0,nt);this.subscriptions&&this.subscriptions.push(at),this.add(at)}this.observables=null}},_e.prototype.notifyNext=function(tt,rt,nt){if(!this.hasFirst){this.hasFirst=!0;for(var it=0;it<this.subscriptions.length;it++)if(it!==nt){var at=this.subscriptions[it];at.unsubscribe(),this.remove(at)}this.subscriptions=null}this.destination.next(rt)},_e}(OuterSubscriber);function range$1(et,_e,tt){return et===void 0&&(et=0),new Observable(function(rt){_e===void 0&&(_e=et,et=0);var nt=0,it=et;if(tt)return tt.schedule(dispatch$1,0,{index:nt,count:_e,start:et,subscriber:rt});do{if(nt++>=_e){rt.complete();break}if(rt.next(it++),rt.closed)break}while(!0)})}function dispatch$1(et){var _e=et.start,tt=et.index,rt=et.count,nt=et.subscriber;if(tt>=rt){nt.complete();return}nt.next(_e),!nt.closed&&(et.index=tt+1,et.start=_e+1,this.schedule(et))}function timer(et,_e,tt){et===void 0&&(et=0);var rt=-1;return isNumeric(_e)?rt=Number(_e)<1&&1||Number(_e):isScheduler(_e)&&(tt=_e),isScheduler(tt)||(tt=async),new Observable(function(nt){var it=isNumeric(et)?et:+et-tt.now();return tt.schedule(dispatch,it,{index:0,period:rt,subscriber:nt})})}function dispatch(et){var _e=et.index,tt=et.period,rt=et.subscriber;if(rt.next(_e),!rt.closed){if(tt===-1)return rt.complete();et.index=_e+1,this.schedule(et,tt)}}function using(et,_e){return new Observable(function(tt){var rt;try{rt=et()}catch(st){tt.error(st);return}var nt;try{nt=_e(rt)}catch(st){tt.error(st);return}var it=nt?from$3(nt):EMPTY,at=it.subscribe(tt);return function(){at.unsubscribe(),rt&&rt.unsubscribe()}})}function zip$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=et[et.length-1];return typeof tt=="function"&&et.pop(),fromArray(et,void 0).lift(new ZipOperator(tt))}var ZipOperator=function(){function et(_e){this.resultSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new ZipSubscriber(_e,this.resultSelector))},et}(),ZipSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.resultSelector=rt,it.iterators=[],it.active=0,it.resultSelector=typeof rt=="function"?rt:void 0,it}return _e.prototype._next=function(tt){var rt=this.iterators;isArray$7(tt)?rt.push(new StaticArrayIterator(tt)):typeof tt[iterator]=="function"?rt.push(new StaticIterator(tt[iterator]())):rt.push(new ZipBufferIterator(this.destination,this,tt))},_e.prototype._complete=function(){var tt=this.iterators,rt=tt.length;if(this.unsubscribe(),rt===0){this.destination.complete();return}this.active=rt;for(var nt=0;nt<rt;nt++){var it=tt[nt];if(it.stillUnsubscribed){var at=this.destination;at.add(it.subscribe())}else this.active--}},_e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},_e.prototype.checkIterators=function(){for(var tt=this.iterators,rt=tt.length,nt=this.destination,it=0;it<rt;it++){var at=tt[it];if(typeof at.hasValue=="function"&&!at.hasValue())return}for(var st=!1,ct=[],it=0;it<rt;it++){var at=tt[it],ut=at.next();if(at.hasCompleted()&&(st=!0),ut.done){nt.complete();return}ct.push(ut.value)}this.resultSelector?this._tryresultSelector(ct):nt.next(ct),st&&nt.complete()},_e.prototype._tryresultSelector=function(tt){var rt;try{rt=this.resultSelector.apply(this,tt)}catch(nt){this.destination.error(nt);return}this.destination.next(rt)},_e}(Subscriber),StaticIterator=function(){function et(_e){this.iterator=_e,this.nextResult=_e.next()}return et.prototype.hasValue=function(){return!0},et.prototype.next=function(){var _e=this.nextResult;return this.nextResult=this.iterator.next(),_e},et.prototype.hasCompleted=function(){var _e=this.nextResult;return Boolean(_e&&_e.done)},et}(),StaticArrayIterator=function(){function et(_e){this.array=_e,this.index=0,this.length=0,this.length=_e.length}return et.prototype[iterator]=function(){return this},et.prototype.next=function(_e){var tt=this.index++,rt=this.array;return tt<this.length?{value:rt[tt],done:!1}:{value:null,done:!0}},et.prototype.hasValue=function(){return this.array.length>this.index},et.prototype.hasCompleted=function(){return this.array.length===this.index},et}(),ZipBufferIterator=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.parent=rt,it.observable=nt,it.stillUnsubscribed=!0,it.buffer=[],it.isComplete=!1,it}return _e.prototype[iterator]=function(){return this},_e.prototype.next=function(){var tt=this.buffer;return tt.length===0&&this.isComplete?{value:null,done:!0}:{value:tt.shift(),done:!1}},_e.prototype.hasValue=function(){return this.buffer.length>0},_e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},_e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},_e.prototype.notifyNext=function(tt){this.buffer.push(tt),this.parent.checkIterators()},_e.prototype.subscribe=function(){return innerSubscribe(this.observable,new SimpleInnerSubscriber(this))},_e}(SimpleOuterSubscriber),_esm5=Object.freeze(Object.defineProperty({__proto__:null,Observable,ConnectableObservable,GroupedObservable,observable,Subject,BehaviorSubject,ReplaySubject,AsyncSubject,asap,asapScheduler,async,asyncScheduler,queue,queueScheduler,animationFrame,animationFrameScheduler,VirtualTimeScheduler,VirtualAction,Scheduler,Subscription,Subscriber,Notification:Notification$1,get NotificationKind(){return NotificationKind},pipe:pipe$1,noop:noop$3,identity,isObservable,ArgumentOutOfRangeError,EmptyError,ObjectUnsubscribedError,UnsubscriptionError,TimeoutError,bindCallback,bindNodeCallback,combineLatest:combineLatest$1,concat:concat$2,defer,empty,forkJoin,from:from$3,fromEvent,fromEventPattern,generate,iif,interval,merge:merge$2,never,of,onErrorResumeNext:onErrorResumeNext$1,pairs,partition:partition$1,race:race$1,range:range$1,throwError,timer,using,zip:zip$1,scheduled,EMPTY,NEVER,config:config$1},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(_esm5);function audit(et){return function(tt){return tt.lift(new AuditOperator(et))}}var AuditOperator=function(){function et(_e){this.durationSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new AuditSubscriber(_e,this.durationSelector))},et}(),AuditSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.durationSelector=rt,nt.hasValue=!1,nt}return _e.prototype._next=function(tt){if(this.value=tt,this.hasValue=!0,!this.throttled){var rt=void 0;try{var nt=this.durationSelector;rt=nt(tt)}catch(at){return this.destination.error(at)}var it=innerSubscribe(rt,new SimpleInnerSubscriber(this));!it||it.closed?this.clearThrottle():this.add(this.throttled=it)}},_e.prototype.clearThrottle=function(){var tt=this,rt=tt.value,nt=tt.hasValue,it=tt.throttled;it&&(this.remove(it),this.throttled=void 0,it.unsubscribe()),nt&&(this.value=void 0,this.hasValue=!1,this.destination.next(rt))},_e.prototype.notifyNext=function(){this.clearThrottle()},_e.prototype.notifyComplete=function(){this.clearThrottle()},_e}(SimpleOuterSubscriber);function auditTime(et,_e){return _e===void 0&&(_e=async),audit(function(){return timer(et,_e)})}function buffer$1(et){return function(tt){return tt.lift(new BufferOperator(et))}}var BufferOperator=function(){function et(_e){this.closingNotifier=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new BufferSubscriber(_e,this.closingNotifier))},et}(),BufferSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.buffer=[],nt.add(innerSubscribe(rt,new SimpleInnerSubscriber(nt))),nt}return _e.prototype._next=function(tt){this.buffer.push(tt)},_e.prototype.notifyNext=function(){var tt=this.buffer;this.buffer=[],this.destination.next(tt)},_e}(SimpleOuterSubscriber);function bufferCount(et,_e){return _e===void 0&&(_e=null),function(rt){return rt.lift(new BufferCountOperator(et,_e))}}var BufferCountOperator=function(){function et(_e,tt){this.bufferSize=_e,this.startBufferEvery=tt,!tt||_e===tt?this.subscriberClass=BufferCountSubscriber:this.subscriberClass=BufferSkipCountSubscriber}return et.prototype.call=function(_e,tt){return tt.subscribe(new this.subscriberClass(_e,this.bufferSize,this.startBufferEvery))},et}(),BufferCountSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.bufferSize=rt,nt.buffer=[],nt}return _e.prototype._next=function(tt){var rt=this.buffer;rt.push(tt),rt.length==this.bufferSize&&(this.destination.next(rt),this.buffer=[])},_e.prototype._complete=function(){var tt=this.buffer;tt.length>0&&this.destination.next(tt),et.prototype._complete.call(this)},_e}(Subscriber),BufferSkipCountSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.bufferSize=rt,it.startBufferEvery=nt,it.buffers=[],it.count=0,it}return _e.prototype._next=function(tt){var rt=this,nt=rt.bufferSize,it=rt.startBufferEvery,at=rt.buffers,st=rt.count;this.count++,st%it===0&&at.push([]);for(var ct=at.length;ct--;){var ut=at[ct];ut.push(tt),ut.length===nt&&(at.splice(ct,1),this.destination.next(ut))}},_e.prototype._complete=function(){for(var tt=this,rt=tt.buffers,nt=tt.destination;rt.length>0;){var it=rt.shift();it.length>0&&nt.next(it)}et.prototype._complete.call(this)},_e}(Subscriber);function bufferTime(et){var _e=arguments.length,tt=async;isScheduler(arguments[arguments.length-1])&&(tt=arguments[arguments.length-1],_e--);var rt=null;_e>=2&&(rt=arguments[1]);var nt=Number.POSITIVE_INFINITY;return _e>=3&&(nt=arguments[2]),function(at){return at.lift(new BufferTimeOperator(et,rt,nt,tt))}}var BufferTimeOperator=function(){function et(_e,tt,rt,nt){this.bufferTimeSpan=_e,this.bufferCreationInterval=tt,this.maxBufferSize=rt,this.scheduler=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new BufferTimeSubscriber(_e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},et}(),Context=function(){function et(){this.buffer=[]}return et}(),BufferTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var st=et.call(this,tt)||this;st.bufferTimeSpan=rt,st.bufferCreationInterval=nt,st.maxBufferSize=it,st.scheduler=at,st.contexts=[];var ct=st.openContext();if(st.timespanOnly=nt==null||nt<0,st.timespanOnly){var ut={subscriber:st,context:ct,bufferTimeSpan:rt};st.add(ct.closeAction=at.schedule(dispatchBufferTimeSpanOnly,rt,ut))}else{var ft={subscriber:st,context:ct},gt={bufferTimeSpan:rt,bufferCreationInterval:nt,subscriber:st,scheduler:at};st.add(ct.closeAction=at.schedule(dispatchBufferClose,rt,ft)),st.add(at.schedule(dispatchBufferCreation,nt,gt))}return st}return _e.prototype._next=function(tt){for(var rt=this.contexts,nt=rt.length,it,at=0;at<nt;at++){var st=rt[at],ct=st.buffer;ct.push(tt),ct.length==this.maxBufferSize&&(it=st)}it&&this.onBufferFull(it)},_e.prototype._error=function(tt){this.contexts.length=0,et.prototype._error.call(this,tt)},_e.prototype._complete=function(){for(var tt=this,rt=tt.contexts,nt=tt.destination;rt.length>0;){var it=rt.shift();nt.next(it.buffer)}et.prototype._complete.call(this)},_e.prototype._unsubscribe=function(){this.contexts=null},_e.prototype.onBufferFull=function(tt){this.closeContext(tt);var rt=tt.closeAction;if(rt.unsubscribe(),this.remove(rt),!this.closed&&this.timespanOnly){tt=this.openContext();var nt=this.bufferTimeSpan,it={subscriber:this,context:tt,bufferTimeSpan:nt};this.add(tt.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,nt,it))}},_e.prototype.openContext=function(){var tt=new Context;return this.contexts.push(tt),tt},_e.prototype.closeContext=function(tt){this.destination.next(tt.buffer);var rt=this.contexts,nt=rt?rt.indexOf(tt):-1;nt>=0&&rt.splice(rt.indexOf(tt),1)},_e}(Subscriber);function dispatchBufferTimeSpanOnly(et){var _e=et.subscriber,tt=et.context;tt&&_e.closeContext(tt),_e.closed||(et.context=_e.openContext(),et.context.closeAction=this.schedule(et,et.bufferTimeSpan))}function dispatchBufferCreation(et){var _e=et.bufferCreationInterval,tt=et.bufferTimeSpan,rt=et.subscriber,nt=et.scheduler,it=rt.openContext(),at=this;rt.closed||(rt.add(it.closeAction=nt.schedule(dispatchBufferClose,tt,{subscriber:rt,context:it})),at.schedule(et,_e))}function dispatchBufferClose(et){var _e=et.subscriber,tt=et.context;_e.closeContext(tt)}function bufferToggle(et,_e){return function(rt){return rt.lift(new BufferToggleOperator(et,_e))}}var BufferToggleOperator=function(){function et(_e,tt){this.openings=_e,this.closingSelector=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new BufferToggleSubscriber(_e,this.openings,this.closingSelector))},et}(),BufferToggleSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.closingSelector=nt,it.contexts=[],it.add(subscribeToResult(it,rt)),it}return _e.prototype._next=function(tt){for(var rt=this.contexts,nt=rt.length,it=0;it<nt;it++)rt[it].buffer.push(tt)},_e.prototype._error=function(tt){for(var rt=this.contexts;rt.length>0;){var nt=rt.shift();nt.subscription.unsubscribe(),nt.buffer=null,nt.subscription=null}this.contexts=null,et.prototype._error.call(this,tt)},_e.prototype._complete=function(){for(var tt=this.contexts;tt.length>0;){var rt=tt.shift();this.destination.next(rt.buffer),rt.subscription.unsubscribe(),rt.buffer=null,rt.subscription=null}this.contexts=null,et.prototype._complete.call(this)},_e.prototype.notifyNext=function(tt,rt){tt?this.closeBuffer(tt):this.openBuffer(rt)},_e.prototype.notifyComplete=function(tt){this.closeBuffer(tt.context)},_e.prototype.openBuffer=function(tt){try{var rt=this.closingSelector,nt=rt.call(this,tt);nt&&this.trySubscribe(nt)}catch(it){this._error(it)}},_e.prototype.closeBuffer=function(tt){var rt=this.contexts;if(rt&&tt){var nt=tt.buffer,it=tt.subscription;this.destination.next(nt),rt.splice(rt.indexOf(tt),1),this.remove(it),it.unsubscribe()}},_e.prototype.trySubscribe=function(tt){var rt=this.contexts,nt=[],it=new Subscription,at={buffer:nt,subscription:it};rt.push(at);var st=subscribeToResult(this,tt,at);!st||st.closed?this.closeBuffer(at):(st.context=at,this.add(st),it.add(st))},_e}(OuterSubscriber);function bufferWhen(et){return function(_e){return _e.lift(new BufferWhenOperator(et))}}var BufferWhenOperator=function(){function et(_e){this.closingSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new BufferWhenSubscriber(_e,this.closingSelector))},et}(),BufferWhenSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.closingSelector=rt,nt.subscribing=!1,nt.openBuffer(),nt}return _e.prototype._next=function(tt){this.buffer.push(tt)},_e.prototype._complete=function(){var tt=this.buffer;tt&&this.destination.next(tt),et.prototype._complete.call(this)},_e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},_e.prototype.notifyNext=function(){this.openBuffer()},_e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},_e.prototype.openBuffer=function(){var tt=this.closingSubscription;tt&&(this.remove(tt),tt.unsubscribe());var rt=this.buffer;this.buffer&&this.destination.next(rt),this.buffer=[];var nt;try{var it=this.closingSelector;nt=it()}catch(at){return this.error(at)}tt=new Subscription,this.closingSubscription=tt,this.add(tt),this.subscribing=!0,tt.add(innerSubscribe(nt,new SimpleInnerSubscriber(this))),this.subscribing=!1},_e}(SimpleOuterSubscriber);function catchError(et){return function(tt){var rt=new CatchOperator(et),nt=tt.lift(rt);return rt.caught=nt}}var CatchOperator=function(){function et(_e){this.selector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new CatchSubscriber(_e,this.selector,this.caught))},et}(),CatchSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.selector=rt,it.caught=nt,it}return _e.prototype.error=function(tt){if(!this.isStopped){var rt=void 0;try{rt=this.selector(tt,this.caught)}catch(at){et.prototype.error.call(this,at);return}this._unsubscribeAndRecycle();var nt=new SimpleInnerSubscriber(this);this.add(nt);var it=innerSubscribe(rt,nt);it!==nt&&this.add(it)}},_e}(SimpleOuterSubscriber);function combineAll(et){return function(_e){return _e.lift(new CombineLatestOperator(et))}}function combineLatest(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=null;return typeof et[et.length-1]=="function"&&(tt=et.pop()),et.length===1&&isArray$7(et[0])&&(et=et[0].slice()),function(rt){return rt.lift.call(from$3([rt].concat(et)),new CombineLatestOperator(tt))}}function concat$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(tt){return tt.lift.call(concat$2.apply(void 0,[tt].concat(et)))}}function concatMap(et,_e){return mergeMap(et,_e,1)}function concatMapTo(et,_e){return concatMap(function(){return et},_e)}function count(et){return function(_e){return _e.lift(new CountOperator(et,_e))}}var CountOperator=function(){function et(_e,tt){this.predicate=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new CountSubscriber(_e,this.predicate,this.source))},et}(),CountSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.predicate=rt,it.source=nt,it.count=0,it.index=0,it}return _e.prototype._next=function(tt){this.predicate?this._tryPredicate(tt):this.count++},_e.prototype._tryPredicate=function(tt){var rt;try{rt=this.predicate(tt,this.index++,this.source)}catch(nt){this.destination.error(nt);return}rt&&this.count++},_e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},_e}(Subscriber);function debounce(et){return function(_e){return _e.lift(new DebounceOperator(et))}}var DebounceOperator=function(){function et(_e){this.durationSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new DebounceSubscriber(_e,this.durationSelector))},et}(),DebounceSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.durationSelector=rt,nt.hasValue=!1,nt}return _e.prototype._next=function(tt){try{var rt=this.durationSelector.call(this,tt);rt&&this._tryNext(tt,rt)}catch(nt){this.destination.error(nt)}},_e.prototype._complete=function(){this.emitValue(),this.destination.complete()},_e.prototype._tryNext=function(tt,rt){var nt=this.durationSubscription;this.value=tt,this.hasValue=!0,nt&&(nt.unsubscribe(),this.remove(nt)),nt=innerSubscribe(rt,new SimpleInnerSubscriber(this)),nt&&!nt.closed&&this.add(this.durationSubscription=nt)},_e.prototype.notifyNext=function(){this.emitValue()},_e.prototype.notifyComplete=function(){this.emitValue()},_e.prototype.emitValue=function(){if(this.hasValue){var tt=this.value,rt=this.durationSubscription;rt&&(this.durationSubscription=void 0,rt.unsubscribe(),this.remove(rt)),this.value=void 0,this.hasValue=!1,et.prototype._next.call(this,tt)}},_e}(SimpleOuterSubscriber);function debounceTime(et,_e){return _e===void 0&&(_e=async),function(tt){return tt.lift(new DebounceTimeOperator(et,_e))}}var DebounceTimeOperator=function(){function et(_e,tt){this.dueTime=_e,this.scheduler=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new DebounceTimeSubscriber(_e,this.dueTime,this.scheduler))},et}(),DebounceTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.dueTime=rt,it.scheduler=nt,it.debouncedSubscription=null,it.lastValue=null,it.hasValue=!1,it}return _e.prototype._next=function(tt){this.clearDebounce(),this.lastValue=tt,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext$1,this.dueTime,this))},_e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},_e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var tt=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(tt)}},_e.prototype.clearDebounce=function(){var tt=this.debouncedSubscription;tt!==null&&(this.remove(tt),tt.unsubscribe(),this.debouncedSubscription=null)},_e}(Subscriber);function dispatchNext$1(et){et.debouncedNext()}function defaultIfEmpty(et){return et===void 0&&(et=null),function(_e){return _e.lift(new DefaultIfEmptyOperator(et))}}var DefaultIfEmptyOperator=function(){function et(_e){this.defaultValue=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new DefaultIfEmptySubscriber(_e,this.defaultValue))},et}(),DefaultIfEmptySubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.defaultValue=rt,nt.isEmpty=!0,nt}return _e.prototype._next=function(tt){this.isEmpty=!1,this.destination.next(tt)},_e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},_e}(Subscriber);function isDate$1(et){return et instanceof Date&&!isNaN(+et)}function delay(et,_e){_e===void 0&&(_e=async);var tt=isDate$1(et),rt=tt?+et-_e.now():Math.abs(et);return function(nt){return nt.lift(new DelayOperator(rt,_e))}}var DelayOperator=function(){function et(_e,tt){this.delay=_e,this.scheduler=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new DelaySubscriber(_e,this.delay,this.scheduler))},et}(),DelaySubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.delay=rt,it.scheduler=nt,it.queue=[],it.active=!1,it.errored=!1,it}return _e.dispatch=function(tt){for(var rt=tt.source,nt=rt.queue,it=tt.scheduler,at=tt.destination;nt.length>0&&nt[0].time-it.now()<=0;)nt.shift().notification.observe(at);if(nt.length>0){var st=Math.max(0,nt[0].time-it.now());this.schedule(tt,st)}else this.unsubscribe(),rt.active=!1},_e.prototype._schedule=function(tt){this.active=!0;var rt=this.destination;rt.add(tt.schedule(_e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:tt}))},_e.prototype.scheduleNotification=function(tt){if(this.errored!==!0){var rt=this.scheduler,nt=new DelayMessage(rt.now()+this.delay,tt);this.queue.push(nt),this.active===!1&&this._schedule(rt)}},_e.prototype._next=function(tt){this.scheduleNotification(Notification$1.createNext(tt))},_e.prototype._error=function(tt){this.errored=!0,this.queue=[],this.destination.error(tt),this.unsubscribe()},_e.prototype._complete=function(){this.scheduleNotification(Notification$1.createComplete()),this.unsubscribe()},_e}(Subscriber),DelayMessage=function(){function et(_e,tt){this.time=_e,this.notification=tt}return et}();function delayWhen(et,_e){return _e?function(tt){return new SubscriptionDelayObservable(tt,_e).lift(new DelayWhenOperator(et))}:function(tt){return tt.lift(new DelayWhenOperator(et))}}var DelayWhenOperator=function(){function et(_e){this.delayDurationSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new DelayWhenSubscriber(_e,this.delayDurationSelector))},et}(),DelayWhenSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.delayDurationSelector=rt,nt.completed=!1,nt.delayNotifierSubscriptions=[],nt.index=0,nt}return _e.prototype.notifyNext=function(tt,rt,nt,it,at){this.destination.next(tt),this.removeSubscription(at),this.tryComplete()},_e.prototype.notifyError=function(tt,rt){this._error(tt)},_e.prototype.notifyComplete=function(tt){var rt=this.removeSubscription(tt);rt&&this.destination.next(rt),this.tryComplete()},_e.prototype._next=function(tt){var rt=this.index++;try{var nt=this.delayDurationSelector(tt,rt);nt&&this.tryDelay(nt,tt)}catch(it){this.destination.error(it)}},_e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},_e.prototype.removeSubscription=function(tt){tt.unsubscribe();var rt=this.delayNotifierSubscriptions.indexOf(tt);return rt!==-1&&this.delayNotifierSubscriptions.splice(rt,1),tt.outerValue},_e.prototype.tryDelay=function(tt,rt){var nt=subscribeToResult(this,tt,rt);if(nt&&!nt.closed){var it=this.destination;it.add(nt),this.delayNotifierSubscriptions.push(nt)}},_e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},_e}(OuterSubscriber),SubscriptionDelayObservable=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.source=tt,nt.subscriptionDelay=rt,nt}return _e.prototype._subscribe=function(tt){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(tt,this.source))},_e}(Observable),SubscriptionDelaySubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.parent=tt,nt.source=rt,nt.sourceSubscribed=!1,nt}return _e.prototype._next=function(tt){this.subscribeToSource()},_e.prototype._error=function(tt){this.unsubscribe(),this.parent.error(tt)},_e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},_e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},_e}(Subscriber);function dematerialize(){return function(_e){return _e.lift(new DeMaterializeOperator)}}var DeMaterializeOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new DeMaterializeSubscriber(_e))},et}(),DeMaterializeSubscriber=function(et){__extends(_e,et);function _e(tt){return et.call(this,tt)||this}return _e.prototype._next=function(tt){tt.observe(this.destination)},_e}(Subscriber);function distinct(et,_e){return function(tt){return tt.lift(new DistinctOperator(et,_e))}}var DistinctOperator=function(){function et(_e,tt){this.keySelector=_e,this.flushes=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new DistinctSubscriber(_e,this.keySelector,this.flushes))},et}(),DistinctSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.keySelector=rt,it.values=new Set,nt&&it.add(innerSubscribe(nt,new SimpleInnerSubscriber(it))),it}return _e.prototype.notifyNext=function(){this.values.clear()},_e.prototype.notifyError=function(tt){this._error(tt)},_e.prototype._next=function(tt){this.keySelector?this._useKeySelector(tt):this._finalizeNext(tt,tt)},_e.prototype._useKeySelector=function(tt){var rt,nt=this.destination;try{rt=this.keySelector(tt)}catch(it){nt.error(it);return}this._finalizeNext(rt,tt)},_e.prototype._finalizeNext=function(tt,rt){var nt=this.values;nt.has(tt)||(nt.add(tt),this.destination.next(rt))},_e}(SimpleOuterSubscriber);function distinctUntilChanged(et,_e){return function(tt){return tt.lift(new DistinctUntilChangedOperator(et,_e))}}var DistinctUntilChangedOperator=function(){function et(_e,tt){this.compare=_e,this.keySelector=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new DistinctUntilChangedSubscriber(_e,this.compare,this.keySelector))},et}(),DistinctUntilChangedSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.keySelector=nt,it.hasKey=!1,typeof rt=="function"&&(it.compare=rt),it}return _e.prototype.compare=function(tt,rt){return tt===rt},_e.prototype._next=function(tt){var rt;try{var nt=this.keySelector;rt=nt?nt(tt):tt}catch(st){return this.destination.error(st)}var it=!1;if(this.hasKey)try{var at=this.compare;it=at(this.key,rt)}catch(st){return this.destination.error(st)}else this.hasKey=!0;it||(this.key=rt,this.destination.next(tt))},_e}(Subscriber);function distinctUntilKeyChanged(et,_e){return distinctUntilChanged(function(tt,rt){return _e?_e(tt[et],rt[et]):tt[et]===rt[et]})}function throwIfEmpty(et){return et===void 0&&(et=defaultErrorFactory),function(_e){return _e.lift(new ThrowIfEmptyOperator(et))}}var ThrowIfEmptyOperator=function(){function et(_e){this.errorFactory=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new ThrowIfEmptySubscriber(_e,this.errorFactory))},et}(),ThrowIfEmptySubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.errorFactory=rt,nt.hasValue=!1,nt}return _e.prototype._next=function(tt){this.hasValue=!0,this.destination.next(tt)},_e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var tt=void 0;try{tt=this.errorFactory()}catch(rt){tt=rt}this.destination.error(tt)},_e}(Subscriber);function defaultErrorFactory(){return new EmptyError}function take(et){return function(_e){return et===0?empty():_e.lift(new TakeOperator(et))}}var TakeOperator=function(){function et(_e){if(this.total=_e,this.total<0)throw new ArgumentOutOfRangeError}return et.prototype.call=function(_e,tt){return tt.subscribe(new TakeSubscriber(_e,this.total))},et}(),TakeSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.total=rt,nt.count=0,nt}return _e.prototype._next=function(tt){var rt=this.total,nt=++this.count;nt<=rt&&(this.destination.next(tt),nt===rt&&(this.destination.complete(),this.unsubscribe()))},_e}(Subscriber);function elementAt(et,_e){if(et<0)throw new ArgumentOutOfRangeError;var tt=arguments.length>=2;return function(rt){return rt.pipe(filter(function(nt,it){return it===et}),take(1),tt?defaultIfEmpty(_e):throwIfEmpty(function(){return new ArgumentOutOfRangeError}))}}function endWith(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(tt){return concat$2(tt,of.apply(void 0,et))}}function every(et,_e){return function(tt){return tt.lift(new EveryOperator(et,_e,tt))}}var EveryOperator=function(){function et(_e,tt,rt){this.predicate=_e,this.thisArg=tt,this.source=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new EverySubscriber(_e,this.predicate,this.thisArg,this.source))},et}(),EverySubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.predicate=rt,at.thisArg=nt,at.source=it,at.index=0,at.thisArg=nt||at,at}return _e.prototype.notifyComplete=function(tt){this.destination.next(tt),this.destination.complete()},_e.prototype._next=function(tt){var rt=!1;try{rt=this.predicate.call(this.thisArg,tt,this.index++,this.source)}catch(nt){this.destination.error(nt);return}rt||this.notifyComplete(!1)},_e.prototype._complete=function(){this.notifyComplete(!0)},_e}(Subscriber);function exhaust(){return function(et){return et.lift(new SwitchFirstOperator)}}var SwitchFirstOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new SwitchFirstSubscriber(_e))},et}(),SwitchFirstSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.hasCompleted=!1,rt.hasSubscription=!1,rt}return _e.prototype._next=function(tt){this.hasSubscription||(this.hasSubscription=!0,this.add(innerSubscribe(tt,new SimpleInnerSubscriber(this))))},_e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},_e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},_e}(SimpleOuterSubscriber);function exhaustMap(et,_e){return _e?function(tt){return tt.pipe(exhaustMap(function(rt,nt){return from$3(et(rt,nt)).pipe(map(function(it,at){return _e(rt,it,nt,at)}))}))}:function(tt){return tt.lift(new ExhaustMapOperator(et))}}var ExhaustMapOperator=function(){function et(_e){this.project=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new ExhaustMapSubscriber(_e,this.project))},et}(),ExhaustMapSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.project=rt,nt.hasSubscription=!1,nt.hasCompleted=!1,nt.index=0,nt}return _e.prototype._next=function(tt){this.hasSubscription||this.tryNext(tt)},_e.prototype.tryNext=function(tt){var rt,nt=this.index++;try{rt=this.project(tt,nt)}catch(it){this.destination.error(it);return}this.hasSubscription=!0,this._innerSub(rt)},_e.prototype._innerSub=function(tt){var rt=new SimpleInnerSubscriber(this),nt=this.destination;nt.add(rt);var it=innerSubscribe(tt,rt);it!==rt&&nt.add(it)},_e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},_e.prototype.notifyNext=function(tt){this.destination.next(tt)},_e.prototype.notifyError=function(tt){this.destination.error(tt)},_e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},_e}(SimpleOuterSubscriber);function expand(et,_e,tt){return _e===void 0&&(_e=Number.POSITIVE_INFINITY),_e=(_e||0)<1?Number.POSITIVE_INFINITY:_e,function(rt){return rt.lift(new ExpandOperator(et,_e,tt))}}var ExpandOperator=function(){function et(_e,tt,rt){this.project=_e,this.concurrent=tt,this.scheduler=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ExpandSubscriber(_e,this.project,this.concurrent,this.scheduler))},et}(),ExpandSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.project=rt,at.concurrent=nt,at.scheduler=it,at.index=0,at.active=0,at.hasCompleted=!1,nt<Number.POSITIVE_INFINITY&&(at.buffer=[]),at}return _e.dispatch=function(tt){var rt=tt.subscriber,nt=tt.result,it=tt.value,at=tt.index;rt.subscribeToProjection(nt,it,at)},_e.prototype._next=function(tt){var rt=this.destination;if(rt.closed){this._complete();return}var nt=this.index++;if(this.active<this.concurrent){rt.next(tt);try{var it=this.project,at=it(tt,nt);if(!this.scheduler)this.subscribeToProjection(at,tt,nt);else{var st={subscriber:this,result:at,value:tt,index:nt},ct=this.destination;ct.add(this.scheduler.schedule(_e.dispatch,0,st))}}catch(ut){rt.error(ut)}}else this.buffer.push(tt)},_e.prototype.subscribeToProjection=function(tt,rt,nt){this.active++;var it=this.destination;it.add(innerSubscribe(tt,new SimpleInnerSubscriber(this)))},_e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},_e.prototype.notifyNext=function(tt){this._next(tt)},_e.prototype.notifyComplete=function(){var tt=this.buffer;this.active--,tt&&tt.length>0&&this._next(tt.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},_e}(SimpleOuterSubscriber);function finalize(et){return function(_e){return _e.lift(new FinallyOperator(et))}}var FinallyOperator=function(){function et(_e){this.callback=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new FinallySubscriber(_e,this.callback))},et}(),FinallySubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.add(new Subscription(rt)),nt}return _e}(Subscriber);function find(et,_e){if(typeof et!="function")throw new TypeError("predicate is not a function");return function(tt){return tt.lift(new FindValueOperator(et,tt,!1,_e))}}var FindValueOperator=function(){function et(_e,tt,rt,nt){this.predicate=_e,this.source=tt,this.yieldIndex=rt,this.thisArg=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new FindValueSubscriber(_e,this.predicate,this.source,this.yieldIndex,this.thisArg))},et}(),FindValueSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var st=et.call(this,tt)||this;return st.predicate=rt,st.source=nt,st.yieldIndex=it,st.thisArg=at,st.index=0,st}return _e.prototype.notifyComplete=function(tt){var rt=this.destination;rt.next(tt),rt.complete(),this.unsubscribe()},_e.prototype._next=function(tt){var rt=this,nt=rt.predicate,it=rt.thisArg,at=this.index++;try{var st=nt.call(it||this,tt,at,this.source);st&&this.notifyComplete(this.yieldIndex?at:tt)}catch(ct){this.destination.error(ct)}},_e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},_e}(Subscriber);function findIndex(et,_e){return function(tt){return tt.lift(new FindValueOperator(et,tt,!0,_e))}}function first(et,_e){var tt=arguments.length>=2;return function(rt){return rt.pipe(et?filter(function(nt,it){return et(nt,it,rt)}):identity,take(1),tt?defaultIfEmpty(_e):throwIfEmpty(function(){return new EmptyError}))}}function ignoreElements(){return function(_e){return _e.lift(new IgnoreElementsOperator)}}var IgnoreElementsOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new IgnoreElementsSubscriber(_e))},et}(),IgnoreElementsSubscriber=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype._next=function(tt){},_e}(Subscriber);function isEmpty(){return function(et){return et.lift(new IsEmptyOperator)}}var IsEmptyOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new IsEmptySubscriber(_e))},et}(),IsEmptySubscriber=function(et){__extends(_e,et);function _e(tt){return et.call(this,tt)||this}return _e.prototype.notifyComplete=function(tt){var rt=this.destination;rt.next(tt),rt.complete()},_e.prototype._next=function(tt){this.notifyComplete(!1)},_e.prototype._complete=function(){this.notifyComplete(!0)},_e}(Subscriber);function takeLast(et){return function(tt){return et===0?empty():tt.lift(new TakeLastOperator(et))}}var TakeLastOperator=function(){function et(_e){if(this.total=_e,this.total<0)throw new ArgumentOutOfRangeError}return et.prototype.call=function(_e,tt){return tt.subscribe(new TakeLastSubscriber(_e,this.total))},et}(),TakeLastSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.total=rt,nt.ring=new Array,nt.count=0,nt}return _e.prototype._next=function(tt){var rt=this.ring,nt=this.total,it=this.count++;if(rt.length<nt)rt.push(tt);else{var at=it%nt;rt[at]=tt}},_e.prototype._complete=function(){var tt=this.destination,rt=this.count;if(rt>0)for(var nt=this.count>=this.total?this.total:this.count,it=this.ring,at=0;at<nt;at++){var st=rt++%nt;tt.next(it[st])}tt.complete()},_e}(Subscriber);function last(et,_e){var tt=arguments.length>=2;return function(rt){return rt.pipe(et?filter(function(nt,it){return et(nt,it,rt)}):identity,takeLast(1),tt?defaultIfEmpty(_e):throwIfEmpty(function(){return new EmptyError}))}}function mapTo(et){return function(_e){return _e.lift(new MapToOperator(et))}}var MapToOperator=function(){function et(_e){this.value=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new MapToSubscriber(_e,this.value))},et}(),MapToSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.value=rt,nt}return _e.prototype._next=function(tt){this.destination.next(this.value)},_e}(Subscriber);function materialize(){return function(_e){return _e.lift(new MaterializeOperator)}}var MaterializeOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new MaterializeSubscriber(_e))},et}(),MaterializeSubscriber=function(et){__extends(_e,et);function _e(tt){return et.call(this,tt)||this}return _e.prototype._next=function(tt){this.destination.next(Notification$1.createNext(tt))},_e.prototype._error=function(tt){var rt=this.destination;rt.next(Notification$1.createError(tt)),rt.complete()},_e.prototype._complete=function(){var tt=this.destination;tt.next(Notification$1.createComplete()),tt.complete()},_e}(Subscriber);function scan(et,_e){var tt=!1;return arguments.length>=2&&(tt=!0),function(nt){return nt.lift(new ScanOperator(et,_e,tt))}}var ScanOperator=function(){function et(_e,tt,rt){rt===void 0&&(rt=!1),this.accumulator=_e,this.seed=tt,this.hasSeed=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ScanSubscriber(_e,this.accumulator,this.seed,this.hasSeed))},et}(),ScanSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.accumulator=rt,at._seed=nt,at.hasSeed=it,at.index=0,at}return Object.defineProperty(_e.prototype,"seed",{get:function(){return this._seed},set:function(tt){this.hasSeed=!0,this._seed=tt},enumerable:!0,configurable:!0}),_e.prototype._next=function(tt){if(!this.hasSeed)this.seed=tt,this.destination.next(tt);else return this._tryNext(tt)},_e.prototype._tryNext=function(tt){var rt=this.index++,nt;try{nt=this.accumulator(this.seed,tt,rt)}catch(it){this.destination.error(it)}this.seed=nt,this.destination.next(nt)},_e}(Subscriber);function reduce(et,_e){return arguments.length>=2?function(rt){return pipe$1(scan(et,_e),takeLast(1),defaultIfEmpty(_e))(rt)}:function(rt){return pipe$1(scan(function(nt,it,at){return et(nt,it,at+1)}),takeLast(1))(rt)}}function max(et){var _e=typeof et=="function"?function(tt,rt){return et(tt,rt)>0?tt:rt}:function(tt,rt){return tt>rt?tt:rt};return reduce(_e)}function merge$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(tt){return tt.lift.call(merge$2.apply(void 0,[tt].concat(et)))}}function mergeMapTo(et,_e,tt){return tt===void 0&&(tt=Number.POSITIVE_INFINITY),typeof _e=="function"?mergeMap(function(){return et},_e,tt):(typeof _e=="number"&&(tt=_e),mergeMap(function(){return et},tt))}function mergeScan(et,_e,tt){return tt===void 0&&(tt=Number.POSITIVE_INFINITY),function(rt){return rt.lift(new MergeScanOperator(et,_e,tt))}}var MergeScanOperator=function(){function et(_e,tt,rt){this.accumulator=_e,this.seed=tt,this.concurrent=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new MergeScanSubscriber(_e,this.accumulator,this.seed,this.concurrent))},et}(),MergeScanSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.accumulator=rt,at.acc=nt,at.concurrent=it,at.hasValue=!1,at.hasCompleted=!1,at.buffer=[],at.active=0,at.index=0,at}return _e.prototype._next=function(tt){if(this.active<this.concurrent){var rt=this.index++,nt=this.destination,it=void 0;try{var at=this.accumulator;it=at(this.acc,tt,rt)}catch(st){return nt.error(st)}this.active++,this._innerSub(it)}else this.buffer.push(tt)},_e.prototype._innerSub=function(tt){var rt=new SimpleInnerSubscriber(this),nt=this.destination;nt.add(rt);var it=innerSubscribe(tt,rt);it!==rt&&nt.add(it)},_e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},_e.prototype.notifyNext=function(tt){var rt=this.destination;this.acc=tt,this.hasValue=!0,rt.next(tt)},_e.prototype.notifyComplete=function(){var tt=this.buffer;this.active--,tt.length>0?this._next(tt.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},_e}(SimpleOuterSubscriber);function min(et){var _e=typeof et=="function"?function(tt,rt){return et(tt,rt)<0?tt:rt}:function(tt,rt){return tt<rt?tt:rt};return reduce(_e)}function multicast(et,_e){return function(rt){var nt;if(typeof et=="function"?nt=et:nt=function(){return et},typeof _e=="function")return rt.lift(new MulticastOperator(nt,_e));var it=Object.create(rt,connectableObservableDescriptor);return it.source=rt,it.subjectFactory=nt,it}}var MulticastOperator=function(){function et(_e,tt){this.subjectFactory=_e,this.selector=tt}return et.prototype.call=function(_e,tt){var rt=this.selector,nt=this.subjectFactory(),it=rt(nt).subscribe(_e);return it.add(tt.subscribe(nt)),it},et}();function onErrorResumeNext(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return et.length===1&&isArray$7(et[0])&&(et=et[0]),function(tt){return tt.lift(new OnErrorResumeNextOperator(et))}}var OnErrorResumeNextOperator=function(){function et(_e){this.nextSources=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new OnErrorResumeNextSubscriber(_e,this.nextSources))},et}(),OnErrorResumeNextSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.destination=tt,nt.nextSources=rt,nt}return _e.prototype.notifyError=function(){this.subscribeToNextSource()},_e.prototype.notifyComplete=function(){this.subscribeToNextSource()},_e.prototype._error=function(tt){this.subscribeToNextSource(),this.unsubscribe()},_e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},_e.prototype.subscribeToNextSource=function(){var tt=this.nextSources.shift();if(tt){var rt=new SimpleInnerSubscriber(this),nt=this.destination;nt.add(rt);var it=innerSubscribe(tt,rt);it!==rt&&nt.add(it)}else this.destination.complete()},_e}(SimpleOuterSubscriber);function pairwise(){return function(et){return et.lift(new PairwiseOperator)}}var PairwiseOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new PairwiseSubscriber(_e))},et}(),PairwiseSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.hasPrev=!1,rt}return _e.prototype._next=function(tt){var rt;this.hasPrev?rt=[this.prev,tt]:this.hasPrev=!0,this.prev=tt,rt&&this.destination.next(rt)},_e}(Subscriber);function partition(et,_e){return function(tt){return[filter(et,_e)(tt),filter(not(et,_e))(tt)]}}function pluck(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=et.length;if(tt===0)throw new Error("list of properties cannot be empty.");return function(rt){return map(plucker(et,tt))(rt)}}function plucker(et,_e){var tt=function(rt){for(var nt=rt,it=0;it<_e;it++){var at=nt!=null?nt[et[it]]:void 0;if(at!==void 0)nt=at;else return}return nt};return tt}function publish(et){return et?multicast(function(){return new Subject},et):multicast(new Subject)}function publishBehavior(et){return function(_e){return multicast(new BehaviorSubject(et))(_e)}}function publishLast(){return function(et){return multicast(new AsyncSubject)(et)}}function publishReplay(et,_e,tt,rt){tt&&typeof tt!="function"&&(rt=tt);var nt=typeof tt=="function"?tt:void 0,it=new ReplaySubject(et,_e,rt);return function(at){return multicast(function(){return it},nt)(at)}}function race(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(rt){return et.length===1&&isArray$7(et[0])&&(et=et[0]),rt.lift.call(race$1.apply(void 0,[rt].concat(et)))}}function repeat(et){return et===void 0&&(et=-1),function(_e){return et===0?empty():et<0?_e.lift(new RepeatOperator(-1,_e)):_e.lift(new RepeatOperator(et-1,_e))}}var RepeatOperator=function(){function et(_e,tt){this.count=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new RepeatSubscriber(_e,this.count,this.source))},et}(),RepeatSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.count=rt,it.source=nt,it}return _e.prototype.complete=function(){if(!this.isStopped){var tt=this,rt=tt.source,nt=tt.count;if(nt===0)return et.prototype.complete.call(this);nt>-1&&(this.count=nt-1),rt.subscribe(this._unsubscribeAndRecycle())}},_e}(Subscriber);function repeatWhen(et){return function(_e){return _e.lift(new RepeatWhenOperator(et))}}var RepeatWhenOperator=function(){function et(_e){this.notifier=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new RepeatWhenSubscriber(_e,this.notifier,tt))},et}(),RepeatWhenSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.notifier=rt,it.source=nt,it.sourceIsBeingSubscribedTo=!0,it}return _e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},_e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return et.prototype.complete.call(this)},_e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return et.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},_e.prototype._unsubscribe=function(){var tt=this,rt=tt.notifications,nt=tt.retriesSubscription;rt&&(rt.unsubscribe(),this.notifications=void 0),nt&&(nt.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},_e.prototype._unsubscribeAndRecycle=function(){var tt=this._unsubscribe;return this._unsubscribe=null,et.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=tt,this},_e.prototype.subscribeToRetries=function(){this.notifications=new Subject;var tt;try{var rt=this.notifier;tt=rt(this.notifications)}catch{return et.prototype.complete.call(this)}this.retries=tt,this.retriesSubscription=innerSubscribe(tt,new SimpleInnerSubscriber(this))},_e}(SimpleOuterSubscriber);function retry(et){return et===void 0&&(et=-1),function(_e){return _e.lift(new RetryOperator(et,_e))}}var RetryOperator=function(){function et(_e,tt){this.count=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new RetrySubscriber(_e,this.count,this.source))},et}(),RetrySubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.count=rt,it.source=nt,it}return _e.prototype.error=function(tt){if(!this.isStopped){var rt=this,nt=rt.source,it=rt.count;if(it===0)return et.prototype.error.call(this,tt);it>-1&&(this.count=it-1),nt.subscribe(this._unsubscribeAndRecycle())}},_e}(Subscriber);function retryWhen(et){return function(_e){return _e.lift(new RetryWhenOperator(et,_e))}}var RetryWhenOperator=function(){function et(_e,tt){this.notifier=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new RetryWhenSubscriber(_e,this.notifier,this.source))},et}(),RetryWhenSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.notifier=rt,it.source=nt,it}return _e.prototype.error=function(tt){if(!this.isStopped){var rt=this.errors,nt=this.retries,it=this.retriesSubscription;if(nt)this.errors=void 0,this.retriesSubscription=void 0;else{rt=new Subject;try{var at=this.notifier;nt=at(rt)}catch(st){return et.prototype.error.call(this,st)}it=innerSubscribe(nt,new SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=rt,this.retries=nt,this.retriesSubscription=it,rt.next(tt)}},_e.prototype._unsubscribe=function(){var tt=this,rt=tt.errors,nt=tt.retriesSubscription;rt&&(rt.unsubscribe(),this.errors=void 0),nt&&(nt.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},_e.prototype.notifyNext=function(){var tt=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=tt,this.source.subscribe(this)},_e}(SimpleOuterSubscriber);function sample(et){return function(_e){return _e.lift(new SampleOperator(et))}}var SampleOperator=function(){function et(_e){this.notifier=_e}return et.prototype.call=function(_e,tt){var rt=new SampleSubscriber(_e),nt=tt.subscribe(rt);return nt.add(innerSubscribe(this.notifier,new SimpleInnerSubscriber(rt))),nt},et}(),SampleSubscriber=function(et){__extends(_e,et);function _e(){var tt=et!==null&&et.apply(this,arguments)||this;return tt.hasValue=!1,tt}return _e.prototype._next=function(tt){this.value=tt,this.hasValue=!0},_e.prototype.notifyNext=function(){this.emitValue()},_e.prototype.notifyComplete=function(){this.emitValue()},_e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},_e}(SimpleOuterSubscriber);function sampleTime(et,_e){return _e===void 0&&(_e=async),function(tt){return tt.lift(new SampleTimeOperator(et,_e))}}var SampleTimeOperator=function(){function et(_e,tt){this.period=_e,this.scheduler=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new SampleTimeSubscriber(_e,this.period,this.scheduler))},et}(),SampleTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.period=rt,it.scheduler=nt,it.hasValue=!1,it.add(nt.schedule(dispatchNotification,rt,{subscriber:it,period:rt})),it}return _e.prototype._next=function(tt){this.lastValue=tt,this.hasValue=!0},_e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},_e}(Subscriber);function dispatchNotification(et){var _e=et.subscriber,tt=et.period;_e.notifyNext(),this.schedule(et,tt)}function sequenceEqual(et,_e){return function(tt){return tt.lift(new SequenceEqualOperator(et,_e))}}var SequenceEqualOperator=function(){function et(_e,tt){this.compareTo=_e,this.comparator=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new SequenceEqualSubscriber(_e,this.compareTo,this.comparator))},et}(),SequenceEqualSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.compareTo=rt,it.comparator=nt,it._a=[],it._b=[],it._oneComplete=!1,it.destination.add(rt.subscribe(new SequenceEqualCompareToSubscriber(tt,it))),it}return _e.prototype._next=function(tt){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(tt),this.checkValues())},_e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},_e.prototype.checkValues=function(){for(var tt=this,rt=tt._a,nt=tt._b,it=tt.comparator;rt.length>0&&nt.length>0;){var at=rt.shift(),st=nt.shift(),ct=!1;try{ct=it?it(at,st):at===st}catch(ut){this.destination.error(ut)}ct||this.emit(!1)}},_e.prototype.emit=function(tt){var rt=this.destination;rt.next(tt),rt.complete()},_e.prototype.nextB=function(tt){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(tt),this.checkValues())},_e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},_e}(Subscriber),SequenceEqualCompareToSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.parent=rt,nt}return _e.prototype._next=function(tt){this.parent.nextB(tt)},_e.prototype._error=function(tt){this.parent.error(tt),this.unsubscribe()},_e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},_e}(Subscriber);function shareSubjectFactory(){return new Subject}function share(){return function(et){return refCount()(multicast(shareSubjectFactory)(et))}}function shareReplay(et,_e,tt){var rt;return et&&typeof et=="object"?rt=et:rt={bufferSize:et,windowTime:_e,refCount:!1,scheduler:tt},function(nt){return nt.lift(shareReplayOperator(rt))}}function shareReplayOperator(et){var _e=et.bufferSize,tt=_e===void 0?Number.POSITIVE_INFINITY:_e,rt=et.windowTime,nt=rt===void 0?Number.POSITIVE_INFINITY:rt,it=et.refCount,at=et.scheduler,st,ct=0,ut,ft=!1,gt=!1;return function(Et){ct++;var $t;!st||ft?(ft=!1,st=new ReplaySubject(tt,nt,at),$t=st.subscribe(this),ut=Et.subscribe({next:function(It){st.next(It)},error:function(It){ft=!0,st.error(It)},complete:function(){gt=!0,ut=void 0,st.complete()}}),gt&&(ut=void 0)):$t=st.subscribe(this),this.add(function(){ct--,$t.unsubscribe(),$t=void 0,ut&&!gt&&it&&ct===0&&(ut.unsubscribe(),ut=void 0,st=void 0)})}}function single(et){return function(_e){return _e.lift(new SingleOperator(et,_e))}}var SingleOperator=function(){function et(_e,tt){this.predicate=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new SingleSubscriber(_e,this.predicate,this.source))},et}(),SingleSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.predicate=rt,it.source=nt,it.seenValue=!1,it.index=0,it}return _e.prototype.applySingleValue=function(tt){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=tt)},_e.prototype._next=function(tt){var rt=this.index++;this.predicate?this.tryNext(tt,rt):this.applySingleValue(tt)},_e.prototype.tryNext=function(tt,rt){try{this.predicate(tt,rt,this.source)&&this.applySingleValue(tt)}catch(nt){this.destination.error(nt)}},_e.prototype._complete=function(){var tt=this.destination;this.index>0?(tt.next(this.seenValue?this.singleValue:void 0),tt.complete()):tt.error(new EmptyError)},_e}(Subscriber);function skip(et){return function(_e){return _e.lift(new SkipOperator(et))}}var SkipOperator=function(){function et(_e){this.total=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new SkipSubscriber(_e,this.total))},et}(),SkipSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.total=rt,nt.count=0,nt}return _e.prototype._next=function(tt){++this.count>this.total&&this.destination.next(tt)},_e}(Subscriber);function skipLast(et){return function(_e){return _e.lift(new SkipLastOperator(et))}}var SkipLastOperator=function(){function et(_e){if(this._skipCount=_e,this._skipCount<0)throw new ArgumentOutOfRangeError}return et.prototype.call=function(_e,tt){return this._skipCount===0?tt.subscribe(new Subscriber(_e)):tt.subscribe(new SkipLastSubscriber(_e,this._skipCount))},et}(),SkipLastSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt._skipCount=rt,nt._count=0,nt._ring=new Array(rt),nt}return _e.prototype._next=function(tt){var rt=this._skipCount,nt=this._count++;if(nt<rt)this._ring[nt]=tt;else{var it=nt%rt,at=this._ring,st=at[it];at[it]=tt,this.destination.next(st)}},_e}(Subscriber);function skipUntil(et){return function(_e){return _e.lift(new SkipUntilOperator(et))}}var SkipUntilOperator=function(){function et(_e){this.notifier=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new SkipUntilSubscriber(_e,this.notifier))},et}(),SkipUntilSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;nt.hasValue=!1;var it=new SimpleInnerSubscriber(nt);nt.add(it),nt.innerSubscription=it;var at=innerSubscribe(rt,it);return at!==it&&(nt.add(at),nt.innerSubscription=at),nt}return _e.prototype._next=function(tt){this.hasValue&&et.prototype._next.call(this,tt)},_e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},_e.prototype.notifyComplete=function(){},_e}(SimpleOuterSubscriber);function skipWhile(et){return function(_e){return _e.lift(new SkipWhileOperator(et))}}var SkipWhileOperator=function(){function et(_e){this.predicate=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new SkipWhileSubscriber(_e,this.predicate))},et}(),SkipWhileSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.predicate=rt,nt.skipping=!0,nt.index=0,nt}return _e.prototype._next=function(tt){var rt=this.destination;this.skipping&&this.tryCallPredicate(tt),this.skipping||rt.next(tt)},_e.prototype.tryCallPredicate=function(tt){try{var rt=this.predicate(tt,this.index++);this.skipping=Boolean(rt)}catch(nt){this.destination.error(nt)}},_e}(Subscriber);function startWith(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=et[et.length-1];return isScheduler(tt)?(et.pop(),function(rt){return concat$2(et,rt,tt)}):function(rt){return concat$2(et,rt)}}var SubscribeOnObservable=function(et){__extends(_e,et);function _e(tt,rt,nt){rt===void 0&&(rt=0),nt===void 0&&(nt=asap);var it=et.call(this)||this;return it.source=tt,it.delayTime=rt,it.scheduler=nt,(!isNumeric(rt)||rt<0)&&(it.delayTime=0),(!nt||typeof nt.schedule!="function")&&(it.scheduler=asap),it}return _e.create=function(tt,rt,nt){return rt===void 0&&(rt=0),nt===void 0&&(nt=asap),new _e(tt,rt,nt)},_e.dispatch=function(tt){var rt=tt.source,nt=tt.subscriber;return this.add(rt.subscribe(nt))},_e.prototype._subscribe=function(tt){var rt=this.delayTime,nt=this.source,it=this.scheduler;return it.schedule(_e.dispatch,rt,{source:nt,subscriber:tt})},_e}(Observable);function subscribeOn(et,_e){return _e===void 0&&(_e=0),function(rt){return rt.lift(new SubscribeOnOperator(et,_e))}}var SubscribeOnOperator=function(){function et(_e,tt){this.scheduler=_e,this.delay=tt}return et.prototype.call=function(_e,tt){return new SubscribeOnObservable(tt,this.delay,this.scheduler).subscribe(_e)},et}();function switchMap(et,_e){return typeof _e=="function"?function(tt){return tt.pipe(switchMap(function(rt,nt){return from$3(et(rt,nt)).pipe(map(function(it,at){return _e(rt,it,nt,at)}))}))}:function(tt){return tt.lift(new SwitchMapOperator(et))}}var SwitchMapOperator=function(){function et(_e){this.project=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new SwitchMapSubscriber(_e,this.project))},et}(),SwitchMapSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.project=rt,nt.index=0,nt}return _e.prototype._next=function(tt){var rt,nt=this.index++;try{rt=this.project(tt,nt)}catch(it){this.destination.error(it);return}this._innerSub(rt)},_e.prototype._innerSub=function(tt){var rt=this.innerSubscription;rt&&rt.unsubscribe();var nt=new SimpleInnerSubscriber(this),it=this.destination;it.add(nt),this.innerSubscription=innerSubscribe(tt,nt),this.innerSubscription!==nt&&it.add(this.innerSubscription)},_e.prototype._complete=function(){var tt=this.innerSubscription;(!tt||tt.closed)&&et.prototype._complete.call(this),this.unsubscribe()},_e.prototype._unsubscribe=function(){this.innerSubscription=void 0},_e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&et.prototype._complete.call(this)},_e.prototype.notifyNext=function(tt){this.destination.next(tt)},_e}(SimpleOuterSubscriber);function switchAll(){return switchMap(identity)}function switchMapTo(et,_e){return _e?switchMap(function(){return et},_e):switchMap(function(){return et})}function takeUntil(et){return function(_e){return _e.lift(new TakeUntilOperator(et))}}var TakeUntilOperator=function(){function et(_e){this.notifier=_e}return et.prototype.call=function(_e,tt){var rt=new TakeUntilSubscriber(_e),nt=innerSubscribe(this.notifier,new SimpleInnerSubscriber(rt));return nt&&!rt.seenValue?(rt.add(nt),tt.subscribe(rt)):rt},et}(),TakeUntilSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.seenValue=!1,rt}return _e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},_e.prototype.notifyComplete=function(){},_e}(SimpleOuterSubscriber);function takeWhile(et,_e){return _e===void 0&&(_e=!1),function(tt){return tt.lift(new TakeWhileOperator(et,_e))}}var TakeWhileOperator=function(){function et(_e,tt){this.predicate=_e,this.inclusive=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new TakeWhileSubscriber(_e,this.predicate,this.inclusive))},et}(),TakeWhileSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.predicate=rt,it.inclusive=nt,it.index=0,it}return _e.prototype._next=function(tt){var rt=this.destination,nt;try{nt=this.predicate(tt,this.index++)}catch(it){rt.error(it);return}this.nextOrComplete(tt,nt)},_e.prototype.nextOrComplete=function(tt,rt){var nt=this.destination;Boolean(rt)?nt.next(tt):(this.inclusive&&nt.next(tt),nt.complete())},_e}(Subscriber);function tap(et,_e,tt){return function(nt){return nt.lift(new DoOperator(et,_e,tt))}}var DoOperator=function(){function et(_e,tt,rt){this.nextOrObserver=_e,this.error=tt,this.complete=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new TapSubscriber(_e,this.nextOrObserver,this.error,this.complete))},et}(),TapSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at._tapNext=noop$3,at._tapError=noop$3,at._tapComplete=noop$3,at._tapError=nt||noop$3,at._tapComplete=it||noop$3,isFunction(rt)?(at._context=at,at._tapNext=rt):rt&&(at._context=rt,at._tapNext=rt.next||noop$3,at._tapError=rt.error||noop$3,at._tapComplete=rt.complete||noop$3),at}return _e.prototype._next=function(tt){try{this._tapNext.call(this._context,tt)}catch(rt){this.destination.error(rt);return}this.destination.next(tt)},_e.prototype._error=function(tt){try{this._tapError.call(this._context,tt)}catch(rt){this.destination.error(rt);return}this.destination.error(tt)},_e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(tt){this.destination.error(tt);return}return this.destination.complete()},_e}(Subscriber),defaultThrottleConfig={leading:!0,trailing:!1};function throttle(et,_e){return _e===void 0&&(_e=defaultThrottleConfig),function(tt){return tt.lift(new ThrottleOperator(et,!!_e.leading,!!_e.trailing))}}var ThrottleOperator=function(){function et(_e,tt,rt){this.durationSelector=_e,this.leading=tt,this.trailing=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ThrottleSubscriber(_e,this.durationSelector,this.leading,this.trailing))},et}(),ThrottleSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.destination=tt,at.durationSelector=rt,at._leading=nt,at._trailing=it,at._hasValue=!1,at}return _e.prototype._next=function(tt){this._hasValue=!0,this._sendValue=tt,this._throttled||(this._leading?this.send():this.throttle(tt))},_e.prototype.send=function(){var tt=this,rt=tt._hasValue,nt=tt._sendValue;rt&&(this.destination.next(nt),this.throttle(nt)),this._hasValue=!1,this._sendValue=void 0},_e.prototype.throttle=function(tt){var rt=this.tryDurationSelector(tt);rt&&this.add(this._throttled=innerSubscribe(rt,new SimpleInnerSubscriber(this)))},_e.prototype.tryDurationSelector=function(tt){try{return this.durationSelector(tt)}catch(rt){return this.destination.error(rt),null}},_e.prototype.throttlingDone=function(){var tt=this,rt=tt._throttled,nt=tt._trailing;rt&&rt.unsubscribe(),this._throttled=void 0,nt&&this.send()},_e.prototype.notifyNext=function(){this.throttlingDone()},_e.prototype.notifyComplete=function(){this.throttlingDone()},_e}(SimpleOuterSubscriber);function throttleTime(et,_e,tt){return _e===void 0&&(_e=async),tt===void 0&&(tt=defaultThrottleConfig),function(rt){return rt.lift(new ThrottleTimeOperator(et,_e,tt.leading,tt.trailing))}}var ThrottleTimeOperator=function(){function et(_e,tt,rt,nt){this.duration=_e,this.scheduler=tt,this.leading=rt,this.trailing=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ThrottleTimeSubscriber(_e,this.duration,this.scheduler,this.leading,this.trailing))},et}(),ThrottleTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var st=et.call(this,tt)||this;return st.duration=rt,st.scheduler=nt,st.leading=it,st.trailing=at,st._hasTrailingValue=!1,st._trailingValue=null,st}return _e.prototype._next=function(tt){this.throttled?this.trailing&&(this._trailingValue=tt,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.leading?this.destination.next(tt):this.trailing&&(this._trailingValue=tt,this._hasTrailingValue=!0))},_e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},_e.prototype.clearThrottle=function(){var tt=this.throttled;tt&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),tt.unsubscribe(),this.remove(tt),this.throttled=null)},_e}(Subscriber);function dispatchNext(et){var _e=et.subscriber;_e.clearThrottle()}function timeInterval(et){return et===void 0&&(et=async),function(_e){return defer(function(){return _e.pipe(scan(function(tt,rt){var nt=tt.current;return{value:rt,current:et.now(),last:nt}},{current:et.now(),value:void 0,last:void 0}),map(function(tt){var rt=tt.current,nt=tt.last,it=tt.value;return new TimeInterval(it,rt-nt)}))})}}var TimeInterval=function(){function et(_e,tt){this.value=_e,this.interval=tt}return et}();function timeoutWith(et,_e,tt){return tt===void 0&&(tt=async),function(rt){var nt=isDate$1(et),it=nt?+et-tt.now():Math.abs(et);return rt.lift(new TimeoutWithOperator(it,nt,_e,tt))}}var TimeoutWithOperator=function(){function et(_e,tt,rt,nt){this.waitFor=_e,this.absoluteTimeout=tt,this.withObservable=rt,this.scheduler=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new TimeoutWithSubscriber(_e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},et}(),TimeoutWithSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var st=et.call(this,tt)||this;return st.absoluteTimeout=rt,st.waitFor=nt,st.withObservable=it,st.scheduler=at,st.scheduleTimeout(),st}return _e.dispatchTimeout=function(tt){var rt=tt.withObservable;tt._unsubscribeAndRecycle(),tt.add(innerSubscribe(rt,new SimpleInnerSubscriber(tt)))},_e.prototype.scheduleTimeout=function(){var tt=this.action;tt?this.action=tt.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(_e.dispatchTimeout,this.waitFor,this))},_e.prototype._next=function(tt){this.absoluteTimeout||this.scheduleTimeout(),et.prototype._next.call(this,tt)},_e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},_e}(SimpleOuterSubscriber);function timeout$1(et,_e){return _e===void 0&&(_e=async),timeoutWith(et,throwError(new TimeoutError),_e)}function timestamp(et){return et===void 0&&(et=async),map(function(_e){return new Timestamp(_e,et.now())})}var Timestamp=function(){function et(_e,tt){this.value=_e,this.timestamp=tt}return et}();function toArrayReducer(et,_e,tt){return tt===0?[_e]:(et.push(_e),et)}function toArray(){return reduce(toArrayReducer,[])}function window$1(et){return function(tt){return tt.lift(new WindowOperator$1(et))}}var WindowOperator$1=function(){function et(_e){this.windowBoundaries=_e}return et.prototype.call=function(_e,tt){var rt=new WindowSubscriber$1(_e),nt=tt.subscribe(rt);return nt.closed||rt.add(innerSubscribe(this.windowBoundaries,new SimpleInnerSubscriber(rt))),nt},et}(),WindowSubscriber$1=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.window=new Subject,tt.next(rt.window),rt}return _e.prototype.notifyNext=function(){this.openWindow()},_e.prototype.notifyError=function(tt){this._error(tt)},_e.prototype.notifyComplete=function(){this._complete()},_e.prototype._next=function(tt){this.window.next(tt)},_e.prototype._error=function(tt){this.window.error(tt),this.destination.error(tt)},_e.prototype._complete=function(){this.window.complete(),this.destination.complete()},_e.prototype._unsubscribe=function(){this.window=null},_e.prototype.openWindow=function(){var tt=this.window;tt&&tt.complete();var rt=this.destination,nt=this.window=new Subject;rt.next(nt)},_e}(SimpleOuterSubscriber);function windowCount(et,_e){return _e===void 0&&(_e=0),function(rt){return rt.lift(new WindowCountOperator(et,_e))}}var WindowCountOperator=function(){function et(_e,tt){this.windowSize=_e,this.startWindowEvery=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new WindowCountSubscriber(_e,this.windowSize,this.startWindowEvery))},et}(),WindowCountSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.destination=tt,it.windowSize=rt,it.startWindowEvery=nt,it.windows=[new Subject],it.count=0,tt.next(it.windows[0]),it}return _e.prototype._next=function(tt){for(var rt=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,nt=this.destination,it=this.windowSize,at=this.windows,st=at.length,ct=0;ct<st&&!this.closed;ct++)at[ct].next(tt);var ut=this.count-it+1;if(ut>=0&&ut%rt===0&&!this.closed&&at.shift().complete(),++this.count%rt===0&&!this.closed){var ft=new Subject;at.push(ft),nt.next(ft)}},_e.prototype._error=function(tt){var rt=this.windows;if(rt)for(;rt.length>0&&!this.closed;)rt.shift().error(tt);this.destination.error(tt)},_e.prototype._complete=function(){var tt=this.windows;if(tt)for(;tt.length>0&&!this.closed;)tt.shift().complete();this.destination.complete()},_e.prototype._unsubscribe=function(){this.count=0,this.windows=null},_e}(Subscriber);function windowTime(et){var _e=async,tt=null,rt=Number.POSITIVE_INFINITY;return isScheduler(arguments[3])&&(_e=arguments[3]),isScheduler(arguments[2])?_e=arguments[2]:isNumeric(arguments[2])&&(rt=Number(arguments[2])),isScheduler(arguments[1])?_e=arguments[1]:isNumeric(arguments[1])&&(tt=Number(arguments[1])),function(it){return it.lift(new WindowTimeOperator(et,tt,rt,_e))}}var WindowTimeOperator=function(){function et(_e,tt,rt,nt){this.windowTimeSpan=_e,this.windowCreationInterval=tt,this.maxWindowSize=rt,this.scheduler=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new WindowTimeSubscriber(_e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},et}(),CountedSubject=function(et){__extends(_e,et);function _e(){var tt=et!==null&&et.apply(this,arguments)||this;return tt._numberOfNextedValues=0,tt}return _e.prototype.next=function(tt){this._numberOfNextedValues++,et.prototype.next.call(this,tt)},Object.defineProperty(_e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),_e}(Subject),WindowTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var st=et.call(this,tt)||this;st.destination=tt,st.windowTimeSpan=rt,st.windowCreationInterval=nt,st.maxWindowSize=it,st.scheduler=at,st.windows=[];var ct=st.openWindow();if(nt!==null&&nt>=0){var ut={subscriber:st,window:ct,context:null},ft={windowTimeSpan:rt,windowCreationInterval:nt,subscriber:st,scheduler:at};st.add(at.schedule(dispatchWindowClose,rt,ut)),st.add(at.schedule(dispatchWindowCreation,nt,ft))}else{var gt={subscriber:st,window:ct,windowTimeSpan:rt};st.add(at.schedule(dispatchWindowTimeSpanOnly,rt,gt))}return st}return _e.prototype._next=function(tt){for(var rt=this.windows,nt=rt.length,it=0;it<nt;it++){var at=rt[it];at.closed||(at.next(tt),at.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(at))}},_e.prototype._error=function(tt){for(var rt=this.windows;rt.length>0;)rt.shift().error(tt);this.destination.error(tt)},_e.prototype._complete=function(){for(var tt=this.windows;tt.length>0;){var rt=tt.shift();rt.closed||rt.complete()}this.destination.complete()},_e.prototype.openWindow=function(){var tt=new CountedSubject;this.windows.push(tt);var rt=this.destination;return rt.next(tt),tt},_e.prototype.closeWindow=function(tt){tt.complete();var rt=this.windows;rt.splice(rt.indexOf(tt),1)},_e}(Subscriber);function dispatchWindowTimeSpanOnly(et){var _e=et.subscriber,tt=et.windowTimeSpan,rt=et.window;rt&&_e.closeWindow(rt),et.window=_e.openWindow(),this.schedule(et,tt)}function dispatchWindowCreation(et){var _e=et.windowTimeSpan,tt=et.subscriber,rt=et.scheduler,nt=et.windowCreationInterval,it=tt.openWindow(),at=this,st={action:at,subscription:null},ct={subscriber:tt,window:it,context:st};st.subscription=rt.schedule(dispatchWindowClose,_e,ct),at.add(st.subscription),at.schedule(et,nt)}function dispatchWindowClose(et){var _e=et.subscriber,tt=et.window,rt=et.context;rt&&rt.action&&rt.subscription&&rt.action.remove(rt.subscription),_e.closeWindow(tt)}function windowToggle(et,_e){return function(tt){return tt.lift(new WindowToggleOperator(et,_e))}}var WindowToggleOperator=function(){function et(_e,tt){this.openings=_e,this.closingSelector=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new WindowToggleSubscriber(_e,this.openings,this.closingSelector))},et}(),WindowToggleSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.openings=rt,it.closingSelector=nt,it.contexts=[],it.add(it.openSubscription=subscribeToResult(it,rt,rt)),it}return _e.prototype._next=function(tt){var rt=this.contexts;if(rt)for(var nt=rt.length,it=0;it<nt;it++)rt[it].window.next(tt)},_e.prototype._error=function(tt){var rt=this.contexts;if(this.contexts=null,rt)for(var nt=rt.length,it=-1;++it<nt;){var at=rt[it];at.window.error(tt),at.subscription.unsubscribe()}et.prototype._error.call(this,tt)},_e.prototype._complete=function(){var tt=this.contexts;if(this.contexts=null,tt)for(var rt=tt.length,nt=-1;++nt<rt;){var it=tt[nt];it.window.complete(),it.subscription.unsubscribe()}et.prototype._complete.call(this)},_e.prototype._unsubscribe=function(){var tt=this.contexts;if(this.contexts=null,tt)for(var rt=tt.length,nt=-1;++nt<rt;){var it=tt[nt];it.window.unsubscribe(),it.subscription.unsubscribe()}},_e.prototype.notifyNext=function(tt,rt,nt,it,at){if(tt===this.openings){var st=void 0;try{var ct=this.closingSelector;st=ct(rt)}catch(Et){return this.error(Et)}var ut=new Subject,ft=new Subscription,gt={window:ut,subscription:ft};this.contexts.push(gt);var _t=subscribeToResult(this,st,gt);_t.closed?this.closeWindow(this.contexts.length-1):(_t.context=gt,ft.add(_t)),this.destination.next(ut)}else this.closeWindow(this.contexts.indexOf(tt))},_e.prototype.notifyError=function(tt){this.error(tt)},_e.prototype.notifyComplete=function(tt){tt!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(tt.context))},_e.prototype.closeWindow=function(tt){if(tt!==-1){var rt=this.contexts,nt=rt[tt],it=nt.window,at=nt.subscription;rt.splice(tt,1),it.complete(),at.unsubscribe()}},_e}(OuterSubscriber);function windowWhen(et){return function(tt){return tt.lift(new WindowOperator(et))}}var WindowOperator=function(){function et(_e){this.closingSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new WindowSubscriber(_e,this.closingSelector))},et}(),WindowSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.destination=tt,nt.closingSelector=rt,nt.openWindow(),nt}return _e.prototype.notifyNext=function(tt,rt,nt,it,at){this.openWindow(at)},_e.prototype.notifyError=function(tt){this._error(tt)},_e.prototype.notifyComplete=function(tt){this.openWindow(tt)},_e.prototype._next=function(tt){this.window.next(tt)},_e.prototype._error=function(tt){this.window.error(tt),this.destination.error(tt),this.unsubscribeClosingNotification()},_e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},_e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},_e.prototype.openWindow=function(tt){tt===void 0&&(tt=null),tt&&(this.remove(tt),tt.unsubscribe());var rt=this.window;rt&&rt.complete();var nt=this.window=new Subject;this.destination.next(nt);var it;try{var at=this.closingSelector;it=at()}catch(st){this.destination.error(st),this.window.error(st);return}this.add(this.closingNotification=subscribeToResult(this,it))},_e}(OuterSubscriber);function withLatestFrom(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(tt){var rt;typeof et[et.length-1]=="function"&&(rt=et.pop());var nt=et;return tt.lift(new WithLatestFromOperator(nt,rt))}}var WithLatestFromOperator=function(){function et(_e,tt){this.observables=_e,this.project=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new WithLatestFromSubscriber(_e,this.observables,this.project))},et}(),WithLatestFromSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;it.observables=rt,it.project=nt,it.toRespond=[];var at=rt.length;it.values=new Array(at);for(var st=0;st<at;st++)it.toRespond.push(st);for(var st=0;st<at;st++){var ct=rt[st];it.add(subscribeToResult(it,ct,void 0,st))}return it}return _e.prototype.notifyNext=function(tt,rt,nt){this.values[nt]=rt;var it=this.toRespond;if(it.length>0){var at=it.indexOf(nt);at!==-1&&it.splice(at,1)}},_e.prototype.notifyComplete=function(){},_e.prototype._next=function(tt){if(this.toRespond.length===0){var rt=[tt].concat(this.values);this.project?this._tryProject(rt):this.destination.next(rt)}},_e.prototype._tryProject=function(tt){var rt;try{rt=this.project.apply(this,tt)}catch(nt){this.destination.error(nt);return}this.destination.next(rt)},_e}(OuterSubscriber);function zip(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(rt){return rt.lift.call(zip$1.apply(void 0,[rt].concat(et)))}}function zipAll(et){return function(_e){return _e.lift(new ZipOperator(et))}}var operators=Object.freeze(Object.defineProperty({__proto__:null,audit,auditTime,buffer:buffer$1,bufferCount,bufferTime,bufferToggle,bufferWhen,catchError,combineAll,combineLatest,concat:concat$1,concatAll,concatMap,concatMapTo,count,debounce,debounceTime,defaultIfEmpty,delay,delayWhen,dematerialize,distinct,distinctUntilChanged,distinctUntilKeyChanged,elementAt,endWith,every,exhaust,exhaustMap,expand,filter,finalize,find,findIndex,first,groupBy,ignoreElements,isEmpty,last,map,mapTo,materialize,max,merge:merge$1,mergeAll,mergeMap,flatMap,mergeMapTo,mergeScan,min,multicast,observeOn,onErrorResumeNext,pairwise,partition,pluck,publish,publishBehavior,publishLast,publishReplay,race,reduce,repeat,repeatWhen,retry,retryWhen,refCount,sample,sampleTime,scan,sequenceEqual,share,shareReplay,single,skip,skipLast,skipUntil,skipWhile,startWith,subscribeOn,switchAll,switchMap,switchMapTo,take,takeLast,takeUntil,takeWhile,tap,throttle,throttleTime,throwIfEmpty,timeInterval,timeout:timeout$1,timeoutWith,timestamp,toArray,window:window$1,windowCount,windowTime,windowToggle,windowWhen,withLatestFrom,zip,zipAll},Symbol.toStringTag,{value:"Module"})),require$$3$2=getAugmentedNamespace(operators),util$5={},shams$1=function et(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var _e={},tt=Symbol("test"),rt=Object(tt);if(typeof tt=="string"||Object.prototype.toString.call(tt)!=="[object Symbol]"||Object.prototype.toString.call(rt)!=="[object Symbol]")return!1;var nt=42;_e[tt]=nt;for(tt in _e)return!1;if(typeof Object.keys=="function"&&Object.keys(_e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(_e).length!==0)return!1;var it=Object.getOwnPropertySymbols(_e);if(it.length!==1||it[0]!==tt||!Object.prototype.propertyIsEnumerable.call(_e,tt))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var at=Object.getOwnPropertyDescriptor(_e,tt);if(at.value!==nt||at.enumerable!==!0)return!1}return!0},origSymbol=typeof Symbol!="undefined"&&Symbol,hasSymbolSham=shams$1,hasSymbols$2=function et(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice$2=Array.prototype.slice,toStr$4=Object.prototype.toString,funcType="[object Function]",implementation$1=function et(_e){var tt=this;if(typeof tt!="function"||toStr$4.call(tt)!==funcType)throw new TypeError(ERROR_MESSAGE+tt);for(var rt=slice$2.call(arguments,1),nt,it=function(){if(this instanceof nt){var ft=tt.apply(this,rt.concat(slice$2.call(arguments)));return Object(ft)===ft?ft:this}else return tt.apply(_e,rt.concat(slice$2.call(arguments)))},at=Math.max(0,tt.length-rt.length),st=[],ct=0;ct<at;ct++)st.push("$"+ct);if(nt=Function("binder","return function ("+st.join(",")+"){ return binder.apply(this,arguments); }")(it),tt.prototype){var ut=function(){};ut.prototype=tt.prototype,nt.prototype=new ut,ut.prototype=null}return nt},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$2=functionBind,src=bind$2.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError$1=TypeError,getEvalledConstructor=function(et){try{return $Function('"use strict"; return ('+et+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$1},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$1=hasSymbols$2(),getProto$1=Object.getPrototypeOf||function(et){return et.__proto__},needsEval={},TypedArray=typeof Uint8Array=="undefined"?undefined$1:getProto$1(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError=="undefined"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics=="undefined"?undefined$1:Atomics,"%BigInt%":typeof BigInt=="undefined"?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array=="undefined"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map=="undefined"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!hasSymbols$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?undefined$1:Promise,"%Proxy%":typeof Proxy=="undefined"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!hasSymbols$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$1?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$1,"%Uint8Array%":typeof Uint8Array=="undefined"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?undefined$1:WeakSet},doEval=function et(_e){var tt;if(_e==="%AsyncFunction%")tt=getEvalledConstructor("async function () {}");else if(_e==="%GeneratorFunction%")tt=getEvalledConstructor("function* () {}");else if(_e==="%AsyncGeneratorFunction%")tt=getEvalledConstructor("async function* () {}");else if(_e==="%AsyncGenerator%"){var rt=et("%AsyncGeneratorFunction%");rt&&(tt=rt.prototype)}else if(_e==="%AsyncIteratorPrototype%"){var nt=et("%AsyncGenerator%");nt&&(tt=getProto$1(nt.prototype))}return INTRINSICS[_e]=tt,tt},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=functionBind,hasOwn$1=src,$concat$1=bind$1.call(Function.call,Array.prototype.concat),$spliceApply=bind$1.call(Function.apply,Array.prototype.splice),$replace$1=bind$1.call(Function.call,String.prototype.replace),$strSlice=bind$1.call(Function.call,String.prototype.slice),$exec=bind$1.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function et(_e){var tt=$strSlice(_e,0,1),rt=$strSlice(_e,-1);if(tt==="%"&&rt!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(rt==="%"&&tt!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var nt=[];return $replace$1(_e,rePropName,function(it,at,st,ct){nt[nt.length]=st?$replace$1(ct,reEscapeChar,"$1"):at||it}),nt},getBaseIntrinsic=function et(_e,tt){var rt=_e,nt;if(hasOwn$1(LEGACY_ALIASES,rt)&&(nt=LEGACY_ALIASES[rt],rt="%"+nt[0]+"%"),hasOwn$1(INTRINSICS,rt)){var it=INTRINSICS[rt];if(it===needsEval&&(it=doEval(rt)),typeof it=="undefined"&&!tt)throw new $TypeError$1("intrinsic "+_e+" exists, but is not available. Please file an issue!");return{alias:nt,name:rt,value:it}}throw new $SyntaxError("intrinsic "+_e+" does not exist!")},getIntrinsic=function et(_e,tt){if(typeof _e!="string"||_e.length===0)throw new $TypeError$1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof tt!="boolean")throw new $TypeError$1('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,_e)===null)throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var rt=stringToPath(_e),nt=rt.length>0?rt[0]:"",it=getBaseIntrinsic("%"+nt+"%",tt),at=it.name,st=it.value,ct=!1,ut=it.alias;ut&&(nt=ut[0],$spliceApply(rt,$concat$1([0,1],ut)));for(var ft=1,gt=!0;ft<rt.length;ft+=1){var _t=rt[ft],Et=$strSlice(_t,0,1),$t=$strSlice(_t,-1);if((Et==='"'||Et==="'"||Et==="`"||$t==='"'||$t==="'"||$t==="`")&&Et!==$t)throw new $SyntaxError("property names with quotes must have matching quotes");if((_t==="constructor"||!gt)&&(ct=!0),nt+="."+_t,at="%"+nt+"%",hasOwn$1(INTRINSICS,at))st=INTRINSICS[at];else if(st!=null){if(!(_t in st)){if(!tt)throw new $TypeError$1("base intrinsic for "+_e+" exists, but the property is not available.");return}if($gOPD$1&&ft+1>=rt.length){var It=$gOPD$1(st,_t);gt=!!It,gt&&"get"in It&&!("originalValue"in It.get)?st=It.get:st=st[_t]}else gt=hasOwn$1(st,_t),st=st[_t];gt&&!ct&&(INTRINSICS[at]=st)}}return st},callBind$1={exports:{}};(function(et){var _e=functionBind,tt=getIntrinsic,rt=tt("%Function.prototype.apply%"),nt=tt("%Function.prototype.call%"),it=tt("%Reflect.apply%",!0)||_e.call(nt,rt),at=tt("%Object.getOwnPropertyDescriptor%",!0),st=tt("%Object.defineProperty%",!0),ct=tt("%Math.max%");if(st)try{st({},"a",{value:1})}catch{st=null}et.exports=function(gt){var _t=it(_e,nt,arguments);if(at&&st){var Et=at(_t,"length");Et.configurable&&st(_t,"length",{value:1+ct(0,gt.length-(arguments.length-1))})}return _t};var ut=function(){return it(_e,rt,arguments)};st?st(et.exports,"apply",{value:ut}):et.exports.apply=ut})(callBind$1);var GetIntrinsic$2=getIntrinsic,callBind=callBind$1.exports,$indexOf$1=callBind(GetIntrinsic$2("String.prototype.indexOf")),callBound$4=function et(_e,tt){var rt=GetIntrinsic$2(_e,!!tt);return typeof rt=="function"&&$indexOf$1(_e,".prototype.")>-1?callBind(rt):rt},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$3$1=getAugmentedNamespace(__viteBrowserExternal$1),hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice$2=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols?"object":"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(et){return et.__proto__}:null);function addNumericSeparator(et,_e){if(et===1/0||et===-1/0||et!==et||et&&et>-1e3&&et<1e3||$test.call(/e/,_e))return _e;var tt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof et=="number"){var rt=et<0?-$floor(-et):$floor(et);if(rt!==et){var nt=String(rt),it=$slice$2.call(_e,nt.length+1);return $replace.call(nt,tt,"$&_")+"."+$replace.call($replace.call(it,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(_e,tt,"$&_")}var inspectCustom=require$$3$1.custom,inspectSymbol=inspectCustom&&isSymbol(inspectCustom)?inspectCustom:null,objectInspect=function et(_e,tt,rt,nt){var it=tt||{};if(has$3(it,"quoteStyle")&&it.quoteStyle!=="single"&&it.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$3(it,"maxStringLength")&&(typeof it.maxStringLength=="number"?it.maxStringLength<0&&it.maxStringLength!==1/0:it.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var at=has$3(it,"customInspect")?it.customInspect:!0;if(typeof at!="boolean"&&at!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$3(it,"indent")&&it.indent!==null&&it.indent!=="	"&&!(parseInt(it.indent,10)===it.indent&&it.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$3(it,"numericSeparator")&&typeof it.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var st=it.numericSeparator;if(typeof _e=="undefined")return"undefined";if(_e===null)return"null";if(typeof _e=="boolean")return _e?"true":"false";if(typeof _e=="string")return inspectString(_e,it);if(typeof _e=="number"){if(_e===0)return 1/0/_e>0?"0":"-0";var ct=String(_e);return st?addNumericSeparator(_e,ct):ct}if(typeof _e=="bigint"){var ut=String(_e)+"n";return st?addNumericSeparator(_e,ut):ut}var ft=typeof it.depth=="undefined"?5:it.depth;if(typeof rt=="undefined"&&(rt=0),rt>=ft&&ft>0&&typeof _e=="object")return isArray$6(_e)?"[Array]":"[Object]";var gt=getIndent(it,rt);if(typeof nt=="undefined")nt=[];else if(indexOf$1(nt,_e)>=0)return"[Circular]";function _t(ht,ot,dt){if(ot&&(nt=$arrSlice.call(nt),nt.push(ot)),dt){var mt={depth:it.depth};return has$3(it,"quoteStyle")&&(mt.quoteStyle=it.quoteStyle),et(ht,mt,rt+1,nt)}return et(ht,it,rt+1,nt)}if(typeof _e=="function"){var Et=nameOf(_e),$t=arrObjKeys(_e,_t);return"[Function"+(Et?": "+Et:" (anonymous)")+"]"+($t.length>0?" { "+$join.call($t,", ")+" }":"")}if(isSymbol(_e)){var It=hasShammedSymbols?$replace.call(String(_e),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(_e);return typeof _e=="object"&&!hasShammedSymbols?markBoxed(It):It}if(isElement(_e)){for(var Tt="<"+$toLowerCase.call(String(_e.nodeName)),At=_e.attributes||[],Rt=0;Rt<At.length;Rt++)Tt+=" "+At[Rt].name+"="+wrapQuotes(quote(At[Rt].value),"double",it);return Tt+=">",_e.childNodes&&_e.childNodes.length&&(Tt+="..."),Tt+="</"+$toLowerCase.call(String(_e.nodeName))+">",Tt}if(isArray$6(_e)){if(_e.length===0)return"[]";var kt=arrObjKeys(_e,_t);return gt&&!singleLineValues(kt)?"["+indentedJoin(kt,gt)+"]":"[ "+$join.call(kt,", ")+" ]"}if(isError(_e)){var Ot=arrObjKeys(_e,_t);return"cause"in _e&&!isEnumerable.call(_e,"cause")?"{ ["+String(_e)+"] "+$join.call($concat.call("[cause]: "+_t(_e.cause),Ot),", ")+" }":Ot.length===0?"["+String(_e)+"]":"{ ["+String(_e)+"] "+$join.call(Ot,", ")+" }"}if(typeof _e=="object"&&at){if(inspectSymbol&&typeof _e[inspectSymbol]=="function")return _e[inspectSymbol]();if(at!=="symbol"&&typeof _e.inspect=="function")return _e.inspect()}if(isMap(_e)){var Wt=[];return mapForEach.call(_e,function(ht,ot){Wt.push(_t(ot,_e,!0)+" => "+_t(ht,_e))}),collectionOf("Map",mapSize.call(_e),Wt,gt)}if(isSet(_e)){var zt=[];return setForEach.call(_e,function(ht){zt.push(_t(ht,_e))}),collectionOf("Set",setSize.call(_e),zt,gt)}if(isWeakMap(_e))return weakCollectionOf("WeakMap");if(isWeakSet(_e))return weakCollectionOf("WeakSet");if(isWeakRef(_e))return weakCollectionOf("WeakRef");if(isNumber(_e))return markBoxed(_t(Number(_e)));if(isBigInt(_e))return markBoxed(_t(bigIntValueOf.call(_e)));if(isBoolean(_e))return markBoxed(booleanValueOf.call(_e));if(isString(_e))return markBoxed(_t(String(_e)));if(!isDate(_e)&&!isRegExp$1(_e)){var Kt=arrObjKeys(_e,_t),Jt=gPO?gPO(_e)===Object.prototype:_e instanceof Object||_e.constructor===Object,ar=_e instanceof Object?"":"null prototype",jt=!Jt&&toStringTag&&Object(_e)===_e&&toStringTag in _e?$slice$2.call(toStr$3(_e),8,-1):ar?"Object":"",Ct=Jt||typeof _e.constructor!="function"?"":_e.constructor.name?_e.constructor.name+" ":"",Nt=Ct+(jt||ar?"["+$join.call($concat.call([],jt||[],ar||[]),": ")+"] ":"");return Kt.length===0?Nt+"{}":gt?Nt+"{"+indentedJoin(Kt,gt)+"}":Nt+"{ "+$join.call(Kt,", ")+" }"}return String(_e)};function wrapQuotes(et,_e,tt){var rt=(tt.quoteStyle||_e)==="double"?'"':"'";return rt+et+rt}function quote(et){return $replace.call(String(et),/"/g,"&quot;")}function isArray$6(et){return toStr$3(et)==="[object Array]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isDate(et){return toStr$3(et)==="[object Date]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isRegExp$1(et){return toStr$3(et)==="[object RegExp]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isError(et){return toStr$3(et)==="[object Error]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isString(et){return toStr$3(et)==="[object String]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isNumber(et){return toStr$3(et)==="[object Number]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isBoolean(et){return toStr$3(et)==="[object Boolean]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isSymbol(et){if(hasShammedSymbols)return et&&typeof et=="object"&&et instanceof Symbol;if(typeof et=="symbol")return!0;if(!et||typeof et!="object"||!symToString)return!1;try{return symToString.call(et),!0}catch{}return!1}function isBigInt(et){if(!et||typeof et!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(et),!0}catch{}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(et){return et in this};function has$3(et,_e){return hasOwn.call(et,_e)}function toStr$3(et){return objectToString.call(et)}function nameOf(et){if(et.name)return et.name;var _e=$match.call(functionToString.call(et),/^function\s*([\w$]+)/);return _e?_e[1]:null}function indexOf$1(et,_e){if(et.indexOf)return et.indexOf(_e);for(var tt=0,rt=et.length;tt<rt;tt++)if(et[tt]===_e)return tt;return-1}function isMap(et){if(!mapSize||!et||typeof et!="object")return!1;try{mapSize.call(et);try{setSize.call(et)}catch{return!0}return et instanceof Map}catch{}return!1}function isWeakMap(et){if(!weakMapHas||!et||typeof et!="object")return!1;try{weakMapHas.call(et,weakMapHas);try{weakSetHas.call(et,weakSetHas)}catch{return!0}return et instanceof WeakMap}catch{}return!1}function isWeakRef(et){if(!weakRefDeref||!et||typeof et!="object")return!1;try{return weakRefDeref.call(et),!0}catch{}return!1}function isSet(et){if(!setSize||!et||typeof et!="object")return!1;try{setSize.call(et);try{mapSize.call(et)}catch{return!0}return et instanceof Set}catch{}return!1}function isWeakSet(et){if(!weakSetHas||!et||typeof et!="object")return!1;try{weakSetHas.call(et,weakSetHas);try{weakMapHas.call(et,weakMapHas)}catch{return!0}return et instanceof WeakSet}catch{}return!1}function isElement(et){return!et||typeof et!="object"?!1:typeof HTMLElement!="undefined"&&et instanceof HTMLElement?!0:typeof et.nodeName=="string"&&typeof et.getAttribute=="function"}function inspectString(et,_e){if(et.length>_e.maxStringLength){var tt=et.length-_e.maxStringLength,rt="... "+tt+" more character"+(tt>1?"s":"");return inspectString($slice$2.call(et,0,_e.maxStringLength),_e)+rt}var nt=$replace.call($replace.call(et,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(nt,"single",_e)}function lowbyte(et){var _e=et.charCodeAt(0),tt={8:"b",9:"t",10:"n",12:"f",13:"r"}[_e];return tt?"\\"+tt:"\\x"+(_e<16?"0":"")+$toUpperCase.call(_e.toString(16))}function markBoxed(et){return"Object("+et+")"}function weakCollectionOf(et){return et+" { ? }"}function collectionOf(et,_e,tt,rt){var nt=rt?indentedJoin(tt,rt):$join.call(tt,", ");return et+" ("+_e+") {"+nt+"}"}function singleLineValues(et){for(var _e=0;_e<et.length;_e++)if(indexOf$1(et[_e],`
`)>=0)return!1;return!0}function getIndent(et,_e){var tt;if(et.indent==="	")tt="	";else if(typeof et.indent=="number"&&et.indent>0)tt=$join.call(Array(et.indent+1)," ");else return null;return{base:tt,prev:$join.call(Array(_e+1),tt)}}function indentedJoin(et,_e){if(et.length===0)return"";var tt=`
`+_e.prev+_e.base;return tt+$join.call(et,","+tt)+`
`+_e.prev}function arrObjKeys(et,_e){var tt=isArray$6(et),rt=[];if(tt){rt.length=et.length;for(var nt=0;nt<et.length;nt++)rt[nt]=has$3(et,nt)?_e(et[nt],et):""}var it=typeof gOPS=="function"?gOPS(et):[],at;if(hasShammedSymbols){at={};for(var st=0;st<it.length;st++)at["$"+it[st]]=it[st]}for(var ct in et)!has$3(et,ct)||tt&&String(Number(ct))===ct&&ct<et.length||hasShammedSymbols&&at["$"+ct]instanceof Symbol||($test.call(/[^\w$]/,ct)?rt.push(_e(ct,et)+": "+_e(et[ct],et)):rt.push(ct+": "+_e(et[ct],et)));if(typeof gOPS=="function")for(var ut=0;ut<it.length;ut++)isEnumerable.call(et,it[ut])&&rt.push("["+_e(it[ut])+"]: "+_e(et[it[ut]],et));return rt}var GetIntrinsic$1=getIntrinsic,callBound$3=callBound$4,inspect$1=objectInspect,$TypeError=GetIntrinsic$1("%TypeError%"),$WeakMap=GetIntrinsic$1("%WeakMap%",!0),$Map=GetIntrinsic$1("%Map%",!0),$weakMapGet=callBound$3("WeakMap.prototype.get",!0),$weakMapSet=callBound$3("WeakMap.prototype.set",!0),$weakMapHas=callBound$3("WeakMap.prototype.has",!0),$mapGet=callBound$3("Map.prototype.get",!0),$mapSet=callBound$3("Map.prototype.set",!0),$mapHas=callBound$3("Map.prototype.has",!0),listGetNode=function(et,_e){for(var tt=et,rt;(rt=tt.next)!==null;tt=rt)if(rt.key===_e)return tt.next=rt.next,rt.next=et.next,et.next=rt,rt},listGet=function(et,_e){var tt=listGetNode(et,_e);return tt&&tt.value},listSet=function(et,_e,tt){var rt=listGetNode(et,_e);rt?rt.value=tt:et.next={key:_e,next:et.next,value:tt}},listHas=function(et,_e){return!!listGetNode(et,_e)},sideChannel=function et(){var _e,tt,rt,nt={assert:function(it){if(!nt.has(it))throw new $TypeError("Side channel does not contain "+inspect$1(it))},get:function(it){if($WeakMap&&it&&(typeof it=="object"||typeof it=="function")){if(_e)return $weakMapGet(_e,it)}else if($Map){if(tt)return $mapGet(tt,it)}else if(rt)return listGet(rt,it)},has:function(it){if($WeakMap&&it&&(typeof it=="object"||typeof it=="function")){if(_e)return $weakMapHas(_e,it)}else if($Map){if(tt)return $mapHas(tt,it)}else if(rt)return listHas(rt,it);return!1},set:function(it,at){$WeakMap&&it&&(typeof it=="object"||typeof it=="function")?(_e||(_e=new $WeakMap),$weakMapSet(_e,it,at)):$Map?(tt||(tt=new $Map),$mapSet(tt,it,at)):(rt||(rt={key:{},next:null}),listSet(rt,it,at))}};return nt},replace$1=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$3={default:Format.RFC3986,formatters:{RFC1738:function(et){return replace$1.call(et,percentTwenties,"+")},RFC3986:function(et){return String(et)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$2=formats$3,has$2=Object.prototype.hasOwnProperty,isArray$5=Array.isArray,hexTable=function(){for(var et=[],_e=0;_e<256;++_e)et.push("%"+((_e<16?"0":"")+_e.toString(16)).toUpperCase());return et}(),compactQueue=function et(_e){for(;_e.length>1;){var tt=_e.pop(),rt=tt.obj[tt.prop];if(isArray$5(rt)){for(var nt=[],it=0;it<rt.length;++it)typeof rt[it]!="undefined"&&nt.push(rt[it]);tt.obj[tt.prop]=nt}}},arrayToObject=function et(_e,tt){for(var rt=tt&&tt.plainObjects?Object.create(null):{},nt=0;nt<_e.length;++nt)typeof _e[nt]!="undefined"&&(rt[nt]=_e[nt]);return rt},merge=function et(_e,tt,rt){if(!tt)return _e;if(typeof tt!="object"){if(isArray$5(_e))_e.push(tt);else if(_e&&typeof _e=="object")(rt&&(rt.plainObjects||rt.allowPrototypes)||!has$2.call(Object.prototype,tt))&&(_e[tt]=!0);else return[_e,tt];return _e}if(!_e||typeof _e!="object")return[_e].concat(tt);var nt=_e;return isArray$5(_e)&&!isArray$5(tt)&&(nt=arrayToObject(_e,rt)),isArray$5(_e)&&isArray$5(tt)?(tt.forEach(function(it,at){if(has$2.call(_e,at)){var st=_e[at];st&&typeof st=="object"&&it&&typeof it=="object"?_e[at]=et(st,it,rt):_e.push(it)}else _e[at]=it}),_e):Object.keys(tt).reduce(function(it,at){var st=tt[at];return has$2.call(it,at)?it[at]=et(it[at],st,rt):it[at]=st,it},nt)},assign$1=function et(_e,tt){return Object.keys(tt).reduce(function(rt,nt){return rt[nt]=tt[nt],rt},_e)},decode$1=function(et,_e,tt){var rt=et.replace(/\+/g," ");if(tt==="iso-8859-1")return rt.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(rt)}catch{return rt}},encode=function et(_e,tt,rt,nt,it){if(_e.length===0)return _e;var at=_e;if(typeof _e=="symbol"?at=Symbol.prototype.toString.call(_e):typeof _e!="string"&&(at=String(_e)),rt==="iso-8859-1")return escape(at).replace(/%u[0-9a-f]{4}/gi,function(ft){return"%26%23"+parseInt(ft.slice(2),16)+"%3B"});for(var st="",ct=0;ct<at.length;++ct){var ut=at.charCodeAt(ct);if(ut===45||ut===46||ut===95||ut===126||ut>=48&&ut<=57||ut>=65&&ut<=90||ut>=97&&ut<=122||it===formats$2.RFC1738&&(ut===40||ut===41)){st+=at.charAt(ct);continue}if(ut<128){st=st+hexTable[ut];continue}if(ut<2048){st=st+(hexTable[192|ut>>6]+hexTable[128|ut&63]);continue}if(ut<55296||ut>=57344){st=st+(hexTable[224|ut>>12]+hexTable[128|ut>>6&63]+hexTable[128|ut&63]);continue}ct+=1,ut=65536+((ut&1023)<<10|at.charCodeAt(ct)&1023),st+=hexTable[240|ut>>18]+hexTable[128|ut>>12&63]+hexTable[128|ut>>6&63]+hexTable[128|ut&63]}return st},compact=function et(_e){for(var tt=[{obj:{o:_e},prop:"o"}],rt=[],nt=0;nt<tt.length;++nt)for(var it=tt[nt],at=it.obj[it.prop],st=Object.keys(at),ct=0;ct<st.length;++ct){var ut=st[ct],ft=at[ut];typeof ft=="object"&&ft!==null&&rt.indexOf(ft)===-1&&(tt.push({obj:at,prop:ut}),rt.push(ft))}return compactQueue(tt),_e},isRegExp=function et(_e){return Object.prototype.toString.call(_e)==="[object RegExp]"},isBuffer=function et(_e){return!_e||typeof _e!="object"?!1:!!(_e.constructor&&_e.constructor.isBuffer&&_e.constructor.isBuffer(_e))},combine$1=function et(_e,tt){return[].concat(_e,tt)},maybeMap=function et(_e,tt){if(isArray$5(_e)){for(var rt=[],nt=0;nt<_e.length;nt+=1)rt.push(tt(_e[nt]));return rt}return tt(_e)},utils$4={arrayToObject,assign:assign$1,combine:combine$1,compact,decode:decode$1,encode,isBuffer,isRegExp,maybeMap,merge},getSideChannel=sideChannel,utils$3=utils$4,formats$1=formats$3,has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function et(_e){return _e+"[]"},comma:"comma",indices:function et(_e,tt){return _e+"["+tt+"]"},repeat:function et(_e){return _e}},isArray$4=Array.isArray,split=String.prototype.split,push=Array.prototype.push,pushToArray=function(et,_e){push.apply(et,isArray$4(_e)?_e:[_e])},toISO=Date.prototype.toISOString,defaultFormat=formats$1.default,defaults$1={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$3.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$1.formatters[defaultFormat],indices:!1,serializeDate:function et(_e){return toISO.call(_e)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function et(_e){return typeof _e=="string"||typeof _e=="number"||typeof _e=="boolean"||typeof _e=="symbol"||typeof _e=="bigint"},sentinel={},stringify$2=function et(_e,tt,rt,nt,it,at,st,ct,ut,ft,gt,_t,Et,$t,It){for(var Tt=_e,At=It,Rt=0,kt=!1;(At=At.get(sentinel))!==void 0&&!kt;){var Ot=At.get(_e);if(Rt+=1,typeof Ot!="undefined"){if(Ot===Rt)throw new RangeError("Cyclic object value");kt=!0}typeof At.get(sentinel)=="undefined"&&(Rt=0)}if(typeof st=="function"?Tt=st(tt,Tt):Tt instanceof Date?Tt=ft(Tt):rt==="comma"&&isArray$4(Tt)&&(Tt=utils$3.maybeMap(Tt,function(wt){return wt instanceof Date?ft(wt):wt})),Tt===null){if(nt)return at&&!Et?at(tt,defaults$1.encoder,$t,"key",gt):tt;Tt=""}if(isNonNullishPrimitive(Tt)||utils$3.isBuffer(Tt)){if(at){var Wt=Et?tt:at(tt,defaults$1.encoder,$t,"key",gt);if(rt==="comma"&&Et){for(var zt=split.call(String(Tt),","),Kt="",Jt=0;Jt<zt.length;++Jt)Kt+=(Jt===0?"":",")+_t(at(zt[Jt],defaults$1.encoder,$t,"value",gt));return[_t(Wt)+"="+Kt]}return[_t(Wt)+"="+_t(at(Tt,defaults$1.encoder,$t,"value",gt))]}return[_t(tt)+"="+_t(String(Tt))]}var ar=[];if(typeof Tt=="undefined")return ar;var jt;if(rt==="comma"&&isArray$4(Tt))jt=[{value:Tt.length>0?Tt.join(",")||null:void 0}];else if(isArray$4(st))jt=st;else{var Ct=Object.keys(Tt);jt=ct?Ct.sort(ct):Ct}for(var Nt=0;Nt<jt.length;++Nt){var ht=jt[Nt],ot=typeof ht=="object"&&typeof ht.value!="undefined"?ht.value:Tt[ht];if(!(it&&ot===null)){var dt=isArray$4(Tt)?typeof rt=="function"?rt(tt,ht):tt:tt+(ut?"."+ht:"["+ht+"]");It.set(_e,Rt);var mt=getSideChannel();mt.set(sentinel,It),pushToArray(ar,et(ot,dt,rt,nt,it,at,st,ct,ut,ft,gt,_t,Et,$t,mt))}}return ar},normalizeStringifyOptions=function et(_e){if(!_e)return defaults$1;if(_e.encoder!==null&&typeof _e.encoder!="undefined"&&typeof _e.encoder!="function")throw new TypeError("Encoder has to be a function.");var tt=_e.charset||defaults$1.charset;if(typeof _e.charset!="undefined"&&_e.charset!=="utf-8"&&_e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var rt=formats$1.default;if(typeof _e.format!="undefined"){if(!has$1.call(formats$1.formatters,_e.format))throw new TypeError("Unknown format option provided.");rt=_e.format}var nt=formats$1.formatters[rt],it=defaults$1.filter;return(typeof _e.filter=="function"||isArray$4(_e.filter))&&(it=_e.filter),{addQueryPrefix:typeof _e.addQueryPrefix=="boolean"?_e.addQueryPrefix:defaults$1.addQueryPrefix,allowDots:typeof _e.allowDots=="undefined"?defaults$1.allowDots:!!_e.allowDots,charset:tt,charsetSentinel:typeof _e.charsetSentinel=="boolean"?_e.charsetSentinel:defaults$1.charsetSentinel,delimiter:typeof _e.delimiter=="undefined"?defaults$1.delimiter:_e.delimiter,encode:typeof _e.encode=="boolean"?_e.encode:defaults$1.encode,encoder:typeof _e.encoder=="function"?_e.encoder:defaults$1.encoder,encodeValuesOnly:typeof _e.encodeValuesOnly=="boolean"?_e.encodeValuesOnly:defaults$1.encodeValuesOnly,filter:it,format:rt,formatter:nt,serializeDate:typeof _e.serializeDate=="function"?_e.serializeDate:defaults$1.serializeDate,skipNulls:typeof _e.skipNulls=="boolean"?_e.skipNulls:defaults$1.skipNulls,sort:typeof _e.sort=="function"?_e.sort:null,strictNullHandling:typeof _e.strictNullHandling=="boolean"?_e.strictNullHandling:defaults$1.strictNullHandling}},stringify_1=function(et,_e){var tt=et,rt=normalizeStringifyOptions(_e),nt,it;typeof rt.filter=="function"?(it=rt.filter,tt=it("",tt)):isArray$4(rt.filter)&&(it=rt.filter,nt=it);var at=[];if(typeof tt!="object"||tt===null)return"";var st;_e&&_e.arrayFormat in arrayPrefixGenerators?st=_e.arrayFormat:_e&&"indices"in _e?st=_e.indices?"indices":"repeat":st="indices";var ct=arrayPrefixGenerators[st];nt||(nt=Object.keys(tt)),rt.sort&&nt.sort(rt.sort);for(var ut=getSideChannel(),ft=0;ft<nt.length;++ft){var gt=nt[ft];rt.skipNulls&&tt[gt]===null||pushToArray(at,stringify$2(tt[gt],gt,ct,rt.strictNullHandling,rt.skipNulls,rt.encode?rt.encoder:null,rt.filter,rt.sort,rt.allowDots,rt.serializeDate,rt.format,rt.formatter,rt.encodeValuesOnly,rt.charset,ut))}var _t=at.join(rt.delimiter),Et=rt.addQueryPrefix===!0?"?":"";return rt.charsetSentinel&&(rt.charset==="iso-8859-1"?Et+="utf8=%26%2310003%3B&":Et+="utf8=%E2%9C%93&"),_t.length>0?Et+_t:""},utils$2=utils$4,has=Object.prototype.hasOwnProperty,isArray$3=Array.isArray,defaults={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils$2.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(et){return et.replace(/&#(\d+);/g,function(_e,tt){return String.fromCharCode(parseInt(tt,10))})},parseArrayValue=function(et,_e){return et&&typeof et=="string"&&_e.comma&&et.indexOf(",")>-1?et.split(","):et},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function et(_e,tt){var rt={},nt=tt.ignoreQueryPrefix?_e.replace(/^\?/,""):_e,it=tt.parameterLimit===1/0?void 0:tt.parameterLimit,at=nt.split(tt.delimiter,it),st=-1,ct,ut=tt.charset;if(tt.charsetSentinel)for(ct=0;ct<at.length;++ct)at[ct].indexOf("utf8=")===0&&(at[ct]===charsetSentinel?ut="utf-8":at[ct]===isoSentinel&&(ut="iso-8859-1"),st=ct,ct=at.length);for(ct=0;ct<at.length;++ct)if(ct!==st){var ft=at[ct],gt=ft.indexOf("]="),_t=gt===-1?ft.indexOf("="):gt+1,Et,$t;_t===-1?(Et=tt.decoder(ft,defaults.decoder,ut,"key"),$t=tt.strictNullHandling?null:""):(Et=tt.decoder(ft.slice(0,_t),defaults.decoder,ut,"key"),$t=utils$2.maybeMap(parseArrayValue(ft.slice(_t+1),tt),function(It){return tt.decoder(It,defaults.decoder,ut,"value")})),$t&&tt.interpretNumericEntities&&ut==="iso-8859-1"&&($t=interpretNumericEntities($t)),ft.indexOf("[]=")>-1&&($t=isArray$3($t)?[$t]:$t),has.call(rt,Et)?rt[Et]=utils$2.combine(rt[Et],$t):rt[Et]=$t}return rt},parseObject=function(et,_e,tt,rt){for(var nt=rt?_e:parseArrayValue(_e,tt),it=et.length-1;it>=0;--it){var at,st=et[it];if(st==="[]"&&tt.parseArrays)at=[].concat(nt);else{at=tt.plainObjects?Object.create(null):{};var ct=st.charAt(0)==="["&&st.charAt(st.length-1)==="]"?st.slice(1,-1):st,ut=parseInt(ct,10);!tt.parseArrays&&ct===""?at={0:nt}:!isNaN(ut)&&st!==ct&&String(ut)===ct&&ut>=0&&tt.parseArrays&&ut<=tt.arrayLimit?(at=[],at[ut]=nt):ct!=="__proto__"&&(at[ct]=nt)}nt=at}return nt},parseKeys=function et(_e,tt,rt,nt){if(!!_e){var it=rt.allowDots?_e.replace(/\.([^.[]+)/g,"[$1]"):_e,at=/(\[[^[\]]*])/,st=/(\[[^[\]]*])/g,ct=rt.depth>0&&at.exec(it),ut=ct?it.slice(0,ct.index):it,ft=[];if(ut){if(!rt.plainObjects&&has.call(Object.prototype,ut)&&!rt.allowPrototypes)return;ft.push(ut)}for(var gt=0;rt.depth>0&&(ct=st.exec(it))!==null&&gt<rt.depth;){if(gt+=1,!rt.plainObjects&&has.call(Object.prototype,ct[1].slice(1,-1))&&!rt.allowPrototypes)return;ft.push(ct[1])}return ct&&ft.push("["+it.slice(ct.index)+"]"),parseObject(ft,tt,rt,nt)}},normalizeParseOptions=function et(_e){if(!_e)return defaults;if(_e.decoder!==null&&_e.decoder!==void 0&&typeof _e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _e.charset!="undefined"&&_e.charset!=="utf-8"&&_e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var tt=typeof _e.charset=="undefined"?defaults.charset:_e.charset;return{allowDots:typeof _e.allowDots=="undefined"?defaults.allowDots:!!_e.allowDots,allowPrototypes:typeof _e.allowPrototypes=="boolean"?_e.allowPrototypes:defaults.allowPrototypes,allowSparse:typeof _e.allowSparse=="boolean"?_e.allowSparse:defaults.allowSparse,arrayLimit:typeof _e.arrayLimit=="number"?_e.arrayLimit:defaults.arrayLimit,charset:tt,charsetSentinel:typeof _e.charsetSentinel=="boolean"?_e.charsetSentinel:defaults.charsetSentinel,comma:typeof _e.comma=="boolean"?_e.comma:defaults.comma,decoder:typeof _e.decoder=="function"?_e.decoder:defaults.decoder,delimiter:typeof _e.delimiter=="string"||utils$2.isRegExp(_e.delimiter)?_e.delimiter:defaults.delimiter,depth:typeof _e.depth=="number"||_e.depth===!1?+_e.depth:defaults.depth,ignoreQueryPrefix:_e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _e.interpretNumericEntities=="boolean"?_e.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:typeof _e.parameterLimit=="number"?_e.parameterLimit:defaults.parameterLimit,parseArrays:_e.parseArrays!==!1,plainObjects:typeof _e.plainObjects=="boolean"?_e.plainObjects:defaults.plainObjects,strictNullHandling:typeof _e.strictNullHandling=="boolean"?_e.strictNullHandling:defaults.strictNullHandling}},parse$2=function(et,_e){var tt=normalizeParseOptions(_e);if(et===""||et===null||typeof et=="undefined")return tt.plainObjects?Object.create(null):{};for(var rt=typeof et=="string"?parseValues(et,tt):et,nt=tt.plainObjects?Object.create(null):{},it=Object.keys(rt),at=0;at<it.length;++at){var st=it[at],ct=parseKeys(st,rt[st],tt,typeof et=="string");nt=utils$2.merge(nt,ct,tt)}return tt.allowSparse===!0?nt:utils$2.compact(nt)},stringify$1=stringify_1,parse$1=parse$2,formats=formats$3,lib$1={formats,parse:parse$1,stringify:stringify$1},types$2={};Object.defineProperty(types$2,"__esModule",{value:!0});types$2.RegExpString=types$2.IntNumber=types$2.BigIntString=types$2.AddressString=types$2.HexString=types$2.OpaqueType=void 0;function OpaqueType(){return et=>et}types$2.OpaqueType=OpaqueType;types$2.HexString=OpaqueType();types$2.AddressString=OpaqueType();types$2.BigIntString=OpaqueType();function IntNumber(et){return Math.floor(et)}types$2.IntNumber=IntNumber;types$2.RegExpString=OpaqueType();var __importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(util$5,"__esModule",{value:!0});util$5.createQrUrl=util$5.getFavicon=util$5.range=util$5.isBigNumber=util$5.ensureParsedJSONObject=util$5.ensureBN=util$5.ensureRegExpString=util$5.ensureIntNumber=util$5.ensureBuffer=util$5.ensureAddressString=util$5.ensureEvenLengthHexString=util$5.ensureHexString=util$5.isHexString=util$5.prepend0x=util$5.strip0x=util$5.has0xPrefix=util$5.hexStringFromIntNumber=util$5.intNumberFromHexString=util$5.bigIntStringFromBN=util$5.hexStringFromBuffer=util$5.hexStringToUint8Array=util$5.uint8ArrayToHex=util$5.randomBytesHex=void 0;const bn_js_1$1=__importDefault$7(bn$1.exports),qs_1=lib$1,types_1$2=types$2,INT_STRING_REGEX=/^[0-9]*$/,HEXADECIMAL_STRING_REGEX=/^[a-f0-9]*$/;function randomBytesHex(et){return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(et)))}util$5.randomBytesHex=randomBytesHex;function uint8ArrayToHex(et){return[...et].map(_e=>_e.toString(16).padStart(2,"0")).join("")}util$5.uint8ArrayToHex=uint8ArrayToHex;function hexStringToUint8Array(et){return new Uint8Array(et.match(/.{1,2}/g).map(_e=>parseInt(_e,16)))}util$5.hexStringToUint8Array=hexStringToUint8Array;function hexStringFromBuffer(et,_e=!1){const tt=et.toString("hex");return(0,types_1$2.HexString)(_e?"0x"+tt:tt)}util$5.hexStringFromBuffer=hexStringFromBuffer;function bigIntStringFromBN(et){return(0,types_1$2.BigIntString)(et.toString(10))}util$5.bigIntStringFromBN=bigIntStringFromBN;function intNumberFromHexString(et){return(0,types_1$2.IntNumber)(new bn_js_1$1.default(ensureEvenLengthHexString(et,!1),16).toNumber())}util$5.intNumberFromHexString=intNumberFromHexString;function hexStringFromIntNumber(et){return(0,types_1$2.HexString)("0x"+new bn_js_1$1.default(et).toString(16))}util$5.hexStringFromIntNumber=hexStringFromIntNumber;function has0xPrefix(et){return et.startsWith("0x")||et.startsWith("0X")}util$5.has0xPrefix=has0xPrefix;function strip0x(et){return has0xPrefix(et)?et.slice(2):et}util$5.strip0x=strip0x;function prepend0x(et){return has0xPrefix(et)?"0x"+et.slice(2):"0x"+et}util$5.prepend0x=prepend0x;function isHexString$3(et){if(typeof et!="string")return!1;const _e=strip0x(et).toLowerCase();return HEXADECIMAL_STRING_REGEX.test(_e)}util$5.isHexString=isHexString$3;function ensureHexString(et,_e=!1){if(typeof et=="string"){const tt=strip0x(et).toLowerCase();if(HEXADECIMAL_STRING_REGEX.test(tt))return(0,types_1$2.HexString)(_e?"0x"+tt:tt)}throw new Error(`"${String(et)}" is not a hexadecimal string`)}util$5.ensureHexString=ensureHexString;function ensureEvenLengthHexString(et,_e=!1){let tt=ensureHexString(et,!1);return tt.length%2===1&&(tt=(0,types_1$2.HexString)("0"+tt)),_e?(0,types_1$2.HexString)("0x"+tt):tt}util$5.ensureEvenLengthHexString=ensureEvenLengthHexString;function ensureAddressString(et){if(typeof et=="string"){const _e=strip0x(et).toLowerCase();if(isHexString$3(_e)&&_e.length===40)return(0,types_1$2.AddressString)(prepend0x(_e))}throw new Error(`Invalid Ethereum address: ${String(et)}`)}util$5.ensureAddressString=ensureAddressString;function ensureBuffer(et){if(Buffer.isBuffer(et))return et;if(typeof et=="string")if(isHexString$3(et)){const _e=ensureEvenLengthHexString(et,!1);return Buffer.from(_e,"hex")}else return Buffer.from(et,"utf8");throw new Error(`Not binary data: ${String(et)}`)}util$5.ensureBuffer=ensureBuffer;function ensureIntNumber(et){if(typeof et=="number"&&Number.isInteger(et))return(0,types_1$2.IntNumber)(et);if(typeof et=="string"){if(INT_STRING_REGEX.test(et))return(0,types_1$2.IntNumber)(Number(et));if(isHexString$3(et))return(0,types_1$2.IntNumber)(new bn_js_1$1.default(ensureEvenLengthHexString(et,!1),16).toNumber())}throw new Error(`Not an integer: ${String(et)}`)}util$5.ensureIntNumber=ensureIntNumber;function ensureRegExpString(et){if(et instanceof RegExp)return(0,types_1$2.RegExpString)(et.toString());throw new Error(`Not a RegExp: ${String(et)}`)}util$5.ensureRegExpString=ensureRegExpString;function ensureBN(et){if(et!==null&&(bn_js_1$1.default.isBN(et)||isBigNumber(et)))return new bn_js_1$1.default(et.toString(10),10);if(typeof et=="number")return new bn_js_1$1.default(ensureIntNumber(et));if(typeof et=="string"){if(INT_STRING_REGEX.test(et))return new bn_js_1$1.default(et,10);if(isHexString$3(et))return new bn_js_1$1.default(ensureEvenLengthHexString(et,!1),16)}throw new Error(`Not an integer: ${String(et)}`)}util$5.ensureBN=ensureBN;function ensureParsedJSONObject(et){if(typeof et=="string")return JSON.parse(et);if(typeof et=="object")return et;throw new Error(`Not a JSON string or an object: ${String(et)}`)}util$5.ensureParsedJSONObject=ensureParsedJSONObject;function isBigNumber(et){if(et==null||typeof et.constructor!="function")return!1;const{constructor:_e}=et;return typeof _e.config=="function"&&typeof _e.EUCLID=="number"}util$5.isBigNumber=isBigNumber;function range(et,_e){return Array.from({length:_e-et},(tt,rt)=>et+rt)}util$5.range=range;function getFavicon(){const et=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:_e,host:tt}=document.location,rt=et?et.getAttribute("href"):null;return!rt||rt.startsWith("javascript:")?null:rt.startsWith("http://")||rt.startsWith("https://")||rt.startsWith("data:")?rt:rt.startsWith("//")?_e+rt:`${_e}//${tt}${rt}`}util$5.getFavicon=getFavicon;function createQrUrl(et,_e,tt,rt){const nt=rt?"parent-id":"id",it=(0,qs_1.stringify)({[nt]:et,secret:_e,server:tt,v:"1"});return`${tt}/#/link?${it}`}util$5.createQrUrl=createQrUrl;Object.defineProperty(Session$1,"__esModule",{value:!0});Session$1.Session=void 0;const js_sha256_1=sha256.exports,rxjs_1$4=require$$2$1,operators_1$2=require$$3$2,util_1$7=util$5,STORAGE_KEY_SESSION_ID="session:id",STORAGE_KEY_SESSION_SECRET="session:secret",STORAGE_KEY_SESSION_LINKED="session:linked";class Session{constructor(_e,tt,rt,nt){this._storage=_e,this._id=tt||(0,util_1$7.randomBytesHex)(16),this._secret=rt||(0,util_1$7.randomBytesHex)(32);const it=js_sha256_1.sha256.create();it.update(`${this._id}, ${this._secret} WalletLink`),this._key=it.hex(),this._linked=!!nt}static load(_e){const tt=_e.getItem(STORAGE_KEY_SESSION_ID),rt=_e.getItem(STORAGE_KEY_SESSION_LINKED),nt=_e.getItem(STORAGE_KEY_SESSION_SECRET);return tt&&nt?new Session(_e,tt,nt,rt==="1"):null}static get persistedSessionIdChange$(){return(0,rxjs_1$4.fromEvent)(window,"storage").pipe((0,operators_1$2.filter)(_e=>_e.key===STORAGE_KEY_SESSION_ID),(0,operators_1$2.map)(_e=>({oldValue:_e.oldValue||null,newValue:_e.newValue||null})))}static hash(_e){return js_sha256_1.sha256.create().update(_e).hex()}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(_e){this._linked=_e,this.persistLinked()}save(){return this._storage.setItem(STORAGE_KEY_SESSION_ID,this._id),this._storage.setItem(STORAGE_KEY_SESSION_SECRET,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(STORAGE_KEY_SESSION_LINKED,this._linked?"1":"0")}}Session$1.Session=Session;var WalletSDKRelayAbstract$1={};Object.defineProperty(WalletSDKRelayAbstract$1,"__esModule",{value:!0});WalletSDKRelayAbstract$1.WalletSDKRelayAbstract=WalletSDKRelayAbstract$1.APP_VERSION_KEY=WalletSDKRelayAbstract$1.LOCAL_STORAGE_ADDRESSES_KEY=WalletSDKRelayAbstract$1.WALLET_USER_NAME_KEY=void 0;const eth_rpc_errors_1$3=dist$1;WalletSDKRelayAbstract$1.WALLET_USER_NAME_KEY="walletUsername";WalletSDKRelayAbstract$1.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";WalletSDKRelayAbstract$1.APP_VERSION_KEY="AppVersion";class WalletSDKRelayAbstract{async makeEthereumJSONRPCRequest(_e,tt){if(!tt)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(tt,{method:"POST",body:JSON.stringify(_e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(rt=>rt.json()).then(rt=>{if(!rt)throw eth_rpc_errors_1$3.ethErrors.rpc.parse({});const nt=rt,{error:it}=nt;if(it)throw(0,eth_rpc_errors_1$3.serializeError)(it);return nt})}}WalletSDKRelayAbstract$1.WalletSDKRelayAbstract=WalletSDKRelayAbstract;var readableBrowser={exports:{}},streamBrowser=events.exports.EventEmitter;function ownKeys(et,_e){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(et);_e&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(et,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(tt),!0).forEach(function(rt){_defineProperty$1(et,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):ownKeys(Object(tt)).forEach(function(rt){Object.defineProperty(et,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return et}function _defineProperty$1(et,_e,tt){return _e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function _classCallCheck(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(et,_e){for(var tt=0;tt<_e.length;tt++){var rt=_e[tt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(et,rt.key,rt)}}function _createClass(et,_e,tt){return _e&&_defineProperties(et.prototype,_e),tt&&_defineProperties(et,tt),et}var _require$2=buffer$2,Buffer$6=_require$2.Buffer,_require2=require$$3$1,inspect=_require2.inspect,custom=inspect&&inspect.custom||"inspect";function copyBuffer(et,_e,tt){Buffer$6.prototype.copy.call(et,_e,tt)}var buffer_list=function(){function et(){_classCallCheck(this,et),this.head=null,this.tail=null,this.length=0}return _createClass(et,[{key:"push",value:function(tt){var rt={data:tt,next:null};this.length>0?this.tail.next=rt:this.head=rt,this.tail=rt,++this.length}},{key:"unshift",value:function(tt){var rt={data:tt,next:this.head};this.length===0&&(this.tail=rt),this.head=rt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var tt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,tt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(tt){if(this.length===0)return"";for(var rt=this.head,nt=""+rt.data;rt=rt.next;)nt+=tt+rt.data;return nt}},{key:"concat",value:function(tt){if(this.length===0)return Buffer$6.alloc(0);for(var rt=Buffer$6.allocUnsafe(tt>>>0),nt=this.head,it=0;nt;)copyBuffer(nt.data,rt,it),it+=nt.data.length,nt=nt.next;return rt}},{key:"consume",value:function(tt,rt){var nt;return tt<this.head.data.length?(nt=this.head.data.slice(0,tt),this.head.data=this.head.data.slice(tt)):tt===this.head.data.length?nt=this.shift():nt=rt?this._getString(tt):this._getBuffer(tt),nt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(tt){var rt=this.head,nt=1,it=rt.data;for(tt-=it.length;rt=rt.next;){var at=rt.data,st=tt>at.length?at.length:tt;if(st===at.length?it+=at:it+=at.slice(0,tt),tt-=st,tt===0){st===at.length?(++nt,rt.next?this.head=rt.next:this.head=this.tail=null):(this.head=rt,rt.data=at.slice(st));break}++nt}return this.length-=nt,it}},{key:"_getBuffer",value:function(tt){var rt=Buffer$6.allocUnsafe(tt),nt=this.head,it=1;for(nt.data.copy(rt),tt-=nt.data.length;nt=nt.next;){var at=nt.data,st=tt>at.length?at.length:tt;if(at.copy(rt,rt.length-tt,0,st),tt-=st,tt===0){st===at.length?(++it,nt.next?this.head=nt.next:this.head=this.tail=null):(this.head=nt,nt.data=at.slice(st));break}++it}return this.length-=it,rt}},{key:custom,value:function(tt,rt){return inspect(this,_objectSpread({},rt,{depth:0,customInspect:!1}))}}]),et}();function destroy(et,_e){var tt=this,rt=this._readableState&&this._readableState.destroyed,nt=this._writableState&&this._writableState.destroyed;return rt||nt?(_e?_e(et):et&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,et)):process.nextTick(emitErrorNT,this,et)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(et||null,function(it){!_e&&it?tt._writableState?tt._writableState.errorEmitted?process.nextTick(emitCloseNT,tt):(tt._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,tt,it)):process.nextTick(emitErrorAndCloseNT,tt,it):_e?(process.nextTick(emitCloseNT,tt),_e(it)):process.nextTick(emitCloseNT,tt)}),this)}function emitErrorAndCloseNT(et,_e){emitErrorNT(et,_e),emitCloseNT(et)}function emitCloseNT(et){et._writableState&&!et._writableState.emitClose||et._readableState&&!et._readableState.emitClose||et.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(et,_e){et.emit("error",_e)}function errorOrDestroy$2(et,_e){var tt=et._readableState,rt=et._writableState;tt&&tt.autoDestroy||rt&&rt.autoDestroy?et.destroy(_e):et.emit("error",_e)}var destroy_1={destroy,undestroy,errorOrDestroy:errorOrDestroy$2},errorsBrowser={};function _inheritsLoose(et,_e){et.prototype=Object.create(_e.prototype),et.prototype.constructor=et,et.__proto__=_e}var codes={};function createErrorType(et,_e,tt){tt||(tt=Error);function rt(it,at,st){return typeof _e=="string"?_e:_e(it,at,st)}var nt=function(it){_inheritsLoose(at,it);function at(st,ct,ut){return it.call(this,rt(st,ct,ut))||this}return at}(tt);nt.prototype.name=tt.name,nt.prototype.code=et,codes[et]=nt}function oneOf(et,_e){if(Array.isArray(et)){var tt=et.length;return et=et.map(function(rt){return String(rt)}),tt>2?"one of ".concat(_e," ").concat(et.slice(0,tt-1).join(", "),", or ")+et[tt-1]:tt===2?"one of ".concat(_e," ").concat(et[0]," or ").concat(et[1]):"of ".concat(_e," ").concat(et[0])}else return"of ".concat(_e," ").concat(String(et))}function startsWith(et,_e,tt){return et.substr(!tt||tt<0?0:+tt,_e.length)===_e}function endsWith(et,_e,tt){return(tt===void 0||tt>et.length)&&(tt=et.length),et.substring(tt-_e.length,tt)===_e}function includes(et,_e,tt){return typeof tt!="number"&&(tt=0),tt+_e.length>et.length?!1:et.indexOf(_e,tt)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(et,_e){return'The value "'+_e+'" is invalid for option "'+et+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(et,_e,tt){var rt;typeof _e=="string"&&startsWith(_e,"not ")?(rt="must not be",_e=_e.replace(/^not /,"")):rt="must be";var nt;if(endsWith(et," argument"))nt="The ".concat(et," ").concat(rt," ").concat(oneOf(_e,"type"));else{var it=includes(et,".")?"property":"argument";nt='The "'.concat(et,'" ').concat(it," ").concat(rt," ").concat(oneOf(_e,"type"))}return nt+=". Received type ".concat(typeof tt),nt},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(et){return"The "+et+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(et){return"Cannot call "+et+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(et){return"Unknown encoding: "+et},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(et,_e,tt){return et.highWaterMark!=null?et.highWaterMark:_e?et[tt]:null}function getHighWaterMark$2(et,_e,tt,rt){var nt=highWaterMarkFrom(_e,rt,tt);if(nt!=null){if(!(isFinite(nt)&&Math.floor(nt)===nt)||nt<0){var it=rt?tt:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(it,nt)}return Math.floor(nt)}return et.objectMode?16:16*1024}var state={getHighWaterMark:getHighWaterMark$2},browser$1=deprecate;function deprecate(et,_e){if(config("noDeprecation"))return et;var tt=!1;function rt(){if(!tt){if(config("throwDeprecation"))throw new Error(_e);config("traceDeprecation")?console.trace(_e):console.warn(_e),tt=!0}return et.apply(this,arguments)}return rt}function config(et){try{if(!globalThis.localStorage)return!1}catch{return!1}var _e=globalThis.localStorage[et];return _e==null?!1:String(_e).toLowerCase()==="true"}var _stream_writable=Writable$1;function CorkedRequest(et){var _e=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(_e,et)}}var Duplex$3;Writable$1.WritableState=WritableState;var internalUtil={deprecate:browser$1},Stream$1=streamBrowser,Buffer$5=buffer$2.Buffer,OurUint8Array$1=globalThis.Uint8Array||function(){};function _uint8ArrayToBuffer$1(et){return Buffer$5.from(et)}function _isUint8Array$1(et){return Buffer$5.isBuffer(et)||et instanceof OurUint8Array$1}var destroyImpl$1=destroy_1,_require$1=state,getHighWaterMark$1=_require$1.getHighWaterMark,_require$codes$3=errorsBrowser.codes,ERR_INVALID_ARG_TYPE$1=_require$codes$3.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED$2=_require$codes$3.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK$1=_require$codes$3.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes$3.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED$1=_require$codes$3.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes$3.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes$3.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes$3.ERR_UNKNOWN_ENCODING,errorOrDestroy$1=destroyImpl$1.errorOrDestroy;inherits_browser$1.exports(Writable$1,Stream$1);function nop(){}function WritableState(et,_e,tt){Duplex$3=Duplex$3||_stream_duplex,et=et||{},typeof tt!="boolean"&&(tt=_e instanceof Duplex$3),this.objectMode=!!et.objectMode,tt&&(this.objectMode=this.objectMode||!!et.writableObjectMode),this.highWaterMark=getHighWaterMark$1(this,et,"writableHighWaterMark",tt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var rt=et.decodeStrings===!1;this.decodeStrings=!rt,this.defaultEncoding=et.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(nt){onwrite(_e,nt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=et.emitClose!==!1,this.autoDestroy=!!et.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function et(){for(var _e=this.bufferedRequest,tt=[];_e;)tt.push(_e),_e=_e.next;return tt};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var realHasInstance;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable$1,Symbol.hasInstance,{value:function(_e){return realHasInstance.call(this,_e)?!0:this!==Writable$1?!1:_e&&_e._writableState instanceof WritableState}})):realHasInstance=function(_e){return _e instanceof this};function Writable$1(et){Duplex$3=Duplex$3||_stream_duplex;var _e=this instanceof Duplex$3;if(!_e&&!realHasInstance.call(Writable$1,this))return new Writable$1(et);this._writableState=new WritableState(et,this,_e),this.writable=!0,et&&(typeof et.write=="function"&&(this._write=et.write),typeof et.writev=="function"&&(this._writev=et.writev),typeof et.destroy=="function"&&(this._destroy=et.destroy),typeof et.final=="function"&&(this._final=et.final)),Stream$1.call(this)}Writable$1.prototype.pipe=function(){errorOrDestroy$1(this,new ERR_STREAM_CANNOT_PIPE)};function writeAfterEnd(et,_e){var tt=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy$1(et,tt),process.nextTick(_e,tt)}function validChunk(et,_e,tt,rt){var nt;return tt===null?nt=new ERR_STREAM_NULL_VALUES:typeof tt!="string"&&!_e.objectMode&&(nt=new ERR_INVALID_ARG_TYPE$1("chunk",["string","Buffer"],tt)),nt?(errorOrDestroy$1(et,nt),process.nextTick(rt,nt),!1):!0}Writable$1.prototype.write=function(et,_e,tt){var rt=this._writableState,nt=!1,it=!rt.objectMode&&_isUint8Array$1(et);return it&&!Buffer$5.isBuffer(et)&&(et=_uint8ArrayToBuffer$1(et)),typeof _e=="function"&&(tt=_e,_e=null),it?_e="buffer":_e||(_e=rt.defaultEncoding),typeof tt!="function"&&(tt=nop),rt.ending?writeAfterEnd(this,tt):(it||validChunk(this,rt,et,tt))&&(rt.pendingcb++,nt=writeOrBuffer(this,rt,it,et,_e,tt)),nt};Writable$1.prototype.cork=function(){this._writableState.corked++};Writable$1.prototype.uncork=function(){var et=this._writableState;et.corked&&(et.corked--,!et.writing&&!et.corked&&!et.bufferProcessing&&et.bufferedRequest&&clearBuffer(this,et))};Writable$1.prototype.setDefaultEncoding=function et(_e){if(typeof _e=="string"&&(_e=_e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_e+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(_e);return this._writableState.defaultEncoding=_e,this};Object.defineProperty(Writable$1.prototype,"writableBuffer",{enumerable:!1,get:function et(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk(et,_e,tt){return!et.objectMode&&et.decodeStrings!==!1&&typeof _e=="string"&&(_e=Buffer$5.from(_e,tt)),_e}Object.defineProperty(Writable$1.prototype,"writableHighWaterMark",{enumerable:!1,get:function et(){return this._writableState.highWaterMark}});function writeOrBuffer(et,_e,tt,rt,nt,it){if(!tt){var at=decodeChunk(_e,rt,nt);rt!==at&&(tt=!0,nt="buffer",rt=at)}var st=_e.objectMode?1:rt.length;_e.length+=st;var ct=_e.length<_e.highWaterMark;if(ct||(_e.needDrain=!0),_e.writing||_e.corked){var ut=_e.lastBufferedRequest;_e.lastBufferedRequest={chunk:rt,encoding:nt,isBuf:tt,callback:it,next:null},ut?ut.next=_e.lastBufferedRequest:_e.bufferedRequest=_e.lastBufferedRequest,_e.bufferedRequestCount+=1}else doWrite(et,_e,!1,st,rt,nt,it);return ct}function doWrite(et,_e,tt,rt,nt,it,at){_e.writelen=rt,_e.writecb=at,_e.writing=!0,_e.sync=!0,_e.destroyed?_e.onwrite(new ERR_STREAM_DESTROYED$1("write")):tt?et._writev(nt,_e.onwrite):et._write(nt,it,_e.onwrite),_e.sync=!1}function onwriteError(et,_e,tt,rt,nt){--_e.pendingcb,tt?(process.nextTick(nt,rt),process.nextTick(finishMaybe,et,_e),et._writableState.errorEmitted=!0,errorOrDestroy$1(et,rt)):(nt(rt),et._writableState.errorEmitted=!0,errorOrDestroy$1(et,rt),finishMaybe(et,_e))}function onwriteStateUpdate(et){et.writing=!1,et.writecb=null,et.length-=et.writelen,et.writelen=0}function onwrite(et,_e){var tt=et._writableState,rt=tt.sync,nt=tt.writecb;if(typeof nt!="function")throw new ERR_MULTIPLE_CALLBACK$1;if(onwriteStateUpdate(tt),_e)onwriteError(et,tt,rt,_e,nt);else{var it=needFinish(tt)||et.destroyed;!it&&!tt.corked&&!tt.bufferProcessing&&tt.bufferedRequest&&clearBuffer(et,tt),rt?process.nextTick(afterWrite,et,tt,it,nt):afterWrite(et,tt,it,nt)}}function afterWrite(et,_e,tt,rt){tt||onwriteDrain(et,_e),_e.pendingcb--,rt(),finishMaybe(et,_e)}function onwriteDrain(et,_e){_e.length===0&&_e.needDrain&&(_e.needDrain=!1,et.emit("drain"))}function clearBuffer(et,_e){_e.bufferProcessing=!0;var tt=_e.bufferedRequest;if(et._writev&&tt&&tt.next){var rt=_e.bufferedRequestCount,nt=new Array(rt),it=_e.corkedRequestsFree;it.entry=tt;for(var at=0,st=!0;tt;)nt[at]=tt,tt.isBuf||(st=!1),tt=tt.next,at+=1;nt.allBuffers=st,doWrite(et,_e,!0,_e.length,nt,"",it.finish),_e.pendingcb++,_e.lastBufferedRequest=null,it.next?(_e.corkedRequestsFree=it.next,it.next=null):_e.corkedRequestsFree=new CorkedRequest(_e),_e.bufferedRequestCount=0}else{for(;tt;){var ct=tt.chunk,ut=tt.encoding,ft=tt.callback,gt=_e.objectMode?1:ct.length;if(doWrite(et,_e,!1,gt,ct,ut,ft),tt=tt.next,_e.bufferedRequestCount--,_e.writing)break}tt===null&&(_e.lastBufferedRequest=null)}_e.bufferedRequest=tt,_e.bufferProcessing=!1}Writable$1.prototype._write=function(et,_e,tt){tt(new ERR_METHOD_NOT_IMPLEMENTED$2("_write()"))};Writable$1.prototype._writev=null;Writable$1.prototype.end=function(et,_e,tt){var rt=this._writableState;return typeof et=="function"?(tt=et,et=null,_e=null):typeof _e=="function"&&(tt=_e,_e=null),et!=null&&this.write(et,_e),rt.corked&&(rt.corked=1,this.uncork()),rt.ending||endWritable(this,rt,tt),this};Object.defineProperty(Writable$1.prototype,"writableLength",{enumerable:!1,get:function et(){return this._writableState.length}});function needFinish(et){return et.ending&&et.length===0&&et.bufferedRequest===null&&!et.finished&&!et.writing}function callFinal(et,_e){et._final(function(tt){_e.pendingcb--,tt&&errorOrDestroy$1(et,tt),_e.prefinished=!0,et.emit("prefinish"),finishMaybe(et,_e)})}function prefinish$1(et,_e){!_e.prefinished&&!_e.finalCalled&&(typeof et._final=="function"&&!_e.destroyed?(_e.pendingcb++,_e.finalCalled=!0,process.nextTick(callFinal,et,_e)):(_e.prefinished=!0,et.emit("prefinish")))}function finishMaybe(et,_e){var tt=needFinish(_e);if(tt&&(prefinish$1(et,_e),_e.pendingcb===0&&(_e.finished=!0,et.emit("finish"),_e.autoDestroy))){var rt=et._readableState;(!rt||rt.autoDestroy&&rt.endEmitted)&&et.destroy()}return tt}function endWritable(et,_e,tt){_e.ending=!0,finishMaybe(et,_e),tt&&(_e.finished?process.nextTick(tt):et.once("finish",tt)),_e.ended=!0,et.writable=!1}function onCorkedFinish(et,_e,tt){var rt=et.entry;for(et.entry=null;rt;){var nt=rt.callback;_e.pendingcb--,nt(tt),rt=rt.next}_e.corkedRequestsFree.next=et}Object.defineProperty(Writable$1.prototype,"destroyed",{enumerable:!1,get:function et(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function et(_e){!this._writableState||(this._writableState.destroyed=_e)}});Writable$1.prototype.destroy=destroyImpl$1.destroy;Writable$1.prototype._undestroy=destroyImpl$1.undestroy;Writable$1.prototype._destroy=function(et,_e){_e(et)};var objectKeys=Object.keys||function(et){var _e=[];for(var tt in et)_e.push(tt);return _e},_stream_duplex=Duplex$2,Readable$1=_stream_readable,Writable=_stream_writable;inherits_browser$1.exports(Duplex$2,Readable$1);for(var keys=objectKeys(Writable.prototype),v$5=0;v$5<keys.length;v$5++){var method=keys[v$5];Duplex$2.prototype[method]||(Duplex$2.prototype[method]=Writable.prototype[method])}function Duplex$2(et){if(!(this instanceof Duplex$2))return new Duplex$2(et);Readable$1.call(this,et),Writable.call(this,et),this.allowHalfOpen=!0,et&&(et.readable===!1&&(this.readable=!1),et.writable===!1&&(this.writable=!1),et.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",onend)))}Object.defineProperty(Duplex$2.prototype,"writableHighWaterMark",{enumerable:!1,get:function et(){return this._writableState.highWaterMark}});Object.defineProperty(Duplex$2.prototype,"writableBuffer",{enumerable:!1,get:function et(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Duplex$2.prototype,"writableLength",{enumerable:!1,get:function et(){return this._writableState.length}});function onend(){this._writableState.ended||process.nextTick(onEndNT,this)}function onEndNT(et){et.end()}Object.defineProperty(Duplex$2.prototype,"destroyed",{enumerable:!1,get:function et(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function et(_e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_e,this._writableState.destroyed=_e)}});var string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(et,_e){var tt=buffer$2,rt=tt.Buffer;function nt(at,st){for(var ct in at)st[ct]=at[ct]}rt.from&&rt.alloc&&rt.allocUnsafe&&rt.allocUnsafeSlow?et.exports=tt:(nt(tt,_e),_e.Buffer=it);function it(at,st,ct){return rt(at,st,ct)}it.prototype=Object.create(rt.prototype),nt(rt,it),it.from=function(at,st,ct){if(typeof at=="number")throw new TypeError("Argument must not be a number");return rt(at,st,ct)},it.alloc=function(at,st,ct){if(typeof at!="number")throw new TypeError("Argument must be a number");var ut=rt(at);return st!==void 0?typeof ct=="string"?ut.fill(st,ct):ut.fill(st):ut.fill(0),ut},it.allocUnsafe=function(at){if(typeof at!="number")throw new TypeError("Argument must be a number");return rt(at)},it.allocUnsafeSlow=function(at){if(typeof at!="number")throw new TypeError("Argument must be a number");return tt.SlowBuffer(at)}})(safeBuffer,safeBuffer.exports);var Buffer$4=safeBuffer.exports.Buffer,isEncoding=Buffer$4.isEncoding||function(et){switch(et=""+et,et&&et.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(et){if(!et)return"utf8";for(var _e;;)switch(et){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return et;default:if(_e)return;et=(""+et).toLowerCase(),_e=!0}}function normalizeEncoding(et){var _e=_normalizeEncoding(et);if(typeof _e!="string"&&(Buffer$4.isEncoding===isEncoding||!isEncoding(et)))throw new Error("Unknown encoding: "+et);return _e||et}string_decoder.StringDecoder=StringDecoder$1;function StringDecoder$1(et){this.encoding=normalizeEncoding(et);var _e;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,_e=4;break;case"utf8":this.fillLast=utf8FillLast,_e=4;break;case"base64":this.text=base64Text,this.end=base64End,_e=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$4.allocUnsafe(_e)}StringDecoder$1.prototype.write=function(et){if(et.length===0)return"";var _e,tt;if(this.lastNeed){if(_e=this.fillLast(et),_e===void 0)return"";tt=this.lastNeed,this.lastNeed=0}else tt=0;return tt<et.length?_e?_e+this.text(et,tt):this.text(et,tt):_e||""};StringDecoder$1.prototype.end=utf8End;StringDecoder$1.prototype.text=utf8Text;StringDecoder$1.prototype.fillLast=function(et){if(this.lastNeed<=et.length)return et.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);et.copy(this.lastChar,this.lastTotal-this.lastNeed,0,et.length),this.lastNeed-=et.length};function utf8CheckByte(et){return et<=127?0:et>>5===6?2:et>>4===14?3:et>>3===30?4:et>>6===2?-1:-2}function utf8CheckIncomplete(et,_e,tt){var rt=_e.length-1;if(rt<tt)return 0;var nt=utf8CheckByte(_e[rt]);return nt>=0?(nt>0&&(et.lastNeed=nt-1),nt):--rt<tt||nt===-2?0:(nt=utf8CheckByte(_e[rt]),nt>=0?(nt>0&&(et.lastNeed=nt-2),nt):--rt<tt||nt===-2?0:(nt=utf8CheckByte(_e[rt]),nt>=0?(nt>0&&(nt===2?nt=0:et.lastNeed=nt-3),nt):0))}function utf8CheckExtraBytes(et,_e,tt){if((_e[0]&192)!==128)return et.lastNeed=0,"\uFFFD";if(et.lastNeed>1&&_e.length>1){if((_e[1]&192)!==128)return et.lastNeed=1,"\uFFFD";if(et.lastNeed>2&&_e.length>2&&(_e[2]&192)!==128)return et.lastNeed=2,"\uFFFD"}}function utf8FillLast(et){var _e=this.lastTotal-this.lastNeed,tt=utf8CheckExtraBytes(this,et);if(tt!==void 0)return tt;if(this.lastNeed<=et.length)return et.copy(this.lastChar,_e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);et.copy(this.lastChar,_e,0,et.length),this.lastNeed-=et.length}function utf8Text(et,_e){var tt=utf8CheckIncomplete(this,et,_e);if(!this.lastNeed)return et.toString("utf8",_e);this.lastTotal=tt;var rt=et.length-(tt-this.lastNeed);return et.copy(this.lastChar,0,rt),et.toString("utf8",_e,rt)}function utf8End(et){var _e=et&&et.length?this.write(et):"";return this.lastNeed?_e+"\uFFFD":_e}function utf16Text(et,_e){if((et.length-_e)%2===0){var tt=et.toString("utf16le",_e);if(tt){var rt=tt.charCodeAt(tt.length-1);if(rt>=55296&&rt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=et[et.length-2],this.lastChar[1]=et[et.length-1],tt.slice(0,-1)}return tt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=et[et.length-1],et.toString("utf16le",_e,et.length-1)}function utf16End(et){var _e=et&&et.length?this.write(et):"";if(this.lastNeed){var tt=this.lastTotal-this.lastNeed;return _e+this.lastChar.toString("utf16le",0,tt)}return _e}function base64Text(et,_e){var tt=(et.length-_e)%3;return tt===0?et.toString("base64",_e):(this.lastNeed=3-tt,this.lastTotal=3,tt===1?this.lastChar[0]=et[et.length-1]:(this.lastChar[0]=et[et.length-2],this.lastChar[1]=et[et.length-1]),et.toString("base64",_e,et.length-tt))}function base64End(et){var _e=et&&et.length?this.write(et):"";return this.lastNeed?_e+this.lastChar.toString("base64",0,3-this.lastNeed):_e}function simpleWrite(et){return et.toString(this.encoding)}function simpleEnd(et){return et&&et.length?this.write(et):""}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(et){var _e=!1;return function(){if(!_e){_e=!0;for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];et.apply(this,rt)}}}function noop$2(){}function isRequest$1(et){return et.setHeader&&typeof et.abort=="function"}function eos$1(et,_e,tt){if(typeof _e=="function")return eos$1(et,null,_e);_e||(_e={}),tt=once$1(tt||noop$2);var rt=_e.readable||_e.readable!==!1&&et.readable,nt=_e.writable||_e.writable!==!1&&et.writable,it=function(){et.writable||st()},at=et._writableState&&et._writableState.finished,st=function(){nt=!1,at=!0,rt||tt.call(et)},ct=et._readableState&&et._readableState.endEmitted,ut=function(){rt=!1,ct=!0,nt||tt.call(et)},ft=function($t){tt.call(et,$t)},gt=function(){var $t;if(rt&&!ct)return(!et._readableState||!et._readableState.ended)&&($t=new ERR_STREAM_PREMATURE_CLOSE),tt.call(et,$t);if(nt&&!at)return(!et._writableState||!et._writableState.ended)&&($t=new ERR_STREAM_PREMATURE_CLOSE),tt.call(et,$t)},_t=function(){et.req.on("finish",st)};return isRequest$1(et)?(et.on("complete",st),et.on("abort",gt),et.req?_t():et.on("request",_t)):nt&&!et._writableState&&(et.on("end",it),et.on("close",it)),et.on("end",ut),et.on("finish",st),_e.error!==!1&&et.on("error",ft),et.on("close",gt),function(){et.removeListener("complete",st),et.removeListener("abort",gt),et.removeListener("request",_t),et.req&&et.req.removeListener("finish",st),et.removeListener("end",it),et.removeListener("close",it),et.removeListener("finish",st),et.removeListener("end",ut),et.removeListener("error",ft),et.removeListener("close",gt)}}var endOfStream=eos$1,_Object$setPrototypeO;function _defineProperty(et,_e,tt){return _e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}var finished=endOfStream,kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function createIterResult(et,_e){return{value:et,done:_e}}function readAndResolve(et){var _e=et[kLastResolve];if(_e!==null){var tt=et[kStream].read();tt!==null&&(et[kLastPromise]=null,et[kLastResolve]=null,et[kLastReject]=null,_e(createIterResult(tt,!1)))}}function onReadable(et){process.nextTick(readAndResolve,et)}function wrapForNext(et,_e){return function(tt,rt){et.then(function(){if(_e[kEnded]){tt(createIterResult(void 0,!0));return}_e[kHandlePromise](tt,rt)},rt)}}var AsyncIteratorPrototype=Object.getPrototypeOf(function(){}),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_Object$setPrototypeO={get stream(){return this[kStream]},next:function et(){var _e=this,tt=this[kError];if(tt!==null)return Promise.reject(tt);if(this[kEnded])return Promise.resolve(createIterResult(void 0,!0));if(this[kStream].destroyed)return new Promise(function(at,st){process.nextTick(function(){_e[kError]?st(_e[kError]):at(createIterResult(void 0,!0))})});var rt=this[kLastPromise],nt;if(rt)nt=new Promise(wrapForNext(rt,this));else{var it=this[kStream].read();if(it!==null)return Promise.resolve(createIterResult(it,!1));nt=new Promise(this[kHandlePromise])}return this[kLastPromise]=nt,nt}},_defineProperty(_Object$setPrototypeO,Symbol.asyncIterator,function(){return this}),_defineProperty(_Object$setPrototypeO,"return",function et(){var _e=this;return new Promise(function(tt,rt){_e[kStream].destroy(null,function(nt){if(nt){rt(nt);return}tt(createIterResult(void 0,!0))})})}),_Object$setPrototypeO),AsyncIteratorPrototype),createReadableStreamAsyncIterator$1=function et(_e){var tt,rt=Object.create(ReadableStreamAsyncIteratorPrototype,(tt={},_defineProperty(tt,kStream,{value:_e,writable:!0}),_defineProperty(tt,kLastResolve,{value:null,writable:!0}),_defineProperty(tt,kLastReject,{value:null,writable:!0}),_defineProperty(tt,kError,{value:null,writable:!0}),_defineProperty(tt,kEnded,{value:_e._readableState.endEmitted,writable:!0}),_defineProperty(tt,kHandlePromise,{value:function(it,at){var st=rt[kStream].read();st?(rt[kLastPromise]=null,rt[kLastResolve]=null,rt[kLastReject]=null,it(createIterResult(st,!1))):(rt[kLastResolve]=it,rt[kLastReject]=at)},writable:!0}),tt));return rt[kLastPromise]=null,finished(_e,function(nt){if(nt&&nt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var it=rt[kLastReject];it!==null&&(rt[kLastPromise]=null,rt[kLastResolve]=null,rt[kLastReject]=null,it(nt)),rt[kError]=nt;return}var at=rt[kLastResolve];at!==null&&(rt[kLastPromise]=null,rt[kLastResolve]=null,rt[kLastReject]=null,at(createIterResult(void 0,!0))),rt[kEnded]=!0}),_e.on("readable",onReadable.bind(null,rt)),rt},async_iterator=createReadableStreamAsyncIterator$1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")},_stream_readable=Readable,Duplex$1;Readable.ReadableState=ReadableState;events.exports.EventEmitter;var EElistenerCount=function et(_e,tt){return _e.listeners(tt).length},Stream=streamBrowser,Buffer$3=buffer$2.Buffer,OurUint8Array=globalThis.Uint8Array||function(){};function _uint8ArrayToBuffer(et){return Buffer$3.from(et)}function _isUint8Array(et){return Buffer$3.isBuffer(et)||et instanceof OurUint8Array}var debugUtil=require$$3$1,debug;debugUtil&&debugUtil.debuglog?debug=debugUtil.debuglog("stream"):debug=function(){};var BufferList=buffer_list,destroyImpl=destroy_1,_require=state,getHighWaterMark=_require.getHighWaterMark,_require$codes$2=errorsBrowser.codes,ERR_INVALID_ARG_TYPE=_require$codes$2.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes$2.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED$1=_require$codes$2.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes$2.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,StringDecoder,createReadableStreamAsyncIterator,from$2;inherits_browser$1.exports(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy,kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(et,_e,tt){if(typeof et.prependListener=="function")return et.prependListener(_e,tt);!et._events||!et._events[_e]?et.on(_e,tt):Array.isArray(et._events[_e])?et._events[_e].unshift(tt):et._events[_e]=[tt,et._events[_e]]}function ReadableState(et,_e,tt){Duplex$1=Duplex$1||_stream_duplex,et=et||{},typeof tt!="boolean"&&(tt=_e instanceof Duplex$1),this.objectMode=!!et.objectMode,tt&&(this.objectMode=this.objectMode||!!et.readableObjectMode),this.highWaterMark=getHighWaterMark(this,et,"readableHighWaterMark",tt),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=et.emitClose!==!1,this.autoDestroy=!!et.autoDestroy,this.destroyed=!1,this.defaultEncoding=et.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,et.encoding&&(StringDecoder||(StringDecoder=string_decoder.StringDecoder),this.decoder=new StringDecoder(et.encoding),this.encoding=et.encoding)}function Readable(et){if(Duplex$1=Duplex$1||_stream_duplex,!(this instanceof Readable))return new Readable(et);var _e=this instanceof Duplex$1;this._readableState=new ReadableState(et,this,_e),this.readable=!0,et&&(typeof et.read=="function"&&(this._read=et.read),typeof et.destroy=="function"&&(this._destroy=et.destroy)),Stream.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function et(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function et(_e){!this._readableState||(this._readableState.destroyed=_e)}});Readable.prototype.destroy=destroyImpl.destroy;Readable.prototype._undestroy=destroyImpl.undestroy;Readable.prototype._destroy=function(et,_e){_e(et)};Readable.prototype.push=function(et,_e){var tt=this._readableState,rt;return tt.objectMode?rt=!0:typeof et=="string"&&(_e=_e||tt.defaultEncoding,_e!==tt.encoding&&(et=Buffer$3.from(et,_e),_e=""),rt=!0),readableAddChunk(this,et,_e,!1,rt)};Readable.prototype.unshift=function(et){return readableAddChunk(this,et,null,!0,!1)};function readableAddChunk(et,_e,tt,rt,nt){debug("readableAddChunk",_e);var it=et._readableState;if(_e===null)it.reading=!1,onEofChunk(et,it);else{var at;if(nt||(at=chunkInvalid(it,_e)),at)errorOrDestroy(et,at);else if(it.objectMode||_e&&_e.length>0)if(typeof _e!="string"&&!it.objectMode&&Object.getPrototypeOf(_e)!==Buffer$3.prototype&&(_e=_uint8ArrayToBuffer(_e)),rt)it.endEmitted?errorOrDestroy(et,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(et,it,_e,!0);else if(it.ended)errorOrDestroy(et,new ERR_STREAM_PUSH_AFTER_EOF);else{if(it.destroyed)return!1;it.reading=!1,it.decoder&&!tt?(_e=it.decoder.write(_e),it.objectMode||_e.length!==0?addChunk(et,it,_e,!1):maybeReadMore(et,it)):addChunk(et,it,_e,!1)}else rt||(it.reading=!1,maybeReadMore(et,it))}return!it.ended&&(it.length<it.highWaterMark||it.length===0)}function addChunk(et,_e,tt,rt){_e.flowing&&_e.length===0&&!_e.sync?(_e.awaitDrain=0,et.emit("data",tt)):(_e.length+=_e.objectMode?1:tt.length,rt?_e.buffer.unshift(tt):_e.buffer.push(tt),_e.needReadable&&emitReadable(et)),maybeReadMore(et,_e)}function chunkInvalid(et,_e){var tt;return!_isUint8Array(_e)&&typeof _e!="string"&&_e!==void 0&&!et.objectMode&&(tt=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],_e)),tt}Readable.prototype.isPaused=function(){return this._readableState.flowing===!1};Readable.prototype.setEncoding=function(et){StringDecoder||(StringDecoder=string_decoder.StringDecoder);var _e=new StringDecoder(et);this._readableState.decoder=_e,this._readableState.encoding=this._readableState.decoder.encoding;for(var tt=this._readableState.buffer.head,rt="";tt!==null;)rt+=_e.write(tt.data),tt=tt.next;return this._readableState.buffer.clear(),rt!==""&&this._readableState.buffer.push(rt),this._readableState.length=rt.length,this};var MAX_HWM=1073741824;function computeNewHighWaterMark(et){return et>=MAX_HWM?et=MAX_HWM:(et--,et|=et>>>1,et|=et>>>2,et|=et>>>4,et|=et>>>8,et|=et>>>16,et++),et}function howMuchToRead(et,_e){return et<=0||_e.length===0&&_e.ended?0:_e.objectMode?1:et!==et?_e.flowing&&_e.length?_e.buffer.head.data.length:_e.length:(et>_e.highWaterMark&&(_e.highWaterMark=computeNewHighWaterMark(et)),et<=_e.length?et:_e.ended?_e.length:(_e.needReadable=!0,0))}Readable.prototype.read=function(et){debug("read",et),et=parseInt(et,10);var _e=this._readableState,tt=et;if(et!==0&&(_e.emittedReadable=!1),et===0&&_e.needReadable&&((_e.highWaterMark!==0?_e.length>=_e.highWaterMark:_e.length>0)||_e.ended))return debug("read: emitReadable",_e.length,_e.ended),_e.length===0&&_e.ended?endReadable(this):emitReadable(this),null;if(et=howMuchToRead(et,_e),et===0&&_e.ended)return _e.length===0&&endReadable(this),null;var rt=_e.needReadable;debug("need readable",rt),(_e.length===0||_e.length-et<_e.highWaterMark)&&(rt=!0,debug("length less than watermark",rt)),_e.ended||_e.reading?(rt=!1,debug("reading or ended",rt)):rt&&(debug("do read"),_e.reading=!0,_e.sync=!0,_e.length===0&&(_e.needReadable=!0),this._read(_e.highWaterMark),_e.sync=!1,_e.reading||(et=howMuchToRead(tt,_e)));var nt;return et>0?nt=fromList(et,_e):nt=null,nt===null?(_e.needReadable=_e.length<=_e.highWaterMark,et=0):(_e.length-=et,_e.awaitDrain=0),_e.length===0&&(_e.ended||(_e.needReadable=!0),tt!==et&&_e.ended&&endReadable(this)),nt!==null&&this.emit("data",nt),nt};function onEofChunk(et,_e){if(debug("onEofChunk"),!_e.ended){if(_e.decoder){var tt=_e.decoder.end();tt&&tt.length&&(_e.buffer.push(tt),_e.length+=_e.objectMode?1:tt.length)}_e.ended=!0,_e.sync?emitReadable(et):(_e.needReadable=!1,_e.emittedReadable||(_e.emittedReadable=!0,emitReadable_(et)))}}function emitReadable(et){var _e=et._readableState;debug("emitReadable",_e.needReadable,_e.emittedReadable),_e.needReadable=!1,_e.emittedReadable||(debug("emitReadable",_e.flowing),_e.emittedReadable=!0,process.nextTick(emitReadable_,et))}function emitReadable_(et){var _e=et._readableState;debug("emitReadable_",_e.destroyed,_e.length,_e.ended),!_e.destroyed&&(_e.length||_e.ended)&&(et.emit("readable"),_e.emittedReadable=!1),_e.needReadable=!_e.flowing&&!_e.ended&&_e.length<=_e.highWaterMark,flow(et)}function maybeReadMore(et,_e){_e.readingMore||(_e.readingMore=!0,process.nextTick(maybeReadMore_,et,_e))}function maybeReadMore_(et,_e){for(;!_e.reading&&!_e.ended&&(_e.length<_e.highWaterMark||_e.flowing&&_e.length===0);){var tt=_e.length;if(debug("maybeReadMore read 0"),et.read(0),tt===_e.length)break}_e.readingMore=!1}Readable.prototype._read=function(et){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED$1("_read()"))};Readable.prototype.pipe=function(et,_e){var tt=this,rt=this._readableState;switch(rt.pipesCount){case 0:rt.pipes=et;break;case 1:rt.pipes=[rt.pipes,et];break;default:rt.pipes.push(et);break}rt.pipesCount+=1,debug("pipe count=%d opts=%j",rt.pipesCount,_e);var nt=(!_e||_e.end!==!1)&&et!==process.stdout&&et!==process.stderr,it=nt?st:It;rt.endEmitted?process.nextTick(it):tt.once("end",it),et.on("unpipe",at);function at(Tt,At){debug("onunpipe"),Tt===tt&&At&&At.hasUnpiped===!1&&(At.hasUnpiped=!0,ft())}function st(){debug("onend"),et.end()}var ct=pipeOnDrain(tt);et.on("drain",ct);var ut=!1;function ft(){debug("cleanup"),et.removeListener("close",Et),et.removeListener("finish",$t),et.removeListener("drain",ct),et.removeListener("error",_t),et.removeListener("unpipe",at),tt.removeListener("end",st),tt.removeListener("end",It),tt.removeListener("data",gt),ut=!0,rt.awaitDrain&&(!et._writableState||et._writableState.needDrain)&&ct()}tt.on("data",gt);function gt(Tt){debug("ondata");var At=et.write(Tt);debug("dest.write",At),At===!1&&((rt.pipesCount===1&&rt.pipes===et||rt.pipesCount>1&&indexOf(rt.pipes,et)!==-1)&&!ut&&(debug("false write response, pause",rt.awaitDrain),rt.awaitDrain++),tt.pause())}function _t(Tt){debug("onerror",Tt),It(),et.removeListener("error",_t),EElistenerCount(et,"error")===0&&errorOrDestroy(et,Tt)}prependListener(et,"error",_t);function Et(){et.removeListener("finish",$t),It()}et.once("close",Et);function $t(){debug("onfinish"),et.removeListener("close",Et),It()}et.once("finish",$t);function It(){debug("unpipe"),tt.unpipe(et)}return et.emit("pipe",tt),rt.flowing||(debug("pipe resume"),tt.resume()),et};function pipeOnDrain(et){return function(){var tt=et._readableState;debug("pipeOnDrain",tt.awaitDrain),tt.awaitDrain&&tt.awaitDrain--,tt.awaitDrain===0&&EElistenerCount(et,"data")&&(tt.flowing=!0,flow(et))}}Readable.prototype.unpipe=function(et){var _e=this._readableState,tt={hasUnpiped:!1};if(_e.pipesCount===0)return this;if(_e.pipesCount===1)return et&&et!==_e.pipes?this:(et||(et=_e.pipes),_e.pipes=null,_e.pipesCount=0,_e.flowing=!1,et&&et.emit("unpipe",this,tt),this);if(!et){var rt=_e.pipes,nt=_e.pipesCount;_e.pipes=null,_e.pipesCount=0,_e.flowing=!1;for(var it=0;it<nt;it++)rt[it].emit("unpipe",this,{hasUnpiped:!1});return this}var at=indexOf(_e.pipes,et);return at===-1?this:(_e.pipes.splice(at,1),_e.pipesCount-=1,_e.pipesCount===1&&(_e.pipes=_e.pipes[0]),et.emit("unpipe",this,tt),this)};Readable.prototype.on=function(et,_e){var tt=Stream.prototype.on.call(this,et,_e),rt=this._readableState;return et==="data"?(rt.readableListening=this.listenerCount("readable")>0,rt.flowing!==!1&&this.resume()):et==="readable"&&!rt.endEmitted&&!rt.readableListening&&(rt.readableListening=rt.needReadable=!0,rt.flowing=!1,rt.emittedReadable=!1,debug("on readable",rt.length,rt.reading),rt.length?emitReadable(this):rt.reading||process.nextTick(nReadingNextTick,this)),tt};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(et,_e){var tt=Stream.prototype.removeListener.call(this,et,_e);return et==="readable"&&process.nextTick(updateReadableListening,this),tt};Readable.prototype.removeAllListeners=function(et){var _e=Stream.prototype.removeAllListeners.apply(this,arguments);return(et==="readable"||et===void 0)&&process.nextTick(updateReadableListening,this),_e};function updateReadableListening(et){var _e=et._readableState;_e.readableListening=et.listenerCount("readable")>0,_e.resumeScheduled&&!_e.paused?_e.flowing=!0:et.listenerCount("data")>0&&et.resume()}function nReadingNextTick(et){debug("readable nexttick read 0"),et.read(0)}Readable.prototype.resume=function(){var et=this._readableState;return et.flowing||(debug("resume"),et.flowing=!et.readableListening,resume(this,et)),et.paused=!1,this};function resume(et,_e){_e.resumeScheduled||(_e.resumeScheduled=!0,process.nextTick(resume_,et,_e))}function resume_(et,_e){debug("resume",_e.reading),_e.reading||et.read(0),_e.resumeScheduled=!1,et.emit("resume"),flow(et),_e.flowing&&!_e.reading&&et.read(0)}Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function flow(et){var _e=et._readableState;for(debug("flow",_e.flowing);_e.flowing&&et.read()!==null;);}Readable.prototype.wrap=function(et){var _e=this,tt=this._readableState,rt=!1;et.on("end",function(){if(debug("wrapped end"),tt.decoder&&!tt.ended){var at=tt.decoder.end();at&&at.length&&_e.push(at)}_e.push(null)}),et.on("data",function(at){if(debug("wrapped data"),tt.decoder&&(at=tt.decoder.write(at)),!(tt.objectMode&&at==null)&&!(!tt.objectMode&&(!at||!at.length))){var st=_e.push(at);st||(rt=!0,et.pause())}});for(var nt in et)this[nt]===void 0&&typeof et[nt]=="function"&&(this[nt]=function(st){return function(){return et[st].apply(et,arguments)}}(nt));for(var it=0;it<kProxyEvents.length;it++)et.on(kProxyEvents[it],this.emit.bind(this,kProxyEvents[it]));return this._read=function(at){debug("wrapped _read",at),rt&&(rt=!1,et.resume())},this};typeof Symbol=="function"&&(Readable.prototype[Symbol.asyncIterator]=function(){return createReadableStreamAsyncIterator===void 0&&(createReadableStreamAsyncIterator=async_iterator),createReadableStreamAsyncIterator(this)});Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function et(){return this._readableState.highWaterMark}});Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function et(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function et(){return this._readableState.flowing},set:function et(_e){this._readableState&&(this._readableState.flowing=_e)}});Readable._fromList=fromList;Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function et(){return this._readableState.length}});function fromList(et,_e){if(_e.length===0)return null;var tt;return _e.objectMode?tt=_e.buffer.shift():!et||et>=_e.length?(_e.decoder?tt=_e.buffer.join(""):_e.buffer.length===1?tt=_e.buffer.first():tt=_e.buffer.concat(_e.length),_e.buffer.clear()):tt=_e.buffer.consume(et,_e.decoder),tt}function endReadable(et){var _e=et._readableState;debug("endReadable",_e.endEmitted),_e.endEmitted||(_e.ended=!0,process.nextTick(endReadableNT,_e,et))}function endReadableNT(et,_e){if(debug("endReadableNT",et.endEmitted,et.length),!et.endEmitted&&et.length===0&&(et.endEmitted=!0,_e.readable=!1,_e.emit("end"),et.autoDestroy)){var tt=_e._writableState;(!tt||tt.autoDestroy&&tt.finished)&&_e.destroy()}}typeof Symbol=="function"&&(Readable.from=function(et,_e){return from$2===void 0&&(from$2=fromBrowser),from$2(Readable,et,_e)});function indexOf(et,_e){for(var tt=0,rt=et.length;tt<rt;tt++)if(et[tt]===_e)return tt;return-1}var _stream_transform=Transform$3,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=_stream_duplex;inherits_browser$1.exports(Transform$3,Duplex);function afterTransform(et,_e){var tt=this._transformState;tt.transforming=!1;var rt=tt.writecb;if(rt===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);tt.writechunk=null,tt.writecb=null,_e!=null&&this.push(_e),rt(et);var nt=this._readableState;nt.reading=!1,(nt.needReadable||nt.length<nt.highWaterMark)&&this._read(nt.highWaterMark)}function Transform$3(et){if(!(this instanceof Transform$3))return new Transform$3(et);Duplex.call(this,et),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,et&&(typeof et.transform=="function"&&(this._transform=et.transform),typeof et.flush=="function"&&(this._flush=et.flush)),this.on("prefinish",prefinish)}function prefinish(){var et=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(_e,tt){done(et,_e,tt)}):done(this,null,null)}Transform$3.prototype.push=function(et,_e){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,et,_e)};Transform$3.prototype._transform=function(et,_e,tt){tt(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$3.prototype._write=function(et,_e,tt){var rt=this._transformState;if(rt.writecb=tt,rt.writechunk=et,rt.writeencoding=_e,!rt.transforming){var nt=this._readableState;(rt.needTransform||nt.needReadable||nt.length<nt.highWaterMark)&&this._read(nt.highWaterMark)}};Transform$3.prototype._read=function(et){var _e=this._transformState;_e.writechunk!==null&&!_e.transforming?(_e.transforming=!0,this._transform(_e.writechunk,_e.writeencoding,_e.afterTransform)):_e.needTransform=!0};Transform$3.prototype._destroy=function(et,_e){Duplex.prototype._destroy.call(this,et,function(tt){_e(tt)})};function done(et,_e,tt){if(_e)return et.emit("error",_e);if(tt!=null&&et.push(tt),et._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(et._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return et.push(null)}var _stream_passthrough=PassThrough,Transform$2=_stream_transform;inherits_browser$1.exports(PassThrough,Transform$2);function PassThrough(et){if(!(this instanceof PassThrough))return new PassThrough(et);Transform$2.call(this,et)}PassThrough.prototype._transform=function(et,_e,tt){tt(null,et)};var eos;function once(et){var _e=!1;return function(){_e||(_e=!0,et.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop$1(et){if(et)throw et}function isRequest(et){return et.setHeader&&typeof et.abort=="function"}function destroyer(et,_e,tt,rt){rt=once(rt);var nt=!1;et.on("close",function(){nt=!0}),eos===void 0&&(eos=endOfStream),eos(et,{readable:_e,writable:tt},function(at){if(at)return rt(at);nt=!0,rt()});var it=!1;return function(at){if(!nt&&!it){if(it=!0,isRequest(et))return et.abort();if(typeof et.destroy=="function")return et.destroy();rt(at||new ERR_STREAM_DESTROYED("pipe"))}}}function call(et){et()}function pipe(et,_e){return et.pipe(_e)}function popCallback(et){return!et.length||typeof et[et.length-1]!="function"?noop$1:et.pop()}function pipeline(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];var rt=popCallback(_e);if(Array.isArray(_e[0])&&(_e=_e[0]),_e.length<2)throw new ERR_MISSING_ARGS("streams");var nt,it=_e.map(function(at,st){var ct=st<_e.length-1,ut=st>0;return destroyer(at,ct,ut,function(ft){nt||(nt=ft),ft&&it.forEach(call),!ct&&(it.forEach(call),rt(nt))})});return _e.reduce(pipe)}var pipeline_1=pipeline;(function(et,_e){_e=et.exports=_stream_readable,_e.Stream=_e,_e.Readable=_e,_e.Writable=_stream_writable,_e.Duplex=_stream_duplex,_e.Transform=_stream_transform,_e.PassThrough=_stream_passthrough,_e.finished=endOfStream,_e.pipeline=pipeline_1})(readableBrowser,readableBrowser.exports);const{Transform:Transform$1}=readableBrowser.exports;var keccak$2=et=>class Yo extends Transform$1{constructor(tt,rt,nt,it,at){super(at),this._rate=tt,this._capacity=rt,this._delimitedSuffix=nt,this._hashBitLength=it,this._options=at,this._state=new et,this._state.initialize(tt,rt),this._finalized=!1}_transform(tt,rt,nt){let it=null;try{this.update(tt,rt)}catch(at){it=at}nt(it)}_flush(tt){let rt=null;try{this.push(this.digest())}catch(nt){rt=nt}tt(rt)}update(tt,rt){if(!Buffer.isBuffer(tt)&&typeof tt!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(tt)||(tt=Buffer.from(tt,rt)),this._state.absorb(tt),this}digest(tt){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let rt=this._state.squeeze(this._hashBitLength/8);return tt!==void 0&&(rt=rt.toString(tt)),this._resetState(),rt}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const tt=new Yo(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(tt._state),tt._finalized=this._finalized,tt}};const{Transform}=readableBrowser.exports;var shake=et=>class Xo extends Transform{constructor(tt,rt,nt,it){super(it),this._rate=tt,this._capacity=rt,this._delimitedSuffix=nt,this._options=it,this._state=new et,this._state.initialize(tt,rt),this._finalized=!1}_transform(tt,rt,nt){let it=null;try{this.update(tt,rt)}catch(at){it=at}nt(it)}_flush(){}_read(tt){this.push(this.squeeze(tt))}update(tt,rt){if(!Buffer.isBuffer(tt)&&typeof tt!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(tt)||(tt=Buffer.from(tt,rt)),this._state.absorb(tt),this}squeeze(tt,rt){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let nt=this._state.squeeze(tt);return rt!==void 0&&(nt=nt.toString(rt)),nt}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const tt=new Xo(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(tt._state),tt._finalized=this._finalized,tt}};const createKeccak=keccak$2,createShake=shake;var api=function(et){const _e=createKeccak(et),tt=createShake(et);return function(rt,nt){switch(typeof rt=="string"?rt.toLowerCase():rt){case"keccak224":return new _e(1152,448,null,224,nt);case"keccak256":return new _e(1088,512,null,256,nt);case"keccak384":return new _e(832,768,null,384,nt);case"keccak512":return new _e(576,1024,null,512,nt);case"sha3-224":return new _e(1152,448,6,224,nt);case"sha3-256":return new _e(1088,512,6,256,nt);case"sha3-384":return new _e(832,768,6,384,nt);case"sha3-512":return new _e(576,1024,6,512,nt);case"shake128":return new tt(1344,256,31,nt);case"shake256":return new tt(1088,512,31,nt);default:throw new Error("Invald algorithm: "+rt)}}},keccakStateUnroll={};const P1600_ROUND_CONSTANTS=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];keccakStateUnroll.p1600=function(et){for(let _e=0;_e<24;++_e){const tt=et[0]^et[10]^et[20]^et[30]^et[40],rt=et[1]^et[11]^et[21]^et[31]^et[41],nt=et[2]^et[12]^et[22]^et[32]^et[42],it=et[3]^et[13]^et[23]^et[33]^et[43],at=et[4]^et[14]^et[24]^et[34]^et[44],st=et[5]^et[15]^et[25]^et[35]^et[45],ct=et[6]^et[16]^et[26]^et[36]^et[46],ut=et[7]^et[17]^et[27]^et[37]^et[47],ft=et[8]^et[18]^et[28]^et[38]^et[48],gt=et[9]^et[19]^et[29]^et[39]^et[49];let _t=ft^(nt<<1|it>>>31),Et=gt^(it<<1|nt>>>31);const $t=et[0]^_t,It=et[1]^Et,Tt=et[10]^_t,At=et[11]^Et,Rt=et[20]^_t,kt=et[21]^Et,Ot=et[30]^_t,Wt=et[31]^Et,zt=et[40]^_t,Kt=et[41]^Et;_t=tt^(at<<1|st>>>31),Et=rt^(st<<1|at>>>31);const Jt=et[2]^_t,ar=et[3]^Et,jt=et[12]^_t,Ct=et[13]^Et,Nt=et[22]^_t,ht=et[23]^Et,ot=et[32]^_t,dt=et[33]^Et,mt=et[42]^_t,wt=et[43]^Et;_t=nt^(ct<<1|ut>>>31),Et=it^(ut<<1|ct>>>31);const bt=et[4]^_t,vt=et[5]^Et,St=et[14]^_t,yt=et[15]^Et,lt=et[24]^_t,xt=et[25]^Et,Ut=et[34]^_t,Pt=et[35]^Et,qt=et[44]^_t,ir=et[45]^Et;_t=at^(ft<<1|gt>>>31),Et=st^(gt<<1|ft>>>31);const Yt=et[6]^_t,rr=et[7]^Et,Sr=et[16]^_t,lr=et[17]^Et,ur=et[26]^_t,Ur=et[27]^Et,dr=et[36]^_t,xr=et[37]^Et,er=et[46]^_t,Ft=et[47]^Et;_t=ct^(tt<<1|rt>>>31),Et=ut^(rt<<1|tt>>>31);const Lt=et[8]^_t,Qt=et[9]^Et,tr=et[18]^_t,sr=et[19]^Et,Er=et[28]^_t,mr=et[29]^Et,gr=et[38]^_t,Qr=et[39]^Et,wr=et[48]^_t,Vt=et[49]^Et,Dt=$t,Bt=It,Gt=At<<4|Tt>>>28,cr=Tt<<4|At>>>28,nr=Rt<<3|kt>>>29,or=kt<<3|Rt>>>29,qr=Wt<<9|Ot>>>23,vr=Ot<<9|Wt>>>23,br=zt<<18|Kt>>>14,Zr=Kt<<18|zt>>>14,yr=Jt<<1|ar>>>31,Rr=ar<<1|Jt>>>31,dn=Ct<<12|jt>>>20,Mr=jt<<12|Ct>>>20,$r=Nt<<10|ht>>>22,Sn=ht<<10|Nt>>>22,Ir=dt<<13|ot>>>19,kr=ot<<13|dt>>>19,xn=mt<<2|wt>>>30,Pr=wt<<2|mt>>>30,Nr=vt<<30|bt>>>2,wn=bt<<30|vt>>>2,Fr=St<<6|yt>>>26,Or=yt<<6|St>>>26,rn=xt<<11|lt>>>21,Cr=lt<<11|xt>>>21,Br=Ut<<15|Pt>>>17,Tn=Pt<<15|Ut>>>17,Dr=ir<<29|qt>>>3,Lr=qt<<29|ir>>>3,In=Yt<<28|rr>>>4,Ar=rr<<28|Yt>>>4,Tr=lr<<23|Sr>>>9,pn=Sr<<23|lr>>>9,jr=ur<<25|Ur>>>7,Hr=Ur<<25|ur>>>7,mn=dr<<21|xr>>>11,sn=xr<<21|dr>>>11,cn=Ft<<24|er>>>8,fn=er<<24|Ft>>>8,ln=Lt<<27|Qt>>>5,$n=Qt<<27|Lt>>>5,Pn=tr<<20|sr>>>12,vn=sr<<20|tr>>>12,kn=mr<<7|Er>>>25,Nn=Er<<7|mr>>>25,hn=gr<<8|Qr>>>24,Bn=Qr<<8|gr>>>24,yn=wr<<14|Vt>>>18,Cn=Vt<<14|wr>>>18;et[0]=Dt^~dn&rn,et[1]=Bt^~Mr&Cr,et[10]=In^~Pn&nr,et[11]=Ar^~vn&or,et[20]=yr^~Fr&jr,et[21]=Rr^~Or&Hr,et[30]=ln^~Gt&$r,et[31]=$n^~cr&Sn,et[40]=Nr^~Tr&kn,et[41]=wn^~pn&Nn,et[2]=dn^~rn&mn,et[3]=Mr^~Cr&sn,et[12]=Pn^~nr&Ir,et[13]=vn^~or&kr,et[22]=Fr^~jr&hn,et[23]=Or^~Hr&Bn,et[32]=Gt^~$r&Br,et[33]=cr^~Sn&Tn,et[42]=Tr^~kn&qr,et[43]=pn^~Nn&vr,et[4]=rn^~mn&yn,et[5]=Cr^~sn&Cn,et[14]=nr^~Ir&Dr,et[15]=or^~kr&Lr,et[24]=jr^~hn&br,et[25]=Hr^~Bn&Zr,et[34]=$r^~Br&cn,et[35]=Sn^~Tn&fn,et[44]=kn^~qr&xn,et[45]=Nn^~vr&Pr,et[6]=mn^~yn&Dt,et[7]=sn^~Cn&Bt,et[16]=Ir^~Dr&In,et[17]=kr^~Lr&Ar,et[26]=hn^~br&yr,et[27]=Bn^~Zr&Rr,et[36]=Br^~cn&ln,et[37]=Tn^~fn&$n,et[46]=qr^~xn&Nr,et[47]=vr^~Pr&wn,et[8]=yn^~Dt&dn,et[9]=Cn^~Bt&Mr,et[18]=Dr^~In&Pn,et[19]=Lr^~Ar&vn,et[28]=br^~yr&Fr,et[29]=Zr^~Rr&Or,et[38]=cn^~ln&Gt,et[39]=fn^~$n&cr,et[48]=xn^~Nr&Tr,et[49]=Pr^~wn&pn,et[0]^=P1600_ROUND_CONSTANTS[_e*2],et[1]^=P1600_ROUND_CONSTANTS[_e*2+1]}};const keccakState=keccakStateUnroll;function Keccak(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Keccak.prototype.initialize=function(et,_e){for(let tt=0;tt<50;++tt)this.state[tt]=0;this.blockSize=et/8,this.count=0,this.squeezing=!1};Keccak.prototype.absorb=function(et){for(let _e=0;_e<et.length;++_e)this.state[~~(this.count/4)]^=et[_e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0)};Keccak.prototype.absorbLastFewBits=function(et){this.state[~~(this.count/4)]^=et<<8*(this.count%4),(et&128)!==0&&this.count===this.blockSize-1&&keccakState.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),keccakState.p1600(this.state),this.count=0,this.squeezing=!0};Keccak.prototype.squeeze=function(et){this.squeezing||this.absorbLastFewBits(1);const _e=Buffer.alloc(et);for(let tt=0;tt<et;++tt)_e[tt]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0);return _e};Keccak.prototype.copy=function(et){for(let _e=0;_e<50;++_e)et.state[_e]=this.state[_e];et.blockSize=this.blockSize,et.count=this.count,et.squeezing=this.squeezing};var keccak$1=Keccak,js=api(keccak$1);const createKeccakHash=js,BN$2=bn$1.exports;function zeros(et){return Buffer.allocUnsafe(et).fill(0)}function setLength(et,_e,tt){const rt=zeros(_e);return et=toBuffer(et),tt?et.length<_e?(et.copy(rt),rt):et.slice(0,_e):et.length<_e?(et.copy(rt,_e-et.length),rt):et.slice(-_e)}function setLengthRight(et,_e){return setLength(et,_e,!0)}function toBuffer(et){if(!Buffer.isBuffer(et))if(Array.isArray(et))et=Buffer.from(et);else if(typeof et=="string")isHexString$2(et)?et=Buffer.from(padToEven(stripHexPrefix(et)),"hex"):et=Buffer.from(et);else if(typeof et=="number")et=intToBuffer(et);else if(et==null)et=Buffer.allocUnsafe(0);else if(BN$2.isBN(et))et=et.toArrayLike(Buffer);else if(et.toArray)et=Buffer.from(et.toArray());else throw new Error("invalid type");return et}function bufferToHex$1(et){return et=toBuffer(et),"0x"+et.toString("hex")}function keccak(et,_e){return et=toBuffer(et),_e||(_e=256),createKeccakHash("keccak"+_e).update(et).digest()}function padToEven(et){return et.length%2?"0"+et:et}function isHexString$2(et){return typeof et=="string"&&et.match(/^0x[0-9A-Fa-f]*$/)}function stripHexPrefix(et){return typeof et=="string"&&et.startsWith("0x")?et.slice(2):et}var util$4={zeros,setLength,setLengthRight,isHexString:isHexString$2,stripHexPrefix,toBuffer,bufferToHex:bufferToHex$1,keccak};const util$3=util$4,BN$1=bn$1.exports;function elementaryName(et){return et.startsWith("int[")?"int256"+et.slice(3):et==="int"?"int256":et.startsWith("uint[")?"uint256"+et.slice(4):et==="uint"?"uint256":et.startsWith("fixed[")?"fixed128x128"+et.slice(5):et==="fixed"?"fixed128x128":et.startsWith("ufixed[")?"ufixed128x128"+et.slice(6):et==="ufixed"?"ufixed128x128":et}function parseTypeN(et){return parseInt(/^\D+(\d+)$/.exec(et)[1],10)}function parseTypeNxM(et){var _e=/^\D+(\d+)x(\d+)$/.exec(et);return[parseInt(_e[1],10),parseInt(_e[2],10)]}function parseTypeArray(et){var _e=et.match(/(.*)\[(.*?)\]$/);return _e?_e[2]===""?"dynamic":parseInt(_e[2],10):null}function parseNumber(et){var _e=typeof et;if(_e==="string")return util$3.isHexString(et)?new BN$1(util$3.stripHexPrefix(et),16):new BN$1(et,10);if(_e==="number")return new BN$1(et);if(et.toArray)return et;throw new Error("Argument is not a number")}function encodeSingle(et,_e){var tt,rt,nt,it;if(et==="address")return encodeSingle("uint160",parseNumber(_e));if(et==="bool")return encodeSingle("uint8",_e?1:0);if(et==="string")return encodeSingle("bytes",new Buffer(_e,"utf8"));if(isArray$2(et)){if(typeof _e.length=="undefined")throw new Error("Not an array?");if(tt=parseTypeArray(et),tt!=="dynamic"&&tt!==0&&_e.length>tt)throw new Error("Elements exceed array size: "+tt);nt=[],et=et.slice(0,et.lastIndexOf("[")),typeof _e=="string"&&(_e=JSON.parse(_e));for(it in _e)nt.push(encodeSingle(et,_e[it]));if(tt==="dynamic"){var at=encodeSingle("uint256",_e.length);nt.unshift(at)}return Buffer.concat(nt)}else{if(et==="bytes")return _e=new Buffer(_e),nt=Buffer.concat([encodeSingle("uint256",_e.length),_e]),_e.length%32!==0&&(nt=Buffer.concat([nt,util$3.zeros(32-_e.length%32)])),nt;if(et.startsWith("bytes")){if(tt=parseTypeN(et),tt<1||tt>32)throw new Error("Invalid bytes<N> width: "+tt);return util$3.setLengthRight(_e,32)}else if(et.startsWith("uint")){if(tt=parseTypeN(et),tt%8||tt<8||tt>256)throw new Error("Invalid uint<N> width: "+tt);if(rt=parseNumber(_e),rt.bitLength()>tt)throw new Error("Supplied uint exceeds width: "+tt+" vs "+rt.bitLength());if(rt<0)throw new Error("Supplied uint is negative");return rt.toArrayLike(Buffer,"be",32)}else if(et.startsWith("int")){if(tt=parseTypeN(et),tt%8||tt<8||tt>256)throw new Error("Invalid int<N> width: "+tt);if(rt=parseNumber(_e),rt.bitLength()>tt)throw new Error("Supplied int exceeds width: "+tt+" vs "+rt.bitLength());return rt.toTwos(256).toArrayLike(Buffer,"be",32)}else if(et.startsWith("ufixed")){if(tt=parseTypeNxM(et),rt=parseNumber(_e),rt<0)throw new Error("Supplied ufixed is negative");return encodeSingle("uint256",rt.mul(new BN$1(2).pow(new BN$1(tt[1]))))}else if(et.startsWith("fixed"))return tt=parseTypeNxM(et),encodeSingle("int256",parseNumber(_e).mul(new BN$1(2).pow(new BN$1(tt[1]))))}throw new Error("Unsupported or invalid type: "+et)}function isDynamic(et){return et==="string"||et==="bytes"||parseTypeArray(et)==="dynamic"}function isArray$2(et){return et.lastIndexOf("]")===et.length-1}function rawEncode(et,_e){var tt=[],rt=[],nt=32*et.length;for(var it in et){var at=elementaryName(et[it]),st=_e[it],ct=encodeSingle(at,st);isDynamic(at)?(tt.push(encodeSingle("uint256",nt)),rt.push(ct),nt+=ct.length):tt.push(ct)}return Buffer.concat(tt.concat(rt))}function solidityPack(et,_e){if(et.length!==_e.length)throw new Error("Number of types are not matching the values");for(var tt,rt,nt=[],it=0;it<et.length;it++){var at=elementaryName(et[it]),st=_e[it];if(at==="bytes")nt.push(st);else if(at==="string")nt.push(new Buffer(st,"utf8"));else if(at==="bool")nt.push(new Buffer(st?"01":"00","hex"));else if(at==="address")nt.push(util$3.setLength(st,20));else if(at.startsWith("bytes")){if(tt=parseTypeN(at),tt<1||tt>32)throw new Error("Invalid bytes<N> width: "+tt);nt.push(util$3.setLengthRight(st,tt))}else if(at.startsWith("uint")){if(tt=parseTypeN(at),tt%8||tt<8||tt>256)throw new Error("Invalid uint<N> width: "+tt);if(rt=parseNumber(st),rt.bitLength()>tt)throw new Error("Supplied uint exceeds width: "+tt+" vs "+rt.bitLength());nt.push(rt.toArrayLike(Buffer,"be",tt/8))}else if(at.startsWith("int")){if(tt=parseTypeN(at),tt%8||tt<8||tt>256)throw new Error("Invalid int<N> width: "+tt);if(rt=parseNumber(st),rt.bitLength()>tt)throw new Error("Supplied int exceeds width: "+tt+" vs "+rt.bitLength());nt.push(rt.toTwos(tt).toArrayLike(Buffer,"be",tt/8))}else throw new Error("Unsupported or invalid type: "+at)}return Buffer.concat(nt)}function soliditySHA3(et,_e){return util$3.keccak(solidityPack(et,_e))}var abi$1={rawEncode,solidityPack,soliditySHA3};const util$2=util$4,abi=abi$1,TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},TypedDataUtils={encodeData(et,_e,tt,rt=!0){const nt=["bytes32"],it=[this.hashType(et,tt)];if(rt){const at=(st,ct,ut)=>{if(tt[ct]!==void 0)return["bytes32",ut==null?"0x0000000000000000000000000000000000000000000000000000000000000000":util$2.keccak(this.encodeData(ct,ut,tt,rt))];if(ut===void 0)throw new Error(`missing value for field ${st} of type ${ct}`);if(ct==="bytes")return["bytes32",util$2.keccak(ut)];if(ct==="string")return typeof ut=="string"&&(ut=Buffer.from(ut,"utf8")),["bytes32",util$2.keccak(ut)];if(ct.lastIndexOf("]")===ct.length-1){const ft=ct.slice(0,ct.lastIndexOf("[")),gt=ut.map(_t=>at(st,ft,_t));return["bytes32",util$2.keccak(abi.rawEncode(gt.map(([_t])=>_t),gt.map(([,_t])=>_t)))]}return[ct,ut]};for(const st of tt[et]){const[ct,ut]=at(st.name,st.type,_e[st.name]);nt.push(ct),it.push(ut)}}else for(const at of tt[et]){let st=_e[at.name];if(st!==void 0)if(at.type==="bytes")nt.push("bytes32"),st=util$2.keccak(st),it.push(st);else if(at.type==="string")nt.push("bytes32"),typeof st=="string"&&(st=Buffer.from(st,"utf8")),st=util$2.keccak(st),it.push(st);else if(tt[at.type]!==void 0)nt.push("bytes32"),st=util$2.keccak(this.encodeData(at.type,st,tt,rt)),it.push(st);else{if(at.type.lastIndexOf("]")===at.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");nt.push(at.type),it.push(st)}}return abi.rawEncode(nt,it)},encodeType(et,_e){let tt="",rt=this.findTypeDependencies(et,_e).filter(nt=>nt!==et);rt=[et].concat(rt.sort());for(const nt of rt){if(!_e[nt])throw new Error("No type definition specified: "+nt);tt+=nt+"("+_e[nt].map(({name:at,type:st})=>st+" "+at).join(",")+")"}return tt},findTypeDependencies(et,_e,tt=[]){if(et=et.match(/^\w*/)[0],tt.includes(et)||_e[et]===void 0)return tt;tt.push(et);for(const rt of _e[et])for(const nt of this.findTypeDependencies(rt.type,_e,tt))!tt.includes(nt)&&tt.push(nt);return tt},hashStruct(et,_e,tt,rt=!0){return util$2.keccak(this.encodeData(et,_e,tt,rt))},hashType(et,_e){return util$2.keccak(this.encodeType(et,_e))},sanitizeData(et){const _e={};for(const tt in TYPED_MESSAGE_SCHEMA.properties)et[tt]&&(_e[tt]=et[tt]);return _e.types&&(_e.types=Object.assign({EIP712Domain:[]},_e.types)),_e},hash(et,_e=!0){const tt=this.sanitizeData(et),rt=[Buffer.from("1901","hex")];return rt.push(this.hashStruct("EIP712Domain",tt.domain,tt.types,_e)),tt.primaryType!=="EIP712Domain"&&rt.push(this.hashStruct(tt.primaryType,tt.message,tt.types,_e)),util$2.keccak(Buffer.concat(rt))}};var ethEip712Util={TYPED_MESSAGE_SCHEMA,TypedDataUtils,hashForSignTypedDataLegacy:function(et){return typedSignatureHashLegacy(et.data)},hashForSignTypedData_v3:function(et){return TypedDataUtils.hash(et.data,!1)},hashForSignTypedData_v4:function(et){return TypedDataUtils.hash(et.data)}};function typedSignatureHashLegacy(et){const _e=new Error("Expect argument to be non-empty array");if(typeof et!="object"||!et.length)throw _e;const tt=et.map(function(it){return it.type==="bytes"?util$2.toBuffer(it.value):it.value}),rt=et.map(function(it){return it.type}),nt=et.map(function(it){if(!it.name)throw _e;return it.type+" "+it.name});return abi.soliditySHA3(["bytes32","bytes32"],[abi.soliditySHA3(new Array(et.length).fill("string"),nt),abi.soliditySHA3(rt,tt)])}var FilterPolyfill$1={};Object.defineProperty(FilterPolyfill$1,"__esModule",{value:!0});FilterPolyfill$1.filterFromParam=FilterPolyfill$1.FilterPolyfill=void 0;const types_1$1=types$2,util_1$6=util$5,TIMEOUT=5*60*1e3,JSONRPC_TEMPLATE={jsonrpc:"2.0",id:0};class FilterPolyfill{constructor(_e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,types_1$1.IntNumber)(1),this.provider=_e}async newFilter(_e){const tt=filterFromParam(_e),rt=this.makeFilterId(),nt=await this.setInitialCursorPosition(rt,tt.fromBlock);return console.log(`Installing new log filter(${rt}):`,tt,"initial cursor position:",nt),this.logFilters.set(rt,tt),this.setFilterTimeout(rt),(0,util_1$6.hexStringFromIntNumber)(rt)}async newBlockFilter(){const _e=this.makeFilterId(),tt=await this.setInitialCursorPosition(_e,"latest");return console.log(`Installing new block filter (${_e}) with initial cursor position:`,tt),this.blockFilters.add(_e),this.setFilterTimeout(_e),(0,util_1$6.hexStringFromIntNumber)(_e)}async newPendingTransactionFilter(){const _e=this.makeFilterId(),tt=await this.setInitialCursorPosition(_e,"latest");return console.log(`Installing new block filter (${_e}) with initial cursor position:`,tt),this.pendingTransactionFilters.add(_e),this.setFilterTimeout(_e),(0,util_1$6.hexStringFromIntNumber)(_e)}uninstallFilter(_e){const tt=(0,util_1$6.intNumberFromHexString)(_e);return console.log(`Uninstalling filter (${tt})`),this.deleteFilter(tt),!0}getFilterChanges(_e){const tt=(0,util_1$6.intNumberFromHexString)(_e);return this.timeouts.has(tt)&&this.setFilterTimeout(tt),this.logFilters.has(tt)?this.getLogFilterChanges(tt):this.blockFilters.has(tt)?this.getBlockFilterChanges(tt):this.pendingTransactionFilters.has(tt)?this.getPendingTransactionFilterChanges(tt):Promise.resolve(filterNotFoundError())}async getFilterLogs(_e){const tt=(0,util_1$6.intNumberFromHexString)(_e),rt=this.logFilters.get(tt);return rt?this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getLogs",params:[paramFromFilter(rt)]})):filterNotFoundError()}makeFilterId(){return(0,types_1$1.IntNumber)(++this.nextFilterId)}sendAsyncPromise(_e){return new Promise((tt,rt)=>{this.provider.sendAsync(_e,(nt,it)=>{if(nt)return rt(nt);if(Array.isArray(it)||it==null)return rt(new Error(`unexpected response received: ${JSON.stringify(it)}`));tt(it)})})}deleteFilter(_e){console.log(`Deleting filter (${_e})`),this.logFilters.delete(_e),this.blockFilters.delete(_e),this.pendingTransactionFilters.delete(_e),this.cursors.delete(_e),this.timeouts.delete(_e)}async getLogFilterChanges(_e){const tt=this.logFilters.get(_e),rt=this.cursors.get(_e);if(!rt||!tt)return filterNotFoundError();const nt=await this.getCurrentBlockHeight(),it=tt.toBlock==="latest"?nt:tt.toBlock;if(rt>nt||rt>tt.toBlock)return emptyResult();console.log(`Fetching logs from ${rt} to ${it} for filter ${_e}`);const at=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getLogs",params:[paramFromFilter(Object.assign(Object.assign({},tt),{fromBlock:rt,toBlock:it}))]}));if(Array.isArray(at.result)){const st=at.result.map(ut=>(0,util_1$6.intNumberFromHexString)(ut.blockNumber||"0x0")),ct=Math.max(...st);if(ct&&ct>rt){const ut=(0,types_1$1.IntNumber)(ct+1);console.log(`Moving cursor position for filter (${_e}) from ${rt} to ${ut}`),this.cursors.set(_e,ut)}}return at}async getBlockFilterChanges(_e){const tt=this.cursors.get(_e);if(!tt)return filterNotFoundError();const rt=await this.getCurrentBlockHeight();if(tt>rt)return emptyResult();console.log(`Fetching blocks from ${tt} to ${rt} for filter (${_e})`);const nt=(await Promise.all((0,util_1$6.range)(tt,rt+1).map(at=>this.getBlockHashByNumber((0,types_1$1.IntNumber)(at))))).filter(at=>!!at),it=(0,types_1$1.IntNumber)(tt+nt.length);return console.log(`Moving cursor position for filter (${_e}) from ${tt} to ${it}`),this.cursors.set(_e,it),Object.assign(Object.assign({},JSONRPC_TEMPLATE),{result:nt})}async getPendingTransactionFilterChanges(_e){return Promise.resolve(emptyResult())}async setInitialCursorPosition(_e,tt){const rt=await this.getCurrentBlockHeight(),nt=typeof tt=="number"&&tt>rt?tt:rt;return this.cursors.set(_e,nt),nt}setFilterTimeout(_e){const tt=this.timeouts.get(_e);tt&&window.clearTimeout(tt);const rt=window.setTimeout(()=>{console.log(`Filter (${_e}) timed out`),this.deleteFilter(_e)},TIMEOUT);this.timeouts.set(_e,rt)}async getCurrentBlockHeight(){const{result:_e}=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_blockNumber",params:[]}));return(0,util_1$6.intNumberFromHexString)((0,util_1$6.ensureHexString)(_e))}async getBlockHashByNumber(_e){const tt=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getBlockByNumber",params:[(0,util_1$6.hexStringFromIntNumber)(_e),!1]}));return tt.result&&typeof tt.result.hash=="string"?(0,util_1$6.ensureHexString)(tt.result.hash):null}}FilterPolyfill$1.FilterPolyfill=FilterPolyfill;function filterFromParam(et){return{fromBlock:intBlockHeightFromHexBlockHeight(et.fromBlock),toBlock:intBlockHeightFromHexBlockHeight(et.toBlock),addresses:et.address===void 0?null:Array.isArray(et.address)?et.address:[et.address],topics:et.topics||[]}}FilterPolyfill$1.filterFromParam=filterFromParam;function paramFromFilter(et){const _e={fromBlock:hexBlockHeightFromIntBlockHeight(et.fromBlock),toBlock:hexBlockHeightFromIntBlockHeight(et.toBlock),topics:et.topics};return et.addresses!==null&&(_e.address=et.addresses),_e}function intBlockHeightFromHexBlockHeight(et){if(et===void 0||et==="latest"||et==="pending")return"latest";if(et==="earliest")return(0,types_1$1.IntNumber)(0);if((0,util_1$6.isHexString)(et))return(0,util_1$6.intNumberFromHexString)(et);throw new Error(`Invalid block option: ${String(et)}`)}function hexBlockHeightFromIntBlockHeight(et){return et==="latest"?et:(0,util_1$6.hexStringFromIntNumber)(et)}function filterNotFoundError(){return Object.assign(Object.assign({},JSONRPC_TEMPLATE),{error:{code:-32e3,message:"filter not found"}})}function emptyResult(){return Object.assign(Object.assign({},JSONRPC_TEMPLATE),{result:[]})}var JSONRPC={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.JSONRPCMethod=void 0,function(_e){_e.eth_accounts="eth_accounts",_e.eth_coinbase="eth_coinbase",_e.net_version="net_version",_e.eth_chainId="eth_chainId",_e.eth_uninstallFilter="eth_uninstallFilter",_e.eth_requestAccounts="eth_requestAccounts",_e.eth_sign="eth_sign",_e.eth_ecRecover="eth_ecRecover",_e.personal_sign="personal_sign",_e.personal_ecRecover="personal_ecRecover",_e.eth_signTransaction="eth_signTransaction",_e.eth_sendRawTransaction="eth_sendRawTransaction",_e.eth_sendTransaction="eth_sendTransaction",_e.eth_signTypedData_v1="eth_signTypedData_v1",_e.eth_signTypedData_v2="eth_signTypedData_v2",_e.eth_signTypedData_v3="eth_signTypedData_v3",_e.eth_signTypedData_v4="eth_signTypedData_v4",_e.eth_signTypedData="eth_signTypedData",_e.cbWallet_arbitrary="walletlink_arbitrary",_e.wallet_addEthereumChain="wallet_addEthereumChain",_e.wallet_switchEthereumChain="wallet_switchEthereumChain",_e.wallet_watchAsset="wallet_watchAsset",_e.eth_subscribe="eth_subscribe",_e.eth_unsubscribe="eth_unsubscribe",_e.eth_newFilter="eth_newFilter",_e.eth_newBlockFilter="eth_newBlockFilter",_e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",_e.eth_getFilterChanges="eth_getFilterChanges",_e.eth_getFilterLogs="eth_getFilterLogs"}(et.JSONRPCMethod||(et.JSONRPCMethod={}))})(JSONRPC);var SubscriptionManager$1={};const processFn$1=(et,_e)=>function(){const tt=_e.promiseModule,rt=new Array(arguments.length);for(let nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];return new tt((nt,it)=>{_e.errorFirst?rt.push(function(at,st){if(_e.multiArgs){const ct=new Array(arguments.length-1);for(let ut=1;ut<arguments.length;ut++)ct[ut-1]=arguments[ut];at?(ct.unshift(at),it(ct)):nt(ct)}else at?it(at):nt(st)}):rt.push(function(at){if(_e.multiArgs){const st=new Array(arguments.length-1);for(let ct=0;ct<arguments.length;ct++)st[ct]=arguments[ct];nt(st)}else nt(at)}),et.apply(this,rt)})};var pify$3=(et,_e)=>{_e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},_e);const tt=nt=>{const it=at=>typeof at=="string"?nt===at:at.test(nt);return _e.include?_e.include.some(it):!_e.exclude.some(it)};let rt;typeof et=="function"?rt=function(){return _e.excludeMain?et.apply(this,arguments):processFn$1(et,_e).apply(this,arguments)}:rt=Object.create(Object.getPrototypeOf(et));for(const nt in et){const it=et[nt];rt[nt]=typeof it=="function"&&tt(nt)?processFn$1(it,_e):it}return rt},immutable=extend$1,hasOwnProperty$2=Object.prototype.hasOwnProperty;function extend$1(){for(var et={},_e=0;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)hasOwnProperty$2.call(tt,rt)&&(et[rt]=tt[rt])}return et}var jsonRpcRandomId=IdIterator;function IdIterator(et){et=et||{};var _e=et.max||Number.MAX_SAFE_INTEGER,tt=typeof et.start!="undefined"?et.start:Math.floor(Math.random()*_e);return function(){return tt=tt%_e,tt++}}const extend=immutable,createRandomId=jsonRpcRandomId();var ethQuery=EthQuery$1;function EthQuery$1(et){const _e=this;_e.currentProvider=et}EthQuery$1.prototype.getBalance=generateFnWithDefaultBlockFor(2,"eth_getBalance");EthQuery$1.prototype.getCode=generateFnWithDefaultBlockFor(2,"eth_getCode");EthQuery$1.prototype.getTransactionCount=generateFnWithDefaultBlockFor(2,"eth_getTransactionCount");EthQuery$1.prototype.getStorageAt=generateFnWithDefaultBlockFor(3,"eth_getStorageAt");EthQuery$1.prototype.call=generateFnWithDefaultBlockFor(2,"eth_call");EthQuery$1.prototype.protocolVersion=generateFnFor("eth_protocolVersion");EthQuery$1.prototype.syncing=generateFnFor("eth_syncing");EthQuery$1.prototype.coinbase=generateFnFor("eth_coinbase");EthQuery$1.prototype.mining=generateFnFor("eth_mining");EthQuery$1.prototype.hashrate=generateFnFor("eth_hashrate");EthQuery$1.prototype.gasPrice=generateFnFor("eth_gasPrice");EthQuery$1.prototype.accounts=generateFnFor("eth_accounts");EthQuery$1.prototype.blockNumber=generateFnFor("eth_blockNumber");EthQuery$1.prototype.getBlockTransactionCountByHash=generateFnFor("eth_getBlockTransactionCountByHash");EthQuery$1.prototype.getBlockTransactionCountByNumber=generateFnFor("eth_getBlockTransactionCountByNumber");EthQuery$1.prototype.getUncleCountByBlockHash=generateFnFor("eth_getUncleCountByBlockHash");EthQuery$1.prototype.getUncleCountByBlockNumber=generateFnFor("eth_getUncleCountByBlockNumber");EthQuery$1.prototype.sign=generateFnFor("eth_sign");EthQuery$1.prototype.sendTransaction=generateFnFor("eth_sendTransaction");EthQuery$1.prototype.sendRawTransaction=generateFnFor("eth_sendRawTransaction");EthQuery$1.prototype.estimateGas=generateFnFor("eth_estimateGas");EthQuery$1.prototype.getBlockByHash=generateFnFor("eth_getBlockByHash");EthQuery$1.prototype.getBlockByNumber=generateFnFor("eth_getBlockByNumber");EthQuery$1.prototype.getTransactionByHash=generateFnFor("eth_getTransactionByHash");EthQuery$1.prototype.getTransactionByBlockHashAndIndex=generateFnFor("eth_getTransactionByBlockHashAndIndex");EthQuery$1.prototype.getTransactionByBlockNumberAndIndex=generateFnFor("eth_getTransactionByBlockNumberAndIndex");EthQuery$1.prototype.getTransactionReceipt=generateFnFor("eth_getTransactionReceipt");EthQuery$1.prototype.getUncleByBlockHashAndIndex=generateFnFor("eth_getUncleByBlockHashAndIndex");EthQuery$1.prototype.getUncleByBlockNumberAndIndex=generateFnFor("eth_getUncleByBlockNumberAndIndex");EthQuery$1.prototype.getCompilers=generateFnFor("eth_getCompilers");EthQuery$1.prototype.compileLLL=generateFnFor("eth_compileLLL");EthQuery$1.prototype.compileSolidity=generateFnFor("eth_compileSolidity");EthQuery$1.prototype.compileSerpent=generateFnFor("eth_compileSerpent");EthQuery$1.prototype.newFilter=generateFnFor("eth_newFilter");EthQuery$1.prototype.newBlockFilter=generateFnFor("eth_newBlockFilter");EthQuery$1.prototype.newPendingTransactionFilter=generateFnFor("eth_newPendingTransactionFilter");EthQuery$1.prototype.uninstallFilter=generateFnFor("eth_uninstallFilter");EthQuery$1.prototype.getFilterChanges=generateFnFor("eth_getFilterChanges");EthQuery$1.prototype.getFilterLogs=generateFnFor("eth_getFilterLogs");EthQuery$1.prototype.getLogs=generateFnFor("eth_getLogs");EthQuery$1.prototype.getWork=generateFnFor("eth_getWork");EthQuery$1.prototype.submitWork=generateFnFor("eth_submitWork");EthQuery$1.prototype.submitHashrate=generateFnFor("eth_submitHashrate");EthQuery$1.prototype.sendAsync=function(et,_e){this.currentProvider.sendAsync(createPayload(et),function(rt,nt){if(!rt&&nt.error&&(rt=new Error("EthQuery - RPC Error - "+nt.error.message)),rt)return _e(rt);_e(null,nt.result)})};function generateFnFor(et){return function(){const _e=this;var tt=[].slice.call(arguments),rt=tt.pop();_e.sendAsync({method:et,params:tt},rt)}}function generateFnWithDefaultBlockFor(et,_e){return function(){const tt=this;var rt=[].slice.call(arguments),nt=rt.pop();rt.length<et&&rt.push("latest"),tt.sendAsync({method:_e,params:rt},nt)}}function createPayload(et){return extend({id:createRandomId(),jsonrpc:"2.0",params:[]},et)}var util$1={},types$1={},hasSymbols=shams$1,shams=function et(){return hasSymbols()&&!!Symbol.toStringTag},hasToStringTag$4=shams(),callBound$2=callBound$4,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function et(_e){return hasToStringTag$4&&_e&&typeof _e=="object"&&Symbol.toStringTag in _e?!1:$toString$2(_e)==="[object Arguments]"},isLegacyArguments=function et(_e){return isStandardArguments(_e)?!0:_e!==null&&typeof _e=="object"&&typeof _e.length=="number"&&_e.length>=0&&$toString$2(_e)!=="[object Array]"&&$toString$2(_e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$3=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$3)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function et(_e){if(typeof _e!="function")return!1;if(isFnRegex.test(fnToStr$1.call(_e)))return!0;if(!hasToStringTag$3){var tt=toStr$2.call(_e);return tt==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction=="undefined"){var rt=getGeneratorFunc();GeneratorFunction=rt?getProto(rt):!1}return getProto(_e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(et){et!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function et(_e){try{var tt=fnToStr.call(_e);return constructorRegex.test(tt)}catch{return!1}},tryFunctionObject=function et(_e){try{return isES6ClassFn(_e)?!1:(fnToStr.call(_e),!0)}catch{return!1}},toStr$1=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$2=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function et(){return!1};if(typeof document=="object"){var all=document.all;toStr$1.call(all)===toStr$1.call(document.all)&&(isDDA=function(_e){if((isIE68||!_e)&&(typeof _e=="undefined"||typeof _e=="object"))try{var tt=toStr$1.call(_e);return(tt===ddaClass||tt===ddaClass2||tt===ddaClass3||tt===objectClass)&&_e("")==null}catch{}return!1})}var isCallable$1=reflectApply?function et(_e){if(isDDA(_e))return!0;if(!_e||typeof _e!="function"&&typeof _e!="object")return!1;try{reflectApply(_e,null,badArrayLike)}catch(tt){if(tt!==isCallableMarker)return!1}return!isES6ClassFn(_e)&&tryFunctionObject(_e)}:function et(_e){if(isDDA(_e))return!0;if(!_e||typeof _e!="function"&&typeof _e!="object")return!1;if(hasToStringTag$2)return tryFunctionObject(_e);if(isES6ClassFn(_e))return!1;var tt=toStr$1.call(_e);return tt!==fnClass&&tt!==genClass&&!/^\[object HTML/.test(tt)?!1:tryFunctionObject(_e)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty,forEachArray=function et(_e,tt,rt){for(var nt=0,it=_e.length;nt<it;nt++)hasOwnProperty$1.call(_e,nt)&&(rt==null?tt(_e[nt],nt,_e):tt.call(rt,_e[nt],nt,_e))},forEachString=function et(_e,tt,rt){for(var nt=0,it=_e.length;nt<it;nt++)rt==null?tt(_e.charAt(nt),nt,_e):tt.call(rt,_e.charAt(nt),nt,_e)},forEachObject=function et(_e,tt,rt){for(var nt in _e)hasOwnProperty$1.call(_e,nt)&&(rt==null?tt(_e[nt],nt,_e):tt.call(rt,_e[nt],nt,_e))},forEach$2=function et(_e,tt,rt){if(!isCallable(tt))throw new TypeError("iterator must be a function");var nt;arguments.length>=3&&(nt=rt),toStr.call(_e)==="[object Array]"?forEachArray(_e,tt,nt):typeof _e=="string"?forEachString(_e,tt,nt):forEachObject(_e,tt,nt)},forEach_1=forEach$2,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$7=globalThis,availableTypedArrays$2=function et(){for(var _e=[],tt=0;tt<possibleNames.length;tt++)typeof g$7[possibleNames[tt]]=="function"&&(_e[_e.length]=possibleNames[tt]);return _e},GetIntrinsic=getIntrinsic,$gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd=$gOPD,forEach$1=forEach_1,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$4,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),gOPD$1=gopd,g$6=globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function et(_e,tt){for(var rt=0;rt<_e.length;rt+=1)if(_e[rt]===tt)return rt;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$1&&forEach$1(typedArrays$1,function(et){var _e=new g$6[et];if(Symbol.toStringTag in _e){var tt=getPrototypeOf$1(_e),rt=gOPD$1(tt,Symbol.toStringTag);if(!rt){var nt=getPrototypeOf$1(tt);rt=gOPD$1(nt,Symbol.toStringTag)}toStrTags$1[et]=rt.get}});var tryTypedArrays$1=function et(_e){var tt=!1;return forEach$1(toStrTags$1,function(rt,nt){if(!tt)try{tt=rt.call(_e)===nt}catch{}}),tt},isTypedArray$3=function et(_e){if(!_e||typeof _e!="object")return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in _e)){var tt=$slice$1($toString$1(_e),8,-1);return $indexOf(typedArrays$1,tt)>-1}return gOPD$1?tryTypedArrays$1(_e):!1},forEach=forEach_1,availableTypedArrays=availableTypedArrays$2,callBound=callBound$4,gOPD=gopd,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g$5=globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(et){if(typeof g$5[et]=="function"){var _e=new g$5[et];if(Symbol.toStringTag in _e){var tt=getPrototypeOf(_e),rt=gOPD(tt,Symbol.toStringTag);if(!rt){var nt=getPrototypeOf(tt);rt=gOPD(nt,Symbol.toStringTag)}toStrTags[et]=rt.get}}});var tryTypedArrays=function et(_e){var tt=!1;return forEach(toStrTags,function(rt,nt){if(!tt)try{var it=rt.call(_e);it===nt&&(tt=it)}catch{}}),tt},isTypedArray$2=isTypedArray$3,whichTypedArray=function et(_e){return isTypedArray$2(_e)?!hasToStringTag||!(Symbol.toStringTag in _e)?$slice($toString(_e),8,-1):tryTypedArrays(_e):!1};(function(et){var _e=isArguments,tt=isGeneratorFunction,rt=whichTypedArray,nt=isTypedArray$3;function it(Qt){return Qt.call.bind(Qt)}var at=typeof BigInt!="undefined",st=typeof Symbol!="undefined",ct=it(Object.prototype.toString),ut=it(Number.prototype.valueOf),ft=it(String.prototype.valueOf),gt=it(Boolean.prototype.valueOf);if(at)var _t=it(BigInt.prototype.valueOf);if(st)var Et=it(Symbol.prototype.valueOf);function $t(Qt,tr){if(typeof Qt!="object")return!1;try{return tr(Qt),!0}catch{return!1}}et.isArgumentsObject=_e,et.isGeneratorFunction=tt,et.isTypedArray=nt;function It(Qt){return typeof Promise!="undefined"&&Qt instanceof Promise||Qt!==null&&typeof Qt=="object"&&typeof Qt.then=="function"&&typeof Qt.catch=="function"}et.isPromise=It;function Tt(Qt){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(Qt):nt(Qt)||xt(Qt)}et.isArrayBufferView=Tt;function At(Qt){return rt(Qt)==="Uint8Array"}et.isUint8Array=At;function Rt(Qt){return rt(Qt)==="Uint8ClampedArray"}et.isUint8ClampedArray=Rt;function kt(Qt){return rt(Qt)==="Uint16Array"}et.isUint16Array=kt;function Ot(Qt){return rt(Qt)==="Uint32Array"}et.isUint32Array=Ot;function Wt(Qt){return rt(Qt)==="Int8Array"}et.isInt8Array=Wt;function zt(Qt){return rt(Qt)==="Int16Array"}et.isInt16Array=zt;function Kt(Qt){return rt(Qt)==="Int32Array"}et.isInt32Array=Kt;function Jt(Qt){return rt(Qt)==="Float32Array"}et.isFloat32Array=Jt;function ar(Qt){return rt(Qt)==="Float64Array"}et.isFloat64Array=ar;function jt(Qt){return rt(Qt)==="BigInt64Array"}et.isBigInt64Array=jt;function Ct(Qt){return rt(Qt)==="BigUint64Array"}et.isBigUint64Array=Ct;function Nt(Qt){return ct(Qt)==="[object Map]"}Nt.working=typeof Map!="undefined"&&Nt(new Map);function ht(Qt){return typeof Map=="undefined"?!1:Nt.working?Nt(Qt):Qt instanceof Map}et.isMap=ht;function ot(Qt){return ct(Qt)==="[object Set]"}ot.working=typeof Set!="undefined"&&ot(new Set);function dt(Qt){return typeof Set=="undefined"?!1:ot.working?ot(Qt):Qt instanceof Set}et.isSet=dt;function mt(Qt){return ct(Qt)==="[object WeakMap]"}mt.working=typeof WeakMap!="undefined"&&mt(new WeakMap);function wt(Qt){return typeof WeakMap=="undefined"?!1:mt.working?mt(Qt):Qt instanceof WeakMap}et.isWeakMap=wt;function bt(Qt){return ct(Qt)==="[object WeakSet]"}bt.working=typeof WeakSet!="undefined"&&bt(new WeakSet);function vt(Qt){return bt(Qt)}et.isWeakSet=vt;function St(Qt){return ct(Qt)==="[object ArrayBuffer]"}St.working=typeof ArrayBuffer!="undefined"&&St(new ArrayBuffer);function yt(Qt){return typeof ArrayBuffer=="undefined"?!1:St.working?St(Qt):Qt instanceof ArrayBuffer}et.isArrayBuffer=yt;function lt(Qt){return ct(Qt)==="[object DataView]"}lt.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&lt(new DataView(new ArrayBuffer(1),0,1));function xt(Qt){return typeof DataView=="undefined"?!1:lt.working?lt(Qt):Qt instanceof DataView}et.isDataView=xt;var Ut=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function Pt(Qt){return ct(Qt)==="[object SharedArrayBuffer]"}function qt(Qt){return typeof Ut=="undefined"?!1:(typeof Pt.working=="undefined"&&(Pt.working=Pt(new Ut)),Pt.working?Pt(Qt):Qt instanceof Ut)}et.isSharedArrayBuffer=qt;function ir(Qt){return ct(Qt)==="[object AsyncFunction]"}et.isAsyncFunction=ir;function Yt(Qt){return ct(Qt)==="[object Map Iterator]"}et.isMapIterator=Yt;function rr(Qt){return ct(Qt)==="[object Set Iterator]"}et.isSetIterator=rr;function Sr(Qt){return ct(Qt)==="[object Generator]"}et.isGeneratorObject=Sr;function lr(Qt){return ct(Qt)==="[object WebAssembly.Module]"}et.isWebAssemblyCompiledModule=lr;function ur(Qt){return $t(Qt,ut)}et.isNumberObject=ur;function Ur(Qt){return $t(Qt,ft)}et.isStringObject=Ur;function dr(Qt){return $t(Qt,gt)}et.isBooleanObject=dr;function xr(Qt){return at&&$t(Qt,_t)}et.isBigIntObject=xr;function er(Qt){return st&&$t(Qt,Et)}et.isSymbolObject=er;function Ft(Qt){return ur(Qt)||Ur(Qt)||dr(Qt)||xr(Qt)||er(Qt)}et.isBoxedPrimitive=Ft;function Lt(Qt){return typeof Uint8Array!="undefined"&&(yt(Qt)||qt(Qt))}et.isAnyArrayBuffer=Lt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Qt){Object.defineProperty(et,Qt,{enumerable:!1,value:function(){throw new Error(Qt+" is not supported in userland")}})})})(types$1);var isBufferBrowser=function et(_e){return _e&&typeof _e=="object"&&typeof _e.copy=="function"&&typeof _e.fill=="function"&&typeof _e.readUInt8=="function"};(function(et){var _e=Object.getOwnPropertyDescriptors||function(xt){for(var Ut=Object.keys(xt),Pt={},qt=0;qt<Ut.length;qt++)Pt[Ut[qt]]=Object.getOwnPropertyDescriptor(xt,Ut[qt]);return Pt},tt=/%[sdj%]/g;et.format=function(lt){if(!Wt(lt)){for(var xt=[],Ut=0;Ut<arguments.length;Ut++)xt.push(at(arguments[Ut]));return xt.join(" ")}for(var Ut=1,Pt=arguments,qt=Pt.length,ir=String(lt).replace(tt,function(rr){if(rr==="%%")return"%";if(Ut>=qt)return rr;switch(rr){case"%s":return String(Pt[Ut++]);case"%d":return Number(Pt[Ut++]);case"%j":try{return JSON.stringify(Pt[Ut++])}catch{return"[Circular]"}default:return rr}}),Yt=Pt[Ut];Ut<qt;Yt=Pt[++Ut])Rt(Yt)||!ar(Yt)?ir+=" "+Yt:ir+=" "+at(Yt);return ir},et.deprecate=function(lt,xt){if(typeof process!="undefined"&&process.noDeprecation===!0)return lt;if(typeof process=="undefined")return function(){return et.deprecate(lt,xt).apply(this,arguments)};var Ut=!1;function Pt(){if(!Ut){if(process.throwDeprecation)throw new Error(xt);process.traceDeprecation?console.trace(xt):console.error(xt),Ut=!0}return lt.apply(this,arguments)}return Pt};var rt={},nt=/^$/;if({}.NODE_DEBUG){var it={}.NODE_DEBUG;it=it.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),nt=new RegExp("^"+it+"$","i")}et.debuglog=function(lt){if(lt=lt.toUpperCase(),!rt[lt])if(nt.test(lt)){var xt=process.pid;rt[lt]=function(){var Ut=et.format.apply(et,arguments);console.error("%s %d: %s",lt,xt,Ut)}}else rt[lt]=function(){};return rt[lt]};function at(lt,xt){var Ut={seen:[],stylize:ct};return arguments.length>=3&&(Ut.depth=arguments[2]),arguments.length>=4&&(Ut.colors=arguments[3]),At(xt)?Ut.showHidden=xt:xt&&et._extend(Ut,xt),Kt(Ut.showHidden)&&(Ut.showHidden=!1),Kt(Ut.depth)&&(Ut.depth=2),Kt(Ut.colors)&&(Ut.colors=!1),Kt(Ut.customInspect)&&(Ut.customInspect=!0),Ut.colors&&(Ut.stylize=st),ft(Ut,lt,Ut.depth)}et.inspect=at,at.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},at.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function st(lt,xt){var Ut=at.styles[xt];return Ut?"\x1B["+at.colors[Ut][0]+"m"+lt+"\x1B["+at.colors[Ut][1]+"m":lt}function ct(lt,xt){return lt}function ut(lt){var xt={};return lt.forEach(function(Ut,Pt){xt[Ut]=!0}),xt}function ft(lt,xt,Ut){if(lt.customInspect&&xt&&Nt(xt.inspect)&&xt.inspect!==et.inspect&&!(xt.constructor&&xt.constructor.prototype===xt)){var Pt=xt.inspect(Ut,lt);return Wt(Pt)||(Pt=ft(lt,Pt,Ut)),Pt}var qt=gt(lt,xt);if(qt)return qt;var ir=Object.keys(xt),Yt=ut(ir);if(lt.showHidden&&(ir=Object.getOwnPropertyNames(xt)),Ct(xt)&&(ir.indexOf("message")>=0||ir.indexOf("description")>=0))return _t(xt);if(ir.length===0){if(Nt(xt)){var rr=xt.name?": "+xt.name:"";return lt.stylize("[Function"+rr+"]","special")}if(Jt(xt))return lt.stylize(RegExp.prototype.toString.call(xt),"regexp");if(jt(xt))return lt.stylize(Date.prototype.toString.call(xt),"date");if(Ct(xt))return _t(xt)}var Sr="",lr=!1,ur=["{","}"];if(Tt(xt)&&(lr=!0,ur=["[","]"]),Nt(xt)){var Ur=xt.name?": "+xt.name:"";Sr=" [Function"+Ur+"]"}if(Jt(xt)&&(Sr=" "+RegExp.prototype.toString.call(xt)),jt(xt)&&(Sr=" "+Date.prototype.toUTCString.call(xt)),Ct(xt)&&(Sr=" "+_t(xt)),ir.length===0&&(!lr||xt.length==0))return ur[0]+Sr+ur[1];if(Ut<0)return Jt(xt)?lt.stylize(RegExp.prototype.toString.call(xt),"regexp"):lt.stylize("[Object]","special");lt.seen.push(xt);var dr;return lr?dr=Et(lt,xt,Ut,Yt,ir):dr=ir.map(function(xr){return $t(lt,xt,Ut,Yt,xr,lr)}),lt.seen.pop(),It(dr,Sr,ur)}function gt(lt,xt){if(Kt(xt))return lt.stylize("undefined","undefined");if(Wt(xt)){var Ut="'"+JSON.stringify(xt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return lt.stylize(Ut,"string")}if(Ot(xt))return lt.stylize(""+xt,"number");if(At(xt))return lt.stylize(""+xt,"boolean");if(Rt(xt))return lt.stylize("null","null")}function _t(lt){return"["+Error.prototype.toString.call(lt)+"]"}function Et(lt,xt,Ut,Pt,qt){for(var ir=[],Yt=0,rr=xt.length;Yt<rr;++Yt)bt(xt,String(Yt))?ir.push($t(lt,xt,Ut,Pt,String(Yt),!0)):ir.push("");return qt.forEach(function(Sr){Sr.match(/^\d+$/)||ir.push($t(lt,xt,Ut,Pt,Sr,!0))}),ir}function $t(lt,xt,Ut,Pt,qt,ir){var Yt,rr,Sr;if(Sr=Object.getOwnPropertyDescriptor(xt,qt)||{value:xt[qt]},Sr.get?Sr.set?rr=lt.stylize("[Getter/Setter]","special"):rr=lt.stylize("[Getter]","special"):Sr.set&&(rr=lt.stylize("[Setter]","special")),bt(Pt,qt)||(Yt="["+qt+"]"),rr||(lt.seen.indexOf(Sr.value)<0?(Rt(Ut)?rr=ft(lt,Sr.value,null):rr=ft(lt,Sr.value,Ut-1),rr.indexOf(`
`)>-1&&(ir?rr=rr.split(`
`).map(function(lr){return"  "+lr}).join(`
`).slice(2):rr=`
`+rr.split(`
`).map(function(lr){return"   "+lr}).join(`
`))):rr=lt.stylize("[Circular]","special")),Kt(Yt)){if(ir&&qt.match(/^\d+$/))return rr;Yt=JSON.stringify(""+qt),Yt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Yt=Yt.slice(1,-1),Yt=lt.stylize(Yt,"name")):(Yt=Yt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Yt=lt.stylize(Yt,"string"))}return Yt+": "+rr}function It(lt,xt,Ut){var Pt=lt.reduce(function(qt,ir){return ir.indexOf(`
`)>=0,qt+ir.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Pt>60?Ut[0]+(xt===""?"":xt+`
 `)+" "+lt.join(`,
  `)+" "+Ut[1]:Ut[0]+xt+" "+lt.join(", ")+" "+Ut[1]}et.types=types$1;function Tt(lt){return Array.isArray(lt)}et.isArray=Tt;function At(lt){return typeof lt=="boolean"}et.isBoolean=At;function Rt(lt){return lt===null}et.isNull=Rt;function kt(lt){return lt==null}et.isNullOrUndefined=kt;function Ot(lt){return typeof lt=="number"}et.isNumber=Ot;function Wt(lt){return typeof lt=="string"}et.isString=Wt;function zt(lt){return typeof lt=="symbol"}et.isSymbol=zt;function Kt(lt){return lt===void 0}et.isUndefined=Kt;function Jt(lt){return ar(lt)&&ot(lt)==="[object RegExp]"}et.isRegExp=Jt,et.types.isRegExp=Jt;function ar(lt){return typeof lt=="object"&&lt!==null}et.isObject=ar;function jt(lt){return ar(lt)&&ot(lt)==="[object Date]"}et.isDate=jt,et.types.isDate=jt;function Ct(lt){return ar(lt)&&(ot(lt)==="[object Error]"||lt instanceof Error)}et.isError=Ct,et.types.isNativeError=Ct;function Nt(lt){return typeof lt=="function"}et.isFunction=Nt;function ht(lt){return lt===null||typeof lt=="boolean"||typeof lt=="number"||typeof lt=="string"||typeof lt=="symbol"||typeof lt=="undefined"}et.isPrimitive=ht,et.isBuffer=isBufferBrowser;function ot(lt){return Object.prototype.toString.call(lt)}function dt(lt){return lt<10?"0"+lt.toString(10):lt.toString(10)}var mt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function wt(){var lt=new Date,xt=[dt(lt.getHours()),dt(lt.getMinutes()),dt(lt.getSeconds())].join(":");return[lt.getDate(),mt[lt.getMonth()],xt].join(" ")}et.log=function(){console.log("%s - %s",wt(),et.format.apply(et,arguments))},et.inherits=inherits_browser$1.exports,et._extend=function(lt,xt){if(!xt||!ar(xt))return lt;for(var Ut=Object.keys(xt),Pt=Ut.length;Pt--;)lt[Ut[Pt]]=xt[Ut[Pt]];return lt};function bt(lt,xt){return Object.prototype.hasOwnProperty.call(lt,xt)}var vt=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;et.promisify=function(xt){if(typeof xt!="function")throw new TypeError('The "original" argument must be of type Function');if(vt&&xt[vt]){var Ut=xt[vt];if(typeof Ut!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Ut,vt,{value:Ut,enumerable:!1,writable:!1,configurable:!0}),Ut}function Ut(){for(var Pt,qt,ir=new Promise(function(Sr,lr){Pt=Sr,qt=lr}),Yt=[],rr=0;rr<arguments.length;rr++)Yt.push(arguments[rr]);Yt.push(function(Sr,lr){Sr?qt(Sr):Pt(lr)});try{xt.apply(this,Yt)}catch(Sr){qt(Sr)}return ir}return Object.setPrototypeOf(Ut,Object.getPrototypeOf(xt)),vt&&Object.defineProperty(Ut,vt,{value:Ut,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Ut,_e(xt))},et.promisify.custom=vt;function St(lt,xt){if(!lt){var Ut=new Error("Promise was rejected with a falsy value");Ut.reason=lt,lt=Ut}return xt(lt)}function yt(lt){if(typeof lt!="function")throw new TypeError('The "original" argument must be of type Function');function xt(){for(var Ut=[],Pt=0;Pt<arguments.length;Pt++)Ut.push(arguments[Pt]);var qt=Ut.pop();if(typeof qt!="function")throw new TypeError("The last argument must be of type Function");var ir=this,Yt=function(){return qt.apply(ir,arguments)};lt.apply(this,Ut).then(function(rr){process.nextTick(Yt.bind(null,null,rr))},function(rr){process.nextTick(St.bind(null,rr,Yt))})}return Object.setPrototypeOf(xt,Object.getPrototypeOf(lt)),Object.defineProperties(xt,_e(lt)),xt}et.callbackify=yt})(util$1);const util=util$1,EventEmitter=events.exports;var R$1=typeof Reflect=="object"?Reflect:null,ReflectApply=R$1&&typeof R$1.apply=="function"?R$1.apply:function et(_e,tt,rt){return Function.prototype.apply.call(_e,tt,rt)},safeEventEmitter=SafeEventEmitter$3;function SafeEventEmitter$3(){EventEmitter.call(this)}util.inherits(SafeEventEmitter$3,EventEmitter);SafeEventEmitter$3.prototype.emit=function(et){for(var _e=[],tt=1;tt<arguments.length;tt++)_e.push(arguments[tt]);var rt=et==="error",nt=this._events;if(nt!==void 0)rt=rt&&nt.error===void 0;else if(!rt)return!1;if(rt){var it;if(_e.length>0&&(it=_e[0]),it instanceof Error)throw it;var at=new Error("Unhandled error."+(it?" ("+it.message+")":""));throw at.context=it,at}var st=nt[et];if(st===void 0)return!1;if(typeof st=="function")safeApply(st,this,_e);else for(var ct=st.length,ut=arrayClone(st,ct),tt=0;tt<ct;++tt)safeApply(ut[tt],this,_e);return!0};function safeApply(et,_e,tt){try{ReflectApply(et,_e,tt)}catch(rt){setTimeout(()=>{throw rt})}}function arrayClone(et,_e){for(var tt=new Array(_e),rt=0;rt<_e;++rt)tt[rt]=et[rt];return tt}const SafeEventEmitter$2=safeEventEmitter,sec$1=1e3,calculateSum=(et,_e)=>et+_e,blockTrackerEvents=["sync","latest"];class BaseBlockTracker$1 extends SafeEventEmitter$2{constructor(_e={}){super(),this._blockResetDuration=_e.blockResetDuration||20*sec$1,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(tt=>this.once("latest",tt))}removeAllListeners(_e){_e?super.removeAllListeners(_e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(_e,tt){!blockTrackerEvents.includes(_e)||this._maybeStart()}_onRemoveListener(_e,tt){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return blockTrackerEvents.map(_e=>this.listenerCount(_e)).reduce(calculateSum)}_newPotentialLatest(_e){const tt=this._currentBlock;tt&&hexToInt$4(_e)<=hexToInt$4(tt)||this._setCurrentBlock(_e)}_setCurrentBlock(_e){const tt=this._currentBlock;this._currentBlock=_e,this.emit("latest",_e),this.emit("sync",{oldBlock:tt,newBlock:_e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var base=BaseBlockTracker$1;function hexToInt$4(et){return Number.parseInt(et,16)}const pify$2=pify$3,BaseBlockTracker=base,sec=1e3;class PollingBlockTracker$1 extends BaseBlockTracker{constructor(_e={}){if(!_e.provider)throw new Error("PollingBlockTracker - no provider specified.");const tt=_e.pollingInterval||20*sec,rt=_e.retryTimeout||tt/10,nt=_e.keepEventLoopActive!==void 0?_e.keepEventLoopActive:!0,it=_e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:tt},_e)),this._provider=_e.provider,this._pollingInterval=tt,this._retryTimeout=rt,this._keepEventLoopActive=nt,this._setSkipCacheFlag=it}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(_e=>this.emit("error",_e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await timeout(this._pollingInterval,!this._keepEventLoopActive)}catch(_e){const tt=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${_e.stack}`);try{this.emit("error",tt)}catch{console.error(tt)}await timeout(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const _e=await this._fetchLatestBlock();this._newPotentialLatest(_e)}async _fetchLatestBlock(){const _e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(_e.skipCache=!0);const tt=await pify$2(rt=>this._provider.sendAsync(_e,rt))();if(tt.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${tt.error}`);return tt.result}}var polling=PollingBlockTracker$1;function timeout(et,_e){return new Promise(tt=>{const rt=setTimeout(tt,et);rt.unref&&_e&&rt.unref()})}var createScaffoldMiddleware$3=function et(_e){return(tt,rt,nt,it)=>{const at=_e[tt.method];return at===void 0?nt():typeof at=="function"?at(tt,rt,nt,it):(rt.result=at,it())}},scaffold=createScaffoldMiddleware$3,dist={},idRemapMiddleware={},getUniqueId$1={};Object.defineProperty(getUniqueId$1,"__esModule",{value:!0});getUniqueId$1.getUniqueId=void 0;const MAX=4294967295;let idCounter=Math.floor(Math.random()*MAX);function getUniqueId(){return idCounter=(idCounter+1)%MAX,idCounter}getUniqueId$1.getUniqueId=getUniqueId;Object.defineProperty(idRemapMiddleware,"__esModule",{value:!0});idRemapMiddleware.createIdRemapMiddleware=void 0;const getUniqueId_1=getUniqueId$1;function createIdRemapMiddleware(){return(et,_e,tt,rt)=>{const nt=et.id,it=getUniqueId_1.getUniqueId();et.id=it,_e.id=it,tt(at=>{et.id=nt,_e.id=nt,at()})}}idRemapMiddleware.createIdRemapMiddleware=createIdRemapMiddleware;var createAsyncMiddleware$3={};Object.defineProperty(createAsyncMiddleware$3,"__esModule",{value:!0});createAsyncMiddleware$3.createAsyncMiddleware=void 0;function createAsyncMiddleware$2(et){return async(_e,tt,rt,nt)=>{let it;const at=new Promise(ft=>{it=ft});let st=null,ct=!1;const ut=async()=>{ct=!0,rt(ft=>{st=ft,it()}),await at};try{await et(_e,tt,ut),ct?(await at,st(null)):nt(null)}catch(ft){st?st(ft):nt(ft)}}}createAsyncMiddleware$3.createAsyncMiddleware=createAsyncMiddleware$2;var createScaffoldMiddleware$2={};Object.defineProperty(createScaffoldMiddleware$2,"__esModule",{value:!0});createScaffoldMiddleware$2.createScaffoldMiddleware=void 0;function createScaffoldMiddleware$1(et){return(_e,tt,rt,nt)=>{const it=et[_e.method];return it===void 0?rt():typeof it=="function"?it(_e,tt,rt,nt):(tt.result=it,nt())}}createScaffoldMiddleware$2.createScaffoldMiddleware=createScaffoldMiddleware$1;var JsonRpcEngine$1={},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(JsonRpcEngine$1,"__esModule",{value:!0});JsonRpcEngine$1.JsonRpcEngine=void 0;const safe_event_emitter_1$1=__importDefault$6(safeEventEmitter$1),eth_rpc_errors_1$2=dist$1;class JsonRpcEngine extends safe_event_emitter_1$1.default{constructor(){super(),this._middleware=[]}push(_e){this._middleware.push(_e)}handle(_e,tt){if(tt&&typeof tt!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(_e)?tt?this._handleBatch(_e,tt):this._handleBatch(_e):tt?this._handle(_e,tt):this._promiseHandle(_e)}asMiddleware(){return async(_e,tt,rt,nt)=>{try{const[it,at,st]=await JsonRpcEngine._runAllMiddleware(_e,tt,this._middleware);return at?(await JsonRpcEngine._runReturnHandlers(st),nt(it)):rt(async ct=>{try{await JsonRpcEngine._runReturnHandlers(st)}catch(ut){return ct(ut)}return ct()})}catch(it){return nt(it)}}}async _handleBatch(_e,tt){try{const rt=await Promise.all(_e.map(this._promiseHandle.bind(this)));return tt?tt(null,rt):rt}catch(rt){if(tt)return tt(rt);throw rt}}_promiseHandle(_e){return new Promise(tt=>{this._handle(_e,(rt,nt)=>{tt(nt)})})}async _handle(_e,tt){if(!_e||Array.isArray(_e)||typeof _e!="object"){const at=new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof _e}`,{request:_e});return tt(at,{id:void 0,jsonrpc:"2.0",error:at})}if(typeof _e.method!="string"){const at=new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof _e.method}`,{request:_e});return tt(at,{id:_e.id,jsonrpc:"2.0",error:at})}const rt=Object.assign({},_e),nt={id:rt.id,jsonrpc:rt.jsonrpc};let it=null;try{await this._processRequest(rt,nt)}catch(at){it=at}return it&&(delete nt.result,nt.error||(nt.error=eth_rpc_errors_1$2.serializeError(it))),tt(it,nt)}async _processRequest(_e,tt){const[rt,nt,it]=await JsonRpcEngine._runAllMiddleware(_e,tt,this._middleware);if(JsonRpcEngine._checkForCompletion(_e,tt,nt),await JsonRpcEngine._runReturnHandlers(it),rt)throw rt}static async _runAllMiddleware(_e,tt,rt){const nt=[];let it=null,at=!1;for(const st of rt)if([it,at]=await JsonRpcEngine._runMiddleware(_e,tt,st,nt),at)break;return[it,at,nt.reverse()]}static _runMiddleware(_e,tt,rt,nt){return new Promise(it=>{const at=ct=>{const ut=ct||tt.error;ut&&(tt.error=eth_rpc_errors_1$2.serializeError(ut)),it([ut,!0])},st=ct=>{tt.error?at(tt.error):(ct&&(typeof ct!="function"&&at(new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof ct}" for request:
${jsonify(_e)}`,{request:_e})),nt.push(ct)),it([null,!1]))};try{rt(_e,tt,st,at)}catch(ct){at(ct)}})}static async _runReturnHandlers(_e){for(const tt of _e)await new Promise((rt,nt)=>{tt(it=>it?nt(it):rt())})}static _checkForCompletion(_e,tt,rt){if(!("result"in tt)&&!("error"in tt))throw new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${jsonify(_e)}`,{request:_e});if(!rt)throw new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${jsonify(_e)}`,{request:_e})}}JsonRpcEngine$1.JsonRpcEngine=JsonRpcEngine;function jsonify(et){return JSON.stringify(et,null,2)}var mergeMiddleware$1={};Object.defineProperty(mergeMiddleware$1,"__esModule",{value:!0});mergeMiddleware$1.mergeMiddleware=void 0;const JsonRpcEngine_1=JsonRpcEngine$1;function mergeMiddleware(et){const _e=new JsonRpcEngine_1.JsonRpcEngine;return et.forEach(tt=>_e.push(tt)),_e.asMiddleware()}mergeMiddleware$1.mergeMiddleware=mergeMiddleware;(function(et){var _e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(rt,nt,it,at){at===void 0&&(at=it),Object.defineProperty(rt,at,{enumerable:!0,get:function(){return nt[it]}})}:function(rt,nt,it,at){at===void 0&&(at=it),rt[at]=nt[it]}),tt=commonjsGlobal&&commonjsGlobal.__exportStar||function(rt,nt){for(var it in rt)it!=="default"&&!Object.prototype.hasOwnProperty.call(nt,it)&&_e(nt,rt,it)};Object.defineProperty(et,"__esModule",{value:!0}),tt(idRemapMiddleware,et),tt(createAsyncMiddleware$3,et),tt(createScaffoldMiddleware$2,et),tt(getUniqueId$1,et),tt(JsonRpcEngine$1,et),tt(mergeMiddleware$1,et)})(dist);var lib={},Mutex$2={},tslib={exports:{}};(function(et){var _e,tt,rt,nt,it,at,st,ct,ut,ft,gt,_t,Et,$t,It,Tt,At,Rt,kt,Ot,Wt,zt,Kt,Jt,ar;(function(jt){var Ct=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};jt(Nt(Ct,Nt(et.exports)));function Nt(ht,ot){return ht!==Ct&&(typeof Object.create=="function"?Object.defineProperty(ht,"__esModule",{value:!0}):ht.__esModule=!0),function(dt,mt){return ht[dt]=ot?ot(dt,mt):mt}}})(function(jt){var Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,ot){ht.__proto__=ot}||function(ht,ot){for(var dt in ot)Object.prototype.hasOwnProperty.call(ot,dt)&&(ht[dt]=ot[dt])};_e=function(ht,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Class extends value "+String(ot)+" is not a constructor or null");Ct(ht,ot);function dt(){this.constructor=ht}ht.prototype=ot===null?Object.create(ot):(dt.prototype=ot.prototype,new dt)},tt=Object.assign||function(ht){for(var ot,dt=1,mt=arguments.length;dt<mt;dt++){ot=arguments[dt];for(var wt in ot)Object.prototype.hasOwnProperty.call(ot,wt)&&(ht[wt]=ot[wt])}return ht},rt=function(ht,ot){var dt={};for(var mt in ht)Object.prototype.hasOwnProperty.call(ht,mt)&&ot.indexOf(mt)<0&&(dt[mt]=ht[mt]);if(ht!=null&&typeof Object.getOwnPropertySymbols=="function")for(var wt=0,mt=Object.getOwnPropertySymbols(ht);wt<mt.length;wt++)ot.indexOf(mt[wt])<0&&Object.prototype.propertyIsEnumerable.call(ht,mt[wt])&&(dt[mt[wt]]=ht[mt[wt]]);return dt},nt=function(ht,ot,dt,mt){var wt=arguments.length,bt=wt<3?ot:mt===null?mt=Object.getOwnPropertyDescriptor(ot,dt):mt,vt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(ht,ot,dt,mt);else for(var St=ht.length-1;St>=0;St--)(vt=ht[St])&&(bt=(wt<3?vt(bt):wt>3?vt(ot,dt,bt):vt(ot,dt))||bt);return wt>3&&bt&&Object.defineProperty(ot,dt,bt),bt},it=function(ht,ot){return function(dt,mt){ot(dt,mt,ht)}},at=function(ht,ot){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ht,ot)},st=function(ht,ot,dt,mt){function wt(bt){return bt instanceof dt?bt:new dt(function(vt){vt(bt)})}return new(dt||(dt=Promise))(function(bt,vt){function St(xt){try{lt(mt.next(xt))}catch(Ut){vt(Ut)}}function yt(xt){try{lt(mt.throw(xt))}catch(Ut){vt(Ut)}}function lt(xt){xt.done?bt(xt.value):wt(xt.value).then(St,yt)}lt((mt=mt.apply(ht,ot||[])).next())})},ct=function(ht,ot){var dt={label:0,sent:function(){if(bt[0]&1)throw bt[1];return bt[1]},trys:[],ops:[]},mt,wt,bt,vt;return vt={next:St(0),throw:St(1),return:St(2)},typeof Symbol=="function"&&(vt[Symbol.iterator]=function(){return this}),vt;function St(lt){return function(xt){return yt([lt,xt])}}function yt(lt){if(mt)throw new TypeError("Generator is already executing.");for(;dt;)try{if(mt=1,wt&&(bt=lt[0]&2?wt.return:lt[0]?wt.throw||((bt=wt.return)&&bt.call(wt),0):wt.next)&&!(bt=bt.call(wt,lt[1])).done)return bt;switch(wt=0,bt&&(lt=[lt[0]&2,bt.value]),lt[0]){case 0:case 1:bt=lt;break;case 4:return dt.label++,{value:lt[1],done:!1};case 5:dt.label++,wt=lt[1],lt=[0];continue;case 7:lt=dt.ops.pop(),dt.trys.pop();continue;default:if(bt=dt.trys,!(bt=bt.length>0&&bt[bt.length-1])&&(lt[0]===6||lt[0]===2)){dt=0;continue}if(lt[0]===3&&(!bt||lt[1]>bt[0]&&lt[1]<bt[3])){dt.label=lt[1];break}if(lt[0]===6&&dt.label<bt[1]){dt.label=bt[1],bt=lt;break}if(bt&&dt.label<bt[2]){dt.label=bt[2],dt.ops.push(lt);break}bt[2]&&dt.ops.pop(),dt.trys.pop();continue}lt=ot.call(ht,dt)}catch(xt){lt=[6,xt],wt=0}finally{mt=bt=0}if(lt[0]&5)throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}},ut=function(ht,ot){for(var dt in ht)dt!=="default"&&!Object.prototype.hasOwnProperty.call(ot,dt)&&ar(ot,ht,dt)},ar=Object.create?function(ht,ot,dt,mt){mt===void 0&&(mt=dt);var wt=Object.getOwnPropertyDescriptor(ot,dt);(!wt||("get"in wt?!ot.__esModule:wt.writable||wt.configurable))&&(wt={enumerable:!0,get:function(){return ot[dt]}}),Object.defineProperty(ht,mt,wt)}:function(ht,ot,dt,mt){mt===void 0&&(mt=dt),ht[mt]=ot[dt]},ft=function(ht){var ot=typeof Symbol=="function"&&Symbol.iterator,dt=ot&&ht[ot],mt=0;if(dt)return dt.call(ht);if(ht&&typeof ht.length=="number")return{next:function(){return ht&&mt>=ht.length&&(ht=void 0),{value:ht&&ht[mt++],done:!ht}}};throw new TypeError(ot?"Object is not iterable.":"Symbol.iterator is not defined.")},gt=function(ht,ot){var dt=typeof Symbol=="function"&&ht[Symbol.iterator];if(!dt)return ht;var mt=dt.call(ht),wt,bt=[],vt;try{for(;(ot===void 0||ot-- >0)&&!(wt=mt.next()).done;)bt.push(wt.value)}catch(St){vt={error:St}}finally{try{wt&&!wt.done&&(dt=mt.return)&&dt.call(mt)}finally{if(vt)throw vt.error}}return bt},_t=function(){for(var ht=[],ot=0;ot<arguments.length;ot++)ht=ht.concat(gt(arguments[ot]));return ht},Et=function(){for(var ht=0,ot=0,dt=arguments.length;ot<dt;ot++)ht+=arguments[ot].length;for(var mt=Array(ht),wt=0,ot=0;ot<dt;ot++)for(var bt=arguments[ot],vt=0,St=bt.length;vt<St;vt++,wt++)mt[wt]=bt[vt];return mt},$t=function(ht,ot,dt){if(dt||arguments.length===2)for(var mt=0,wt=ot.length,bt;mt<wt;mt++)(bt||!(mt in ot))&&(bt||(bt=Array.prototype.slice.call(ot,0,mt)),bt[mt]=ot[mt]);return ht.concat(bt||Array.prototype.slice.call(ot))},It=function(ht){return this instanceof It?(this.v=ht,this):new It(ht)},Tt=function(ht,ot,dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt=dt.apply(ht,ot||[]),wt,bt=[];return wt={},vt("next"),vt("throw"),vt("return"),wt[Symbol.asyncIterator]=function(){return this},wt;function vt(Pt){mt[Pt]&&(wt[Pt]=function(qt){return new Promise(function(ir,Yt){bt.push([Pt,qt,ir,Yt])>1||St(Pt,qt)})})}function St(Pt,qt){try{yt(mt[Pt](qt))}catch(ir){Ut(bt[0][3],ir)}}function yt(Pt){Pt.value instanceof It?Promise.resolve(Pt.value.v).then(lt,xt):Ut(bt[0][2],Pt)}function lt(Pt){St("next",Pt)}function xt(Pt){St("throw",Pt)}function Ut(Pt,qt){Pt(qt),bt.shift(),bt.length&&St(bt[0][0],bt[0][1])}},At=function(ht){var ot,dt;return ot={},mt("next"),mt("throw",function(wt){throw wt}),mt("return"),ot[Symbol.iterator]=function(){return this},ot;function mt(wt,bt){ot[wt]=ht[wt]?function(vt){return(dt=!dt)?{value:It(ht[wt](vt)),done:wt==="return"}:bt?bt(vt):vt}:bt}},Rt=function(ht){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot=ht[Symbol.asyncIterator],dt;return ot?ot.call(ht):(ht=typeof ft=="function"?ft(ht):ht[Symbol.iterator](),dt={},mt("next"),mt("throw"),mt("return"),dt[Symbol.asyncIterator]=function(){return this},dt);function mt(bt){dt[bt]=ht[bt]&&function(vt){return new Promise(function(St,yt){vt=ht[bt](vt),wt(St,yt,vt.done,vt.value)})}}function wt(bt,vt,St,yt){Promise.resolve(yt).then(function(lt){bt({value:lt,done:St})},vt)}},kt=function(ht,ot){return Object.defineProperty?Object.defineProperty(ht,"raw",{value:ot}):ht.raw=ot,ht};var Nt=Object.create?function(ht,ot){Object.defineProperty(ht,"default",{enumerable:!0,value:ot})}:function(ht,ot){ht.default=ot};Ot=function(ht){if(ht&&ht.__esModule)return ht;var ot={};if(ht!=null)for(var dt in ht)dt!=="default"&&Object.prototype.hasOwnProperty.call(ht,dt)&&ar(ot,ht,dt);return Nt(ot,ht),ot},Wt=function(ht){return ht&&ht.__esModule?ht:{default:ht}},zt=function(ht,ot,dt,mt){if(dt==="a"&&!mt)throw new TypeError("Private accessor was defined without a getter");if(typeof ot=="function"?ht!==ot||!mt:!ot.has(ht))throw new TypeError("Cannot read private member from an object whose class did not declare it");return dt==="m"?mt:dt==="a"?mt.call(ht):mt?mt.value:ot.get(ht)},Kt=function(ht,ot,dt,mt,wt){if(mt==="m")throw new TypeError("Private method is not writable");if(mt==="a"&&!wt)throw new TypeError("Private accessor was defined without a setter");if(typeof ot=="function"?ht!==ot||!wt:!ot.has(ht))throw new TypeError("Cannot write private member to an object whose class did not declare it");return mt==="a"?wt.call(ht,dt):wt?wt.value=dt:ot.set(ht,dt),dt},Jt=function(ht,ot){if(ot===null||typeof ot!="object"&&typeof ot!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof ht=="function"?ot===ht:ht.has(ot)},jt("__extends",_e),jt("__assign",tt),jt("__rest",rt),jt("__decorate",nt),jt("__param",it),jt("__metadata",at),jt("__awaiter",st),jt("__generator",ct),jt("__exportStar",ut),jt("__createBinding",ar),jt("__values",ft),jt("__read",gt),jt("__spread",_t),jt("__spreadArrays",Et),jt("__spreadArray",$t),jt("__await",It),jt("__asyncGenerator",Tt),jt("__asyncDelegator",At),jt("__asyncValues",Rt),jt("__makeTemplateObject",kt),jt("__importStar",Ot),jt("__importDefault",Wt),jt("__classPrivateFieldGet",zt),jt("__classPrivateFieldSet",Kt),jt("__classPrivateFieldIn",Jt)})})(tslib);var Semaphore$1={};Object.defineProperty(Semaphore$1,"__esModule",{value:!0});var tslib_1$2=tslib.exports,Semaphore=function(){function et(_e){if(this._maxConcurrency=_e,this._queue=[],_e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=_e}return et.prototype.acquire=function(){var _e=this,tt=this.isLocked(),rt=new Promise(function(nt){return _e._queue.push(nt)});return tt||this._dispatch(),rt},et.prototype.runExclusive=function(_e){return tslib_1$2.__awaiter(this,void 0,void 0,function(){var tt,rt,nt;return tslib_1$2.__generator(this,function(it){switch(it.label){case 0:return[4,this.acquire()];case 1:tt=it.sent(),rt=tt[0],nt=tt[1],it.label=2;case 2:return it.trys.push([2,,4,5]),[4,_e(rt)];case 3:return[2,it.sent()];case 4:return nt(),[7];case 5:return[2]}})})},et.prototype.isLocked=function(){return this._value<=0},et.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var _e=this._currentReleaser;this._currentReleaser=void 0,_e()}},et.prototype._dispatch=function(){var _e=this,tt=this._queue.shift();if(!!tt){var rt=!1;this._currentReleaser=function(){rt||(rt=!0,_e._value++,_e._dispatch())},tt([this._value--,this._currentReleaser])}},et}();Semaphore$1.default=Semaphore;Object.defineProperty(Mutex$2,"__esModule",{value:!0});var tslib_1$1=tslib.exports,Semaphore_1=Semaphore$1,Mutex$1=function(){function et(){this._semaphore=new Semaphore_1.default(1)}return et.prototype.acquire=function(){return tslib_1$1.__awaiter(this,void 0,void 0,function(){var _e,tt;return tslib_1$1.__generator(this,function(rt){switch(rt.label){case 0:return[4,this._semaphore.acquire()];case 1:return _e=rt.sent(),tt=_e[1],[2,tt]}})})},et.prototype.runExclusive=function(_e){return this._semaphore.runExclusive(function(){return _e()})},et.prototype.isLocked=function(){return this._semaphore.isLocked()},et.prototype.release=function(){this._semaphore.release()},et}();Mutex$2.default=Mutex$1;var withTimeout$1={};Object.defineProperty(withTimeout$1,"__esModule",{value:!0});withTimeout$1.withTimeout=void 0;var tslib_1=tslib.exports;function withTimeout(et,_e,tt){var rt=this;return tt===void 0&&(tt=new Error("timeout")),{acquire:function(){return new Promise(function(nt,it){return tslib_1.__awaiter(rt,void 0,void 0,function(){var at,st,ct;return tslib_1.__generator(this,function(ut){switch(ut.label){case 0:return at=!1,setTimeout(function(){at=!0,it(tt)},_e),[4,et.acquire()];case 1:return st=ut.sent(),at?(ct=Array.isArray(st)?st[1]:st,ct()):nt(st),[2]}})})})},runExclusive:function(nt){return tslib_1.__awaiter(this,void 0,void 0,function(){var it,at;return tslib_1.__generator(this,function(st){switch(st.label){case 0:it=function(){},st.label=1;case 1:return st.trys.push([1,,7,8]),[4,this.acquire()];case 2:return at=st.sent(),Array.isArray(at)?(it=at[1],[4,nt(at[0])]):[3,4];case 3:return[2,st.sent()];case 4:return it=at,[4,nt()];case 5:return[2,st.sent()];case 6:return[3,8];case 7:return it(),[7];case 8:return[2]}})})},release:function(){et.release()},isLocked:function(){return et.isLocked()}}}withTimeout$1.withTimeout=withTimeout;(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.withTimeout=et.Semaphore=et.Mutex=void 0;var _e=Mutex$2;Object.defineProperty(et,"Mutex",{enumerable:!0,get:function(){return _e.default}});var tt=Semaphore$1;Object.defineProperty(et,"Semaphore",{enumerable:!0,get:function(){return tt.default}});var rt=withTimeout$1;Object.defineProperty(et,"withTimeout",{enumerable:!0,get:function(){return rt.withTimeout}})})(lib);const processFn=(et,_e,tt,rt)=>function(...nt){const it=_e.promiseModule;return new it((at,st)=>{_e.multiArgs?nt.push((...ut)=>{_e.errorFirst?ut[0]?st(ut):(ut.shift(),at(ut)):at(ut)}):_e.errorFirst?nt.push((ut,ft)=>{ut?st(ut):at(ft)}):nt.push(at),Reflect.apply(et,this===tt?rt:this,nt)})},filterCache=new WeakMap;var pify$1=(et,_e)=>{_e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,..._e};const tt=typeof et;if(!(et!==null&&(tt==="object"||tt==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${et===null?"null":tt}\``);const rt=(at,st)=>{let ct=filterCache.get(at);if(ct||(ct={},filterCache.set(at,ct)),st in ct)return ct[st];const ut=$t=>typeof $t=="string"||typeof st=="symbol"?st===$t:$t.test(st),ft=Reflect.getOwnPropertyDescriptor(at,st),gt=ft===void 0||ft.writable||ft.configurable,Et=(_e.include?_e.include.some(ut):!_e.exclude.some(ut))&&gt;return ct[st]=Et,Et},nt=new WeakMap,it=new Proxy(et,{apply(at,st,ct){const ut=nt.get(at);if(ut)return Reflect.apply(ut,st,ct);const ft=_e.excludeMain?at:processFn(at,_e,it,at);return nt.set(at,ft),Reflect.apply(ft,st,ct)},get(at,st){const ct=at[st];if(!rt(at,st)||ct===Function.prototype[st])return ct;const ut=nt.get(ct);if(ut)return ut;if(typeof ct=="function"){const ft=processFn(ct,_e,it,at);return nt.set(ct,ft),ft}return ct}});return it};const SafeEventEmitter$1=safeEventEmitter$1.default;class BaseFilter$3 extends SafeEventEmitter$1{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(_e){this.updates=this.updates.concat(_e),_e.forEach(tt=>this.emit("update",tt))}addInitialResults(_e){}getChangesAndClear(){const _e=this.updates;return this.updates=[],_e}}var baseFilter=BaseFilter$3;const BaseFilter$2=baseFilter;class BaseFilterWithHistory$1 extends BaseFilter$2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(_e){this.allResults=this.allResults.concat(_e),super.addResults(_e)}addInitialResults(_e){this.allResults=this.allResults.concat(_e),super.addInitialResults(_e)}getAllResults(){return this.allResults}}var baseFilterHistory=BaseFilterWithHistory$1,hexUtils={minBlockRef:minBlockRef$1,maxBlockRef,sortBlockRefs,bnToHex:bnToHex$1,blockRefIsNumber:blockRefIsNumber$1,hexToInt:hexToInt$3,incrementHexInt:incrementHexInt$4,intToHex:intToHex$2,unsafeRandomBytes:unsafeRandomBytes$1};function minBlockRef$1(...et){return sortBlockRefs(et)[0]}function maxBlockRef(...et){const _e=sortBlockRefs(et);return _e[_e.length-1]}function sortBlockRefs(et){return et.sort((_e,tt)=>_e==="latest"||tt==="earliest"?1:tt==="latest"||_e==="earliest"?-1:hexToInt$3(_e)-hexToInt$3(tt))}function bnToHex$1(et){return"0x"+et.toString(16)}function blockRefIsNumber$1(et){return et&&!["earliest","latest","pending"].includes(et)}function hexToInt$3(et){return et==null?et:Number.parseInt(et,16)}function incrementHexInt$4(et){if(et==null)return et;const _e=hexToInt$3(et);return intToHex$2(_e+1)}function intToHex$2(et){if(et==null)return et;let _e=et.toString(16);return _e.length%2&&(_e="0"+_e),"0x"+_e}function unsafeRandomBytes$1(et){let _e="0x";for(let tt=0;tt<et;tt++)_e+=unsafeRandomNibble(),_e+=unsafeRandomNibble();return _e}function unsafeRandomNibble(){return Math.floor(Math.random()*16).toString(16)}const EthQuery=ethQuery,pify=pify$1,BaseFilterWithHistory=baseFilterHistory,{bnToHex,hexToInt:hexToInt$2,incrementHexInt:incrementHexInt$3,minBlockRef,blockRefIsNumber}=hexUtils;class LogFilter$1 extends BaseFilterWithHistory{constructor({provider:_e,params:tt}){super(),this.type="log",this.ethQuery=new EthQuery(_e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},tt),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(rt=>rt.toLowerCase()))}async initialize({currentBlock:_e}){let tt=this.params.fromBlock;["latest","pending"].includes(tt)&&(tt=_e),tt==="earliest"&&(tt="0x0"),this.params.fromBlock=tt;const rt=minBlockRef(this.params.toBlock,_e),nt=Object.assign({},this.params,{toBlock:rt}),it=await this._fetchLogs(nt);this.addInitialResults(it)}async update({oldBlock:_e,newBlock:tt}){const rt=tt;let nt;_e?nt=incrementHexInt$3(_e):nt=tt;const it=Object.assign({},this.params,{fromBlock:nt,toBlock:rt}),st=(await this._fetchLogs(it)).filter(ct=>this.matchLog(ct));this.addResults(st)}async _fetchLogs(_e){return await pify(rt=>this.ethQuery.getLogs(_e,rt))()}matchLog(_e){if(hexToInt$2(this.params.fromBlock)>=hexToInt$2(_e.blockNumber)||blockRefIsNumber(this.params.toBlock)&&hexToInt$2(this.params.toBlock)<=hexToInt$2(_e.blockNumber))return!1;const tt=_e.address&&_e.address.toLowerCase();return this.params.address&&tt&&!this.params.address.includes(tt)?!1:this.params.topics.every((nt,it)=>{let at=_e.topics[it];if(!at)return!1;at=at.toLowerCase();let st=Array.isArray(nt)?nt:[nt];return st.includes(null)?!0:(st=st.map(ft=>ft.toLowerCase()),st.includes(at))})}}var logFilter=LogFilter$1,getBlocksForRange_1=getBlocksForRange$3;async function getBlocksForRange$3({provider:et,fromBlock:_e,toBlock:tt}){_e||(_e=tt);const rt=hexToInt$1(_e),it=hexToInt$1(tt)-rt+1,at=Array(it).fill().map((ct,ut)=>rt+ut).map(intToHex$1);return await Promise.all(at.map(ct=>query(et,"eth_getBlockByNumber",[ct,!1])))}function hexToInt$1(et){return et==null?et:Number.parseInt(et,16)}function intToHex$1(et){if(et==null)return et;const _e=et.toString(16);return"0x"+_e}function query(et,_e,tt){return new Promise((rt,nt)=>{et.sendAsync({id:1,jsonrpc:"2.0",method:_e,params:tt},(it,at)=>{if(it)return nt(it);rt(at.result)})})}const BaseFilter$1=baseFilter,getBlocksForRange$2=getBlocksForRange_1,{incrementHexInt:incrementHexInt$2}=hexUtils;class BlockFilter$1 extends BaseFilter$1{constructor({provider:_e,params:tt}){super(),this.type="block",this.provider=_e}async update({oldBlock:_e,newBlock:tt}){const rt=tt,nt=incrementHexInt$2(_e),at=(await getBlocksForRange$2({provider:this.provider,fromBlock:nt,toBlock:rt})).map(st=>st.hash);this.addResults(at)}}var blockFilter=BlockFilter$1;const BaseFilter=baseFilter,getBlocksForRange$1=getBlocksForRange_1,{incrementHexInt:incrementHexInt$1}=hexUtils;class TxFilter$1 extends BaseFilter{constructor({provider:_e}){super(),this.type="tx",this.provider=_e}async update({oldBlock:_e}){const tt=_e,rt=incrementHexInt$1(_e),nt=await getBlocksForRange$1({provider:this.provider,fromBlock:rt,toBlock:tt}),it=[];for(const at of nt)it.push(...at.transactions);this.addResults(it)}}var txFilter=TxFilter$1;const Mutex=lib.Mutex,{createAsyncMiddleware:createAsyncMiddleware$1}=dist,createJsonRpcMiddleware=scaffold,LogFilter=logFilter,BlockFilter=blockFilter,TxFilter=txFilter,{intToHex,hexToInt}=hexUtils;var ethJsonRpcFilters=createEthFilterMiddleware;function createEthFilterMiddleware({blockTracker:et,provider:_e}){let tt=0,rt={};const nt=new Mutex,it=mutexMiddlewareWrapper({mutex:nt}),at=createJsonRpcMiddleware({eth_newFilter:it(toFilterCreationMiddleware(ct)),eth_newBlockFilter:it(toFilterCreationMiddleware(ut)),eth_newPendingTransactionFilter:it(toFilterCreationMiddleware(ft)),eth_uninstallFilter:it(toAsyncRpcMiddleware(Et)),eth_getFilterChanges:it(toAsyncRpcMiddleware(gt)),eth_getFilterLogs:it(toAsyncRpcMiddleware(_t))}),st=async({oldBlock:Rt,newBlock:kt})=>{if(rt.length===0)return;const Ot=await nt.acquire();try{await Promise.all(objValues(rt).map(async Wt=>{try{await Wt.update({oldBlock:Rt,newBlock:kt})}catch(zt){console.error(zt)}}))}catch(Wt){console.error(Wt)}Ot()};return at.newLogFilter=ct,at.newBlockFilter=ut,at.newPendingTransactionFilter=ft,at.uninstallFilter=Et,at.getFilterChanges=gt,at.getFilterLogs=_t,at.destroy=()=>{Tt()},at;async function ct(Rt){const kt=new LogFilter({provider:_e,params:Rt});return await $t(kt),kt}async function ut(){const Rt=new BlockFilter({provider:_e});return await $t(Rt),Rt}async function ft(){const Rt=new TxFilter({provider:_e});return await $t(Rt),Rt}async function gt(Rt){const kt=hexToInt(Rt),Ot=rt[kt];if(!Ot)throw new Error(`No filter for index "${kt}"`);return Ot.getChangesAndClear()}async function _t(Rt){const kt=hexToInt(Rt),Ot=rt[kt];if(!Ot)throw new Error(`No filter for index "${kt}"`);return Ot.type==="log"?results=Ot.getAllResults():results=[],results}async function Et(Rt){const kt=hexToInt(Rt),Ot=rt[kt],Wt=Boolean(Ot);return Wt&&await It(kt),Wt}async function $t(Rt){const kt=objValues(rt).length,Ot=await et.getLatestBlock();await Rt.initialize({currentBlock:Ot}),tt++,rt[tt]=Rt,Rt.id=tt,Rt.idHex=intToHex(tt);const Wt=objValues(rt).length;return At({prevFilterCount:kt,newFilterCount:Wt}),tt}async function It(Rt){const kt=objValues(rt).length;delete rt[Rt];const Ot=objValues(rt).length;At({prevFilterCount:kt,newFilterCount:Ot})}async function Tt(){const Rt=objValues(rt).length;rt={},At({prevFilterCount:Rt,newFilterCount:0})}function At({prevFilterCount:Rt,newFilterCount:kt}){if(Rt===0&&kt>0){et.on("sync",st);return}if(Rt>0&&kt===0){et.removeListener("sync",st);return}}}function toFilterCreationMiddleware(et){return toAsyncRpcMiddleware(async(..._e)=>{const tt=await et(..._e);return intToHex(tt.id)})}function toAsyncRpcMiddleware(et){return createAsyncMiddleware$1(async(_e,tt)=>{const rt=await et.apply(null,_e.params);tt.result=rt})}function mutexMiddlewareWrapper({mutex:et}){return _e=>async(tt,rt,nt,it)=>{(await et.acquire())(),_e(tt,rt,nt,it)}}function objValues(et,_e){const tt=[];for(let rt in et)tt.push(et[rt]);return tt}const SafeEventEmitter=safeEventEmitter$1.default,createScaffoldMiddleware=scaffold,{createAsyncMiddleware}=dist,createFilterMiddleware=ethJsonRpcFilters,{unsafeRandomBytes,incrementHexInt}=hexUtils,getBlocksForRange=getBlocksForRange_1;var subscriptionManager=createSubscriptionMiddleware;function createSubscriptionMiddleware({blockTracker:et,provider:_e}){const tt={},rt=createFilterMiddleware({blockTracker:et,provider:_e});let nt=!1;const it=new SafeEventEmitter,at=createScaffoldMiddleware({eth_subscribe:createAsyncMiddleware(st),eth_unsubscribe:createAsyncMiddleware(ct)});return at.destroy=ft,{events:it,middleware:at};async function st(gt,_t){if(nt)throw new Error("SubscriptionManager - attempting to use after destroying");const Et=gt.params[0],$t=unsafeRandomBytes(16);let It;switch(Et){case"newHeads":It=Tt({subId:$t});break;case"logs":const Rt=gt.params[1],kt=await rt.newLogFilter(Rt);It=At({subId:$t,filter:kt});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${Et}"`)}tt[$t]=It,_t.result=$t;return;function Tt({subId:Rt}){const kt={type:Et,destroy:async()=>{et.removeListener("sync",kt.update)},update:async({oldBlock:Ot,newBlock:Wt})=>{const zt=Wt,Kt=incrementHexInt(Ot);(await getBlocksForRange({provider:_e,fromBlock:Kt,toBlock:zt})).map(normalizeBlock).forEach(jt=>{ut(Rt,jt)})}};return et.on("sync",kt.update),kt}function At({subId:Rt,filter:kt}){return kt.on("update",Wt=>ut(Rt,Wt)),{type:Et,destroy:async()=>await rt.uninstallFilter(kt.idHex)}}}async function ct(gt,_t){if(nt)throw new Error("SubscriptionManager - attempting to use after destroying");const Et=gt.params[0],$t=tt[Et];if(!$t){_t.result=!1;return}delete tt[Et],await $t.destroy(),_t.result=!0}function ut(gt,_t){it.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:gt,result:_t}})}function ft(){it.removeAllListeners();for(const gt in tt)tt[gt].destroy(),delete tt[gt];nt=!0}}function normalizeBlock(et){return{hash:et.hash,parentHash:et.parentHash,sha3Uncles:et.sha3Uncles,miner:et.miner,stateRoot:et.stateRoot,transactionsRoot:et.transactionsRoot,receiptsRoot:et.receiptsRoot,logsBloom:et.logsBloom,difficulty:et.difficulty,number:et.number,gasLimit:et.gasLimit,gasUsed:et.gasUsed,nonce:et.nonce,mixHash:et.mixHash,timestamp:et.timestamp,extraData:et.extraData}}Object.defineProperty(SubscriptionManager$1,"__esModule",{value:!0});SubscriptionManager$1.SubscriptionManager=void 0;const PollingBlockTracker=polling,createSubscriptionManager=subscriptionManager,noop=()=>{};class SubscriptionManager{constructor(_e){const tt=new PollingBlockTracker({provider:_e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:rt,middleware:nt}=createSubscriptionManager({blockTracker:tt,provider:_e});this.events=rt,this.subscriptionMiddleware=nt}async handleRequest(_e){const tt={};return await this.subscriptionMiddleware(_e,tt,noop,noop),tt}destroy(){this.subscriptionMiddleware.destroy()}}SubscriptionManager$1.SubscriptionManager=SubscriptionManager;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(CoinbaseWalletProvider$1,"__esModule",{value:!0});CoinbaseWalletProvider$1.CoinbaseWalletProvider=void 0;const safe_event_emitter_1=__importDefault$5(safeEventEmitter$1),bn_js_1=__importDefault$5(bn$1.exports),eth_rpc_errors_1$1=dist$1,EventListener_1$2=EventListener,Session_1$2=Session$1,WalletSDKRelayAbstract_1$1=WalletSDKRelayAbstract$1,util_1$5=util$5,eth_eip712_util_1=__importDefault$5(ethEip712Util),FilterPolyfill_1=FilterPolyfill$1,JSONRPC_1=JSONRPC,SubscriptionManager_1=SubscriptionManager$1,DEFAULT_CHAIN_ID_KEY="DefaultChainId",DEFAULT_JSON_RPC_URL="DefaultJsonRpcUrl",HAS_CHAIN_BEEN_SWITCHED_KEY="HasChainBeenSwitched",HAS_CHAIN_OVERRIDDEN_FROM_RELAY="HasChainOverriddenFromRelay";class CoinbaseWalletProvider extends safe_event_emitter_1.default{constructor(_e){var tt,rt;super(),this._filterPolyfill=new FilterPolyfill_1.FilterPolyfill(this),this._subscriptionManager=new SubscriptionManager_1.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._jsonRpcUrlFromOpts=_e.jsonRpcUrl,this._overrideIsMetaMask=_e.overrideIsMetaMask,this._relayProvider=_e.relayProvider,this._storage=_e.storage,this._relayEventManager=_e.relayEventManager,this._eventListener=_e.eventListener,this.isCoinbaseWallet=(tt=_e.overrideIsCoinbaseWallet)!==null&&tt!==void 0?tt:!0,this.isCoinbaseBrowser=(rt=_e.overrideIsCoinbaseBrowser)!==null&&rt!==void 0?rt:!1,this.qrUrl=_e.qrUrl,this.supportsAddressSwitching=_e.supportsAddressSwitching;const nt=this.getChainId(),it=(0,util_1$5.prepend0x)(nt.toString(16));this.emit("connect",{chainIdStr:it});const at=this._storage.getItem(WalletSDKRelayAbstract_1$1.LOCAL_STORAGE_ADDRESSES_KEY);if(at){const st=at.split(" ");st[0]!==""&&(this._addresses=st.map(ct=>(0,util_1$5.ensureAddressString)(ct)),this.emit("accountsChanged",st))}this._subscriptionManager.events.on("notification",st=>{this.emit("message",{type:st.method,data:st.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",st=>{var ct;if(st.data.type==="walletLinkMessage"&&st.data.data.action==="defaultChainChanged"){const ut=st.data.data.chainId,ft=(ct=st.data.data.jsonRpcUrl)!==null&&ct!==void 0?ct:this.jsonRpcUrl;this.updateProviderInfo(ft,Number(ut),!0)}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,util_1$5.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var _e;return(_e=this._storage.getItem(DEFAULT_JSON_RPC_URL))!==null&&_e!==void 0?_e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(_e){this._storage.setItem(DEFAULT_JSON_RPC_URL,_e)}get isChainOverridden(){return this._storage.getItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY)==="true"}set isChainOverridden(_e){this._storage.setItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY,_e.toString())}setProviderInfo(_e,tt){this.isChainOverridden||this.updateProviderInfo(_e,this.getChainId(),!1)}updateProviderInfo(_e,tt,rt){if(this._storage.getItem(HAS_CHAIN_BEEN_SWITCHED_KEY)==="true"&&rt)return;rt&&(this.isChainOverridden=!0),this.jsonRpcUrl=_e;const it=this.getChainId();this._storage.setItem(DEFAULT_CHAIN_ID_KEY,tt.toString(10)),((0,util_1$5.ensureIntNumber)(tt)!==it||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(_e,tt,rt,nt,it,at){return!!(await(await this.initializeRelay()).watchAsset(_e,tt,rt,nt,it,at==null?void 0:at.toString()).promise).result}async addEthereumChain(_e,tt,rt,nt,it,at){var st,ct;if((0,util_1$5.ensureIntNumber)(_e)===this.getChainId())return!1;const ut=await this.initializeRelay(),ft=ut.inlineAddEthereumChain(_e.toString());!this._isAuthorized()&&!ft&&await ut.requestEthereumAccounts().promise;const gt=await ut.addEthereumChain(_e.toString(),tt,it,rt,nt,at).promise;return((st=gt.result)===null||st===void 0?void 0:st.isApproved)===!0&&(this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY,"true"),this.updateProviderInfo(tt[0],_e,!1)),((ct=gt.result)===null||ct===void 0?void 0:ct.isApproved)===!0}async switchEthereumChain(_e){if((0,util_1$5.ensureIntNumber)(_e)===this.getChainId())return;const rt=await(await this.initializeRelay()).switchEthereumChain(_e.toString(10)).promise;if(rt.errorCode)throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:rt.errorCode});const nt=rt.result;nt.isApproved&&nt.rpcUrl.length>0&&(this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY,"true"),this.updateProviderInfo(nt.rpcUrl,_e,!1))}setAppInfo(_e,tt){this.initializeRelay().then(rt=>rt.setAppInfo(_e,tt))}async enable(){var _e;return(_e=this._eventListener)===null||_e===void 0||_e.onEvent(EventListener_1$2.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Session_1$2.Session.hash(this._relay.session.id):null}),this._addresses.length>0?[...this._addresses]:await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(_e,tt){if(typeof _e=="string"){const nt=_e,it=Array.isArray(tt)?tt:tt!==void 0?[tt]:[],at={jsonrpc:"2.0",id:0,method:nt,params:it};return this._sendRequestAsync(at).then(st=>st.result)}if(typeof tt=="function"){const nt=_e,it=tt;return this._sendAsync(nt,it)}if(Array.isArray(_e))return _e.map(it=>this._sendRequest(it));const rt=_e;return this._sendRequest(rt)}async sendAsync(_e,tt){if(typeof tt!="function")throw new Error("callback is required");if(Array.isArray(_e)){const nt=tt;this._sendMultipleRequestsAsync(_e).then(it=>nt(null,it)).catch(it=>nt(it,null));return}const rt=tt;return this._sendRequestAsync(_e).then(nt=>rt(null,nt)).catch(nt=>rt(nt,null))}async request(_e){if(!_e||typeof _e!="object"||Array.isArray(_e))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:_e});const{method:tt,params:rt}=_e;if(typeof tt!="string"||tt.length===0)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:_e});if(rt!==void 0&&!Array.isArray(rt)&&(typeof rt!="object"||rt===null))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:_e});const nt=rt===void 0?[]:rt,it=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:tt,params:nt,jsonrpc:"2.0",id:it})).result}async scanQRCode(_e){const rt=await(await this.initializeRelay()).scanQRCode((0,util_1$5.ensureRegExpString)(_e)).promise;if(typeof rt.result!="string")throw new Error("result was not a string");return rt.result}async genericRequest(_e,tt){const nt=await(await this.initializeRelay()).genericRequest(_e,tt).promise;if(typeof nt.result!="string")throw new Error("result was not a string");return nt.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(_e){const tt={jsonrpc:"2.0",id:_e.id},{method:rt}=_e;if(tt.result=this._handleSynchronousMethods(_e),tt.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${rt} synchronously without a callback. Please provide a callback parameter to call ${rt} asynchronously.`);return tt}_setAddresses(_e){if(!Array.isArray(_e))throw new Error("addresses is not an array");const tt=_e.map(rt=>(0,util_1$5.ensureAddressString)(rt));JSON.stringify(tt)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1||(this._addresses=tt,this.emit("accountsChanged",this._addresses),this._storage.setItem(WalletSDKRelayAbstract_1$1.LOCAL_STORAGE_ADDRESSES_KEY,tt.join(" "))))}_sendRequestAsync(_e){return new Promise((tt,rt)=>{try{const nt=this._handleSynchronousMethods(_e);if(nt!==void 0)return tt({jsonrpc:"2.0",id:_e.id,result:nt});const it=this._handleAsynchronousFilterMethods(_e);if(it!==void 0){it.then(st=>tt(Object.assign(Object.assign({},st),{id:_e.id}))).catch(st=>rt(st));return}const at=this._handleSubscriptionMethods(_e);if(at!==void 0){at.then(st=>tt({jsonrpc:"2.0",id:_e.id,result:st.result})).catch(st=>rt(st));return}}catch(nt){return rt(nt)}this._handleAsynchronousMethods(_e).then(nt=>nt&&tt(Object.assign(Object.assign({},nt),{id:_e.id}))).catch(nt=>rt(nt))})}_sendMultipleRequestsAsync(_e){return Promise.all(_e.map(tt=>this._sendRequestAsync(tt)))}_handleSynchronousMethods(_e){const{method:tt}=_e,rt=_e.params||[];switch(tt){case JSONRPC_1.JSONRPCMethod.eth_accounts:return this._eth_accounts();case JSONRPC_1.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(rt);case JSONRPC_1.JSONRPCMethod.net_version:return this._net_version();case JSONRPC_1.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(_e){const{method:tt}=_e,rt=_e.params||[];switch(tt){case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case JSONRPC_1.JSONRPCMethod.eth_sign:return this._eth_sign(rt);case JSONRPC_1.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(rt);case JSONRPC_1.JSONRPCMethod.personal_sign:return this._personal_sign(rt);case JSONRPC_1.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(rt);case JSONRPC_1.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(rt);case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(rt);case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(rt);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(rt);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(rt);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:case JSONRPC_1.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(rt);case JSONRPC_1.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(rt);case JSONRPC_1.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(rt);case JSONRPC_1.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(rt);case JSONRPC_1.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(rt)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(_e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(_e){const{method:tt}=_e,rt=_e.params||[];switch(tt){case JSONRPC_1.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(rt);case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(rt);case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(rt)}}_handleSubscriptionMethods(_e){switch(_e.method){case JSONRPC_1.JSONRPCMethod.eth_subscribe:case JSONRPC_1.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(_e)}}_isKnownAddress(_e){try{const tt=(0,util_1$5.ensureAddressString)(_e);return this._addresses.map(nt=>(0,util_1$5.ensureAddressString)(nt)).includes(tt)}catch{}return!1}_ensureKnownAddress(_e){var tt;if(!this._isKnownAddress(_e))throw(tt=this._eventListener)===null||tt===void 0||tt.onEvent(EventListener_1$2.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(_e){const tt=_e.from?(0,util_1$5.ensureAddressString)(_e.from):this.selectedAddress;if(!tt)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(tt);const rt=_e.to?(0,util_1$5.ensureAddressString)(_e.to):null,nt=_e.value!=null?(0,util_1$5.ensureBN)(_e.value):new bn_js_1.default(0),it=_e.data?(0,util_1$5.ensureBuffer)(_e.data):Buffer.alloc(0),at=_e.nonce!=null?(0,util_1$5.ensureIntNumber)(_e.nonce):null,st=_e.gasPrice!=null?(0,util_1$5.ensureBN)(_e.gasPrice):null,ct=_e.maxFeePerGas!=null?(0,util_1$5.ensureBN)(_e.maxFeePerGas):null,ut=_e.maxPriorityFeePerGas!=null?(0,util_1$5.ensureBN)(_e.maxPriorityFeePerGas):null,ft=_e.gas!=null?(0,util_1$5.ensureBN)(_e.gas):null,gt=this.getChainId();return{fromAddress:tt,toAddress:rt,weiValue:nt,data:it,nonce:at,gasPriceInWei:st,maxFeePerGas:ct,maxPriorityFeePerGas:ut,gasLimit:ft,chainId:gt}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw eth_rpc_errors_1$1.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw eth_rpc_errors_1$1.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(_e,tt,rt,nt){this._ensureKnownAddress(tt);try{const at=await(await this.initializeRelay()).signEthereumMessage(_e,tt,rt,nt).promise;return{jsonrpc:"2.0",id:0,result:at.result}}catch(it){throw typeof it.message=="string"&&it.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied message signature"):it}}async _ethereumAddressFromSignedMessage(_e,tt,rt){const it=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(_e,tt,rt).promise;return{jsonrpc:"2.0",id:0,result:it.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,util_1$5.hexStringFromIntNumber)(this.getChainId())}getChainId(){const _e=this._storage.getItem(DEFAULT_CHAIN_ID_KEY)||"1",tt=parseInt(_e,10);return(0,util_1$5.ensureIntNumber)(tt)}async _eth_requestAccounts(){var _e;if((_e=this._eventListener)===null||_e===void 0||_e.onEvent(EventListener_1$2.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Session_1$2.Session.hash(this._relay.session.id):null}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let tt;try{tt=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(rt){throw typeof rt.message=="string"&&rt.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied account authorization"):rt}if(!tt.result)throw new Error("accounts received is empty");return this._setAddresses(tt.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureAddressString)(_e[0]),rt=(0,util_1$5.ensureBuffer)(_e[1]);return this._signEthereumMessage(rt,tt,!1)}_eth_ecRecover(_e){const tt=(0,util_1$5.ensureBuffer)(_e[0]),rt=(0,util_1$5.ensureBuffer)(_e[1]);return this._ethereumAddressFromSignedMessage(tt,rt,!1)}_personal_sign(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureBuffer)(_e[0]),rt=(0,util_1$5.ensureAddressString)(_e[1]);return this._signEthereumMessage(tt,rt,!0)}_personal_ecRecover(_e){const tt=(0,util_1$5.ensureBuffer)(_e[0]),rt=(0,util_1$5.ensureBuffer)(_e[1]);return this._ethereumAddressFromSignedMessage(tt,rt,!0)}async _eth_signTransaction(_e){this._requireAuthorization();const tt=this._prepareTransactionParams(_e[0]||{});try{const nt=await(await this.initializeRelay()).signEthereumTransaction(tt).promise;return{jsonrpc:"2.0",id:0,result:nt.result}}catch(rt){throw typeof rt.message=="string"&&rt.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied transaction signature"):rt}}async _eth_sendRawTransaction(_e){const tt=(0,util_1$5.ensureBuffer)(_e[0]),nt=await(await this.initializeRelay()).submitEthereumTransaction(tt,this.getChainId()).promise;return{jsonrpc:"2.0",id:0,result:nt.result}}async _eth_sendTransaction(_e){this._requireAuthorization();const tt=this._prepareTransactionParams(_e[0]||{});try{const nt=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(tt).promise;return{jsonrpc:"2.0",id:0,result:nt.result}}catch(rt){throw typeof rt.message=="string"&&rt.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied transaction signature"):rt}}async _eth_signTypedData_v1(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureParsedJSONObject)(_e[0]),rt=(0,util_1$5.ensureAddressString)(_e[1]);this._ensureKnownAddress(rt);const nt=eth_eip712_util_1.default.hashForSignTypedDataLegacy({data:tt}),it=JSON.stringify(tt,null,2);return this._signEthereumMessage(nt,rt,!1,it)}async _eth_signTypedData_v3(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureAddressString)(_e[0]),rt=(0,util_1$5.ensureParsedJSONObject)(_e[1]);this._ensureKnownAddress(tt);const nt=eth_eip712_util_1.default.hashForSignTypedData_v3({data:rt}),it=JSON.stringify(rt,null,2);return this._signEthereumMessage(nt,tt,!1,it)}async _eth_signTypedData_v4(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureAddressString)(_e[0]),rt=(0,util_1$5.ensureParsedJSONObject)(_e[1]);this._ensureKnownAddress(tt);const nt=eth_eip712_util_1.default.hashForSignTypedData_v4({data:rt}),it=JSON.stringify(rt,null,2);return this._signEthereumMessage(nt,tt,!1,it)}async _cbwallet_arbitrary(_e){const tt=_e[0],rt=_e[1];if(typeof rt!="string")throw new Error("parameter must be a string");if(typeof tt!="object"||tt===null)throw new Error("parameter must be an object");const nt=await this.genericRequest(tt,rt);return{jsonrpc:"2.0",id:0,result:nt}}async _wallet_addEthereumChain(_e){var tt,rt,nt,it;const at=_e[0];if(((tt=at.rpcUrls)===null||tt===void 0?void 0:tt.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!at.chainName||at.chainName.trim()==="")throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!at.nativeCurrency)throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const st=parseInt(at.chainId,16);return await this.addEthereumChain(st,(rt=at.rpcUrls)!==null&&rt!==void 0?rt:[],(nt=at.blockExplorerUrls)!==null&&nt!==void 0?nt:[],at.chainName,(it=at.iconUrls)!==null&&it!==void 0?it:[],at.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(_e){const tt=_e[0];return await this.switchEthereumChain(parseInt(tt.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(_e){var tt;const rt=Array.isArray(_e)?_e[0]:_e;if(((tt=rt.type)===null||tt===void 0?void 0:tt.length)===0)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"type is a required field"});if(rt.type!=="ERC20")throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:`Asset of type '${rt.type}' not supported`});if(!(rt!=null&&rt.options))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"options is a required field"});if(!rt.options.address)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"option address is a required option"});const nt=this.getChainId(),{address:it,symbol:at,image:st,decimals:ct}=rt.options,ut=await this.watchAsset(rt.type,it,at,ct,st,nt);return{jsonrpc:"2.0",id:0,result:ut}}_eth_uninstallFilter(_e){const tt=(0,util_1$5.ensureHexString)(_e[0]);return this._filterPolyfill.uninstallFilter(tt)}async _eth_newFilter(_e){const tt=_e[0],rt=await this._filterPolyfill.newFilter(tt);return{jsonrpc:"2.0",id:0,result:rt}}async _eth_newBlockFilter(){const _e=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:_e}}async _eth_newPendingTransactionFilter(){const _e=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:_e}}_eth_getFilterChanges(_e){const tt=(0,util_1$5.ensureHexString)(_e[0]);return this._filterPolyfill.getFilterChanges(tt)}_eth_getFilterLogs(_e){const tt=(0,util_1$5.ensureHexString)(_e[0]);return this._filterPolyfill.getFilterLogs(tt)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(_e=>(_e.setAccountsCallback(tt=>this._setAddresses(tt)),_e.setChainCallback((tt,rt)=>{this.updateProviderInfo(rt,parseInt(tt,10),!0)}),this._relay=_e,_e))}}CoinbaseWalletProvider$1.CoinbaseWalletProvider=CoinbaseWalletProvider;var WalletSDKUI$1={},LinkFlow$1={},n$2,l$3,u$3,i$4,t$4,o$3,r$4,f$4,e$4={},c$4=[],s$3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a$3(et,_e){for(var tt in _e)et[tt]=_e[tt];return et}function h$4(et){var _e=et.parentNode;_e&&_e.removeChild(et)}function v$4(et,_e,tt){var rt,nt,it,at={};for(it in _e)it=="key"?rt=_e[it]:it=="ref"?nt=_e[it]:at[it]=_e[it];if(arguments.length>2&&(at.children=arguments.length>3?n$2.call(arguments,2):tt),typeof et=="function"&&et.defaultProps!=null)for(it in et.defaultProps)at[it]===void 0&&(at[it]=et.defaultProps[it]);return y$4(et,at,rt,nt,null)}function y$4(et,_e,tt,rt,nt){var it={type:et,props:_e,key:tt,ref:rt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:nt==null?++u$3:nt};return nt==null&&l$3.vnode!=null&&l$3.vnode(it),it}function p$4(){return{current:null}}function d$4(et){return et.children}function _$4(et,_e){this.props=et,this.context=_e}function k$4(et,_e){if(_e==null)return et.__?k$4(et.__,et.__.__k.indexOf(et)+1):null;for(var tt;_e<et.__k.length;_e++)if((tt=et.__k[_e])!=null&&tt.__e!=null)return tt.__e;return typeof et.type=="function"?k$4(et):null}function b$3(et){var _e,tt;if((et=et.__)!=null&&et.__c!=null){for(et.__e=et.__c.base=null,_e=0;_e<et.__k.length;_e++)if((tt=et.__k[_e])!=null&&tt.__e!=null){et.__e=et.__c.base=tt.__e;break}return b$3(et)}}function m$4(et){(!et.__d&&(et.__d=!0)&&t$4.push(et)&&!g$4.__r++||r$4!==l$3.debounceRendering)&&((r$4=l$3.debounceRendering)||o$3)(g$4)}function g$4(){for(var et;g$4.__r=t$4.length;)et=t$4.sort(function(_e,tt){return _e.__v.__b-tt.__v.__b}),t$4=[],et.some(function(_e){var tt,rt,nt,it,at,st;_e.__d&&(at=(it=(tt=_e).__v).__e,(st=tt.__P)&&(rt=[],(nt=a$3({},it)).__v=it.__v+1,j$3(st,it,nt,tt.__n,st.ownerSVGElement!==void 0,it.__h!=null?[at]:null,rt,at==null?k$4(it):at,it.__h),z$3(rt,it),it.__e!=at&&b$3(it)))})}function w$5(et,_e,tt,rt,nt,it,at,st,ct,ut){var ft,gt,_t,Et,$t,It,Tt,At=rt&&rt.__k||c$4,Rt=At.length;for(tt.__k=[],ft=0;ft<_e.length;ft++)if((Et=tt.__k[ft]=(Et=_e[ft])==null||typeof Et=="boolean"?null:typeof Et=="string"||typeof Et=="number"||typeof Et=="bigint"?y$4(null,Et,null,null,Et):Array.isArray(Et)?y$4(d$4,{children:Et},null,null,null):Et.__b>0?y$4(Et.type,Et.props,Et.key,null,Et.__v):Et)!=null){if(Et.__=tt,Et.__b=tt.__b+1,(_t=At[ft])===null||_t&&Et.key==_t.key&&Et.type===_t.type)At[ft]=void 0;else for(gt=0;gt<Rt;gt++){if((_t=At[gt])&&Et.key==_t.key&&Et.type===_t.type){At[gt]=void 0;break}_t=null}j$3(et,Et,_t=_t||e$4,nt,it,at,st,ct,ut),$t=Et.__e,(gt=Et.ref)&&_t.ref!=gt&&(Tt||(Tt=[]),_t.ref&&Tt.push(_t.ref,null,Et),Tt.push(gt,Et.__c||$t,Et)),$t!=null?(It==null&&(It=$t),typeof Et.type=="function"&&Et.__k===_t.__k?Et.__d=ct=x$4(Et,ct,et):ct=P$2(et,Et,_t,At,$t,ct),typeof tt.type=="function"&&(tt.__d=ct)):ct&&_t.__e==ct&&ct.parentNode!=et&&(ct=k$4(_t))}for(tt.__e=It,ft=Rt;ft--;)At[ft]!=null&&(typeof tt.type=="function"&&At[ft].__e!=null&&At[ft].__e==tt.__d&&(tt.__d=k$4(rt,ft+1)),N$2(At[ft],At[ft]));if(Tt)for(ft=0;ft<Tt.length;ft++)M$2(Tt[ft],Tt[++ft],Tt[++ft])}function x$4(et,_e,tt){for(var rt,nt=et.__k,it=0;nt&&it<nt.length;it++)(rt=nt[it])&&(rt.__=et,_e=typeof rt.type=="function"?x$4(rt,_e,tt):P$2(tt,rt,rt,nt,rt.__e,_e));return _e}function A$5(et,_e){return _e=_e||[],et==null||typeof et=="boolean"||(Array.isArray(et)?et.some(function(tt){A$5(tt,_e)}):_e.push(et)),_e}function P$2(et,_e,tt,rt,nt,it){var at,st,ct;if(_e.__d!==void 0)at=_e.__d,_e.__d=void 0;else if(tt==null||nt!=it||nt.parentNode==null)e:if(it==null||it.parentNode!==et)et.appendChild(nt),at=null;else{for(st=it,ct=0;(st=st.nextSibling)&&ct<rt.length;ct+=2)if(st==nt)break e;et.insertBefore(nt,it),at=it}return at!==void 0?at:nt.nextSibling}function C$2(et,_e,tt,rt,nt){var it;for(it in tt)it==="children"||it==="key"||it in _e||H$2(et,it,null,tt[it],rt);for(it in _e)nt&&typeof _e[it]!="function"||it==="children"||it==="key"||it==="value"||it==="checked"||tt[it]===_e[it]||H$2(et,it,_e[it],tt[it],rt)}function $$2(et,_e,tt){_e[0]==="-"?et.setProperty(_e,tt):et[_e]=tt==null?"":typeof tt!="number"||s$3.test(_e)?tt:tt+"px"}function H$2(et,_e,tt,rt,nt){var it;e:if(_e==="style")if(typeof tt=="string")et.style.cssText=tt;else{if(typeof rt=="string"&&(et.style.cssText=rt=""),rt)for(_e in rt)tt&&_e in tt||$$2(et.style,_e,"");if(tt)for(_e in tt)rt&&tt[_e]===rt[_e]||$$2(et.style,_e,tt[_e])}else if(_e[0]==="o"&&_e[1]==="n")it=_e!==(_e=_e.replace(/Capture$/,"")),_e=_e.toLowerCase()in et?_e.toLowerCase().slice(2):_e.slice(2),et.l||(et.l={}),et.l[_e+it]=tt,tt?rt||et.addEventListener(_e,it?T$4:I$2,it):et.removeEventListener(_e,it?T$4:I$2,it);else if(_e!=="dangerouslySetInnerHTML"){if(nt)_e=_e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(_e!=="href"&&_e!=="list"&&_e!=="form"&&_e!=="tabIndex"&&_e!=="download"&&_e in et)try{et[_e]=tt==null?"":tt;break e}catch{}typeof tt=="function"||(tt!=null&&(tt!==!1||_e[0]==="a"&&_e[1]==="r")?et.setAttribute(_e,tt):et.removeAttribute(_e))}}function I$2(et){this.l[et.type+!1](l$3.event?l$3.event(et):et)}function T$4(et){this.l[et.type+!0](l$3.event?l$3.event(et):et)}function j$3(et,_e,tt,rt,nt,it,at,st,ct){var ut,ft,gt,_t,Et,$t,It,Tt,At,Rt,kt,Ot=_e.type;if(_e.constructor!==void 0)return null;tt.__h!=null&&(ct=tt.__h,st=_e.__e=tt.__e,_e.__h=null,it=[st]),(ut=l$3.__b)&&ut(_e);try{e:if(typeof Ot=="function"){if(Tt=_e.props,At=(ut=Ot.contextType)&&rt[ut.__c],Rt=ut?At?At.props.value:ut.__:rt,tt.__c?It=(ft=_e.__c=tt.__c).__=ft.__E:("prototype"in Ot&&Ot.prototype.render?_e.__c=ft=new Ot(Tt,Rt):(_e.__c=ft=new _$4(Tt,Rt),ft.constructor=Ot,ft.render=O$1),At&&At.sub(ft),ft.props=Tt,ft.state||(ft.state={}),ft.context=Rt,ft.__n=rt,gt=ft.__d=!0,ft.__h=[]),ft.__s==null&&(ft.__s=ft.state),Ot.getDerivedStateFromProps!=null&&(ft.__s==ft.state&&(ft.__s=a$3({},ft.__s)),a$3(ft.__s,Ot.getDerivedStateFromProps(Tt,ft.__s))),_t=ft.props,Et=ft.state,gt)Ot.getDerivedStateFromProps==null&&ft.componentWillMount!=null&&ft.componentWillMount(),ft.componentDidMount!=null&&ft.__h.push(ft.componentDidMount);else{if(Ot.getDerivedStateFromProps==null&&Tt!==_t&&ft.componentWillReceiveProps!=null&&ft.componentWillReceiveProps(Tt,Rt),!ft.__e&&ft.shouldComponentUpdate!=null&&ft.shouldComponentUpdate(Tt,ft.__s,Rt)===!1||_e.__v===tt.__v){ft.props=Tt,ft.state=ft.__s,_e.__v!==tt.__v&&(ft.__d=!1),ft.__v=_e,_e.__e=tt.__e,_e.__k=tt.__k,_e.__k.forEach(function(Wt){Wt&&(Wt.__=_e)}),ft.__h.length&&at.push(ft);break e}ft.componentWillUpdate!=null&&ft.componentWillUpdate(Tt,ft.__s,Rt),ft.componentDidUpdate!=null&&ft.__h.push(function(){ft.componentDidUpdate(_t,Et,$t)})}ft.context=Rt,ft.props=Tt,ft.state=ft.__s,(ut=l$3.__r)&&ut(_e),ft.__d=!1,ft.__v=_e,ft.__P=et,ut=ft.render(ft.props,ft.state,ft.context),ft.state=ft.__s,ft.getChildContext!=null&&(rt=a$3(a$3({},rt),ft.getChildContext())),gt||ft.getSnapshotBeforeUpdate==null||($t=ft.getSnapshotBeforeUpdate(_t,Et)),kt=ut!=null&&ut.type===d$4&&ut.key==null?ut.props.children:ut,w$5(et,Array.isArray(kt)?kt:[kt],_e,tt,rt,nt,it,at,st,ct),ft.base=_e.__e,_e.__h=null,ft.__h.length&&at.push(ft),It&&(ft.__E=ft.__=null),ft.__e=!1}else it==null&&_e.__v===tt.__v?(_e.__k=tt.__k,_e.__e=tt.__e):_e.__e=L$2(tt.__e,_e,tt,rt,nt,it,at,ct);(ut=l$3.diffed)&&ut(_e)}catch(Wt){_e.__v=null,(ct||it!=null)&&(_e.__e=st,_e.__h=!!ct,it[it.indexOf(st)]=null),l$3.__e(Wt,_e,tt)}}function z$3(et,_e){l$3.__c&&l$3.__c(_e,et),et.some(function(tt){try{et=tt.__h,tt.__h=[],et.some(function(rt){rt.call(tt)})}catch(rt){l$3.__e(rt,tt.__v)}})}function L$2(et,_e,tt,rt,nt,it,at,st){var ct,ut,ft,gt=tt.props,_t=_e.props,Et=_e.type,$t=0;if(Et==="svg"&&(nt=!0),it!=null){for(;$t<it.length;$t++)if((ct=it[$t])&&"setAttribute"in ct==!!Et&&(Et?ct.localName===Et:ct.nodeType===3)){et=ct,it[$t]=null;break}}if(et==null){if(Et===null)return document.createTextNode(_t);et=nt?document.createElementNS("http://www.w3.org/2000/svg",Et):document.createElement(Et,_t.is&&_t),it=null,st=!1}if(Et===null)gt===_t||st&&et.data===_t||(et.data=_t);else{if(it=it&&n$2.call(et.childNodes),ut=(gt=tt.props||e$4).dangerouslySetInnerHTML,ft=_t.dangerouslySetInnerHTML,!st){if(it!=null)for(gt={},$t=0;$t<et.attributes.length;$t++)gt[et.attributes[$t].name]=et.attributes[$t].value;(ft||ut)&&(ft&&(ut&&ft.__html==ut.__html||ft.__html===et.innerHTML)||(et.innerHTML=ft&&ft.__html||""))}if(C$2(et,_t,gt,nt,st),ft)_e.__k=[];else if($t=_e.props.children,w$5(et,Array.isArray($t)?$t:[$t],_e,tt,rt,nt&&Et!=="foreignObject",it,at,it?it[0]:tt.__k&&k$4(tt,0),st),it!=null)for($t=it.length;$t--;)it[$t]!=null&&h$4(it[$t]);st||("value"in _t&&($t=_t.value)!==void 0&&($t!==et.value||Et==="progress"&&!$t||Et==="option"&&$t!==gt.value)&&H$2(et,"value",$t,gt.value,!1),"checked"in _t&&($t=_t.checked)!==void 0&&$t!==et.checked&&H$2(et,"checked",$t,gt.checked,!1))}return et}function M$2(et,_e,tt){try{typeof et=="function"?et(_e):et.current=_e}catch(rt){l$3.__e(rt,tt)}}function N$2(et,_e,tt){var rt,nt;if(l$3.unmount&&l$3.unmount(et),(rt=et.ref)&&(rt.current&&rt.current!==et.__e||M$2(rt,null,_e)),(rt=et.__c)!=null){if(rt.componentWillUnmount)try{rt.componentWillUnmount()}catch(it){l$3.__e(it,_e)}rt.base=rt.__P=null}if(rt=et.__k)for(nt=0;nt<rt.length;nt++)rt[nt]&&N$2(rt[nt],_e,typeof et.type!="function");tt||et.__e==null||h$4(et.__e),et.__e=et.__d=void 0}function O$1(et,_e,tt){return this.constructor(et,tt)}function S$1(et,_e,tt){var rt,nt,it;l$3.__&&l$3.__(et,_e),nt=(rt=typeof tt=="function")?null:tt&&tt.__k||_e.__k,it=[],j$3(_e,et=(!rt&&tt||_e).__k=v$4(d$4,null,[et]),nt||e$4,e$4,_e.ownerSVGElement!==void 0,!rt&&tt?[tt]:nt?null:_e.firstChild?n$2.call(_e.childNodes):null,it,!rt&&tt?tt:nt?nt.__e:_e.firstChild,rt),z$3(it,et)}function q$4(et,_e){S$1(et,_e,q$4)}function B$1(et,_e,tt){var rt,nt,it,at=a$3({},et.props);for(it in _e)it=="key"?rt=_e[it]:it=="ref"?nt=_e[it]:at[it]=_e[it];return arguments.length>2&&(at.children=arguments.length>3?n$2.call(arguments,2):tt),y$4(et.type,at,rt||et.key,nt||et.ref,null)}function D$2(et,_e){var tt={__c:_e="__cC"+f$4++,__:et,Consumer:function(rt,nt){return rt.children(nt)},Provider:function(rt){var nt,it;return this.getChildContext||(nt=[],(it={})[_e]=this,this.getChildContext=function(){return it},this.shouldComponentUpdate=function(at){this.props.value!==at.value&&nt.some(m$4)},this.sub=function(at){nt.push(at);var st=at.componentWillUnmount;at.componentWillUnmount=function(){nt.splice(nt.indexOf(at),1),st&&st.call(at)}}),rt.children}};return tt.Provider.__=tt.Consumer.contextType=tt}n$2=c$4.slice,l$3={__e:function(et,_e,tt,rt){for(var nt,it,at;_e=_e.__;)if((nt=_e.__c)&&!nt.__)try{if((it=nt.constructor)&&it.getDerivedStateFromError!=null&&(nt.setState(it.getDerivedStateFromError(et)),at=nt.__d),nt.componentDidCatch!=null&&(nt.componentDidCatch(et,rt||{}),at=nt.__d),at)return nt.__E=nt}catch(st){et=st}throw et}},u$3=0,i$4=function(et){return et!=null&&et.constructor===void 0},_$4.prototype.setState=function(et,_e){var tt;tt=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=a$3({},this.state),typeof et=="function"&&(et=et(a$3({},tt),this.props)),et&&a$3(tt,et),et!=null&&this.__v&&(_e&&this.__h.push(_e),m$4(this))},_$4.prototype.forceUpdate=function(et){this.__v&&(this.__e=!0,et&&this.__h.push(et),m$4(this))},_$4.prototype.render=d$4,t$4=[],o$3=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g$4.__r=0,f$4=0;var preact_module=Object.freeze(Object.defineProperty({__proto__:null,render:S$1,hydrate:q$4,createElement:v$4,h:v$4,Fragment:d$4,createRef:p$4,get isValidElement(){return i$4},Component:_$4,cloneElement:B$1,createContext:D$2,toChildArray:A$5,get options(){return l$3}},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(preact_module),TryExtensionLinkDialog$1={};function toVal(et){var _e,tt,rt="";if(typeof et=="string"||typeof et=="number")rt+=et;else if(typeof et=="object")if(Array.isArray(et))for(_e=0;_e<et.length;_e++)et[_e]&&(tt=toVal(et[_e]))&&(rt&&(rt+=" "),rt+=tt);else for(_e in et)et[_e]&&(rt&&(rt+=" "),rt+=_e);return rt}function clsx_m(){for(var et=0,_e,tt,rt="";et<arguments.length;)(_e=arguments[et++])&&(tt=toVal(_e))&&(rt&&(rt+=" "),rt+=tt);return rt}var clsx_m$1=Object.freeze(Object.defineProperty({__proto__:null,default:clsx_m},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(clsx_m$1),t$3,u$2,r$3,o$2=0,i$3=[],c$3=l$3.__b,f$3=l$3.__r,e$3=l$3.diffed,a$2=l$3.__c,v$3=l$3.unmount;function l$2(et,_e){l$3.__h&&l$3.__h(u$2,et,o$2||_e),o$2=0;var tt=u$2.__H||(u$2.__H={__:[],__h:[]});return et>=tt.__.length&&tt.__.push({}),tt.__[et]}function m$3(et){return o$2=1,p$3(w$4,et)}function p$3(et,_e,tt){var rt=l$2(t$3++,2);return rt.t=et,rt.__c||(rt.__=[tt?tt(_e):w$4(void 0,_e),function(nt){var it=rt.t(rt.__[0],nt);rt.__[0]!==it&&(rt.__=[it,rt.__[1]],rt.__c.setState({}))}],rt.__c=u$2),rt.__}function y$3(et,_e){var tt=l$2(t$3++,3);!l$3.__s&&k$3(tt.__H,_e)&&(tt.__=et,tt.__H=_e,u$2.__H.__h.push(tt))}function d$3(et,_e){var tt=l$2(t$3++,4);!l$3.__s&&k$3(tt.__H,_e)&&(tt.__=et,tt.__H=_e,u$2.__h.push(tt))}function h$3(et){return o$2=5,_$3(function(){return{current:et}},[])}function s$2(et,_e,tt){o$2=6,d$3(function(){return typeof et=="function"?(et(_e()),function(){return et(null)}):et?(et.current=_e(),function(){return et.current=null}):void 0},tt==null?tt:tt.concat(et))}function _$3(et,_e){var tt=l$2(t$3++,7);return k$3(tt.__H,_e)&&(tt.__=et(),tt.__H=_e,tt.__h=et),tt.__}function A$4(et,_e){return o$2=8,_$3(function(){return et},_e)}function F$2(et){var _e=u$2.context[et.__c],tt=l$2(t$3++,9);return tt.c=et,_e?(tt.__==null&&(tt.__=!0,_e.sub(u$2)),_e.props.value):et.__}function T$3(et,_e){l$3.useDebugValue&&l$3.useDebugValue(_e?_e(et):et)}function q$3(et){var _e=l$2(t$3++,10),tt=m$3();return _e.__=et,u$2.componentDidCatch||(u$2.componentDidCatch=function(rt){_e.__&&_e.__(rt),tt[1](rt)}),[tt[0],function(){tt[1](void 0)}]}function x$3(){for(var et;et=i$3.shift();)if(et.__P)try{et.__H.__h.forEach(g$3),et.__H.__h.forEach(j$2),et.__H.__h=[]}catch(_e){et.__H.__h=[],l$3.__e(_e,et.__v)}}l$3.__b=function(et){u$2=null,c$3&&c$3(et)},l$3.__r=function(et){f$3&&f$3(et),t$3=0;var _e=(u$2=et.__c).__H;_e&&(_e.__h.forEach(g$3),_e.__h.forEach(j$2),_e.__h=[])},l$3.diffed=function(et){e$3&&e$3(et);var _e=et.__c;_e&&_e.__H&&_e.__H.__h.length&&(i$3.push(_e)!==1&&r$3===l$3.requestAnimationFrame||((r$3=l$3.requestAnimationFrame)||function(tt){var rt,nt=function(){clearTimeout(it),b$2&&cancelAnimationFrame(rt),setTimeout(tt)},it=setTimeout(nt,100);b$2&&(rt=requestAnimationFrame(nt))})(x$3)),u$2=null},l$3.__c=function(et,_e){_e.some(function(tt){try{tt.__h.forEach(g$3),tt.__h=tt.__h.filter(function(rt){return!rt.__||j$2(rt)})}catch(rt){_e.some(function(nt){nt.__h&&(nt.__h=[])}),_e=[],l$3.__e(rt,tt.__v)}}),a$2&&a$2(et,_e)},l$3.unmount=function(et){v$3&&v$3(et);var _e,tt=et.__c;tt&&tt.__H&&(tt.__H.__.forEach(function(rt){try{g$3(rt)}catch(nt){_e=nt}}),_e&&l$3.__e(_e,tt.__v))};var b$2=typeof requestAnimationFrame=="function";function g$3(et){var _e=u$2,tt=et.__c;typeof tt=="function"&&(et.__c=void 0,tt()),u$2=_e}function j$2(et){var _e=u$2;et.__c=et.__(),u$2=_e}function k$3(et,_e){return!et||et.length!==_e.length||_e.some(function(tt,rt){return tt!==et[rt]})}function w$4(et,_e){return typeof _e=="function"?_e(et):_e}var hooks_module=Object.freeze(Object.defineProperty({__proto__:null,useState:m$3,useReducer:p$3,useEffect:y$3,useLayoutEffect:d$3,useRef:h$3,useImperativeHandle:s$2,useMemo:_$3,useCallback:A$4,useContext:F$2,useDebugValue:T$3,useErrorBoundary:q$3},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(hooks_module),version$4={};Object.defineProperty(version$4,"__esModule",{value:!0});version$4.LIB_VERSION=void 0;version$4.LIB_VERSION="3.1.0";var globeIconSvg={};Object.defineProperty(globeIconSvg,"__esModule",{value:!0});globeIconSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var linkIconSvg={};Object.defineProperty(linkIconSvg,"__esModule",{value:!0});linkIconSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var lockIconSvg={};Object.defineProperty(lockIconSvg,"__esModule",{value:!0});lockIconSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var QRLogo={};Object.defineProperty(QRLogo,"__esModule",{value:!0});QRLogo.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`;var QRCode$4={};function QR8bitByte(et){this.mode=QRMode.MODE_8BIT_BYTE,this.data=et,this.parsedData=[];for(var _e=0,tt=this.data.length;_e<tt;_e++){var rt=[],nt=this.data.charCodeAt(_e);nt>65536?(rt[0]=240|(nt&1835008)>>>18,rt[1]=128|(nt&258048)>>>12,rt[2]=128|(nt&4032)>>>6,rt[3]=128|nt&63):nt>2048?(rt[0]=224|(nt&61440)>>>12,rt[1]=128|(nt&4032)>>>6,rt[2]=128|nt&63):nt>128?(rt[0]=192|(nt&1984)>>>6,rt[1]=128|nt&63):rt[0]=nt,this.parsedData.push(rt)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}QR8bitByte.prototype={getLength:function(et){return this.parsedData.length},write:function(et){for(var _e=0,tt=this.parsedData.length;_e<tt;_e++)et.put(this.parsedData[_e],8)}};function QRCodeModel(et,_e){this.typeNumber=et,this.errorCorrectLevel=_e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}QRCodeModel.prototype={addData:function(et){var _e=new QR8bitByte(et);this.dataList.push(_e),this.dataCache=null},isDark:function(et,_e){if(et<0||this.moduleCount<=et||_e<0||this.moduleCount<=_e)throw new Error(et+","+_e);return this.modules[et][_e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(et,_e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var tt=0;tt<this.moduleCount;tt++){this.modules[tt]=new Array(this.moduleCount);for(var rt=0;rt<this.moduleCount;rt++)this.modules[tt][rt]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(et,_e),this.typeNumber>=7&&this.setupTypeNumber(et),this.dataCache==null&&(this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,_e)},setupPositionProbePattern:function(et,_e){for(var tt=-1;tt<=7;tt++)if(!(et+tt<=-1||this.moduleCount<=et+tt))for(var rt=-1;rt<=7;rt++)_e+rt<=-1||this.moduleCount<=_e+rt||(0<=tt&&tt<=6&&(rt==0||rt==6)||0<=rt&&rt<=6&&(tt==0||tt==6)||2<=tt&&tt<=4&&2<=rt&&rt<=4?this.modules[et+tt][_e+rt]=!0:this.modules[et+tt][_e+rt]=!1)},getBestMaskPattern:function(){for(var et=0,_e=0,tt=0;tt<8;tt++){this.makeImpl(!0,tt);var rt=QRUtil.getLostPoint(this);(tt==0||et>rt)&&(et=rt,_e=tt)}return _e},createMovieClip:function(et,_e,tt){var rt=et.createEmptyMovieClip(_e,tt),nt=1;this.make();for(var it=0;it<this.modules.length;it++)for(var at=it*nt,st=0;st<this.modules[it].length;st++){var ct=st*nt,ut=this.modules[it][st];ut&&(rt.beginFill(0,100),rt.moveTo(ct,at),rt.lineTo(ct+nt,at),rt.lineTo(ct+nt,at+nt),rt.lineTo(ct,at+nt),rt.endFill())}return rt},setupTimingPattern:function(){for(var et=8;et<this.moduleCount-8;et++)this.modules[et][6]==null&&(this.modules[et][6]=et%2==0);for(var _e=8;_e<this.moduleCount-8;_e++)this.modules[6][_e]==null&&(this.modules[6][_e]=_e%2==0)},setupPositionAdjustPattern:function(){for(var et=QRUtil.getPatternPosition(this.typeNumber),_e=0;_e<et.length;_e++)for(var tt=0;tt<et.length;tt++){var rt=et[_e],nt=et[tt];if(this.modules[rt][nt]==null)for(var it=-2;it<=2;it++)for(var at=-2;at<=2;at++)it==-2||it==2||at==-2||at==2||it==0&&at==0?this.modules[rt+it][nt+at]=!0:this.modules[rt+it][nt+at]=!1}},setupTypeNumber:function(et){for(var _e=QRUtil.getBCHTypeNumber(this.typeNumber),tt=0;tt<18;tt++){var rt=!et&&(_e>>tt&1)==1;this.modules[Math.floor(tt/3)][tt%3+this.moduleCount-8-3]=rt}for(var tt=0;tt<18;tt++){var rt=!et&&(_e>>tt&1)==1;this.modules[tt%3+this.moduleCount-8-3][Math.floor(tt/3)]=rt}},setupTypeInfo:function(et,_e){for(var tt=this.errorCorrectLevel<<3|_e,rt=QRUtil.getBCHTypeInfo(tt),nt=0;nt<15;nt++){var it=!et&&(rt>>nt&1)==1;nt<6?this.modules[nt][8]=it:nt<8?this.modules[nt+1][8]=it:this.modules[this.moduleCount-15+nt][8]=it}for(var nt=0;nt<15;nt++){var it=!et&&(rt>>nt&1)==1;nt<8?this.modules[8][this.moduleCount-nt-1]=it:nt<9?this.modules[8][15-nt-1+1]=it:this.modules[8][15-nt-1]=it}this.modules[this.moduleCount-8][8]=!et},mapData:function(et,_e){for(var tt=-1,rt=this.moduleCount-1,nt=7,it=0,at=this.moduleCount-1;at>0;at-=2)for(at==6&&at--;;){for(var st=0;st<2;st++)if(this.modules[rt][at-st]==null){var ct=!1;it<et.length&&(ct=(et[it]>>>nt&1)==1);var ut=QRUtil.getMask(_e,rt,at-st);ut&&(ct=!ct),this.modules[rt][at-st]=ct,nt--,nt==-1&&(it++,nt=7)}if(rt+=tt,rt<0||this.moduleCount<=rt){rt-=tt,tt=-tt;break}}}};QRCodeModel.PAD0=236;QRCodeModel.PAD1=17;QRCodeModel.createData=function(et,_e,tt){for(var rt=QRRSBlock.getRSBlocks(et,_e),nt=new QRBitBuffer,it=0;it<tt.length;it++){var at=tt[it];nt.put(at.mode,4),nt.put(at.getLength(),QRUtil.getLengthInBits(at.mode,et)),at.write(nt)}for(var st=0,it=0;it<rt.length;it++)st+=rt[it].dataCount;if(nt.getLengthInBits()>st*8)throw new Error("code length overflow. ("+nt.getLengthInBits()+">"+st*8+")");for(nt.getLengthInBits()+4<=st*8&&nt.put(0,4);nt.getLengthInBits()%8!=0;)nt.putBit(!1);for(;!(nt.getLengthInBits()>=st*8||(nt.put(QRCodeModel.PAD0,8),nt.getLengthInBits()>=st*8));)nt.put(QRCodeModel.PAD1,8);return QRCodeModel.createBytes(nt,rt)};QRCodeModel.createBytes=function(et,_e){for(var tt=0,rt=0,nt=0,it=new Array(_e.length),at=new Array(_e.length),st=0;st<_e.length;st++){var ct=_e[st].dataCount,ut=_e[st].totalCount-ct;rt=Math.max(rt,ct),nt=Math.max(nt,ut),it[st]=new Array(ct);for(var ft=0;ft<it[st].length;ft++)it[st][ft]=255&et.buffer[ft+tt];tt+=ct;var gt=QRUtil.getErrorCorrectPolynomial(ut),_t=new QRPolynomial(it[st],gt.getLength()-1),Et=_t.mod(gt);at[st]=new Array(gt.getLength()-1);for(var ft=0;ft<at[st].length;ft++){var $t=ft+Et.getLength()-at[st].length;at[st][ft]=$t>=0?Et.get($t):0}}for(var It=0,ft=0;ft<_e.length;ft++)It+=_e[ft].totalCount;for(var Tt=new Array(It),At=0,ft=0;ft<rt;ft++)for(var st=0;st<_e.length;st++)ft<it[st].length&&(Tt[At++]=it[st][ft]);for(var ft=0;ft<nt;ft++)for(var st=0;st<_e.length;st++)ft<at[st].length&&(Tt[At++]=at[st][ft]);return Tt};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(et){for(var _e=et<<10;QRUtil.getBCHDigit(_e)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)_e^=QRUtil.G15<<QRUtil.getBCHDigit(_e)-QRUtil.getBCHDigit(QRUtil.G15);return(et<<10|_e)^QRUtil.G15_MASK},getBCHTypeNumber:function(et){for(var _e=et<<12;QRUtil.getBCHDigit(_e)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)_e^=QRUtil.G18<<QRUtil.getBCHDigit(_e)-QRUtil.getBCHDigit(QRUtil.G18);return et<<12|_e},getBCHDigit:function(et){for(var _e=0;et!=0;)_e++,et>>>=1;return _e},getPatternPosition:function(et){return QRUtil.PATTERN_POSITION_TABLE[et-1]},getMask:function(et,_e,tt){switch(et){case QRMaskPattern.PATTERN000:return(_e+tt)%2==0;case QRMaskPattern.PATTERN001:return _e%2==0;case QRMaskPattern.PATTERN010:return tt%3==0;case QRMaskPattern.PATTERN011:return(_e+tt)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(_e/2)+Math.floor(tt/3))%2==0;case QRMaskPattern.PATTERN101:return _e*tt%2+_e*tt%3==0;case QRMaskPattern.PATTERN110:return(_e*tt%2+_e*tt%3)%2==0;case QRMaskPattern.PATTERN111:return(_e*tt%3+(_e+tt)%2)%2==0;default:throw new Error("bad maskPattern:"+et)}},getErrorCorrectPolynomial:function(et){for(var _e=new QRPolynomial([1],0),tt=0;tt<et;tt++)_e=_e.multiply(new QRPolynomial([1,QRMath.gexp(tt)],0));return _e},getLengthInBits:function(et,_e){if(1<=_e&&_e<10)switch(et){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+et)}else if(_e<27)switch(et){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+et)}else if(_e<41)switch(et){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+et)}else throw new Error("type:"+_e)},getLostPoint:function(et){for(var _e=et.getModuleCount(),tt=0,rt=0;rt<_e;rt++)for(var nt=0;nt<_e;nt++){for(var it=0,at=et.isDark(rt,nt),st=-1;st<=1;st++)if(!(rt+st<0||_e<=rt+st))for(var ct=-1;ct<=1;ct++)nt+ct<0||_e<=nt+ct||st==0&&ct==0||at==et.isDark(rt+st,nt+ct)&&it++;it>5&&(tt+=3+it-5)}for(var rt=0;rt<_e-1;rt++)for(var nt=0;nt<_e-1;nt++){var ut=0;et.isDark(rt,nt)&&ut++,et.isDark(rt+1,nt)&&ut++,et.isDark(rt,nt+1)&&ut++,et.isDark(rt+1,nt+1)&&ut++,(ut==0||ut==4)&&(tt+=3)}for(var rt=0;rt<_e;rt++)for(var nt=0;nt<_e-6;nt++)et.isDark(rt,nt)&&!et.isDark(rt,nt+1)&&et.isDark(rt,nt+2)&&et.isDark(rt,nt+3)&&et.isDark(rt,nt+4)&&!et.isDark(rt,nt+5)&&et.isDark(rt,nt+6)&&(tt+=40);for(var nt=0;nt<_e;nt++)for(var rt=0;rt<_e-6;rt++)et.isDark(rt,nt)&&!et.isDark(rt+1,nt)&&et.isDark(rt+2,nt)&&et.isDark(rt+3,nt)&&et.isDark(rt+4,nt)&&!et.isDark(rt+5,nt)&&et.isDark(rt+6,nt)&&(tt+=40);for(var ft=0,nt=0;nt<_e;nt++)for(var rt=0;rt<_e;rt++)et.isDark(rt,nt)&&ft++;var gt=Math.abs(100*ft/_e/_e-50)/5;return tt+=gt*10,tt}},QRMath={glog:function(et){if(et<1)throw new Error("glog("+et+")");return QRMath.LOG_TABLE[et]},gexp:function(et){for(;et<0;)et+=255;for(;et>=256;)et-=255;return QRMath.EXP_TABLE[et]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i$2=0;i$2<8;i$2++)QRMath.EXP_TABLE[i$2]=1<<i$2;for(var i$2=8;i$2<256;i$2++)QRMath.EXP_TABLE[i$2]=QRMath.EXP_TABLE[i$2-4]^QRMath.EXP_TABLE[i$2-5]^QRMath.EXP_TABLE[i$2-6]^QRMath.EXP_TABLE[i$2-8];for(var i$2=0;i$2<255;i$2++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i$2]]=i$2;function QRPolynomial(et,_e){if(et.length==null)throw new Error(et.length+"/"+_e);for(var tt=0;tt<et.length&&et[tt]==0;)tt++;this.num=new Array(et.length-tt+_e);for(var rt=0;rt<et.length-tt;rt++)this.num[rt]=et[rt+tt]}QRPolynomial.prototype={get:function(et){return this.num[et]},getLength:function(){return this.num.length},multiply:function(et){for(var _e=new Array(this.getLength()+et.getLength()-1),tt=0;tt<this.getLength();tt++)for(var rt=0;rt<et.getLength();rt++)_e[tt+rt]^=QRMath.gexp(QRMath.glog(this.get(tt))+QRMath.glog(et.get(rt)));return new QRPolynomial(_e,0)},mod:function(et){if(this.getLength()-et.getLength()<0)return this;for(var _e=QRMath.glog(this.get(0))-QRMath.glog(et.get(0)),tt=new Array(this.getLength()),rt=0;rt<this.getLength();rt++)tt[rt]=this.get(rt);for(var rt=0;rt<et.getLength();rt++)tt[rt]^=QRMath.gexp(QRMath.glog(et.get(rt))+_e);return new QRPolynomial(tt,0).mod(et)}};function QRRSBlock(et,_e){this.totalCount=et,this.dataCount=_e}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(et,_e){var tt=QRRSBlock.getRsBlockTable(et,_e);if(tt==null)throw new Error("bad rs block @ typeNumber:"+et+"/errorCorrectLevel:"+_e);for(var rt=tt.length/3,nt=[],it=0;it<rt;it++)for(var at=tt[it*3+0],st=tt[it*3+1],ct=tt[it*3+2],ut=0;ut<at;ut++)nt.push(new QRRSBlock(st,ct));return nt};QRRSBlock.getRsBlockTable=function(et,_e){switch(_e){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(et-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(et-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(et-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(et-1)*4+3];default:return}};function QRBitBuffer(){this.buffer=[],this.length=0}QRBitBuffer.prototype={get:function(et){var _e=Math.floor(et/8);return(this.buffer[_e]>>>7-et%8&1)==1},put:function(et,_e){for(var tt=0;tt<_e;tt++)this.putBit((et>>>_e-tt-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(et){var _e=Math.floor(this.length/8);this.buffer.length<=_e&&this.buffer.push(0),et&&(this.buffer[_e]|=128>>>this.length%8),this.length++}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function QRCode$3(et){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof et=="string"&&(et={content:et}),et)for(var _e in et)this.options[_e]=et[_e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function tt(ct){switch(ct){case"L":return QRErrorCorrectLevel.L;case"M":return QRErrorCorrectLevel.M;case"Q":return QRErrorCorrectLevel.Q;case"H":return QRErrorCorrectLevel.H;default:throw new Error("Unknwon error correction level: "+ct)}}function rt(ct,ut){for(var ft=nt(ct),gt=1,_t=0,Et=0,$t=QRCodeLimitLength.length;Et<=$t;Et++){var It=QRCodeLimitLength[Et];if(!It)throw new Error("Content too long: expected "+_t+" but got "+ft);switch(ut){case"L":_t=It[0];break;case"M":_t=It[1];break;case"Q":_t=It[2];break;case"H":_t=It[3];break;default:throw new Error("Unknwon error correction level: "+ut)}if(ft<=_t)break;gt++}if(gt>QRCodeLimitLength.length)throw new Error("Content too long");return gt}function nt(ct){var ut=encodeURI(ct).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return ut.length+(ut.length!=ct?3:0)}var it=this.options.content,at=rt(it,this.options.ecl),st=tt(this.options.ecl);this.qrcode=new QRCodeModel(at,st),this.qrcode.addData(it),this.qrcode.make()}QRCode$3.prototype.svg=function(et){var _e=this.options||{},tt=this.qrcode.modules;typeof et=="undefined"&&(et={container:_e.container||"svg"});for(var rt=typeof _e.pretty!="undefined"?!!_e.pretty:!0,nt=rt?"  ":"",it=rt?`\r
`:"",at=_e.width,st=_e.height,ct=tt.length,ut=at/(ct+2*_e.padding),ft=st/(ct+2*_e.padding),gt=typeof _e.join!="undefined"?!!_e.join:!1,_t=typeof _e.swap!="undefined"?!!_e.swap:!1,Et=typeof _e.xmlDeclaration!="undefined"?!!_e.xmlDeclaration:!0,$t=typeof _e.predefined!="undefined"?!!_e.predefined:!1,It=$t?nt+'<defs><path id="qrmodule" d="M0 0 h'+ft+" v"+ut+' H0 z" style="fill:'+_e.color+';shape-rendering:crispEdges;" /></defs>'+it:"",Tt=nt+'<rect x="0" y="0" width="'+at+'" height="'+st+'" style="fill:'+_e.background+';shape-rendering:crispEdges;"/>'+it,At="",Rt="",kt=0;kt<ct;kt++)for(var Ot=0;Ot<ct;Ot++){var Wt=tt[Ot][kt];if(Wt){var zt=Ot*ut+_e.padding*ut,Kt=kt*ft+_e.padding*ft;if(_t){var Jt=zt;zt=Kt,Kt=Jt}if(gt){var ar=ut+zt,jt=ft+Kt;zt=Number.isInteger(zt)?Number(zt):zt.toFixed(2),Kt=Number.isInteger(Kt)?Number(Kt):Kt.toFixed(2),ar=Number.isInteger(ar)?Number(ar):ar.toFixed(2),jt=Number.isInteger(jt)?Number(jt):jt.toFixed(2),Rt+="M"+zt+","+Kt+" V"+jt+" H"+ar+" V"+Kt+" H"+zt+" Z "}else $t?At+=nt+'<use x="'+zt.toString()+'" y="'+Kt.toString()+'" href="#qrmodule" />'+it:At+=nt+'<rect x="'+zt.toString()+'" y="'+Kt.toString()+'" width="'+ut+'" height="'+ft+'" style="fill:'+_e.color+';shape-rendering:crispEdges;"/>'+it}}gt&&(At=nt+'<path x="0" y="0" style="fill:'+_e.color+';shape-rendering:crispEdges;" d="'+Rt+'" />');let Ct="";if(this.options.image!==void 0&&this.options.image.svg){const ht=at*this.options.image.width/100,ot=st*this.options.image.height/100,dt=at/2-ht/2,mt=st/2-ot/2;Ct+=`<svg x="${dt}" y="${mt}" width="${ht}" height="${ot}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,Ct+=this.options.image.svg+it,Ct+="</svg>"}var Nt="";switch(et.container){case"svg":Et&&(Nt+='<?xml version="1.0" standalone="yes"?>'+it),Nt+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+at+'" height="'+st+'">'+it,Nt+=It+Tt+At,Nt+=Ct,Nt+="</svg>";break;case"svg-viewbox":Et&&(Nt+='<?xml version="1.0" standalone="yes"?>'+it),Nt+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+at+" "+st+'">'+it,Nt+=It+Tt+At,Nt+=Ct,Nt+="</svg>";break;case"g":Nt+='<g width="'+at+'" height="'+st+'">'+it,Nt+=It+Tt+At,Nt+=Ct,Nt+="</g>";break;default:Nt+=(It+Tt+At+Ct).replace(/^\s+/,"");break}return Nt};var qrcodeSvg=QRCode$3,__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(QRCode$4,"__esModule",{value:!0});QRCode$4.QRCode=void 0;const preact_1$3=require$$1,hooks_1$1=require$$2,qrcode_svg_1=__importDefault$4(qrcodeSvg),QRCode$2=et=>{const[_e,tt]=(0,hooks_1$1.useState)("");return(0,hooks_1$1.useEffect)(()=>{var rt,nt;const it=new qrcode_svg_1.default({content:et.content,background:et.bgColor||"#ffffff",color:et.fgColor||"#000000",container:"svg",ecl:"M",width:(rt=et.width)!==null&&rt!==void 0?rt:256,height:(nt=et.height)!==null&&nt!==void 0?nt:256,padding:0,image:et.image}),at=Buffer.from(it.svg(),"utf8").toString("base64");tt(`data:image/svg+xml;base64,${at}`)}),_e?(0,preact_1$3.h)("img",{src:_e,alt:"QR Code"}):null};QRCode$4.QRCode=QRCode$2;var Spinner$1={},SpinnerCss={};Object.defineProperty(SpinnerCss,"__esModule",{value:!0});SpinnerCss.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(Spinner$1,"__esModule",{value:!0});Spinner$1.Spinner=void 0;const preact_1$2=require$$1,Spinner_css_1=__importDefault$3(SpinnerCss),Spinner=et=>{var _e;const tt=(_e=et.size)!==null&&_e!==void 0?_e:64,rt=et.color||"#000";return(0,preact_1$2.h)("div",{class:"-cbwsdk-spinner"},(0,preact_1$2.h)("style",null,Spinner_css_1.default),(0,preact_1$2.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:tt,height:tt}},(0,preact_1$2.h)("circle",{style:{cx:50,cy:50,r:45,stroke:rt}})))};Spinner$1.Spinner=Spinner;var TryExtensionLinkDialogCss={};Object.defineProperty(TryExtensionLinkDialogCss,"__esModule",{value:!0});TryExtensionLinkDialogCss.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-subtext{margin-top:15px;font-size:12px;line-height:1.5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}';var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(TryExtensionLinkDialog$1,"__esModule",{value:!0});TryExtensionLinkDialog$1.TryExtensionLinkDialog=void 0;const clsx_1=__importDefault$2(require$$0$1),preact_1$1=require$$1,hooks_1=require$$2,util_1$4=util$5,version_1=version$4,globe_icon_svg_1=__importDefault$2(globeIconSvg),link_icon_svg_1=__importDefault$2(linkIconSvg),lock_icon_svg_1=__importDefault$2(lockIconSvg),QRLogo_1=__importDefault$2(QRLogo),QRCode_1=QRCode$4,Spinner_1=Spinner$1,TryExtensionLinkDialog_css_1=__importDefault$2(TryExtensionLinkDialogCss),TryExtensionLinkDialog=et=>{const[_e,tt]=(0,hooks_1.useState)(!et.isOpen),[rt,nt]=(0,hooks_1.useState)(!et.isOpen);return(0,hooks_1.useEffect)(()=>{const{isOpen:it}=et,at=[window.setTimeout(()=>{nt(!it)},10)];return it?tt(!1):at.push(window.setTimeout(()=>{tt(!0)},360)),()=>{at.forEach(window.clearTimeout)}},[et.isOpen]),(0,preact_1$1.h)("div",{class:(0,clsx_1.default)("-cbwsdk-extension-dialog-container",_e&&"-cbwsdk-extension-dialog-container-hidden")},(0,preact_1$1.h)("style",null,TryExtensionLinkDialog_css_1.default),(0,preact_1$1.h)("div",{class:(0,clsx_1.default)("-cbwsdk-extension-dialog-backdrop",rt&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog"},(0,preact_1$1.h)("div",{class:(0,clsx_1.default)("-cbwsdk-extension-dialog-box",rt&&"-cbwsdk-extension-dialog-box-hidden")},(0,preact_1$1.h)(TryExtensionBox,{onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),et.connectDisabled?null:(0,preact_1$1.h)(ScanQRBox,{darkMode:et.darkMode,version:et.version,sessionId:et.sessionId,sessionSecret:et.sessionSecret,linkAPIUrl:et.linkAPIUrl,isConnected:et.isConnected,isParentConnection:et.isParentConnection}),et.onCancel&&(0,preact_1$1.h)(CancelButton,{onClick:et.onCancel}))))};TryExtensionLinkDialog$1.TryExtensionLinkDialog=TryExtensionLinkDialog;const TryExtensionBox=({onInstallClick:et})=>{const[_e,tt]=(0,hooks_1.useState)(!1),rt=(0,hooks_1.useCallback)(()=>{_e?window.location.reload():(et(),tt(!0))},[et,_e]);return(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-top"},(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,preact_1$1.h)("h2",null,"Try the Coinbase Wallet extension"),_e&&(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-top-subtext"},"After installing Coinbase Wallet, refresh the page and connect again."),(0,preact_1$1.h)("button",{type:"button",onClick:rt},_e?"Refresh":"Install")),(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-top-info-region"},(0,preact_1$1.h)(DescriptionItem,{icon:link_icon_svg_1.default,text:"Connect to crypto apps with one click"}),(0,preact_1$1.h)(DescriptionItem,{icon:lock_icon_svg_1.default,text:"Your private key is stored securely"}),(0,preact_1$1.h)(DescriptionItem,{icon:globe_icon_svg_1.default,text:"Works with Ethereum, Polygon, and more"})))},ScanQRBox=et=>{const _e=(0,util_1$4.createQrUrl)(et.sessionId,et.sessionSecret,et.linkAPIUrl,et.isParentConnection);return(0,preact_1$1.h)("div",{"data-testid":"scan-qr-box",class:"-cbwsdk-extension-dialog-box-bottom"},(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,preact_1$1.h)("h2",null,"Or scan to connect"),(0,preact_1$1.h)("body",{class:"-cbwsdk-extension-dialog-box-bottom-description"},"Open"," ",(0,preact_1$1.h)("a",{href:"https://wallet.coinbase.com/",target:"_blank",rel:"noopener noreferrer"},"Coinbase Wallet")," ","on your mobile phone and scan")),(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,preact_1$1.h)(QRCode_1.QRCode,{content:_e,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:QRLogo_1.default,width:34,height:34}})),(0,preact_1$1.h)("input",{type:"hidden",name:"cbwsdk-version",value:version_1.LIB_VERSION}),(0,preact_1$1.h)("input",{type:"hidden",value:_e}),!et.isConnected&&(0,preact_1$1.h)("div",{"data-testid":"connecting-spinner",class:"-cbwsdk-extension-dialog-box-bottom-qr-connecting"},(0,preact_1$1.h)(Spinner_1.Spinner,{size:36,color:"#000"}),(0,preact_1$1.h)("p",null,"Connecting..."))))},DescriptionItem=et=>(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,preact_1$1.h)("img",{src:et.icon})),(0,preact_1$1.h)("body",{class:"-cbwsdk-extension-dialog-box-top-description-text"},et.text)),CancelButton=et=>(0,preact_1$1.h)("button",{type:"button",class:"-cbwsdk-extension-dialog-box-cancel",onClick:et.onClick},(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-cancel-x"}));Object.defineProperty(LinkFlow$1,"__esModule",{value:!0});LinkFlow$1.LinkFlow=void 0;const preact_1=require$$1,rxjs_1$3=require$$2$1,TryExtensionLinkDialog_1=TryExtensionLinkDialog$1;class LinkFlow{constructor(_e){this.extensionUI$=new rxjs_1$3.BehaviorSubject({}),this.subscriptions=new rxjs_1$3.Subscription,this.isConnected=!1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=_e.darkMode,this.version=_e.version,this.sessionId=_e.sessionId,this.sessionSecret=_e.sessionSecret,this.linkAPIUrl=_e.linkAPIUrl,this.isParentConnection=_e.isParentConnection,this.connected$=_e.connected$}attach(_e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",_e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(tt=>{this.isConnected!==tt&&(this.isConnected=tt,this.render())}))}detach(){var _e;!this.root||(this.subscriptions.unsubscribe(),(0,preact_1.render)(null,this.root),(_e=this.root.parentElement)===null||_e===void 0||_e.removeChild(this.root))}setConnectDisabled(_e){this.connectDisabled=_e}open(_e){this.isOpen=!0,this.onCancel=_e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const _e=this.extensionUI$.subscribe(()=>{!this.root||(0,preact_1.render)((0,preact_1.h)(TryExtensionLinkDialog_1.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(_e)}}LinkFlow$1.LinkFlow=LinkFlow;var Snackbar={},SnackbarCss={};Object.defineProperty(SnackbarCss,"__esModule",{value:!0});SnackbarCss.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(et){var _e=commonjsGlobal&&commonjsGlobal.__importDefault||function(gt){return gt&&gt.__esModule?gt:{default:gt}};Object.defineProperty(et,"__esModule",{value:!0}),et.SnackbarInstance=et.SnackbarContainer=et.Snackbar=void 0;const tt=_e(require$$0$1),rt=require$$1,nt=require$$2,it=_e(SnackbarCss),at="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",st="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class ct{constructor(_t){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=_t.darkMode}attach(_t){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",_t.appendChild(this.root),this.render()}presentItem(_t){const Et=this.nextItemKey++;return this.items.set(Et,_t),this.render(),()=>{this.items.delete(Et),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,rt.render)((0,rt.h)("div",null,(0,rt.h)(et.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([_t,Et])=>(0,rt.h)(et.SnackbarInstance,Object.assign({},Et,{key:_t}))))),this.root)}}et.Snackbar=ct;const ut=gt=>(0,rt.h)("div",{class:(0,tt.default)("-cbwsdk-snackbar-container")},(0,rt.h)("style",null,it.default),(0,rt.h)("div",{class:"-cbwsdk-snackbar"},gt.children));et.SnackbarContainer=ut;const ft=({autoExpand:gt,message:_t,menuItems:Et})=>{const[$t,It]=(0,nt.useState)(!0),[Tt,At]=(0,nt.useState)(gt!=null?gt:!1);(0,nt.useEffect)(()=>{const kt=[window.setTimeout(()=>{It(!1)},1),window.setTimeout(()=>{At(!0)},1e4)];return()=>{kt.forEach(window.clearTimeout)}});const Rt=()=>{At(!Tt)};return(0,rt.h)("div",{class:(0,tt.default)("-cbwsdk-snackbar-instance",$t&&"-cbwsdk-snackbar-instance-hidden",Tt&&"-cbwsdk-snackbar-instance-expanded")},(0,rt.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:Rt},(0,rt.h)("img",{src:at,class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,rt.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},_t),(0,rt.h)("div",{class:"-gear-container"},!Tt&&(0,rt.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,rt.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,rt.h)("img",{src:st,class:"-gear-icon",title:"Expand"}))),Et&&Et.length>0&&(0,rt.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},Et.map((kt,Ot)=>(0,rt.h)("div",{class:(0,tt.default)("-cbwsdk-snackbar-instance-menu-item",kt.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:kt.onClick,key:Ot},(0,rt.h)("svg",{width:kt.svgWidth,height:kt.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,rt.h)("path",{"fill-rule":kt.defaultFillRule,"clip-rule":kt.defaultClipRule,d:kt.path,fill:"#AAAAAA"})),(0,rt.h)("span",{class:(0,tt.default)("-cbwsdk-snackbar-instance-menu-item-info",kt.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},kt.info)))))};et.SnackbarInstance=ft})(Snackbar);var cssReset={},cssResetCss={};Object.defineProperty(cssResetCss,"__esModule",{value:!0});cssResetCss.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(cssReset,"__esModule",{value:!0});cssReset.injectCssReset=void 0;const cssReset_css_1=__importDefault$1(cssResetCss);function injectCssReset(){const et=document.createElement("style");et.type="text/css",et.appendChild(document.createTextNode(cssReset_css_1.default)),document.documentElement.appendChild(et)}cssReset.injectCssReset=injectCssReset;Object.defineProperty(WalletSDKUI$1,"__esModule",{value:!0});WalletSDKUI$1.WalletSDKUI=void 0;const LinkFlow_1=LinkFlow$1,Snackbar_1=Snackbar,cssReset_1=cssReset;class WalletSDKUI{constructor(_e){this.attached=!1,this.snackbar=new Snackbar_1.Snackbar({darkMode:_e.darkMode}),this.linkFlow=new LinkFlow_1.LinkFlow({darkMode:_e.darkMode,version:_e.version,sessionId:_e.session.id,sessionSecret:_e.session.secret,linkAPIUrl:_e.linkAPIUrl,connected$:_e.connected$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const _e=document.documentElement,tt=document.createElement("div");tt.className="-cbwsdk-css-reset",_e.appendChild(tt),this.linkFlow.attach(tt),this.snackbar.attach(tt),this.attached=!0,(0,cssReset_1.injectCssReset)()}setConnectDisabled(_e){this.linkFlow.setConnectDisabled(_e)}addEthereumChain(_e){}watchAsset(_e){}switchEthereumChain(_e){}requestEthereumAccounts(_e){this.linkFlow.open({onCancel:_e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(_e){}signEthereumTransaction(_e){}submitEthereumTransaction(_e){}ethereumAddressFromSignedMessage(_e){}showConnecting(_e){let tt;return _e.isUnlinkedErrorState?tt={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:_e.onResetConnection}]}:tt={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:_e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:_e.onResetConnection}]},this.snackbar.presentItem(tt)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(_e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}WalletSDKUI$1.WalletSDKUI=WalletSDKUI;var WalletSDKRelay$1={},bindDecorator={};Object.defineProperty(bindDecorator,"__esModule",{value:!0});var constants;(function(et){et.typeOfFunction="function",et.boolTrue=!0})(constants||(constants={}));function bind(et,_e,tt){if(!tt||typeof tt.value!==constants.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+_e+"> is not a method!");return{configurable:constants.boolTrue,get:function(){var rt=tt.value.bind(this);return Object.defineProperty(this,_e,{value:rt,configurable:constants.boolTrue,writable:constants.boolTrue}),rt}}}bindDecorator.bind=bind;bindDecorator.default=bind;var WalletSDKConnection$1={},ClientMessage={};Object.defineProperty(ClientMessage,"__esModule",{value:!0});ClientMessage.ClientMessagePublishEvent=ClientMessage.ClientMessageSetSessionConfig=ClientMessage.ClientMessageGetSessionConfig=ClientMessage.ClientMessageIsLinked=ClientMessage.ClientMessageHostSession=void 0;function ClientMessageHostSession(et){return Object.assign({type:"HostSession"},et)}ClientMessage.ClientMessageHostSession=ClientMessageHostSession;function ClientMessageIsLinked(et){return Object.assign({type:"IsLinked"},et)}ClientMessage.ClientMessageIsLinked=ClientMessageIsLinked;function ClientMessageGetSessionConfig(et){return Object.assign({type:"GetSessionConfig"},et)}ClientMessage.ClientMessageGetSessionConfig=ClientMessageGetSessionConfig;function ClientMessageSetSessionConfig(et){return Object.assign({type:"SetSessionConfig"},et)}ClientMessage.ClientMessageSetSessionConfig=ClientMessageSetSessionConfig;function ClientMessagePublishEvent(et){return Object.assign({type:"PublishEvent"},et)}ClientMessage.ClientMessagePublishEvent=ClientMessagePublishEvent;var RxWebSocket={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.RxWebSocket=et.ConnectionState=void 0;const _e=require$$2$1,tt=require$$3$2;var rt;(function(it){it[it.DISCONNECTED=0]="DISCONNECTED",it[it.CONNECTING=1]="CONNECTING",it[it.CONNECTED=2]="CONNECTED"})(rt=et.ConnectionState||(et.ConnectionState={}));class nt{constructor(at,st=WebSocket){this.WebSocketClass=st,this.webSocket=null,this.connectionStateSubject=new _e.BehaviorSubject(rt.DISCONNECTED),this.incomingDataSubject=new _e.Subject,this.url=at.replace(/^http/,"ws")}connect(){return this.webSocket?(0,_e.throwError)(new Error("webSocket object is not null")):new _e.Observable(at=>{let st;try{this.webSocket=st=new this.WebSocketClass(this.url)}catch(ct){at.error(ct);return}this.connectionStateSubject.next(rt.CONNECTING),st.onclose=ct=>{this.clearWebSocket(),at.error(new Error(`websocket error ${ct.code}: ${ct.reason}`)),this.connectionStateSubject.next(rt.DISCONNECTED)},st.onopen=ct=>{at.next(),at.complete(),this.connectionStateSubject.next(rt.CONNECTED)},st.onmessage=ct=>{this.incomingDataSubject.next(ct.data)}}).pipe((0,tt.take)(1))}disconnect(){const{webSocket:at}=this;if(!!at){this.clearWebSocket(),this.connectionStateSubject.next(rt.DISCONNECTED);try{at.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,tt.flatMap)(at=>{let st;try{st=JSON.parse(at)}catch{return(0,_e.empty)()}return(0,_e.of)(st)}))}sendData(at){const{webSocket:st}=this;if(!st)throw new Error("websocket is not connected");st.send(at)}clearWebSocket(){const{webSocket:at}=this;!at||(this.webSocket=null,at.onclose=null,at.onerror=null,at.onmessage=null,at.onopen=null)}}et.RxWebSocket=nt})(RxWebSocket);var ServerMessage={};Object.defineProperty(ServerMessage,"__esModule",{value:!0});ServerMessage.isServerMessageFail=void 0;function isServerMessageFail(et){return et&&et.type==="Fail"&&typeof et.id=="number"&&typeof et.sessionId=="string"&&typeof et.error=="string"}ServerMessage.isServerMessageFail=isServerMessageFail;Object.defineProperty(WalletSDKConnection$1,"__esModule",{value:!0});WalletSDKConnection$1.WalletSDKConnection=void 0;const rxjs_1$2=require$$2$1,operators_1$1=require$$3$2,Session_1$1=Session$1,types_1=types$2,ClientMessage_1=ClientMessage,EventListener_1$1=EventListener,RxWebSocket_1=RxWebSocket,ServerMessage_1=ServerMessage,HEARTBEAT_INTERVAL=1e4,REQUEST_TIMEOUT=6e4;class WalletSDKConnection{constructor(_e,tt,rt,nt,it=WebSocket){this.sessionId=_e,this.sessionKey=tt,this.eventListener=nt,this.subscriptions=new rxjs_1$2.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,types_1.IntNumber)(1),this.connectedSubject=new rxjs_1$2.BehaviorSubject(!1),this.linkedSubject=new rxjs_1$2.BehaviorSubject(!1),this.sessionConfigSubject=new rxjs_1$2.ReplaySubject(1);const at=new RxWebSocket_1.RxWebSocket(rt+"/rpc",it);this.ws=at,this.subscriptions.add(at.connectionState$.pipe((0,operators_1$1.tap)(st=>{var ct;return(ct=this.eventListener)===null||ct===void 0?void 0:ct.onEvent(EventListener_1$1.EVENTS.CONNECTED_STATE_CHANGE,{state:st,sessionIdHash:Session_1$1.Session.hash(_e)})}),(0,operators_1$1.skip)(1),(0,operators_1$1.filter)(st=>st===RxWebSocket_1.ConnectionState.DISCONNECTED&&!this.destroyed),(0,operators_1$1.delay)(5e3),(0,operators_1$1.filter)(st=>!this.destroyed),(0,operators_1$1.flatMap)(st=>at.connect()),(0,operators_1$1.retry)()).subscribe()),this.subscriptions.add(at.connectionState$.pipe((0,operators_1$1.skip)(2),(0,operators_1$1.switchMap)(st=>(0,rxjs_1$2.iif)(()=>st===RxWebSocket_1.ConnectionState.CONNECTED,this.authenticate().pipe((0,operators_1$1.tap)(ct=>this.sendIsLinked()),(0,operators_1$1.tap)(ct=>this.sendGetSessionConfig()),(0,operators_1$1.map)(ct=>!0)),(0,rxjs_1$2.of)(!1))),(0,operators_1$1.distinctUntilChanged)(),(0,operators_1$1.catchError)(st=>(0,rxjs_1$2.of)(!1))).subscribe(st=>this.connectedSubject.next(st))),this.subscriptions.add(at.connectionState$.pipe((0,operators_1$1.skip)(1),(0,operators_1$1.switchMap)(st=>(0,rxjs_1$2.iif)(()=>st===RxWebSocket_1.ConnectionState.CONNECTED,(0,rxjs_1$2.timer)(0,HEARTBEAT_INTERVAL)))).subscribe(st=>st===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(at.incomingData$.pipe((0,operators_1$1.filter)(st=>st==="h")).subscribe(st=>this.updateLastHeartbeat())),this.subscriptions.add(at.incomingJSONData$.pipe((0,operators_1$1.filter)(st=>["IsLinkedOK","Linked"].includes(st.type))).subscribe(st=>{var ct;const ut=st;(ct=this.eventListener)===null||ct===void 0||ct.onEvent(EventListener_1$1.EVENTS.LINKED,{sessionIdHash:Session_1$1.Session.hash(_e),linked:ut.linked,type:st.type,onlineGuests:ut.onlineGuests}),this.linkedSubject.next(ut.linked||ut.onlineGuests>0)})),this.subscriptions.add(at.incomingJSONData$.pipe((0,operators_1$1.filter)(st=>["GetSessionConfigOK","SessionConfigUpdated"].includes(st.type))).subscribe(st=>{var ct;const ut=st;(ct=this.eventListener)===null||ct===void 0||ct.onEvent(EventListener_1$1.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Session_1$1.Session.hash(_e),metadata_keys:ut&&ut.metadata?Object.keys(ut.metadata):void 0}),this.sessionConfigSubject.next({webhookId:ut.webhookId,webhookUrl:ut.webhookUrl,metadata:ut.metadata})}))}connect(){var _e;if(this.destroyed)throw new Error("instance is destroyed");(_e=this.eventListener)===null||_e===void 0||_e.onEvent(EventListener_1$1.EVENTS.STARTED_CONNECTING,{sessionIdHash:Session_1$1.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var _e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(_e=this.eventListener)===null||_e===void 0||_e.onEvent(EventListener_1$1.EVENTS.DISCONNECTED,{sessionIdHash:Session_1$1.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,operators_1$1.filter)(_e=>_e),(0,operators_1$1.take)(1),(0,operators_1$1.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,operators_1$1.filter)(_e=>_e),(0,operators_1$1.take)(1),(0,operators_1$1.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,operators_1$1.filter)(_e=>{if(_e.type!=="Event")return!1;const tt=_e;return typeof tt.sessionId=="string"&&typeof tt.eventId=="string"&&typeof tt.event=="string"&&typeof tt.data=="string"}),(0,operators_1$1.map)(_e=>_e))}setSessionMetadata(_e,tt){const rt=(0,ClientMessage_1.ClientMessageSetSessionConfig)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[_e]:tt}});return this.onceConnected$.pipe((0,operators_1$1.flatMap)(nt=>this.makeRequest(rt)),(0,operators_1$1.map)(nt=>{if((0,ServerMessage_1.isServerMessageFail)(nt))throw new Error(nt.error||"failed to set session metadata")}))}publishEvent(_e,tt,rt=!1){const nt=(0,ClientMessage_1.ClientMessagePublishEvent)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:_e,data:tt,callWebhook:rt});return this.onceLinked$.pipe((0,operators_1$1.flatMap)(it=>this.makeRequest(nt)),(0,operators_1$1.map)(it=>{if((0,ServerMessage_1.isServerMessageFail)(it))throw new Error(it.error||"failed to publish event");return it.eventId}))}sendData(_e){this.ws.sendData(JSON.stringify(_e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>HEARTBEAT_INTERVAL*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(_e,tt=REQUEST_TIMEOUT){const rt=_e.id;try{this.sendData(_e)}catch(nt){return(0,rxjs_1$2.throwError)(nt)}return this.ws.incomingJSONData$.pipe((0,operators_1$1.timeoutWith)(tt,(0,rxjs_1$2.throwError)(new Error(`request ${rt} timed out`))),(0,operators_1$1.filter)(nt=>nt.id===rt),(0,operators_1$1.take)(1))}authenticate(){const _e=(0,ClientMessage_1.ClientMessageHostSession)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(_e).pipe((0,operators_1$1.map)(tt=>{if((0,ServerMessage_1.isServerMessageFail)(tt))throw new Error(tt.error||"failed to authentcate")}))}sendIsLinked(){const _e=(0,ClientMessage_1.ClientMessageIsLinked)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(_e)}sendGetSessionConfig(){const _e=(0,ClientMessage_1.ClientMessageGetSessionConfig)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(_e)}}WalletSDKConnection$1.WalletSDKConnection=WalletSDKConnection;var WalletUIError$1={};Object.defineProperty(WalletUIError$1,"__esModule",{value:!0});WalletUIError$1.WalletUIError=void 0;class WalletUIError extends Error{constructor(_e,tt){super(_e),this.message=_e,this.errorCode=tt}}WalletUIError$1.WalletUIError=WalletUIError;WalletUIError.UserRejectedRequest=new WalletUIError("User rejected request");WalletUIError.SwitchEthereumChainUnsupportedChainId=new WalletUIError("Unsupported chainId",4902);var aes256gcm$1={};Object.defineProperty(aes256gcm$1,"__esModule",{value:!0});aes256gcm$1.decrypt=aes256gcm$1.encrypt=void 0;const rxjs_1$1=require$$2$1,util_1$3=util$5;async function encrypt$1(et,_e){if(_e.length!==64)throw Error("secret must be 256 bits");const tt=crypto.getRandomValues(new Uint8Array(12)),rt=await crypto.subtle.importKey("raw",(0,util_1$3.hexStringToUint8Array)(_e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),nt=new TextEncoder,it=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:tt},rt,nt.encode(et)),at=16,st=it.slice(it.byteLength-at),ct=it.slice(0,it.byteLength-at),ut=new Uint8Array(st),ft=new Uint8Array(ct),gt=new Uint8Array([...tt,...ut,...ft]);return(0,util_1$3.uint8ArrayToHex)(gt)}aes256gcm$1.encrypt=encrypt$1;function decrypt$1(et,_e){if(_e.length!==64)throw Error("secret must be 256 bits");return new rxjs_1$1.Observable(tt=>{(async function(){const rt=await crypto.subtle.importKey("raw",(0,util_1$3.hexStringToUint8Array)(_e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),nt=(0,util_1$3.hexStringToUint8Array)(et),it=nt.slice(0,12),at=nt.slice(12,28),st=nt.slice(28),ct=new Uint8Array([...st,...at]),ut={name:"AES-GCM",iv:new Uint8Array(it)};try{const ft=await window.crypto.subtle.decrypt(ut,rt,ct),gt=new TextDecoder;tt.next(gt.decode(ft)),tt.complete()}catch(ft){tt.error(ft)}})()})}aes256gcm$1.decrypt=decrypt$1;var Web3Method={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.Web3Method=void 0,function(_e){_e.requestEthereumAccounts="requestEthereumAccounts",_e.signEthereumMessage="signEthereumMessage",_e.signEthereumTransaction="signEthereumTransaction",_e.submitEthereumTransaction="submitEthereumTransaction",_e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",_e.scanQRCode="scanQRCode",_e.generic="generic",_e.childRequestEthereumAccounts="childRequestEthereumAccounts",_e.addEthereumChain="addEthereumChain",_e.switchEthereumChain="switchEthereumChain",_e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",_e.watchAsset="watchAsset"}(et.Web3Method||(et.Web3Method={}))})(Web3Method);var Web3RequestCanceledMessage$1={},RelayMessage={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.RelayMessageType=void 0,function(_e){_e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",_e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",_e.LINKED="LINKED",_e.UNLINKED="UNLINKED",_e.WEB3_REQUEST="WEB3_REQUEST",_e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",_e.WEB3_RESPONSE="WEB3_RESPONSE"}(et.RelayMessageType||(et.RelayMessageType={}))})(RelayMessage);Object.defineProperty(Web3RequestCanceledMessage$1,"__esModule",{value:!0});Web3RequestCanceledMessage$1.Web3RequestCanceledMessage=void 0;const RelayMessage_1$2=RelayMessage;function Web3RequestCanceledMessage(et){return{type:RelayMessage_1$2.RelayMessageType.WEB3_REQUEST_CANCELED,id:et}}Web3RequestCanceledMessage$1.Web3RequestCanceledMessage=Web3RequestCanceledMessage;var Web3RequestMessage$1={};Object.defineProperty(Web3RequestMessage$1,"__esModule",{value:!0});Web3RequestMessage$1.Web3RequestMessage=void 0;const RelayMessage_1$1=RelayMessage;function Web3RequestMessage(et){return Object.assign({type:RelayMessage_1$1.RelayMessageType.WEB3_REQUEST},et)}Web3RequestMessage$1.Web3RequestMessage=Web3RequestMessage;var Web3Response={};Object.defineProperty(Web3Response,"__esModule",{value:!0});Web3Response.EthereumAddressFromSignedMessageResponse=Web3Response.SubmitEthereumTransactionResponse=Web3Response.SignEthereumTransactionResponse=Web3Response.SignEthereumMessageResponse=Web3Response.isRequestEthereumAccountsResponse=Web3Response.WatchAssetReponse=Web3Response.RequestEthereumAccountsResponse=Web3Response.SwitchEthereumChainResponse=Web3Response.AddEthereumChainResponse=Web3Response.ErrorResponse=void 0;const Web3Method_1$1=Web3Method;function ErrorResponse(et,_e,tt){return{method:et,errorMessage:_e,errorCode:tt}}Web3Response.ErrorResponse=ErrorResponse;function AddEthereumChainResponse(et){return{method:Web3Method_1$1.Web3Method.addEthereumChain,result:et}}Web3Response.AddEthereumChainResponse=AddEthereumChainResponse;function SwitchEthereumChainResponse(et){return{method:Web3Method_1$1.Web3Method.switchEthereumChain,result:et}}Web3Response.SwitchEthereumChainResponse=SwitchEthereumChainResponse;function RequestEthereumAccountsResponse(et){return{method:Web3Method_1$1.Web3Method.requestEthereumAccounts,result:et}}Web3Response.RequestEthereumAccountsResponse=RequestEthereumAccountsResponse;function WatchAssetReponse(et){return{method:Web3Method_1$1.Web3Method.watchAsset,result:et}}Web3Response.WatchAssetReponse=WatchAssetReponse;function isRequestEthereumAccountsResponse(et){return et&&et.method===Web3Method_1$1.Web3Method.requestEthereumAccounts}Web3Response.isRequestEthereumAccountsResponse=isRequestEthereumAccountsResponse;function SignEthereumMessageResponse(et){return{method:Web3Method_1$1.Web3Method.signEthereumMessage,result:et}}Web3Response.SignEthereumMessageResponse=SignEthereumMessageResponse;function SignEthereumTransactionResponse(et){return{method:Web3Method_1$1.Web3Method.signEthereumTransaction,result:et}}Web3Response.SignEthereumTransactionResponse=SignEthereumTransactionResponse;function SubmitEthereumTransactionResponse(et){return{method:Web3Method_1$1.Web3Method.submitEthereumTransaction,result:et}}Web3Response.SubmitEthereumTransactionResponse=SubmitEthereumTransactionResponse;function EthereumAddressFromSignedMessageResponse(et){return{method:Web3Method_1$1.Web3Method.ethereumAddressFromSignedMessage,result:et}}Web3Response.EthereumAddressFromSignedMessageResponse=EthereumAddressFromSignedMessageResponse;var Web3ResponseMessage$1={};Object.defineProperty(Web3ResponseMessage$1,"__esModule",{value:!0});Web3ResponseMessage$1.isWeb3ResponseMessage=Web3ResponseMessage$1.Web3ResponseMessage=void 0;const RelayMessage_1=RelayMessage;function Web3ResponseMessage(et){return Object.assign({type:RelayMessage_1.RelayMessageType.WEB3_RESPONSE},et)}Web3ResponseMessage$1.Web3ResponseMessage=Web3ResponseMessage;function isWeb3ResponseMessage(et){return et&&et.type===RelayMessage_1.RelayMessageType.WEB3_RESPONSE}Web3ResponseMessage$1.isWeb3ResponseMessage=isWeb3ResponseMessage;var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(et,_e,tt,rt){rt===void 0&&(rt=tt),Object.defineProperty(et,rt,{enumerable:!0,get:function(){return _e[tt]}})}:function(et,_e,tt,rt){rt===void 0&&(rt=tt),et[rt]=_e[tt]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(et,_e){Object.defineProperty(et,"default",{enumerable:!0,value:_e})}:function(et,_e){et.default=_e}),__decorate=commonjsGlobal&&commonjsGlobal.__decorate||function(et,_e,tt,rt){var nt=arguments.length,it=nt<3?_e:rt===null?rt=Object.getOwnPropertyDescriptor(_e,tt):rt,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(et,_e,tt,rt);else for(var st=et.length-1;st>=0;st--)(at=et[st])&&(it=(nt<3?at(it):nt>3?at(_e,tt,it):at(_e,tt))||it);return nt>3&&it&&Object.defineProperty(_e,tt,it),it},__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(et){if(et&&et.__esModule)return et;var _e={};if(et!=null)for(var tt in et)tt!=="default"&&Object.prototype.hasOwnProperty.call(et,tt)&&__createBinding(_e,et,tt);return __setModuleDefault(_e,et),_e},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(WalletSDKRelay$1,"__esModule",{value:!0});WalletSDKRelay$1.WalletSDKRelay=void 0;const bind_decorator_1=__importDefault(bindDecorator),eth_rpc_errors_1=dist$1,rxjs_1=require$$2$1,operators_1=require$$3$2,EventListener_1=EventListener,WalletSDKConnection_1=WalletSDKConnection$1,WalletUIError_1=WalletUIError$1,util_1$2=util$5,aes256gcm=__importStar(aes256gcm$1),Session_1=Session$1,WalletSDKRelayAbstract_1=WalletSDKRelayAbstract$1,Web3Method_1=Web3Method,Web3RequestCanceledMessage_1=Web3RequestCanceledMessage$1,Web3RequestMessage_1=Web3RequestMessage$1,Web3Response_1=Web3Response,Web3ResponseMessage_1=Web3ResponseMessage$1;class WalletSDKRelay extends WalletSDKRelayAbstract_1.WalletSDKRelayAbstract{constructor(_e){super(),this.accountsCallback=null,this.chainCallback=null,this.appName="",this.appLogoUrl=null,this.subscriptions=new rxjs_1.Subscription,this.linkAPIUrl=_e.linkAPIUrl,this.storage=_e.storage,this._session=Session_1.Session.load(_e.storage)||new Session_1.Session(_e.storage).save(),this.relayEventManager=_e.relayEventManager,this.eventListener=_e.eventListener,this.connection=new WalletSDKConnection_1.WalletSDKConnection(this._session.id,this._session.key,this.linkAPIUrl,this.eventListener),this.subscriptions.add(this.connection.sessionConfig$.subscribe({next:tt=>{this.onSessionConfigChanged(tt)},error:()=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(this.connection.incomingEvent$.pipe((0,operators_1.filter)(tt=>tt.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(this.connection.linked$.pipe((0,operators_1.skip)(1),(0,operators_1.tap)(tt=>{var rt;this.isLinked=tt;const nt=this.storage.getItem(WalletSDKRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);if(tt&&(this.session.linked=tt),this.isUnlinkedErrorState=!1,nt){const it=nt.split(" "),at=this.storage.getItem("IsStandaloneSigning")==="true";if(it[0]!==""&&!tt&&this.session.linked&&!at){this.isUnlinkedErrorState=!0;const st=this.getSessionIdHash();(rt=this.eventListener)===null||rt===void 0||rt.onEvent(EventListener_1.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:st})}}})).subscribe()),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(tt=>!!tt.metadata&&tt.metadata.__destroyed==="1")).subscribe(()=>{var tt;const rt=this.connection.isDestroyed;return(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:rt,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(tt=>tt.metadata&&tt.metadata.WalletUsername!==void 0)).pipe((0,operators_1.mergeMap)(tt=>aes256gcm.decrypt(tt.metadata.WalletUsername,this._session.secret))).subscribe({next:tt=>{this.storage.setItem(WalletSDKRelayAbstract_1.WALLET_USER_NAME_KEY,tt)},error:()=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(tt=>tt.metadata&&tt.metadata.AppVersion!==void 0)).pipe((0,operators_1.mergeMap)(tt=>aes256gcm.decrypt(tt.metadata.AppVersion,this._session.secret))).subscribe({next:tt=>{this.storage.setItem(WalletSDKRelayAbstract_1.APP_VERSION_KEY,tt)},error:()=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(tt=>tt.metadata&&tt.metadata.ChainId!==void 0&&tt.metadata.JsonRpcUrl!==void 0)).pipe((0,operators_1.mergeMap)(tt=>(0,rxjs_1.zip)(aes256gcm.decrypt(tt.metadata.ChainId,this._session.secret),aes256gcm.decrypt(tt.metadata.JsonRpcUrl,this._session.secret)))).pipe((0,operators_1.distinctUntilChanged)()).subscribe({next:([tt,rt])=>{this.chainCallback&&this.chainCallback(tt,rt)},error:()=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(tt=>tt.metadata&&tt.metadata.EthereumAddress!==void 0)).pipe((0,operators_1.mergeMap)(tt=>aes256gcm.decrypt(tt.metadata.EthereumAddress,this._session.secret))).subscribe({next:tt=>{this.accountsCallback&&this.accountsCallback([tt]),WalletSDKRelay.accountRequestCallbackIds.size>0&&(Array.from(WalletSDKRelay.accountRequestCallbackIds.values()).forEach(rt=>{const nt=(0,Web3ResponseMessage_1.Web3ResponseMessage)({id:rt,response:(0,Web3Response_1.RequestEthereumAccountsResponse)([tt])});this.invokeCallback(Object.assign(Object.assign({},nt),{id:rt}))}),WalletSDKRelay.accountRequestCallbackIds.clear())},error:()=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.ui=_e.uiConstructor({linkAPIUrl:_e.linkAPIUrl,version:_e.version,darkMode:_e.darkMode,session:this._session,connected$:this.connection.connected$}),this.connection.connect()}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,operators_1.timeout)(1e3),(0,operators_1.catchError)(_e=>(0,rxjs_1.of)(null))).subscribe(_e=>{var tt,rt,nt;try{this.subscriptions.unsubscribe()}catch{(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(rt=this.eventListener)===null||rt===void 0||rt.onEvent(EventListener_1.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const it=Session_1.Session.load(this.storage);(it==null?void 0:it.id)===this._session.id?this.storage.clear():it&&((nt=this.eventListener)===null||nt===void 0||nt.onEvent(EventListener_1.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Session_1.Session.hash(it.id)})),this.ui.reloadUI()},_e=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${_e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(_e,tt){this.appName=_e,this.appLogoUrl=tt}getStorageItem(_e){return this.storage.getItem(_e)}get session(){return this._session}setStorageItem(_e,tt){this.storage.setItem(_e,tt)}signEthereumMessage(_e,tt,rt,nt){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumMessage,params:{message:(0,util_1$2.hexStringFromBuffer)(_e,!0),address:tt,addPrefix:rt,typedDataJson:nt||null}})}ethereumAddressFromSignedMessage(_e,tt,rt){return this.sendRequest({method:Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,util_1$2.hexStringFromBuffer)(_e,!0),signature:(0,util_1$2.hexStringFromBuffer)(tt,!0),addPrefix:rt}})}signEthereumTransaction(_e){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumTransaction,params:{fromAddress:_e.fromAddress,toAddress:_e.toAddress,weiValue:(0,util_1$2.bigIntStringFromBN)(_e.weiValue),data:(0,util_1$2.hexStringFromBuffer)(_e.data,!0),nonce:_e.nonce,gasPriceInWei:_e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(_e.gasPriceInWei):null,maxFeePerGas:_e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(_e.gasPriceInWei):null,maxPriorityFeePerGas:_e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(_e.gasPriceInWei):null,gasLimit:_e.gasLimit?(0,util_1$2.bigIntStringFromBN)(_e.gasLimit):null,chainId:_e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(_e){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumTransaction,params:{fromAddress:_e.fromAddress,toAddress:_e.toAddress,weiValue:(0,util_1$2.bigIntStringFromBN)(_e.weiValue),data:(0,util_1$2.hexStringFromBuffer)(_e.data,!0),nonce:_e.nonce,gasPriceInWei:_e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(_e.gasPriceInWei):null,maxFeePerGas:_e.maxFeePerGas?(0,util_1$2.bigIntStringFromBN)(_e.maxFeePerGas):null,maxPriorityFeePerGas:_e.maxPriorityFeePerGas?(0,util_1$2.bigIntStringFromBN)(_e.maxPriorityFeePerGas):null,gasLimit:_e.gasLimit?(0,util_1$2.bigIntStringFromBN)(_e.gasLimit):null,chainId:_e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(_e,tt){return this.sendRequest({method:Web3Method_1.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,util_1$2.hexStringFromBuffer)(_e,!0),chainId:tt}})}scanQRCode(_e){return this.sendRequest({method:Web3Method_1.Web3Method.scanQRCode,params:{regExp:_e}})}getQRCodeUrl(){return(0,util_1$2.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1)}genericRequest(_e,tt){return this.sendRequest({method:Web3Method_1.Web3Method.generic,params:{action:tt,data:_e}})}sendGenericMessage(_e){return this.sendRequest(_e)}sendRequest(_e){let tt=null;const rt=(0,util_1$2.randomBytesHex)(8),nt=at=>{this.publishWeb3RequestCanceledEvent(rt),this.handleErrorResponse(rt,_e.method,at),tt==null||tt()};return{promise:new Promise((at,st)=>{this.ui.isStandalone()||(tt=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:nt,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(rt,ct=>{if(tt==null||tt(),ct.errorMessage)return st(new Error(ct.errorMessage));at(ct)}),this.ui.isStandalone()?this.sendRequestStandalone(rt,_e):this.publishWeb3RequestEvent(rt,_e)}),cancel:nt}}setConnectDisabled(_e){this.ui.setConnectDisabled(_e)}setAccountsCallback(_e){this.accountsCallback=_e}setChainCallback(_e){this.chainCallback=_e}publishWeb3RequestEvent(_e,tt){var rt;const nt=(0,Web3RequestMessage_1.Web3RequestMessage)({id:_e,request:tt}),it=Session_1.Session.load(this.storage);(rt=this.eventListener)===null||rt===void 0||rt.onEvent(EventListener_1.EVENTS.WEB3_REQUEST,{eventId:nt.id,method:`relay::${nt.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:it?Session_1.Session.hash(it.id):"",isSessionMismatched:((it==null?void 0:it.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",nt,!0).subscribe({next:at=>{var st;(st=this.eventListener)===null||st===void 0||st.onEvent(EventListener_1.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:nt.id,method:`relay::${nt.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:it?Session_1.Session.hash(it.id):"",isSessionMismatched:((it==null?void 0:it.id)!==this._session.id).toString()})},error:at=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:nt.id,response:{method:nt.request.method,errorMessage:at.message}}))}}))}publishWeb3RequestCanceledEvent(_e){const tt=(0,Web3RequestCanceledMessage_1.Web3RequestCanceledMessage)(_e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",tt,!1).subscribe())}publishEvent(_e,tt,rt){const nt=this.session.secret;return new rxjs_1.Observable(it=>{aes256gcm.encrypt(JSON.stringify(Object.assign(Object.assign({},tt),{origin:location.origin})),nt).then(at=>{it.next(at),it.complete()})}).pipe((0,operators_1.mergeMap)(it=>this.connection.publishEvent(_e,it,rt)))}handleIncomingEvent(_e){try{this.subscriptions.add(aes256gcm.decrypt(_e.data,this.session.secret).pipe((0,operators_1.map)(tt=>JSON.parse(tt))).subscribe({next:tt=>{const rt=(0,Web3ResponseMessage_1.isWeb3ResponseMessage)(tt)?tt:null;!rt||this.handleWeb3ResponseMessage(rt)},error:()=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(_e){var tt;const{response:rt}=_e;if((tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.WEB3_RESPONSE,{eventId:_e.id,method:`relay::${rt.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Web3Response_1.isRequestEthereumAccountsResponse)(rt)){WalletSDKRelay.accountRequestCallbackIds.forEach(nt=>this.invokeCallback(Object.assign(Object.assign({},_e),{id:nt}))),WalletSDKRelay.accountRequestCallbackIds.clear();return}this.invokeCallback(_e)}handleErrorResponse(_e,tt,rt,nt){this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:_e,response:(0,Web3Response_1.ErrorResponse)(tt,(rt!=null?rt:WalletUIError_1.WalletUIError.UserRejectedRequest).message,nt)}))}invokeCallback(_e){const tt=this.relayEventManager.callbacks.get(_e.id);tt&&(tt(_e.response),this.relayEventManager.callbacks.delete(_e.id))}requestEthereumAccounts(){const _e={method:Web3Method_1.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},tt=(0,util_1$2.randomBytesHex)(8),rt=it=>{this.publishWeb3RequestCanceledEvent(tt),this.handleErrorResponse(tt,_e.method,it)};return{promise:new Promise((it,at)=>{var st;this.relayEventManager.callbacks.set(tt,ut=>{if(this.ui.hideRequestEthereumAccounts(),ut.errorMessage)return at(new Error(ut.errorMessage));it(ut)});const ct=((st=window==null?void 0:window.navigator)===null||st===void 0?void 0:st.userAgent)||null;if(ct&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ct)){window.location.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(window.location.href)}`;return}if(this.ui.inlineAccountsResponse()){const ut=ft=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:tt,response:(0,Web3Response_1.RequestEthereumAccountsResponse)(ft)}))};this.ui.requestEthereumAccounts({onCancel:rt,onAccounts:ut})}else this.ui.requestEthereumAccounts({onCancel:rt});WalletSDKRelay.accountRequestCallbackIds.add(tt),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(tt,_e)}),cancel:rt}}watchAsset(_e,tt,rt,nt,it,at){const st={method:Web3Method_1.Web3Method.watchAsset,params:{type:_e,options:{address:tt,symbol:rt,decimals:nt,image:it},chainId:at}};let ct=null;const ut=(0,util_1$2.randomBytesHex)(8),ft=_t=>{this.publishWeb3RequestCanceledEvent(ut),this.handleErrorResponse(ut,st.method,_t),ct==null||ct()};this.ui.inlineWatchAsset()||(ct=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:ft,onResetConnection:this.resetAndReload}));const gt=new Promise((_t,Et)=>{this.relayEventManager.callbacks.set(ut,Tt=>{if(ct==null||ct(),Tt.errorMessage)return Et(new Error(Tt.errorMessage));_t(Tt)});const $t=Tt=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ut,response:(0,Web3Response_1.WatchAssetReponse)(!1)}))},It=()=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ut,response:(0,Web3Response_1.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:It,onCancel:$t,type:_e,address:tt,symbol:rt,decimals:nt,image:it,chainId:at}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(ut,st)});return{cancel:ft,promise:gt}}addEthereumChain(_e,tt,rt,nt,it,at){const st={method:Web3Method_1.Web3Method.addEthereumChain,params:{chainId:_e,rpcUrls:tt,blockExplorerUrls:nt,chainName:it,iconUrls:rt,nativeCurrency:at}};let ct=null;const ut=(0,util_1$2.randomBytesHex)(8),ft=_t=>{this.publishWeb3RequestCanceledEvent(ut),this.handleErrorResponse(ut,st.method,_t),ct==null||ct()};return this.ui.inlineAddEthereumChain(_e)||(ct=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:ft,onResetConnection:this.resetAndReload})),{promise:new Promise((_t,Et)=>{this.relayEventManager.callbacks.set(ut,Tt=>{if(ct==null||ct(),Tt.errorMessage)return Et(new Error(Tt.errorMessage));_t(Tt)});const $t=Tt=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ut,response:(0,Web3Response_1.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},It=Tt=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ut,response:(0,Web3Response_1.AddEthereumChainResponse)({isApproved:!0,rpcUrl:Tt})}))};this.ui.inlineAddEthereumChain(_e)&&this.ui.addEthereumChain({onCancel:$t,onApprove:It,chainId:st.params.chainId,rpcUrls:st.params.rpcUrls,blockExplorerUrls:st.params.blockExplorerUrls,chainName:st.params.chainName,iconUrls:st.params.iconUrls,nativeCurrency:st.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(_e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(ut,st)}),cancel:ft}}switchEthereumChain(_e){const tt={method:Web3Method_1.Web3Method.switchEthereumChain,params:{chainId:_e}};let rt=null;const nt=(0,util_1$2.randomBytesHex)(8),it=st=>{this.publishWeb3RequestCanceledEvent(nt),this.handleErrorResponse(nt,tt.method,st),rt==null||rt()};return this.ui.inlineSwitchEthereumChain()||(rt=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:it,onResetConnection:this.resetAndReload})),{promise:new Promise((st,ct)=>{this.relayEventManager.callbacks.set(nt,gt=>{if(rt==null||rt(),gt.errorMessage&&gt.errorCode)return ct(eth_rpc_errors_1.ethErrors.provider.custom({code:gt.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(gt.errorMessage)return ct(new Error(gt.errorMessage));st(gt)});const ut=gt=>{if(typeof gt=="number"){const _t=gt;this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:nt,response:(0,Web3Response_1.ErrorResponse)(Web3Method_1.Web3Method.switchEthereumChain,WalletUIError_1.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,_t)}))}else gt instanceof WalletUIError_1.WalletUIError?this.handleErrorResponse(nt,Web3Method_1.Web3Method.switchEthereumChain,gt,gt.errorCode):this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:nt,response:(0,Web3Response_1.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},ft=gt=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:nt,response:(0,Web3Response_1.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:gt})}))};this.ui.switchEthereumChain({onCancel:ut,onApprove:ft,chainId:tt.params.chainId}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(nt,tt)}),cancel:it}}inlineAddEthereumChain(_e){return this.ui.inlineAddEthereumChain(_e)}getSessionIdHash(){return Session_1.Session.hash(this._session.id)}sendRequestStandalone(_e,tt){const rt=it=>{this.handleErrorResponse(_e,tt.method,it)},nt=it=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:_e,response:it}))};switch(tt.method){case Web3Method_1.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:tt,onSuccess:nt,onCancel:rt});break;case Web3Method_1.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:tt,onSuccess:nt,onCancel:rt});break;case Web3Method_1.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:tt,onSuccess:nt,onCancel:rt});break;case Web3Method_1.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:tt,onSuccess:nt});break;default:rt();break}}onSessionConfigChanged(_e){}}WalletSDKRelay.accountRequestCallbackIds=new Set;__decorate([bind_decorator_1.default],WalletSDKRelay.prototype,"resetAndReload",null);__decorate([bind_decorator_1.default],WalletSDKRelay.prototype,"handleIncomingEvent",null);WalletSDKRelay$1.WalletSDKRelay=WalletSDKRelay;var WalletSDKRelayEventManager$1={};Object.defineProperty(WalletSDKRelayEventManager$1,"__esModule",{value:!0});WalletSDKRelayEventManager$1.WalletSDKRelayEventManager=void 0;const util_1$1=util$5;class WalletSDKRelayEventManager{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const _e=this._nextRequestId,tt=(0,util_1$1.prepend0x)(_e.toString(16));return this.callbacks.get(tt)&&this.callbacks.delete(tt),_e}}WalletSDKRelayEventManager$1.WalletSDKRelayEventManager=WalletSDKRelayEventManager;const name$r="@coinbase/wallet-sdk",version$3="3.1.0",description="Coinbase Wallet JavaScript SDK",keywords=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],main="dist/index.js",types="dist/index.d.ts",repository="https://github.com/coinbase/coinbase-wallet-sdk.git",author="Coinbase, Inc.",license="Apache-2.0",scripts={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ./README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},dependencies={"@metamask/safe-event-emitter":"2.0.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","js-sha256":"0.9.0","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","stream-browserify":"^3.0.0"},devDependencies={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},engines={node:">= 10.0.0"};var require$$6={name:name$r,version:version$3,description,keywords,main,types,repository,author,license,scripts,dependencies,devDependencies,engines};Object.defineProperty(CoinbaseWalletSDK$1,"__esModule",{value:!0});CoinbaseWalletSDK$1.CoinbaseWalletSDK=void 0;const ScopedLocalStorage_1=ScopedLocalStorage$1,CoinbaseWalletProvider_1=CoinbaseWalletProvider$1,WalletSDKUI_1=WalletSDKUI$1,WalletSDKRelay_1=WalletSDKRelay$1,WalletSDKRelayEventManager_1=WalletSDKRelayEventManager$1,util_1=util$5,LINK_API_URL={}.LINK_API_URL||"https://www.walletlink.org",SDK_VERSION={}.SDK_VERSION||require$$6.version||"unknown";class CoinbaseWalletSDK{constructor(_e){var tt,rt;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const nt=_e.linkAPIUrl||LINK_API_URL;let it;_e.uiConstructor?it=_e.uiConstructor:it=ct=>new WalletSDKUI_1.WalletSDKUI(ct),typeof _e.overrideIsMetaMask=="undefined"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=_e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(tt=_e.overrideIsCoinbaseWallet)!==null&&tt!==void 0?tt:!0,this._overrideIsCoinbaseBrowser=(rt=_e.overrideIsCoinbaseBrowser)!==null&&rt!==void 0?rt:!1,this._eventListener=_e.eventListener;const at=new URL(nt),st=`${at.protocol}//${at.host}`;this._storage=new ScopedLocalStorage_1.ScopedLocalStorage(`-walletlink:${st}`),this._storage.setItem("version",CoinbaseWalletSDK.VERSION),!this.walletExtension&&(this._relayEventManager=new WalletSDKRelayEventManager_1.WalletSDKRelayEventManager,this._relay=new WalletSDKRelay_1.WalletSDKRelay({linkAPIUrl:nt,version:SDK_VERSION,darkMode:!!_e.darkMode,uiConstructor:it,storage:this._storage,relayEventManager:this._relayEventManager,eventListener:this._eventListener}),this.setAppInfo(_e.appName,_e.appLogoUrl),!_e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(_e="",tt=1){const rt=this.walletExtension;if(rt)return this.isCipherProvider(rt)||rt.setProviderInfo(_e,tt),rt;const nt=this._relay;if(!nt||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return _e||nt.setConnectDisabled(!0),new CoinbaseWalletProvider_1.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(nt),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:_e,chainId:tt,qrUrl:this.getQrUrl(),eventListener:this._eventListener,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(_e,tt){var rt;this._appName=_e||"DApp",this._appLogoUrl=tt||(0,util_1.getFavicon)();const nt=this.walletExtension;nt?this.isCipherProvider(nt)||nt.setAppInfo(this._appName,this._appLogoUrl):(rt=this._relay)===null||rt===void 0||rt.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var _e;const tt=this.walletExtension;tt?tt.close():(_e=this._relay)===null||_e===void 0||_e.resetAndReload()}getQrUrl(){var _e,tt;return(tt=(_e=this._relay)===null||_e===void 0?void 0:_e.getQRCodeUrl())!==null&&tt!==void 0?tt:null}get walletExtension(){var _e;return(_e=window.coinbaseWalletExtension)!==null&&_e!==void 0?_e:window.walletLinkExtension}isCipherProvider(_e){return typeof _e.isCipher=="boolean"&&_e.isCipher}}CoinbaseWalletSDK$1.CoinbaseWalletSDK=CoinbaseWalletSDK;CoinbaseWalletSDK.VERSION=SDK_VERSION;(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.CoinbaseWalletProvider=et.CoinbaseWalletSDK=void 0;const _e=CoinbaseWalletSDK$1,tt=CoinbaseWalletProvider$1;var rt=CoinbaseWalletSDK$1;Object.defineProperty(et,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return rt.CoinbaseWalletSDK}});var nt=CoinbaseWalletProvider$1;Object.defineProperty(et,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return nt.CoinbaseWalletProvider}}),et.default=_e.CoinbaseWalletSDK,typeof window!="undefined"&&(window.CoinbaseWalletSDK=_e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=tt.CoinbaseWalletProvider,window.WalletLink=_e.CoinbaseWalletSDK,window.WalletLinkProvider=tt.CoinbaseWalletProvider)})(dist$2);var _client=new WeakMap,_provider$1=new WeakMap;class CoinbaseWalletConnector extends Connector$1{constructor(_e){var tt;super(_e),_defineProperty$2(this,"id","coinbasewallet"),_defineProperty$2(this,"name","Coinbase Wallet"),_defineProperty$2(this,"ready",typeof window!="undefined"&&!((tt=window.ethereum)!==null&&tt!==void 0&&tt.isCoinbaseWallet)),_classPrivateFieldInitSpec(this,_client,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_provider$1,{writable:!0,value:void 0}),_defineProperty$2(this,"onAccountsChanged",rt=>{rt.length===0?this.emit("disconnect"):this.emit("change",{account:utils$6.getAddress(rt[0])})}),_defineProperty$2(this,"onChainChanged",rt=>{const nt=normalizeChainId(rt),it=this.isChainUnsupported(nt);this.emit("change",{chain:{id:nt,unsupported:it}})}),_defineProperty$2(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect(){try{const _e=this.getProvider();_e.on("accountsChanged",this.onAccountsChanged),_e.on("chainChanged",this.onChainChanged),_e.on("disconnect",this.onDisconnect);const tt=await _e.enable(),rt=utils$6.getAddress(tt[0]),nt=await this.getChainId(),it=this.isChainUnsupported(nt);return{account:rt,chain:{id:nt,unsupported:it},provider:new Web3Provider(_e)}}catch(_e){throw/user closed modal/i.test(_e.message)?new UserRejectedRequestError:_e}}async disconnect(){if(!_classPrivateFieldGet(this,_provider$1))return;const _e=this.getProvider();if(_e.removeListener("accountsChanged",this.onAccountsChanged),_e.removeListener("chainChanged",this.onChainChanged),_e.removeListener("disconnect",this.onDisconnect),_e.disconnect(),_e.close(),typeof localStorage!="undefined"){let tt=localStorage.length;for(;tt--;){const rt=localStorage.key(tt);!rt||!/-walletlink/.test(rt)||localStorage.removeItem(rt)}}}async getAccount(){const tt=await this.getProvider().request({method:"eth_accounts"});return utils$6.getAddress(tt[0])}async getChainId(){const _e=this.getProvider();return normalizeChainId(_e.chainId)}getProvider(){return _classPrivateFieldGet(this,_provider$1)||(_classPrivateFieldSet(this,_client,new dist$2.CoinbaseWalletSDK(this.options)),_classPrivateFieldSet(this,_provider$1,_classPrivateFieldGet(this,_client).makeWeb3Provider(this.options.jsonRpcUrl))),_classPrivateFieldGet(this,_provider$1)}async getSigner(){const _e=this.getProvider(),tt=await this.getAccount();return new Web3Provider(_e).getSigner(tt)}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}async switchChain(_e){const tt=this.getProvider(),rt=utils$6.hexValue(_e);try{return await tt.request({method:"wallet_switchEthereumChain",params:[{chainId:rt}]}),[...this.chains,...allChains].find(it=>it.id===_e)}catch(nt){throw/user rejected signature request/i.test(nt.message)?new UserRejectedRequestError:new SwitchChainError}}}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}};function isReservedErrorCode(et){return RESERVED_ERROR_CODES.includes(et)}function getError(et){return Object.keys(STANDARD_ERROR_MAP).includes(et)?STANDARD_ERROR_MAP[et]:STANDARD_ERROR_MAP[INTERNAL_ERROR]}function getErrorByCode(et){const _e=Object.values(STANDARD_ERROR_MAP).find(tt=>tt.code===et);return _e||STANDARD_ERROR_MAP[INTERNAL_ERROR]}function parseConnectionError(et,_e,tt){return et.message.includes("getaddrinfo ENOTFOUND")||et.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${tt} RPC url at ${_e}`):et}var cjs$3={},crypto$1={};Object.defineProperty(crypto$1,"__esModule",{value:!0});crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function getBrowerCrypto(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}crypto$1.getBrowerCrypto=getBrowerCrypto;function getSubtleCrypto(){const et=getBrowerCrypto();return et.subtle||et.webkitSubtle}crypto$1.getSubtleCrypto=getSubtleCrypto;function isBrowserCryptoAvailable(){return!!getBrowerCrypto()&&!!getSubtleCrypto()}crypto$1.isBrowserCryptoAvailable=isBrowserCryptoAvailable;var env={};Object.defineProperty(env,"__esModule",{value:!0});env.isBrowser=env.isNode=env.isReactNative=void 0;function isReactNative(){return typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"}env.isReactNative=isReactNative;function isNode$2(){return typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"}env.isNode=isNode$2;function isBrowser$3(){return!isReactNative()&&!isNode$2()}env.isBrowser=isBrowser$3;(function(et){var _e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(rt,nt,it,at){at===void 0&&(at=it),Object.defineProperty(rt,at,{enumerable:!0,get:function(){return nt[it]}})}:function(rt,nt,it,at){at===void 0&&(at=it),rt[at]=nt[it]}),tt=commonjsGlobal&&commonjsGlobal.__exportStar||function(rt,nt){for(var it in rt)it!=="default"&&!nt.hasOwnProperty(it)&&_e(nt,rt,it)};Object.defineProperty(et,"__esModule",{value:!0}),tt(crypto$1,et),tt(env,et)})(cjs$3);function payloadId$1(){const et=Date.now()*Math.pow(10,3),_e=Math.floor(Math.random()*Math.pow(10,3));return et+_e}function formatJsonRpcRequest(et,_e,tt){return{id:tt||payloadId$1(),jsonrpc:"2.0",method:et,params:_e}}function formatJsonRpcError(et,_e){return{id:et,jsonrpc:"2.0",error:formatErrorMessage(_e)}}function formatErrorMessage(et){return typeof et=="undefined"?getError(INTERNAL_ERROR):(typeof et=="string"&&(et=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:et})),isReservedErrorCode(et.code)&&(et=getErrorByCode(et.code)),et)}class IEvents{}class IJsonRpcConnection extends IEvents{constructor(_e){super()}}class IBaseJsonRpcProvider extends IEvents{constructor(){super()}}class IJsonRpcProvider extends IBaseJsonRpcProvider{constructor(_e){super()}}const HTTP_REGEX="^https?:";function getUrlProtocol(et){const _e=et.match(new RegExp(/^\w+:/,"gi"));if(!(!_e||!_e.length))return _e[0]}function matchRegexProtocol(et,_e){const tt=getUrlProtocol(et);return typeof tt=="undefined"?!1:new RegExp(_e).test(tt)}function isHttpUrl(et){return matchRegexProtocol(et,HTTP_REGEX)}function isJsonRpcPayload(et){return"id"in et&&"jsonrpc"in et&&et.jsonrpc==="2.0"}function isJsonRpcResponse(et){return isJsonRpcPayload(et)&&(isJsonRpcResult(et)||isJsonRpcError(et))}function isJsonRpcResult(et){return"result"in et}function isJsonRpcError(et){return"error"in et}class JsonRpcProvider extends IJsonRpcProvider{constructor(_e){super(_e),this.events=new events.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(_e),this.connection.connected&&this.registerEventListeners()}async connect(_e=this.connection){await this.open(_e)}async disconnect(){await this.close()}on(_e,tt){this.events.on(_e,tt)}once(_e,tt){this.events.once(_e,tt)}off(_e,tt){this.events.off(_e,tt)}removeListener(_e,tt){this.events.removeListener(_e,tt)}async request(_e,tt){return this.requestStrict(formatJsonRpcRequest(_e.method,_e.params||[]),tt)}async requestStrict(_e,tt){return new Promise(async(rt,nt)=>{if(!this.connection.connected)try{await this.open()}catch(it){nt(it)}this.events.on(`${_e.id}`,it=>{isJsonRpcError(it)?nt(it.error.message):rt(it.result)});try{await this.connection.send(_e,tt)}catch(it){nt(it)}})}setConnection(_e=this.connection){return _e}onPayload(_e){this.events.emit("payload",_e),isJsonRpcResponse(_e)?this.events.emit(`${_e.id}`,_e):this.events.emit("message",{type:_e.method,data:_e.params})}async open(_e=this.connection){this.connection===_e&&this.connection.connected||(this.connection.connected&&this.close(),typeof _e=="string"&&(await this.connection.open(_e),_e=this.connection),this.connection=this.setConnection(_e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",_e=>this.onPayload(_e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",_e=>this.events.emit("error",_e)),this.hasRegisteredEventListeners=!0)}}function safeJsonParse$1(et){if(typeof et!="string")throw new Error(`Cannot safe json parse value of type ${typeof et}`);try{return JSON.parse(et)}catch{return et}}function safeJsonStringify$1(et){return typeof et=="string"?et:JSON.stringify(et)}const DEFAULT_HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"},DEFAULT_HTTP_METHOD="POST",DEFAULT_FETCH_OPTS={headers:DEFAULT_HTTP_HEADERS,method:DEFAULT_HTTP_METHOD};class HttpConnection{constructor(_e){if(this.url=_e,this.events=new events.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(_e))throw new Error(`Provided URL is not compatible with HTTP connection: ${_e}`);this.url=_e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(_e,tt){this.events.on(_e,tt)}once(_e,tt){this.events.once(_e,tt)}off(_e,tt){this.events.off(_e,tt)}removeListener(_e,tt){this.events.removeListener(_e,tt)}async open(_e=this.url){await this.register(_e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(_e,tt){this.isAvailable||await this.register();try{const rt=safeJsonStringify$1(_e),it=await(await fetch$1(this.url,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:rt}))).json();this.onPayload({data:it})}catch(rt){this.onError(_e.id,rt)}}async register(_e=this.url){if(!isHttpUrl(_e))throw new Error(`Provided URL is not compatible with HTTP connection: ${_e}`);if(this.registering)return new Promise((tt,rt)=>{this.events.once("register_error",nt=>{rt(nt)}),this.events.once("open",()=>{if(typeof this.isAvailable=="undefined")return rt(new Error("HTTP connection is missing or invalid"));tt()})});this.url=_e,this.registering=!0;try{const tt=safeJsonStringify$1({id:1,jsonrpc:"2.0",method:"test",params:[]});await fetch$1(_e,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:tt})),this.onOpen()}catch(tt){const rt=this.parseError(tt);throw this.events.emit("register_error",rt),this.onClose(),rt}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(_e){if(typeof _e.data=="undefined")return;const tt=typeof _e.data=="string"?safeJsonParse$1(_e.data):_e.data;this.events.emit("payload",tt)}onError(_e,tt){const rt=this.parseError(tt),nt=rt.message||rt.toString(),it=formatJsonRpcError(_e,nt);this.events.emit("payload",it)}parseError(_e,tt=this.url){return parseConnectionError(_e,tt,"HTTP")}}var cjs$2={},cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});var getLocalStorage_1=cjs$1.getLocalStorage=getLocalStorageOrThrow_1=cjs$1.getLocalStorageOrThrow=getCrypto_1=cjs$1.getCrypto=getCryptoOrThrow_1=cjs$1.getCryptoOrThrow=getLocation_1=cjs$1.getLocation=getLocationOrThrow_1=cjs$1.getLocationOrThrow=getNavigator_1=cjs$1.getNavigator=getNavigatorOrThrow_1=cjs$1.getNavigatorOrThrow=getDocument_1=cjs$1.getDocument=getDocumentOrThrow_1=cjs$1.getDocumentOrThrow=getFromWindowOrThrow_1=cjs$1.getFromWindowOrThrow=getFromWindow_1=cjs$1.getFromWindow=void 0;function getFromWindow$1(et){let _e;return typeof window!="undefined"&&typeof window[et]!="undefined"&&(_e=window[et]),_e}var getFromWindow_1=cjs$1.getFromWindow=getFromWindow$1;function getFromWindowOrThrow$1(et){const _e=getFromWindow$1(et);if(!_e)throw new Error(`${et} is not defined in Window`);return _e}var getFromWindowOrThrow_1=cjs$1.getFromWindowOrThrow=getFromWindowOrThrow$1;function getDocumentOrThrow$1(){return getFromWindowOrThrow$1("document")}var getDocumentOrThrow_1=cjs$1.getDocumentOrThrow=getDocumentOrThrow$1;function getDocument$1(){return getFromWindow$1("document")}var getDocument_1=cjs$1.getDocument=getDocument$1;function getNavigatorOrThrow$1(){return getFromWindowOrThrow$1("navigator")}var getNavigatorOrThrow_1=cjs$1.getNavigatorOrThrow=getNavigatorOrThrow$1;function getNavigator$1(){return getFromWindow$1("navigator")}var getNavigator_1=cjs$1.getNavigator=getNavigator$1;function getLocationOrThrow$1(){return getFromWindowOrThrow$1("location")}var getLocationOrThrow_1=cjs$1.getLocationOrThrow=getLocationOrThrow$1;function getLocation$1(){return getFromWindow$1("location")}var getLocation_1=cjs$1.getLocation=getLocation$1;function getCryptoOrThrow$1(){return getFromWindowOrThrow$1("crypto")}var getCryptoOrThrow_1=cjs$1.getCryptoOrThrow=getCryptoOrThrow$1;function getCrypto$1(){return getFromWindow$1("crypto")}var getCrypto_1=cjs$1.getCrypto=getCrypto$1;function getLocalStorageOrThrow$1(){return getFromWindowOrThrow$1("localStorage")}var getLocalStorageOrThrow_1=cjs$1.getLocalStorageOrThrow=getLocalStorageOrThrow$1;function getLocalStorage$1(){return getFromWindow$1("localStorage")}getLocalStorage_1=cjs$1.getLocalStorage=getLocalStorage$1;Object.defineProperty(cjs$2,"__esModule",{value:!0});var getWindowMetadata_1=cjs$2.getWindowMetadata=void 0;const window_getters_1=cjs$1;function getWindowMetadata(){let et,_e;try{et=window_getters_1.getDocumentOrThrow(),_e=window_getters_1.getLocationOrThrow()}catch{return null}function tt(){const gt=et.getElementsByTagName("link"),_t=[];for(let Et=0;Et<gt.length;Et++){const $t=gt[Et],It=$t.getAttribute("rel");if(It&&It.toLowerCase().indexOf("icon")>-1){const Tt=$t.getAttribute("href");if(Tt)if(Tt.toLowerCase().indexOf("https:")===-1&&Tt.toLowerCase().indexOf("http:")===-1&&Tt.indexOf("//")!==0){let At=_e.protocol+"//"+_e.host;if(Tt.indexOf("/")===0)At+=Tt;else{const Rt=_e.pathname.split("/");Rt.pop(),At+=Rt.join("/")+"/"+Tt}_t.push(At)}else if(Tt.indexOf("//")===0){const At=_e.protocol+Tt;_t.push(At)}else _t.push(Tt)}}return _t}function rt(...gt){const _t=et.getElementsByTagName("meta");for(let Et=0;Et<_t.length;Et++){const $t=_t[Et],It=["itemprop","property","name"].map(Tt=>$t.getAttribute(Tt)).filter(Tt=>Tt?gt.includes(Tt):!1);if(It.length&&It){const Tt=$t.getAttribute("content");if(Tt)return Tt}}return""}function nt(){let gt=rt("name","og:site_name","og:title","twitter:title");return gt||(gt=et.title),gt}function it(){return rt("description","og:description","twitter:description","keywords")}const at=nt(),st=it(),ct=_e.origin,ut=tt();return{description:st,url:ct,icons:ut,name:at}}getWindowMetadata_1=cjs$2.getWindowMetadata=getWindowMetadata;var __spreadArrays=globalThis&&globalThis.__spreadArrays||function(){for(var et=0,_e=0,tt=arguments.length;_e<tt;_e++)et+=arguments[_e].length;for(var rt=Array(et),nt=0,_e=0;_e<tt;_e++)for(var it=arguments[_e],at=0,st=it.length;at<st;at++,nt++)rt[nt]=it[at];return rt},BrowserInfo=function(){function et(_e,tt,rt){this.name=_e,this.version=tt,this.os=rt,this.type="browser"}return et}(),NodeInfo=function(){function et(_e){this.version=_e,this.type="node",this.name="node",this.os=process.platform}return et}(),SearchBotDeviceInfo=function(){function et(_e,tt,rt,nt){this.name=_e,this.version=tt,this.os=rt,this.bot=nt,this.type="bot-device"}return et}(),BotInfo=function(){function et(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return et}(),ReactNativeInfo=function(){function et(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return et}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(et){return et?parseUserAgent(et):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator!="undefined"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(et){return et!==""&&userAgentRules.reduce(function(_e,tt){var rt=tt[0],nt=tt[1];if(_e)return _e;var it=nt.exec(et);return!!it&&[rt,it]},!1)}function parseUserAgent(et){var _e=matchUserAgent(et);if(!_e)return null;var tt=_e[0],rt=_e[1];if(tt==="searchbot")return new BotInfo;var nt=rt[1]&&rt[1].split(/[._]/).slice(0,3);nt?nt.length<REQUIRED_VERSION_PARTS&&(nt=__spreadArrays(nt,createVersionParts(REQUIRED_VERSION_PARTS-nt.length))):nt=[];var it=nt.join("."),at=detectOS$1(et),st=SEARCHBOT_OS_REGEX.exec(et);return st&&st[1]?new SearchBotDeviceInfo(tt,it,at,st[1]):new BrowserInfo(tt,it,at)}function detectOS$1(et){for(var _e=0,tt=operatingSystemRules.length;_e<tt;_e++){var rt=operatingSystemRules[_e],nt=rt[0],it=rt[1],at=it.exec(et);if(at)return nt}return null}function getNodeVersion(){var et=typeof process!="undefined"&&process.version;return et?new NodeInfo(process.version.slice(1)):null}function createVersionParts(et){for(var _e=[],tt=0;tt<et;tt++)_e.push("0");return _e}function detectEnv(et){return detect(et)}function detectOS(){const et=detectEnv();return et&&et.os?et.os:void 0}function isAndroid(){const et=detectOS();return et?et.toLowerCase().includes("android"):!1}function isIOS(){const et=detectOS();return et?et.toLowerCase().includes("ios")||et.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function isMobile(){return detectOS()?isAndroid()||isIOS():!1}function isNode$1(){const et=detectEnv();return et&&et.name?et.name.toLowerCase()==="node":!1}function isBrowser$2(){return!isNode$1()&&!!getNavigator()}const getFromWindow=getFromWindow_1,getFromWindowOrThrow=getFromWindowOrThrow_1,getDocumentOrThrow=getDocumentOrThrow_1,getDocument=getDocument_1,getNavigatorOrThrow=getNavigatorOrThrow_1,getNavigator=getNavigator_1,getLocationOrThrow=getLocationOrThrow_1,getLocation=getLocation_1,getCryptoOrThrow=getCryptoOrThrow_1,getCrypto=getCrypto_1,getLocalStorageOrThrow=getLocalStorageOrThrow_1,getLocalStorage=getLocalStorage_1;function getClientMeta(){return getWindowMetadata_1()}const safeJsonParse=safeJsonParse$1,safeJsonStringify=safeJsonStringify$1;function setLocal(et,_e){const tt=safeJsonStringify(_e),rt=getLocalStorage();rt&&rt.setItem(et,tt)}function getLocal(et){let _e=null,tt=null;const rt=getLocalStorage();return rt&&(tt=rt.getItem(et)),_e=tt&&safeJsonParse(tt),_e}function removeLocal(et){const _e=getLocalStorage();_e&&_e.removeItem(et)}const mobileLinkChoiceKey="WALLETCONNECT_DEEPLINK_CHOICE";function formatIOSMobile(et,_e){const tt=encodeURIComponent(et);return _e.universalLink?`${_e.universalLink}/wc?uri=${tt}`:_e.deepLink?`${_e.deepLink}${_e.deepLink.endsWith(":")?"//":"/"}wc?uri=${tt}`:""}function saveMobileLinkInfo(et){const _e=et.href.split("?")[0];setLocal(mobileLinkChoiceKey,Object.assign(Object.assign({},et),{href:_e}))}function getMobileRegistryEntry(et,_e){return et.filter(tt=>tt.name.toLowerCase().includes(_e.toLowerCase()))[0]}function getMobileLinkRegistry(et,_e){let tt=et;return _e&&(tt=_e.map(rt=>getMobileRegistryEntry(et,rt)).filter(Boolean)),tt}const API_URL="https://registry.walletconnect.com";function getWalletRegistryUrl(){return API_URL+"/api/v2/wallets"}function getDappRegistryUrl(){return API_URL+"/api/v2/dapps"}function formatMobileRegistryEntry(et,_e="mobile"){var tt;return{name:et.name||"",shortName:et.metadata.shortName||"",color:et.metadata.colors.primary||"",logo:(tt=et.image_url.sm)!==null&&tt!==void 0?tt:"",universalLink:et[_e].universal||"",deepLink:et[_e].native||""}}function formatMobileRegistry(et,_e="mobile"){return Object.values(et).filter(tt=>!!tt[_e].universal||!!tt[_e].native).map(tt=>formatMobileRegistryEntry(tt,_e))}var esm=Object.freeze(Object.defineProperty({__proto__:null,detectEnv,detectOS,isAndroid,isIOS,isMobile,isNode:isNode$1,isBrowser:isBrowser$2,getFromWindow,getFromWindowOrThrow,getDocumentOrThrow,getDocument,getNavigatorOrThrow,getNavigator,getLocationOrThrow,getLocation,getCryptoOrThrow,getCrypto,getLocalStorageOrThrow,getLocalStorage,getClientMeta,safeJsonParse,safeJsonStringify,setLocal,getLocal,removeLocal,mobileLinkChoiceKey,formatIOSMobile,saveMobileLinkInfo,getMobileRegistryEntry,getMobileLinkRegistry,getWalletRegistryUrl,getDappRegistryUrl,formatMobileRegistryEntry,formatMobileRegistry},Symbol.toStringTag,{value:"Module"}));const reservedEvents=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],signingMethods=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],infuraNetworks={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var bn={exports:{}};(function(et){(function(_e,tt){function rt(jt,Ct){if(!jt)throw new Error(Ct||"Assertion failed")}function nt(jt,Ct){jt.super_=Ct;var Nt=function(){};Nt.prototype=Ct.prototype,jt.prototype=new Nt,jt.prototype.constructor=jt}function it(jt,Ct,Nt){if(it.isBN(jt))return jt;this.negative=0,this.words=null,this.length=0,this.red=null,jt!==null&&((Ct==="le"||Ct==="be")&&(Nt=Ct,Ct=10),this._init(jt||0,Ct||10,Nt||"be"))}typeof _e=="object"?_e.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{at=require("buffer").Buffer}catch{}it.isBN=function(Ct){return Ct instanceof it?!0:Ct!==null&&typeof Ct=="object"&&Ct.constructor.wordSize===it.wordSize&&Array.isArray(Ct.words)},it.max=function(Ct,Nt){return Ct.cmp(Nt)>0?Ct:Nt},it.min=function(Ct,Nt){return Ct.cmp(Nt)<0?Ct:Nt},it.prototype._init=function(Ct,Nt,ht){if(typeof Ct=="number")return this._initNumber(Ct,Nt,ht);if(typeof Ct=="object")return this._initArray(Ct,Nt,ht);Nt==="hex"&&(Nt=16),rt(Nt===(Nt|0)&&Nt>=2&&Nt<=36),Ct=Ct.toString().replace(/\s+/g,"");var ot=0;Ct[0]==="-"&&ot++,Nt===16?this._parseHex(Ct,ot):this._parseBase(Ct,Nt,ot),Ct[0]==="-"&&(this.negative=1),this.strip(),ht==="le"&&this._initArray(this.toArray(),Nt,ht)},it.prototype._initNumber=function(Ct,Nt,ht){Ct<0&&(this.negative=1,Ct=-Ct),Ct<67108864?(this.words=[Ct&67108863],this.length=1):Ct<4503599627370496?(this.words=[Ct&67108863,Ct/67108864&67108863],this.length=2):(rt(Ct<9007199254740992),this.words=[Ct&67108863,Ct/67108864&67108863,1],this.length=3),ht==="le"&&this._initArray(this.toArray(),Nt,ht)},it.prototype._initArray=function(Ct,Nt,ht){if(rt(typeof Ct.length=="number"),Ct.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Ct.length/3),this.words=new Array(this.length);for(var ot=0;ot<this.length;ot++)this.words[ot]=0;var dt,mt,wt=0;if(ht==="be")for(ot=Ct.length-1,dt=0;ot>=0;ot-=3)mt=Ct[ot]|Ct[ot-1]<<8|Ct[ot-2]<<16,this.words[dt]|=mt<<wt&67108863,this.words[dt+1]=mt>>>26-wt&67108863,wt+=24,wt>=26&&(wt-=26,dt++);else if(ht==="le")for(ot=0,dt=0;ot<Ct.length;ot+=3)mt=Ct[ot]|Ct[ot+1]<<8|Ct[ot+2]<<16,this.words[dt]|=mt<<wt&67108863,this.words[dt+1]=mt>>>26-wt&67108863,wt+=24,wt>=26&&(wt-=26,dt++);return this.strip()};function st(jt,Ct,Nt){for(var ht=0,ot=Math.min(jt.length,Nt),dt=Ct;dt<ot;dt++){var mt=jt.charCodeAt(dt)-48;ht<<=4,mt>=49&&mt<=54?ht|=mt-49+10:mt>=17&&mt<=22?ht|=mt-17+10:ht|=mt&15}return ht}it.prototype._parseHex=function(Ct,Nt){this.length=Math.ceil((Ct.length-Nt)/6),this.words=new Array(this.length);for(var ht=0;ht<this.length;ht++)this.words[ht]=0;var ot,dt,mt=0;for(ht=Ct.length-6,ot=0;ht>=Nt;ht-=6)dt=st(Ct,ht,ht+6),this.words[ot]|=dt<<mt&67108863,this.words[ot+1]|=dt>>>26-mt&4194303,mt+=24,mt>=26&&(mt-=26,ot++);ht+6!==Nt&&(dt=st(Ct,Nt,ht+6),this.words[ot]|=dt<<mt&67108863,this.words[ot+1]|=dt>>>26-mt&4194303),this.strip()};function ct(jt,Ct,Nt,ht){for(var ot=0,dt=Math.min(jt.length,Nt),mt=Ct;mt<dt;mt++){var wt=jt.charCodeAt(mt)-48;ot*=ht,wt>=49?ot+=wt-49+10:wt>=17?ot+=wt-17+10:ot+=wt}return ot}it.prototype._parseBase=function(Ct,Nt,ht){this.words=[0],this.length=1;for(var ot=0,dt=1;dt<=67108863;dt*=Nt)ot++;ot--,dt=dt/Nt|0;for(var mt=Ct.length-ht,wt=mt%ot,bt=Math.min(mt,mt-wt)+ht,vt=0,St=ht;St<bt;St+=ot)vt=ct(Ct,St,St+ot,Nt),this.imuln(dt),this.words[0]+vt<67108864?this.words[0]+=vt:this._iaddn(vt);if(wt!==0){var yt=1;for(vt=ct(Ct,St,Ct.length,Nt),St=0;St<wt;St++)yt*=Nt;this.imuln(yt),this.words[0]+vt<67108864?this.words[0]+=vt:this._iaddn(vt)}},it.prototype.copy=function(Ct){Ct.words=new Array(this.length);for(var Nt=0;Nt<this.length;Nt++)Ct.words[Nt]=this.words[Nt];Ct.length=this.length,Ct.negative=this.negative,Ct.red=this.red},it.prototype.clone=function(){var Ct=new it(null);return this.copy(Ct),Ct},it.prototype._expand=function(Ct){for(;this.length<Ct;)this.words[this.length++]=0;return this},it.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},it.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ut=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ft=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],gt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(Ct,Nt){Ct=Ct||10,Nt=Nt|0||1;var ht;if(Ct===16||Ct==="hex"){ht="";for(var ot=0,dt=0,mt=0;mt<this.length;mt++){var wt=this.words[mt],bt=((wt<<ot|dt)&16777215).toString(16);dt=wt>>>24-ot&16777215,dt!==0||mt!==this.length-1?ht=ut[6-bt.length]+bt+ht:ht=bt+ht,ot+=2,ot>=26&&(ot-=26,mt--)}for(dt!==0&&(ht=dt.toString(16)+ht);ht.length%Nt!==0;)ht="0"+ht;return this.negative!==0&&(ht="-"+ht),ht}if(Ct===(Ct|0)&&Ct>=2&&Ct<=36){var vt=ft[Ct],St=gt[Ct];ht="";var yt=this.clone();for(yt.negative=0;!yt.isZero();){var lt=yt.modn(St).toString(Ct);yt=yt.idivn(St),yt.isZero()?ht=lt+ht:ht=ut[vt-lt.length]+lt+ht}for(this.isZero()&&(ht="0"+ht);ht.length%Nt!==0;)ht="0"+ht;return this.negative!==0&&(ht="-"+ht),ht}rt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var Ct=this.words[0];return this.length===2?Ct+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Ct+=4503599627370496+this.words[1]*67108864:this.length>2&&rt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Ct:Ct},it.prototype.toJSON=function(){return this.toString(16)},it.prototype.toBuffer=function(Ct,Nt){return rt(typeof at!="undefined"),this.toArrayLike(at,Ct,Nt)},it.prototype.toArray=function(Ct,Nt){return this.toArrayLike(Array,Ct,Nt)},it.prototype.toArrayLike=function(Ct,Nt,ht){var ot=this.byteLength(),dt=ht||Math.max(1,ot);rt(ot<=dt,"byte array longer than desired length"),rt(dt>0,"Requested array length <= 0"),this.strip();var mt=Nt==="le",wt=new Ct(dt),bt,vt,St=this.clone();if(mt){for(vt=0;!St.isZero();vt++)bt=St.andln(255),St.iushrn(8),wt[vt]=bt;for(;vt<dt;vt++)wt[vt]=0}else{for(vt=0;vt<dt-ot;vt++)wt[vt]=0;for(vt=0;!St.isZero();vt++)bt=St.andln(255),St.iushrn(8),wt[dt-vt-1]=bt}return wt},Math.clz32?it.prototype._countBits=function(Ct){return 32-Math.clz32(Ct)}:it.prototype._countBits=function(Ct){var Nt=Ct,ht=0;return Nt>=4096&&(ht+=13,Nt>>>=13),Nt>=64&&(ht+=7,Nt>>>=7),Nt>=8&&(ht+=4,Nt>>>=4),Nt>=2&&(ht+=2,Nt>>>=2),ht+Nt},it.prototype._zeroBits=function(Ct){if(Ct===0)return 26;var Nt=Ct,ht=0;return(Nt&8191)===0&&(ht+=13,Nt>>>=13),(Nt&127)===0&&(ht+=7,Nt>>>=7),(Nt&15)===0&&(ht+=4,Nt>>>=4),(Nt&3)===0&&(ht+=2,Nt>>>=2),(Nt&1)===0&&ht++,ht},it.prototype.bitLength=function(){var Ct=this.words[this.length-1],Nt=this._countBits(Ct);return(this.length-1)*26+Nt};function _t(jt){for(var Ct=new Array(jt.bitLength()),Nt=0;Nt<Ct.length;Nt++){var ht=Nt/26|0,ot=Nt%26;Ct[Nt]=(jt.words[ht]&1<<ot)>>>ot}return Ct}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Ct=0,Nt=0;Nt<this.length;Nt++){var ht=this._zeroBits(this.words[Nt]);if(Ct+=ht,ht!==26)break}return Ct},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(Ct){return this.negative!==0?this.abs().inotn(Ct).iaddn(1):this.clone()},it.prototype.fromTwos=function(Ct){return this.testn(Ct-1)?this.notn(Ct).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(Ct){for(;this.length<Ct.length;)this.words[this.length++]=0;for(var Nt=0;Nt<Ct.length;Nt++)this.words[Nt]=this.words[Nt]|Ct.words[Nt];return this.strip()},it.prototype.ior=function(Ct){return rt((this.negative|Ct.negative)===0),this.iuor(Ct)},it.prototype.or=function(Ct){return this.length>Ct.length?this.clone().ior(Ct):Ct.clone().ior(this)},it.prototype.uor=function(Ct){return this.length>Ct.length?this.clone().iuor(Ct):Ct.clone().iuor(this)},it.prototype.iuand=function(Ct){var Nt;this.length>Ct.length?Nt=Ct:Nt=this;for(var ht=0;ht<Nt.length;ht++)this.words[ht]=this.words[ht]&Ct.words[ht];return this.length=Nt.length,this.strip()},it.prototype.iand=function(Ct){return rt((this.negative|Ct.negative)===0),this.iuand(Ct)},it.prototype.and=function(Ct){return this.length>Ct.length?this.clone().iand(Ct):Ct.clone().iand(this)},it.prototype.uand=function(Ct){return this.length>Ct.length?this.clone().iuand(Ct):Ct.clone().iuand(this)},it.prototype.iuxor=function(Ct){var Nt,ht;this.length>Ct.length?(Nt=this,ht=Ct):(Nt=Ct,ht=this);for(var ot=0;ot<ht.length;ot++)this.words[ot]=Nt.words[ot]^ht.words[ot];if(this!==Nt)for(;ot<Nt.length;ot++)this.words[ot]=Nt.words[ot];return this.length=Nt.length,this.strip()},it.prototype.ixor=function(Ct){return rt((this.negative|Ct.negative)===0),this.iuxor(Ct)},it.prototype.xor=function(Ct){return this.length>Ct.length?this.clone().ixor(Ct):Ct.clone().ixor(this)},it.prototype.uxor=function(Ct){return this.length>Ct.length?this.clone().iuxor(Ct):Ct.clone().iuxor(this)},it.prototype.inotn=function(Ct){rt(typeof Ct=="number"&&Ct>=0);var Nt=Math.ceil(Ct/26)|0,ht=Ct%26;this._expand(Nt),ht>0&&Nt--;for(var ot=0;ot<Nt;ot++)this.words[ot]=~this.words[ot]&67108863;return ht>0&&(this.words[ot]=~this.words[ot]&67108863>>26-ht),this.strip()},it.prototype.notn=function(Ct){return this.clone().inotn(Ct)},it.prototype.setn=function(Ct,Nt){rt(typeof Ct=="number"&&Ct>=0);var ht=Ct/26|0,ot=Ct%26;return this._expand(ht+1),Nt?this.words[ht]=this.words[ht]|1<<ot:this.words[ht]=this.words[ht]&~(1<<ot),this.strip()},it.prototype.iadd=function(Ct){var Nt;if(this.negative!==0&&Ct.negative===0)return this.negative=0,Nt=this.isub(Ct),this.negative^=1,this._normSign();if(this.negative===0&&Ct.negative!==0)return Ct.negative=0,Nt=this.isub(Ct),Ct.negative=1,Nt._normSign();var ht,ot;this.length>Ct.length?(ht=this,ot=Ct):(ht=Ct,ot=this);for(var dt=0,mt=0;mt<ot.length;mt++)Nt=(ht.words[mt]|0)+(ot.words[mt]|0)+dt,this.words[mt]=Nt&67108863,dt=Nt>>>26;for(;dt!==0&&mt<ht.length;mt++)Nt=(ht.words[mt]|0)+dt,this.words[mt]=Nt&67108863,dt=Nt>>>26;if(this.length=ht.length,dt!==0)this.words[this.length]=dt,this.length++;else if(ht!==this)for(;mt<ht.length;mt++)this.words[mt]=ht.words[mt];return this},it.prototype.add=function(Ct){var Nt;return Ct.negative!==0&&this.negative===0?(Ct.negative=0,Nt=this.sub(Ct),Ct.negative^=1,Nt):Ct.negative===0&&this.negative!==0?(this.negative=0,Nt=Ct.sub(this),this.negative=1,Nt):this.length>Ct.length?this.clone().iadd(Ct):Ct.clone().iadd(this)},it.prototype.isub=function(Ct){if(Ct.negative!==0){Ct.negative=0;var Nt=this.iadd(Ct);return Ct.negative=1,Nt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Ct),this.negative=1,this._normSign();var ht=this.cmp(Ct);if(ht===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ot,dt;ht>0?(ot=this,dt=Ct):(ot=Ct,dt=this);for(var mt=0,wt=0;wt<dt.length;wt++)Nt=(ot.words[wt]|0)-(dt.words[wt]|0)+mt,mt=Nt>>26,this.words[wt]=Nt&67108863;for(;mt!==0&&wt<ot.length;wt++)Nt=(ot.words[wt]|0)+mt,mt=Nt>>26,this.words[wt]=Nt&67108863;if(mt===0&&wt<ot.length&&ot!==this)for(;wt<ot.length;wt++)this.words[wt]=ot.words[wt];return this.length=Math.max(this.length,wt),ot!==this&&(this.negative=1),this.strip()},it.prototype.sub=function(Ct){return this.clone().isub(Ct)};function Et(jt,Ct,Nt){Nt.negative=Ct.negative^jt.negative;var ht=jt.length+Ct.length|0;Nt.length=ht,ht=ht-1|0;var ot=jt.words[0]|0,dt=Ct.words[0]|0,mt=ot*dt,wt=mt&67108863,bt=mt/67108864|0;Nt.words[0]=wt;for(var vt=1;vt<ht;vt++){for(var St=bt>>>26,yt=bt&67108863,lt=Math.min(vt,Ct.length-1),xt=Math.max(0,vt-jt.length+1);xt<=lt;xt++){var Ut=vt-xt|0;ot=jt.words[Ut]|0,dt=Ct.words[xt]|0,mt=ot*dt+yt,St+=mt/67108864|0,yt=mt&67108863}Nt.words[vt]=yt|0,bt=St|0}return bt!==0?Nt.words[vt]=bt|0:Nt.length--,Nt.strip()}var $t=function(Ct,Nt,ht){var ot=Ct.words,dt=Nt.words,mt=ht.words,wt=0,bt,vt,St,yt=ot[0]|0,lt=yt&8191,xt=yt>>>13,Ut=ot[1]|0,Pt=Ut&8191,qt=Ut>>>13,ir=ot[2]|0,Yt=ir&8191,rr=ir>>>13,Sr=ot[3]|0,lr=Sr&8191,ur=Sr>>>13,Ur=ot[4]|0,dr=Ur&8191,xr=Ur>>>13,er=ot[5]|0,Ft=er&8191,Lt=er>>>13,Qt=ot[6]|0,tr=Qt&8191,sr=Qt>>>13,Er=ot[7]|0,mr=Er&8191,gr=Er>>>13,Qr=ot[8]|0,wr=Qr&8191,Vt=Qr>>>13,Dt=ot[9]|0,Bt=Dt&8191,Gt=Dt>>>13,cr=dt[0]|0,nr=cr&8191,or=cr>>>13,qr=dt[1]|0,vr=qr&8191,br=qr>>>13,Zr=dt[2]|0,yr=Zr&8191,Rr=Zr>>>13,dn=dt[3]|0,Mr=dn&8191,$r=dn>>>13,Sn=dt[4]|0,Ir=Sn&8191,kr=Sn>>>13,xn=dt[5]|0,Pr=xn&8191,Nr=xn>>>13,wn=dt[6]|0,Fr=wn&8191,Or=wn>>>13,rn=dt[7]|0,Cr=rn&8191,Br=rn>>>13,Tn=dt[8]|0,Dr=Tn&8191,Lr=Tn>>>13,In=dt[9]|0,Ar=In&8191,Tr=In>>>13;ht.negative=Ct.negative^Nt.negative,ht.length=19,bt=Math.imul(lt,nr),vt=Math.imul(lt,or),vt=vt+Math.imul(xt,nr)|0,St=Math.imul(xt,or);var pn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(pn>>>26)|0,pn&=67108863,bt=Math.imul(Pt,nr),vt=Math.imul(Pt,or),vt=vt+Math.imul(qt,nr)|0,St=Math.imul(qt,or),bt=bt+Math.imul(lt,vr)|0,vt=vt+Math.imul(lt,br)|0,vt=vt+Math.imul(xt,vr)|0,St=St+Math.imul(xt,br)|0;var jr=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(jr>>>26)|0,jr&=67108863,bt=Math.imul(Yt,nr),vt=Math.imul(Yt,or),vt=vt+Math.imul(rr,nr)|0,St=Math.imul(rr,or),bt=bt+Math.imul(Pt,vr)|0,vt=vt+Math.imul(Pt,br)|0,vt=vt+Math.imul(qt,vr)|0,St=St+Math.imul(qt,br)|0,bt=bt+Math.imul(lt,yr)|0,vt=vt+Math.imul(lt,Rr)|0,vt=vt+Math.imul(xt,yr)|0,St=St+Math.imul(xt,Rr)|0;var Hr=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,bt=Math.imul(lr,nr),vt=Math.imul(lr,or),vt=vt+Math.imul(ur,nr)|0,St=Math.imul(ur,or),bt=bt+Math.imul(Yt,vr)|0,vt=vt+Math.imul(Yt,br)|0,vt=vt+Math.imul(rr,vr)|0,St=St+Math.imul(rr,br)|0,bt=bt+Math.imul(Pt,yr)|0,vt=vt+Math.imul(Pt,Rr)|0,vt=vt+Math.imul(qt,yr)|0,St=St+Math.imul(qt,Rr)|0,bt=bt+Math.imul(lt,Mr)|0,vt=vt+Math.imul(lt,$r)|0,vt=vt+Math.imul(xt,Mr)|0,St=St+Math.imul(xt,$r)|0;var mn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(mn>>>26)|0,mn&=67108863,bt=Math.imul(dr,nr),vt=Math.imul(dr,or),vt=vt+Math.imul(xr,nr)|0,St=Math.imul(xr,or),bt=bt+Math.imul(lr,vr)|0,vt=vt+Math.imul(lr,br)|0,vt=vt+Math.imul(ur,vr)|0,St=St+Math.imul(ur,br)|0,bt=bt+Math.imul(Yt,yr)|0,vt=vt+Math.imul(Yt,Rr)|0,vt=vt+Math.imul(rr,yr)|0,St=St+Math.imul(rr,Rr)|0,bt=bt+Math.imul(Pt,Mr)|0,vt=vt+Math.imul(Pt,$r)|0,vt=vt+Math.imul(qt,Mr)|0,St=St+Math.imul(qt,$r)|0,bt=bt+Math.imul(lt,Ir)|0,vt=vt+Math.imul(lt,kr)|0,vt=vt+Math.imul(xt,Ir)|0,St=St+Math.imul(xt,kr)|0;var sn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(sn>>>26)|0,sn&=67108863,bt=Math.imul(Ft,nr),vt=Math.imul(Ft,or),vt=vt+Math.imul(Lt,nr)|0,St=Math.imul(Lt,or),bt=bt+Math.imul(dr,vr)|0,vt=vt+Math.imul(dr,br)|0,vt=vt+Math.imul(xr,vr)|0,St=St+Math.imul(xr,br)|0,bt=bt+Math.imul(lr,yr)|0,vt=vt+Math.imul(lr,Rr)|0,vt=vt+Math.imul(ur,yr)|0,St=St+Math.imul(ur,Rr)|0,bt=bt+Math.imul(Yt,Mr)|0,vt=vt+Math.imul(Yt,$r)|0,vt=vt+Math.imul(rr,Mr)|0,St=St+Math.imul(rr,$r)|0,bt=bt+Math.imul(Pt,Ir)|0,vt=vt+Math.imul(Pt,kr)|0,vt=vt+Math.imul(qt,Ir)|0,St=St+Math.imul(qt,kr)|0,bt=bt+Math.imul(lt,Pr)|0,vt=vt+Math.imul(lt,Nr)|0,vt=vt+Math.imul(xt,Pr)|0,St=St+Math.imul(xt,Nr)|0;var cn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(cn>>>26)|0,cn&=67108863,bt=Math.imul(tr,nr),vt=Math.imul(tr,or),vt=vt+Math.imul(sr,nr)|0,St=Math.imul(sr,or),bt=bt+Math.imul(Ft,vr)|0,vt=vt+Math.imul(Ft,br)|0,vt=vt+Math.imul(Lt,vr)|0,St=St+Math.imul(Lt,br)|0,bt=bt+Math.imul(dr,yr)|0,vt=vt+Math.imul(dr,Rr)|0,vt=vt+Math.imul(xr,yr)|0,St=St+Math.imul(xr,Rr)|0,bt=bt+Math.imul(lr,Mr)|0,vt=vt+Math.imul(lr,$r)|0,vt=vt+Math.imul(ur,Mr)|0,St=St+Math.imul(ur,$r)|0,bt=bt+Math.imul(Yt,Ir)|0,vt=vt+Math.imul(Yt,kr)|0,vt=vt+Math.imul(rr,Ir)|0,St=St+Math.imul(rr,kr)|0,bt=bt+Math.imul(Pt,Pr)|0,vt=vt+Math.imul(Pt,Nr)|0,vt=vt+Math.imul(qt,Pr)|0,St=St+Math.imul(qt,Nr)|0,bt=bt+Math.imul(lt,Fr)|0,vt=vt+Math.imul(lt,Or)|0,vt=vt+Math.imul(xt,Fr)|0,St=St+Math.imul(xt,Or)|0;var fn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(fn>>>26)|0,fn&=67108863,bt=Math.imul(mr,nr),vt=Math.imul(mr,or),vt=vt+Math.imul(gr,nr)|0,St=Math.imul(gr,or),bt=bt+Math.imul(tr,vr)|0,vt=vt+Math.imul(tr,br)|0,vt=vt+Math.imul(sr,vr)|0,St=St+Math.imul(sr,br)|0,bt=bt+Math.imul(Ft,yr)|0,vt=vt+Math.imul(Ft,Rr)|0,vt=vt+Math.imul(Lt,yr)|0,St=St+Math.imul(Lt,Rr)|0,bt=bt+Math.imul(dr,Mr)|0,vt=vt+Math.imul(dr,$r)|0,vt=vt+Math.imul(xr,Mr)|0,St=St+Math.imul(xr,$r)|0,bt=bt+Math.imul(lr,Ir)|0,vt=vt+Math.imul(lr,kr)|0,vt=vt+Math.imul(ur,Ir)|0,St=St+Math.imul(ur,kr)|0,bt=bt+Math.imul(Yt,Pr)|0,vt=vt+Math.imul(Yt,Nr)|0,vt=vt+Math.imul(rr,Pr)|0,St=St+Math.imul(rr,Nr)|0,bt=bt+Math.imul(Pt,Fr)|0,vt=vt+Math.imul(Pt,Or)|0,vt=vt+Math.imul(qt,Fr)|0,St=St+Math.imul(qt,Or)|0,bt=bt+Math.imul(lt,Cr)|0,vt=vt+Math.imul(lt,Br)|0,vt=vt+Math.imul(xt,Cr)|0,St=St+Math.imul(xt,Br)|0;var ln=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(ln>>>26)|0,ln&=67108863,bt=Math.imul(wr,nr),vt=Math.imul(wr,or),vt=vt+Math.imul(Vt,nr)|0,St=Math.imul(Vt,or),bt=bt+Math.imul(mr,vr)|0,vt=vt+Math.imul(mr,br)|0,vt=vt+Math.imul(gr,vr)|0,St=St+Math.imul(gr,br)|0,bt=bt+Math.imul(tr,yr)|0,vt=vt+Math.imul(tr,Rr)|0,vt=vt+Math.imul(sr,yr)|0,St=St+Math.imul(sr,Rr)|0,bt=bt+Math.imul(Ft,Mr)|0,vt=vt+Math.imul(Ft,$r)|0,vt=vt+Math.imul(Lt,Mr)|0,St=St+Math.imul(Lt,$r)|0,bt=bt+Math.imul(dr,Ir)|0,vt=vt+Math.imul(dr,kr)|0,vt=vt+Math.imul(xr,Ir)|0,St=St+Math.imul(xr,kr)|0,bt=bt+Math.imul(lr,Pr)|0,vt=vt+Math.imul(lr,Nr)|0,vt=vt+Math.imul(ur,Pr)|0,St=St+Math.imul(ur,Nr)|0,bt=bt+Math.imul(Yt,Fr)|0,vt=vt+Math.imul(Yt,Or)|0,vt=vt+Math.imul(rr,Fr)|0,St=St+Math.imul(rr,Or)|0,bt=bt+Math.imul(Pt,Cr)|0,vt=vt+Math.imul(Pt,Br)|0,vt=vt+Math.imul(qt,Cr)|0,St=St+Math.imul(qt,Br)|0,bt=bt+Math.imul(lt,Dr)|0,vt=vt+Math.imul(lt,Lr)|0,vt=vt+Math.imul(xt,Dr)|0,St=St+Math.imul(xt,Lr)|0;var $n=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+($n>>>26)|0,$n&=67108863,bt=Math.imul(Bt,nr),vt=Math.imul(Bt,or),vt=vt+Math.imul(Gt,nr)|0,St=Math.imul(Gt,or),bt=bt+Math.imul(wr,vr)|0,vt=vt+Math.imul(wr,br)|0,vt=vt+Math.imul(Vt,vr)|0,St=St+Math.imul(Vt,br)|0,bt=bt+Math.imul(mr,yr)|0,vt=vt+Math.imul(mr,Rr)|0,vt=vt+Math.imul(gr,yr)|0,St=St+Math.imul(gr,Rr)|0,bt=bt+Math.imul(tr,Mr)|0,vt=vt+Math.imul(tr,$r)|0,vt=vt+Math.imul(sr,Mr)|0,St=St+Math.imul(sr,$r)|0,bt=bt+Math.imul(Ft,Ir)|0,vt=vt+Math.imul(Ft,kr)|0,vt=vt+Math.imul(Lt,Ir)|0,St=St+Math.imul(Lt,kr)|0,bt=bt+Math.imul(dr,Pr)|0,vt=vt+Math.imul(dr,Nr)|0,vt=vt+Math.imul(xr,Pr)|0,St=St+Math.imul(xr,Nr)|0,bt=bt+Math.imul(lr,Fr)|0,vt=vt+Math.imul(lr,Or)|0,vt=vt+Math.imul(ur,Fr)|0,St=St+Math.imul(ur,Or)|0,bt=bt+Math.imul(Yt,Cr)|0,vt=vt+Math.imul(Yt,Br)|0,vt=vt+Math.imul(rr,Cr)|0,St=St+Math.imul(rr,Br)|0,bt=bt+Math.imul(Pt,Dr)|0,vt=vt+Math.imul(Pt,Lr)|0,vt=vt+Math.imul(qt,Dr)|0,St=St+Math.imul(qt,Lr)|0,bt=bt+Math.imul(lt,Ar)|0,vt=vt+Math.imul(lt,Tr)|0,vt=vt+Math.imul(xt,Ar)|0,St=St+Math.imul(xt,Tr)|0;var Pn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,bt=Math.imul(Bt,vr),vt=Math.imul(Bt,br),vt=vt+Math.imul(Gt,vr)|0,St=Math.imul(Gt,br),bt=bt+Math.imul(wr,yr)|0,vt=vt+Math.imul(wr,Rr)|0,vt=vt+Math.imul(Vt,yr)|0,St=St+Math.imul(Vt,Rr)|0,bt=bt+Math.imul(mr,Mr)|0,vt=vt+Math.imul(mr,$r)|0,vt=vt+Math.imul(gr,Mr)|0,St=St+Math.imul(gr,$r)|0,bt=bt+Math.imul(tr,Ir)|0,vt=vt+Math.imul(tr,kr)|0,vt=vt+Math.imul(sr,Ir)|0,St=St+Math.imul(sr,kr)|0,bt=bt+Math.imul(Ft,Pr)|0,vt=vt+Math.imul(Ft,Nr)|0,vt=vt+Math.imul(Lt,Pr)|0,St=St+Math.imul(Lt,Nr)|0,bt=bt+Math.imul(dr,Fr)|0,vt=vt+Math.imul(dr,Or)|0,vt=vt+Math.imul(xr,Fr)|0,St=St+Math.imul(xr,Or)|0,bt=bt+Math.imul(lr,Cr)|0,vt=vt+Math.imul(lr,Br)|0,vt=vt+Math.imul(ur,Cr)|0,St=St+Math.imul(ur,Br)|0,bt=bt+Math.imul(Yt,Dr)|0,vt=vt+Math.imul(Yt,Lr)|0,vt=vt+Math.imul(rr,Dr)|0,St=St+Math.imul(rr,Lr)|0,bt=bt+Math.imul(Pt,Ar)|0,vt=vt+Math.imul(Pt,Tr)|0,vt=vt+Math.imul(qt,Ar)|0,St=St+Math.imul(qt,Tr)|0;var vn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(vn>>>26)|0,vn&=67108863,bt=Math.imul(Bt,yr),vt=Math.imul(Bt,Rr),vt=vt+Math.imul(Gt,yr)|0,St=Math.imul(Gt,Rr),bt=bt+Math.imul(wr,Mr)|0,vt=vt+Math.imul(wr,$r)|0,vt=vt+Math.imul(Vt,Mr)|0,St=St+Math.imul(Vt,$r)|0,bt=bt+Math.imul(mr,Ir)|0,vt=vt+Math.imul(mr,kr)|0,vt=vt+Math.imul(gr,Ir)|0,St=St+Math.imul(gr,kr)|0,bt=bt+Math.imul(tr,Pr)|0,vt=vt+Math.imul(tr,Nr)|0,vt=vt+Math.imul(sr,Pr)|0,St=St+Math.imul(sr,Nr)|0,bt=bt+Math.imul(Ft,Fr)|0,vt=vt+Math.imul(Ft,Or)|0,vt=vt+Math.imul(Lt,Fr)|0,St=St+Math.imul(Lt,Or)|0,bt=bt+Math.imul(dr,Cr)|0,vt=vt+Math.imul(dr,Br)|0,vt=vt+Math.imul(xr,Cr)|0,St=St+Math.imul(xr,Br)|0,bt=bt+Math.imul(lr,Dr)|0,vt=vt+Math.imul(lr,Lr)|0,vt=vt+Math.imul(ur,Dr)|0,St=St+Math.imul(ur,Lr)|0,bt=bt+Math.imul(Yt,Ar)|0,vt=vt+Math.imul(Yt,Tr)|0,vt=vt+Math.imul(rr,Ar)|0,St=St+Math.imul(rr,Tr)|0;var kn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(kn>>>26)|0,kn&=67108863,bt=Math.imul(Bt,Mr),vt=Math.imul(Bt,$r),vt=vt+Math.imul(Gt,Mr)|0,St=Math.imul(Gt,$r),bt=bt+Math.imul(wr,Ir)|0,vt=vt+Math.imul(wr,kr)|0,vt=vt+Math.imul(Vt,Ir)|0,St=St+Math.imul(Vt,kr)|0,bt=bt+Math.imul(mr,Pr)|0,vt=vt+Math.imul(mr,Nr)|0,vt=vt+Math.imul(gr,Pr)|0,St=St+Math.imul(gr,Nr)|0,bt=bt+Math.imul(tr,Fr)|0,vt=vt+Math.imul(tr,Or)|0,vt=vt+Math.imul(sr,Fr)|0,St=St+Math.imul(sr,Or)|0,bt=bt+Math.imul(Ft,Cr)|0,vt=vt+Math.imul(Ft,Br)|0,vt=vt+Math.imul(Lt,Cr)|0,St=St+Math.imul(Lt,Br)|0,bt=bt+Math.imul(dr,Dr)|0,vt=vt+Math.imul(dr,Lr)|0,vt=vt+Math.imul(xr,Dr)|0,St=St+Math.imul(xr,Lr)|0,bt=bt+Math.imul(lr,Ar)|0,vt=vt+Math.imul(lr,Tr)|0,vt=vt+Math.imul(ur,Ar)|0,St=St+Math.imul(ur,Tr)|0;var Nn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,bt=Math.imul(Bt,Ir),vt=Math.imul(Bt,kr),vt=vt+Math.imul(Gt,Ir)|0,St=Math.imul(Gt,kr),bt=bt+Math.imul(wr,Pr)|0,vt=vt+Math.imul(wr,Nr)|0,vt=vt+Math.imul(Vt,Pr)|0,St=St+Math.imul(Vt,Nr)|0,bt=bt+Math.imul(mr,Fr)|0,vt=vt+Math.imul(mr,Or)|0,vt=vt+Math.imul(gr,Fr)|0,St=St+Math.imul(gr,Or)|0,bt=bt+Math.imul(tr,Cr)|0,vt=vt+Math.imul(tr,Br)|0,vt=vt+Math.imul(sr,Cr)|0,St=St+Math.imul(sr,Br)|0,bt=bt+Math.imul(Ft,Dr)|0,vt=vt+Math.imul(Ft,Lr)|0,vt=vt+Math.imul(Lt,Dr)|0,St=St+Math.imul(Lt,Lr)|0,bt=bt+Math.imul(dr,Ar)|0,vt=vt+Math.imul(dr,Tr)|0,vt=vt+Math.imul(xr,Ar)|0,St=St+Math.imul(xr,Tr)|0;var hn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(hn>>>26)|0,hn&=67108863,bt=Math.imul(Bt,Pr),vt=Math.imul(Bt,Nr),vt=vt+Math.imul(Gt,Pr)|0,St=Math.imul(Gt,Nr),bt=bt+Math.imul(wr,Fr)|0,vt=vt+Math.imul(wr,Or)|0,vt=vt+Math.imul(Vt,Fr)|0,St=St+Math.imul(Vt,Or)|0,bt=bt+Math.imul(mr,Cr)|0,vt=vt+Math.imul(mr,Br)|0,vt=vt+Math.imul(gr,Cr)|0,St=St+Math.imul(gr,Br)|0,bt=bt+Math.imul(tr,Dr)|0,vt=vt+Math.imul(tr,Lr)|0,vt=vt+Math.imul(sr,Dr)|0,St=St+Math.imul(sr,Lr)|0,bt=bt+Math.imul(Ft,Ar)|0,vt=vt+Math.imul(Ft,Tr)|0,vt=vt+Math.imul(Lt,Ar)|0,St=St+Math.imul(Lt,Tr)|0;var Bn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,bt=Math.imul(Bt,Fr),vt=Math.imul(Bt,Or),vt=vt+Math.imul(Gt,Fr)|0,St=Math.imul(Gt,Or),bt=bt+Math.imul(wr,Cr)|0,vt=vt+Math.imul(wr,Br)|0,vt=vt+Math.imul(Vt,Cr)|0,St=St+Math.imul(Vt,Br)|0,bt=bt+Math.imul(mr,Dr)|0,vt=vt+Math.imul(mr,Lr)|0,vt=vt+Math.imul(gr,Dr)|0,St=St+Math.imul(gr,Lr)|0,bt=bt+Math.imul(tr,Ar)|0,vt=vt+Math.imul(tr,Tr)|0,vt=vt+Math.imul(sr,Ar)|0,St=St+Math.imul(sr,Tr)|0;var yn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(yn>>>26)|0,yn&=67108863,bt=Math.imul(Bt,Cr),vt=Math.imul(Bt,Br),vt=vt+Math.imul(Gt,Cr)|0,St=Math.imul(Gt,Br),bt=bt+Math.imul(wr,Dr)|0,vt=vt+Math.imul(wr,Lr)|0,vt=vt+Math.imul(Vt,Dr)|0,St=St+Math.imul(Vt,Lr)|0,bt=bt+Math.imul(mr,Ar)|0,vt=vt+Math.imul(mr,Tr)|0,vt=vt+Math.imul(gr,Ar)|0,St=St+Math.imul(gr,Tr)|0;var Cn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,bt=Math.imul(Bt,Dr),vt=Math.imul(Bt,Lr),vt=vt+Math.imul(Gt,Dr)|0,St=Math.imul(Gt,Lr),bt=bt+Math.imul(wr,Ar)|0,vt=vt+Math.imul(wr,Tr)|0,vt=vt+Math.imul(Vt,Ar)|0,St=St+Math.imul(Vt,Tr)|0;var Dn=(wt+bt|0)+((vt&8191)<<13)|0;wt=(St+(vt>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,bt=Math.imul(Bt,Ar),vt=Math.imul(Bt,Tr),vt=vt+Math.imul(Gt,Ar)|0,St=Math.imul(Gt,Tr);var Fn=(wt+bt|0)+((vt&8191)<<13)|0;return wt=(St+(vt>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,mt[0]=pn,mt[1]=jr,mt[2]=Hr,mt[3]=mn,mt[4]=sn,mt[5]=cn,mt[6]=fn,mt[7]=ln,mt[8]=$n,mt[9]=Pn,mt[10]=vn,mt[11]=kn,mt[12]=Nn,mt[13]=hn,mt[14]=Bn,mt[15]=yn,mt[16]=Cn,mt[17]=Dn,mt[18]=Fn,wt!==0&&(mt[19]=wt,ht.length++),ht};Math.imul||($t=Et);function It(jt,Ct,Nt){Nt.negative=Ct.negative^jt.negative,Nt.length=jt.length+Ct.length;for(var ht=0,ot=0,dt=0;dt<Nt.length-1;dt++){var mt=ot;ot=0;for(var wt=ht&67108863,bt=Math.min(dt,Ct.length-1),vt=Math.max(0,dt-jt.length+1);vt<=bt;vt++){var St=dt-vt,yt=jt.words[St]|0,lt=Ct.words[vt]|0,xt=yt*lt,Ut=xt&67108863;mt=mt+(xt/67108864|0)|0,Ut=Ut+wt|0,wt=Ut&67108863,mt=mt+(Ut>>>26)|0,ot+=mt>>>26,mt&=67108863}Nt.words[dt]=wt,ht=mt,mt=ot}return ht!==0?Nt.words[dt]=ht:Nt.length--,Nt.strip()}function Tt(jt,Ct,Nt){var ht=new At;return ht.mulp(jt,Ct,Nt)}it.prototype.mulTo=function(Ct,Nt){var ht,ot=this.length+Ct.length;return this.length===10&&Ct.length===10?ht=$t(this,Ct,Nt):ot<63?ht=Et(this,Ct,Nt):ot<1024?ht=It(this,Ct,Nt):ht=Tt(this,Ct,Nt),ht};function At(jt,Ct){this.x=jt,this.y=Ct}At.prototype.makeRBT=function(Ct){for(var Nt=new Array(Ct),ht=it.prototype._countBits(Ct)-1,ot=0;ot<Ct;ot++)Nt[ot]=this.revBin(ot,ht,Ct);return Nt},At.prototype.revBin=function(Ct,Nt,ht){if(Ct===0||Ct===ht-1)return Ct;for(var ot=0,dt=0;dt<Nt;dt++)ot|=(Ct&1)<<Nt-dt-1,Ct>>=1;return ot},At.prototype.permute=function(Ct,Nt,ht,ot,dt,mt){for(var wt=0;wt<mt;wt++)ot[wt]=Nt[Ct[wt]],dt[wt]=ht[Ct[wt]]},At.prototype.transform=function(Ct,Nt,ht,ot,dt,mt){this.permute(mt,Ct,Nt,ht,ot,dt);for(var wt=1;wt<dt;wt<<=1)for(var bt=wt<<1,vt=Math.cos(2*Math.PI/bt),St=Math.sin(2*Math.PI/bt),yt=0;yt<dt;yt+=bt)for(var lt=vt,xt=St,Ut=0;Ut<wt;Ut++){var Pt=ht[yt+Ut],qt=ot[yt+Ut],ir=ht[yt+Ut+wt],Yt=ot[yt+Ut+wt],rr=lt*ir-xt*Yt;Yt=lt*Yt+xt*ir,ir=rr,ht[yt+Ut]=Pt+ir,ot[yt+Ut]=qt+Yt,ht[yt+Ut+wt]=Pt-ir,ot[yt+Ut+wt]=qt-Yt,Ut!==bt&&(rr=vt*lt-St*xt,xt=vt*xt+St*lt,lt=rr)}},At.prototype.guessLen13b=function(Ct,Nt){var ht=Math.max(Nt,Ct)|1,ot=ht&1,dt=0;for(ht=ht/2|0;ht;ht=ht>>>1)dt++;return 1<<dt+1+ot},At.prototype.conjugate=function(Ct,Nt,ht){if(!(ht<=1))for(var ot=0;ot<ht/2;ot++){var dt=Ct[ot];Ct[ot]=Ct[ht-ot-1],Ct[ht-ot-1]=dt,dt=Nt[ot],Nt[ot]=-Nt[ht-ot-1],Nt[ht-ot-1]=-dt}},At.prototype.normalize13b=function(Ct,Nt){for(var ht=0,ot=0;ot<Nt/2;ot++){var dt=Math.round(Ct[2*ot+1]/Nt)*8192+Math.round(Ct[2*ot]/Nt)+ht;Ct[ot]=dt&67108863,dt<67108864?ht=0:ht=dt/67108864|0}return Ct},At.prototype.convert13b=function(Ct,Nt,ht,ot){for(var dt=0,mt=0;mt<Nt;mt++)dt=dt+(Ct[mt]|0),ht[2*mt]=dt&8191,dt=dt>>>13,ht[2*mt+1]=dt&8191,dt=dt>>>13;for(mt=2*Nt;mt<ot;++mt)ht[mt]=0;rt(dt===0),rt((dt&-8192)===0)},At.prototype.stub=function(Ct){for(var Nt=new Array(Ct),ht=0;ht<Ct;ht++)Nt[ht]=0;return Nt},At.prototype.mulp=function(Ct,Nt,ht){var ot=2*this.guessLen13b(Ct.length,Nt.length),dt=this.makeRBT(ot),mt=this.stub(ot),wt=new Array(ot),bt=new Array(ot),vt=new Array(ot),St=new Array(ot),yt=new Array(ot),lt=new Array(ot),xt=ht.words;xt.length=ot,this.convert13b(Ct.words,Ct.length,wt,ot),this.convert13b(Nt.words,Nt.length,St,ot),this.transform(wt,mt,bt,vt,ot,dt),this.transform(St,mt,yt,lt,ot,dt);for(var Ut=0;Ut<ot;Ut++){var Pt=bt[Ut]*yt[Ut]-vt[Ut]*lt[Ut];vt[Ut]=bt[Ut]*lt[Ut]+vt[Ut]*yt[Ut],bt[Ut]=Pt}return this.conjugate(bt,vt,ot),this.transform(bt,vt,xt,mt,ot,dt),this.conjugate(xt,mt,ot),this.normalize13b(xt,ot),ht.negative=Ct.negative^Nt.negative,ht.length=Ct.length+Nt.length,ht.strip()},it.prototype.mul=function(Ct){var Nt=new it(null);return Nt.words=new Array(this.length+Ct.length),this.mulTo(Ct,Nt)},it.prototype.mulf=function(Ct){var Nt=new it(null);return Nt.words=new Array(this.length+Ct.length),Tt(this,Ct,Nt)},it.prototype.imul=function(Ct){return this.clone().mulTo(Ct,this)},it.prototype.imuln=function(Ct){rt(typeof Ct=="number"),rt(Ct<67108864);for(var Nt=0,ht=0;ht<this.length;ht++){var ot=(this.words[ht]|0)*Ct,dt=(ot&67108863)+(Nt&67108863);Nt>>=26,Nt+=ot/67108864|0,Nt+=dt>>>26,this.words[ht]=dt&67108863}return Nt!==0&&(this.words[ht]=Nt,this.length++),this},it.prototype.muln=function(Ct){return this.clone().imuln(Ct)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(Ct){var Nt=_t(Ct);if(Nt.length===0)return new it(1);for(var ht=this,ot=0;ot<Nt.length&&Nt[ot]===0;ot++,ht=ht.sqr());if(++ot<Nt.length)for(var dt=ht.sqr();ot<Nt.length;ot++,dt=dt.sqr())Nt[ot]!==0&&(ht=ht.mul(dt));return ht},it.prototype.iushln=function(Ct){rt(typeof Ct=="number"&&Ct>=0);var Nt=Ct%26,ht=(Ct-Nt)/26,ot=67108863>>>26-Nt<<26-Nt,dt;if(Nt!==0){var mt=0;for(dt=0;dt<this.length;dt++){var wt=this.words[dt]&ot,bt=(this.words[dt]|0)-wt<<Nt;this.words[dt]=bt|mt,mt=wt>>>26-Nt}mt&&(this.words[dt]=mt,this.length++)}if(ht!==0){for(dt=this.length-1;dt>=0;dt--)this.words[dt+ht]=this.words[dt];for(dt=0;dt<ht;dt++)this.words[dt]=0;this.length+=ht}return this.strip()},it.prototype.ishln=function(Ct){return rt(this.negative===0),this.iushln(Ct)},it.prototype.iushrn=function(Ct,Nt,ht){rt(typeof Ct=="number"&&Ct>=0);var ot;Nt?ot=(Nt-Nt%26)/26:ot=0;var dt=Ct%26,mt=Math.min((Ct-dt)/26,this.length),wt=67108863^67108863>>>dt<<dt,bt=ht;if(ot-=mt,ot=Math.max(0,ot),bt){for(var vt=0;vt<mt;vt++)bt.words[vt]=this.words[vt];bt.length=mt}if(mt!==0)if(this.length>mt)for(this.length-=mt,vt=0;vt<this.length;vt++)this.words[vt]=this.words[vt+mt];else this.words[0]=0,this.length=1;var St=0;for(vt=this.length-1;vt>=0&&(St!==0||vt>=ot);vt--){var yt=this.words[vt]|0;this.words[vt]=St<<26-dt|yt>>>dt,St=yt&wt}return bt&&St!==0&&(bt.words[bt.length++]=St),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},it.prototype.ishrn=function(Ct,Nt,ht){return rt(this.negative===0),this.iushrn(Ct,Nt,ht)},it.prototype.shln=function(Ct){return this.clone().ishln(Ct)},it.prototype.ushln=function(Ct){return this.clone().iushln(Ct)},it.prototype.shrn=function(Ct){return this.clone().ishrn(Ct)},it.prototype.ushrn=function(Ct){return this.clone().iushrn(Ct)},it.prototype.testn=function(Ct){rt(typeof Ct=="number"&&Ct>=0);var Nt=Ct%26,ht=(Ct-Nt)/26,ot=1<<Nt;if(this.length<=ht)return!1;var dt=this.words[ht];return!!(dt&ot)},it.prototype.imaskn=function(Ct){rt(typeof Ct=="number"&&Ct>=0);var Nt=Ct%26,ht=(Ct-Nt)/26;if(rt(this.negative===0,"imaskn works only with positive numbers"),this.length<=ht)return this;if(Nt!==0&&ht++,this.length=Math.min(ht,this.length),Nt!==0){var ot=67108863^67108863>>>Nt<<Nt;this.words[this.length-1]&=ot}return this.strip()},it.prototype.maskn=function(Ct){return this.clone().imaskn(Ct)},it.prototype.iaddn=function(Ct){return rt(typeof Ct=="number"),rt(Ct<67108864),Ct<0?this.isubn(-Ct):this.negative!==0?this.length===1&&(this.words[0]|0)<Ct?(this.words[0]=Ct-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Ct),this.negative=1,this):this._iaddn(Ct)},it.prototype._iaddn=function(Ct){this.words[0]+=Ct;for(var Nt=0;Nt<this.length&&this.words[Nt]>=67108864;Nt++)this.words[Nt]-=67108864,Nt===this.length-1?this.words[Nt+1]=1:this.words[Nt+1]++;return this.length=Math.max(this.length,Nt+1),this},it.prototype.isubn=function(Ct){if(rt(typeof Ct=="number"),rt(Ct<67108864),Ct<0)return this.iaddn(-Ct);if(this.negative!==0)return this.negative=0,this.iaddn(Ct),this.negative=1,this;if(this.words[0]-=Ct,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Nt=0;Nt<this.length&&this.words[Nt]<0;Nt++)this.words[Nt]+=67108864,this.words[Nt+1]-=1;return this.strip()},it.prototype.addn=function(Ct){return this.clone().iaddn(Ct)},it.prototype.subn=function(Ct){return this.clone().isubn(Ct)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(Ct,Nt,ht){var ot=Ct.length+ht,dt;this._expand(ot);var mt,wt=0;for(dt=0;dt<Ct.length;dt++){mt=(this.words[dt+ht]|0)+wt;var bt=(Ct.words[dt]|0)*Nt;mt-=bt&67108863,wt=(mt>>26)-(bt/67108864|0),this.words[dt+ht]=mt&67108863}for(;dt<this.length-ht;dt++)mt=(this.words[dt+ht]|0)+wt,wt=mt>>26,this.words[dt+ht]=mt&67108863;if(wt===0)return this.strip();for(rt(wt===-1),wt=0,dt=0;dt<this.length;dt++)mt=-(this.words[dt]|0)+wt,wt=mt>>26,this.words[dt]=mt&67108863;return this.negative=1,this.strip()},it.prototype._wordDiv=function(Ct,Nt){var ht=this.length-Ct.length,ot=this.clone(),dt=Ct,mt=dt.words[dt.length-1]|0,wt=this._countBits(mt);ht=26-wt,ht!==0&&(dt=dt.ushln(ht),ot.iushln(ht),mt=dt.words[dt.length-1]|0);var bt=ot.length-dt.length,vt;if(Nt!=="mod"){vt=new it(null),vt.length=bt+1,vt.words=new Array(vt.length);for(var St=0;St<vt.length;St++)vt.words[St]=0}var yt=ot.clone()._ishlnsubmul(dt,1,bt);yt.negative===0&&(ot=yt,vt&&(vt.words[bt]=1));for(var lt=bt-1;lt>=0;lt--){var xt=(ot.words[dt.length+lt]|0)*67108864+(ot.words[dt.length+lt-1]|0);for(xt=Math.min(xt/mt|0,67108863),ot._ishlnsubmul(dt,xt,lt);ot.negative!==0;)xt--,ot.negative=0,ot._ishlnsubmul(dt,1,lt),ot.isZero()||(ot.negative^=1);vt&&(vt.words[lt]=xt)}return vt&&vt.strip(),ot.strip(),Nt!=="div"&&ht!==0&&ot.iushrn(ht),{div:vt||null,mod:ot}},it.prototype.divmod=function(Ct,Nt,ht){if(rt(!Ct.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var ot,dt,mt;return this.negative!==0&&Ct.negative===0?(mt=this.neg().divmod(Ct,Nt),Nt!=="mod"&&(ot=mt.div.neg()),Nt!=="div"&&(dt=mt.mod.neg(),ht&&dt.negative!==0&&dt.iadd(Ct)),{div:ot,mod:dt}):this.negative===0&&Ct.negative!==0?(mt=this.divmod(Ct.neg(),Nt),Nt!=="mod"&&(ot=mt.div.neg()),{div:ot,mod:mt.mod}):(this.negative&Ct.negative)!==0?(mt=this.neg().divmod(Ct.neg(),Nt),Nt!=="div"&&(dt=mt.mod.neg(),ht&&dt.negative!==0&&dt.isub(Ct)),{div:mt.div,mod:dt}):Ct.length>this.length||this.cmp(Ct)<0?{div:new it(0),mod:this}:Ct.length===1?Nt==="div"?{div:this.divn(Ct.words[0]),mod:null}:Nt==="mod"?{div:null,mod:new it(this.modn(Ct.words[0]))}:{div:this.divn(Ct.words[0]),mod:new it(this.modn(Ct.words[0]))}:this._wordDiv(Ct,Nt)},it.prototype.div=function(Ct){return this.divmod(Ct,"div",!1).div},it.prototype.mod=function(Ct){return this.divmod(Ct,"mod",!1).mod},it.prototype.umod=function(Ct){return this.divmod(Ct,"mod",!0).mod},it.prototype.divRound=function(Ct){var Nt=this.divmod(Ct);if(Nt.mod.isZero())return Nt.div;var ht=Nt.div.negative!==0?Nt.mod.isub(Ct):Nt.mod,ot=Ct.ushrn(1),dt=Ct.andln(1),mt=ht.cmp(ot);return mt<0||dt===1&&mt===0?Nt.div:Nt.div.negative!==0?Nt.div.isubn(1):Nt.div.iaddn(1)},it.prototype.modn=function(Ct){rt(Ct<=67108863);for(var Nt=(1<<26)%Ct,ht=0,ot=this.length-1;ot>=0;ot--)ht=(Nt*ht+(this.words[ot]|0))%Ct;return ht},it.prototype.idivn=function(Ct){rt(Ct<=67108863);for(var Nt=0,ht=this.length-1;ht>=0;ht--){var ot=(this.words[ht]|0)+Nt*67108864;this.words[ht]=ot/Ct|0,Nt=ot%Ct}return this.strip()},it.prototype.divn=function(Ct){return this.clone().idivn(Ct)},it.prototype.egcd=function(Ct){rt(Ct.negative===0),rt(!Ct.isZero());var Nt=this,ht=Ct.clone();Nt.negative!==0?Nt=Nt.umod(Ct):Nt=Nt.clone();for(var ot=new it(1),dt=new it(0),mt=new it(0),wt=new it(1),bt=0;Nt.isEven()&&ht.isEven();)Nt.iushrn(1),ht.iushrn(1),++bt;for(var vt=ht.clone(),St=Nt.clone();!Nt.isZero();){for(var yt=0,lt=1;(Nt.words[0]&lt)===0&&yt<26;++yt,lt<<=1);if(yt>0)for(Nt.iushrn(yt);yt-- >0;)(ot.isOdd()||dt.isOdd())&&(ot.iadd(vt),dt.isub(St)),ot.iushrn(1),dt.iushrn(1);for(var xt=0,Ut=1;(ht.words[0]&Ut)===0&&xt<26;++xt,Ut<<=1);if(xt>0)for(ht.iushrn(xt);xt-- >0;)(mt.isOdd()||wt.isOdd())&&(mt.iadd(vt),wt.isub(St)),mt.iushrn(1),wt.iushrn(1);Nt.cmp(ht)>=0?(Nt.isub(ht),ot.isub(mt),dt.isub(wt)):(ht.isub(Nt),mt.isub(ot),wt.isub(dt))}return{a:mt,b:wt,gcd:ht.iushln(bt)}},it.prototype._invmp=function(Ct){rt(Ct.negative===0),rt(!Ct.isZero());var Nt=this,ht=Ct.clone();Nt.negative!==0?Nt=Nt.umod(Ct):Nt=Nt.clone();for(var ot=new it(1),dt=new it(0),mt=ht.clone();Nt.cmpn(1)>0&&ht.cmpn(1)>0;){for(var wt=0,bt=1;(Nt.words[0]&bt)===0&&wt<26;++wt,bt<<=1);if(wt>0)for(Nt.iushrn(wt);wt-- >0;)ot.isOdd()&&ot.iadd(mt),ot.iushrn(1);for(var vt=0,St=1;(ht.words[0]&St)===0&&vt<26;++vt,St<<=1);if(vt>0)for(ht.iushrn(vt);vt-- >0;)dt.isOdd()&&dt.iadd(mt),dt.iushrn(1);Nt.cmp(ht)>=0?(Nt.isub(ht),ot.isub(dt)):(ht.isub(Nt),dt.isub(ot))}var yt;return Nt.cmpn(1)===0?yt=ot:yt=dt,yt.cmpn(0)<0&&yt.iadd(Ct),yt},it.prototype.gcd=function(Ct){if(this.isZero())return Ct.abs();if(Ct.isZero())return this.abs();var Nt=this.clone(),ht=Ct.clone();Nt.negative=0,ht.negative=0;for(var ot=0;Nt.isEven()&&ht.isEven();ot++)Nt.iushrn(1),ht.iushrn(1);do{for(;Nt.isEven();)Nt.iushrn(1);for(;ht.isEven();)ht.iushrn(1);var dt=Nt.cmp(ht);if(dt<0){var mt=Nt;Nt=ht,ht=mt}else if(dt===0||ht.cmpn(1)===0)break;Nt.isub(ht)}while(!0);return ht.iushln(ot)},it.prototype.invm=function(Ct){return this.egcd(Ct).a.umod(Ct)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(Ct){return this.words[0]&Ct},it.prototype.bincn=function(Ct){rt(typeof Ct=="number");var Nt=Ct%26,ht=(Ct-Nt)/26,ot=1<<Nt;if(this.length<=ht)return this._expand(ht+1),this.words[ht]|=ot,this;for(var dt=ot,mt=ht;dt!==0&&mt<this.length;mt++){var wt=this.words[mt]|0;wt+=dt,dt=wt>>>26,wt&=67108863,this.words[mt]=wt}return dt!==0&&(this.words[mt]=dt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(Ct){var Nt=Ct<0;if(this.negative!==0&&!Nt)return-1;if(this.negative===0&&Nt)return 1;this.strip();var ht;if(this.length>1)ht=1;else{Nt&&(Ct=-Ct),rt(Ct<=67108863,"Number is too big");var ot=this.words[0]|0;ht=ot===Ct?0:ot<Ct?-1:1}return this.negative!==0?-ht|0:ht},it.prototype.cmp=function(Ct){if(this.negative!==0&&Ct.negative===0)return-1;if(this.negative===0&&Ct.negative!==0)return 1;var Nt=this.ucmp(Ct);return this.negative!==0?-Nt|0:Nt},it.prototype.ucmp=function(Ct){if(this.length>Ct.length)return 1;if(this.length<Ct.length)return-1;for(var Nt=0,ht=this.length-1;ht>=0;ht--){var ot=this.words[ht]|0,dt=Ct.words[ht]|0;if(ot!==dt){ot<dt?Nt=-1:ot>dt&&(Nt=1);break}}return Nt},it.prototype.gtn=function(Ct){return this.cmpn(Ct)===1},it.prototype.gt=function(Ct){return this.cmp(Ct)===1},it.prototype.gten=function(Ct){return this.cmpn(Ct)>=0},it.prototype.gte=function(Ct){return this.cmp(Ct)>=0},it.prototype.ltn=function(Ct){return this.cmpn(Ct)===-1},it.prototype.lt=function(Ct){return this.cmp(Ct)===-1},it.prototype.lten=function(Ct){return this.cmpn(Ct)<=0},it.prototype.lte=function(Ct){return this.cmp(Ct)<=0},it.prototype.eqn=function(Ct){return this.cmpn(Ct)===0},it.prototype.eq=function(Ct){return this.cmp(Ct)===0},it.red=function(Ct){return new Jt(Ct)},it.prototype.toRed=function(Ct){return rt(!this.red,"Already a number in reduction context"),rt(this.negative===0,"red works only with positives"),Ct.convertTo(this)._forceRed(Ct)},it.prototype.fromRed=function(){return rt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(Ct){return this.red=Ct,this},it.prototype.forceRed=function(Ct){return rt(!this.red,"Already a number in reduction context"),this._forceRed(Ct)},it.prototype.redAdd=function(Ct){return rt(this.red,"redAdd works only with red numbers"),this.red.add(this,Ct)},it.prototype.redIAdd=function(Ct){return rt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Ct)},it.prototype.redSub=function(Ct){return rt(this.red,"redSub works only with red numbers"),this.red.sub(this,Ct)},it.prototype.redISub=function(Ct){return rt(this.red,"redISub works only with red numbers"),this.red.isub(this,Ct)},it.prototype.redShl=function(Ct){return rt(this.red,"redShl works only with red numbers"),this.red.shl(this,Ct)},it.prototype.redMul=function(Ct){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ct),this.red.mul(this,Ct)},it.prototype.redIMul=function(Ct){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ct),this.red.imul(this,Ct)},it.prototype.redSqr=function(){return rt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return rt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return rt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return rt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return rt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(Ct){return rt(this.red&&!Ct.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Ct)};var Rt={k256:null,p224:null,p192:null,p25519:null};function kt(jt,Ct){this.name=jt,this.p=new it(Ct,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}kt.prototype._tmp=function(){var Ct=new it(null);return Ct.words=new Array(Math.ceil(this.n/13)),Ct},kt.prototype.ireduce=function(Ct){var Nt=Ct,ht;do this.split(Nt,this.tmp),Nt=this.imulK(Nt),Nt=Nt.iadd(this.tmp),ht=Nt.bitLength();while(ht>this.n);var ot=ht<this.n?-1:Nt.ucmp(this.p);return ot===0?(Nt.words[0]=0,Nt.length=1):ot>0?Nt.isub(this.p):Nt.strip(),Nt},kt.prototype.split=function(Ct,Nt){Ct.iushrn(this.n,0,Nt)},kt.prototype.imulK=function(Ct){return Ct.imul(this.k)};function Ot(){kt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}nt(Ot,kt),Ot.prototype.split=function(Ct,Nt){for(var ht=4194303,ot=Math.min(Ct.length,9),dt=0;dt<ot;dt++)Nt.words[dt]=Ct.words[dt];if(Nt.length=ot,Ct.length<=9){Ct.words[0]=0,Ct.length=1;return}var mt=Ct.words[9];for(Nt.words[Nt.length++]=mt&ht,dt=10;dt<Ct.length;dt++){var wt=Ct.words[dt]|0;Ct.words[dt-10]=(wt&ht)<<4|mt>>>22,mt=wt}mt>>>=22,Ct.words[dt-10]=mt,mt===0&&Ct.length>10?Ct.length-=10:Ct.length-=9},Ot.prototype.imulK=function(Ct){Ct.words[Ct.length]=0,Ct.words[Ct.length+1]=0,Ct.length+=2;for(var Nt=0,ht=0;ht<Ct.length;ht++){var ot=Ct.words[ht]|0;Nt+=ot*977,Ct.words[ht]=Nt&67108863,Nt=ot*64+(Nt/67108864|0)}return Ct.words[Ct.length-1]===0&&(Ct.length--,Ct.words[Ct.length-1]===0&&Ct.length--),Ct};function Wt(){kt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}nt(Wt,kt);function zt(){kt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}nt(zt,kt);function Kt(){kt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}nt(Kt,kt),Kt.prototype.imulK=function(Ct){for(var Nt=0,ht=0;ht<Ct.length;ht++){var ot=(Ct.words[ht]|0)*19+Nt,dt=ot&67108863;ot>>>=26,Ct.words[ht]=dt,Nt=ot}return Nt!==0&&(Ct.words[Ct.length++]=Nt),Ct},it._prime=function(Ct){if(Rt[Ct])return Rt[Ct];var Nt;if(Ct==="k256")Nt=new Ot;else if(Ct==="p224")Nt=new Wt;else if(Ct==="p192")Nt=new zt;else if(Ct==="p25519")Nt=new Kt;else throw new Error("Unknown prime "+Ct);return Rt[Ct]=Nt,Nt};function Jt(jt){if(typeof jt=="string"){var Ct=it._prime(jt);this.m=Ct.p,this.prime=Ct}else rt(jt.gtn(1),"modulus must be greater than 1"),this.m=jt,this.prime=null}Jt.prototype._verify1=function(Ct){rt(Ct.negative===0,"red works only with positives"),rt(Ct.red,"red works only with red numbers")},Jt.prototype._verify2=function(Ct,Nt){rt((Ct.negative|Nt.negative)===0,"red works only with positives"),rt(Ct.red&&Ct.red===Nt.red,"red works only with red numbers")},Jt.prototype.imod=function(Ct){return this.prime?this.prime.ireduce(Ct)._forceRed(this):Ct.umod(this.m)._forceRed(this)},Jt.prototype.neg=function(Ct){return Ct.isZero()?Ct.clone():this.m.sub(Ct)._forceRed(this)},Jt.prototype.add=function(Ct,Nt){this._verify2(Ct,Nt);var ht=Ct.add(Nt);return ht.cmp(this.m)>=0&&ht.isub(this.m),ht._forceRed(this)},Jt.prototype.iadd=function(Ct,Nt){this._verify2(Ct,Nt);var ht=Ct.iadd(Nt);return ht.cmp(this.m)>=0&&ht.isub(this.m),ht},Jt.prototype.sub=function(Ct,Nt){this._verify2(Ct,Nt);var ht=Ct.sub(Nt);return ht.cmpn(0)<0&&ht.iadd(this.m),ht._forceRed(this)},Jt.prototype.isub=function(Ct,Nt){this._verify2(Ct,Nt);var ht=Ct.isub(Nt);return ht.cmpn(0)<0&&ht.iadd(this.m),ht},Jt.prototype.shl=function(Ct,Nt){return this._verify1(Ct),this.imod(Ct.ushln(Nt))},Jt.prototype.imul=function(Ct,Nt){return this._verify2(Ct,Nt),this.imod(Ct.imul(Nt))},Jt.prototype.mul=function(Ct,Nt){return this._verify2(Ct,Nt),this.imod(Ct.mul(Nt))},Jt.prototype.isqr=function(Ct){return this.imul(Ct,Ct.clone())},Jt.prototype.sqr=function(Ct){return this.mul(Ct,Ct)},Jt.prototype.sqrt=function(Ct){if(Ct.isZero())return Ct.clone();var Nt=this.m.andln(3);if(rt(Nt%2===1),Nt===3){var ht=this.m.add(new it(1)).iushrn(2);return this.pow(Ct,ht)}for(var ot=this.m.subn(1),dt=0;!ot.isZero()&&ot.andln(1)===0;)dt++,ot.iushrn(1);rt(!ot.isZero());var mt=new it(1).toRed(this),wt=mt.redNeg(),bt=this.m.subn(1).iushrn(1),vt=this.m.bitLength();for(vt=new it(2*vt*vt).toRed(this);this.pow(vt,bt).cmp(wt)!==0;)vt.redIAdd(wt);for(var St=this.pow(vt,ot),yt=this.pow(Ct,ot.addn(1).iushrn(1)),lt=this.pow(Ct,ot),xt=dt;lt.cmp(mt)!==0;){for(var Ut=lt,Pt=0;Ut.cmp(mt)!==0;Pt++)Ut=Ut.redSqr();rt(Pt<xt);var qt=this.pow(St,new it(1).iushln(xt-Pt-1));yt=yt.redMul(qt),St=qt.redSqr(),lt=lt.redMul(St),xt=Pt}return yt},Jt.prototype.invm=function(Ct){var Nt=Ct._invmp(this.m);return Nt.negative!==0?(Nt.negative=0,this.imod(Nt).redNeg()):this.imod(Nt)},Jt.prototype.pow=function(Ct,Nt){if(Nt.isZero())return new it(1).toRed(this);if(Nt.cmpn(1)===0)return Ct.clone();var ht=4,ot=new Array(1<<ht);ot[0]=new it(1).toRed(this),ot[1]=Ct;for(var dt=2;dt<ot.length;dt++)ot[dt]=this.mul(ot[dt-1],Ct);var mt=ot[0],wt=0,bt=0,vt=Nt.bitLength()%26;for(vt===0&&(vt=26),dt=Nt.length-1;dt>=0;dt--){for(var St=Nt.words[dt],yt=vt-1;yt>=0;yt--){var lt=St>>yt&1;if(mt!==ot[0]&&(mt=this.sqr(mt)),lt===0&&wt===0){bt=0;continue}wt<<=1,wt|=lt,bt++,!(bt!==ht&&(dt!==0||yt!==0))&&(mt=this.mul(mt,ot[wt]),bt=0,wt=0)}vt=26}return mt},Jt.prototype.convertTo=function(Ct){var Nt=Ct.umod(this.m);return Nt===Ct?Nt.clone():Nt},Jt.prototype.convertFrom=function(Ct){var Nt=Ct.clone();return Nt.red=null,Nt},it.mont=function(Ct){return new ar(Ct)};function ar(jt){Jt.call(this,jt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}nt(ar,Jt),ar.prototype.convertTo=function(Ct){return this.imod(Ct.ushln(this.shift))},ar.prototype.convertFrom=function(Ct){var Nt=this.imod(Ct.mul(this.rinv));return Nt.red=null,Nt},ar.prototype.imul=function(Ct,Nt){if(Ct.isZero()||Nt.isZero())return Ct.words[0]=0,Ct.length=1,Ct;var ht=Ct.imul(Nt),ot=ht.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),dt=ht.isub(ot).iushrn(this.shift),mt=dt;return dt.cmp(this.m)>=0?mt=dt.isub(this.m):dt.cmpn(0)<0&&(mt=dt.iadd(this.m)),mt._forceRed(this)},ar.prototype.mul=function(Ct,Nt){if(Ct.isZero()||Nt.isZero())return new it(0)._forceRed(this);var ht=Ct.mul(Nt),ot=ht.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),dt=ht.isub(ot).iushrn(this.shift),mt=dt;return dt.cmp(this.m)>=0?mt=dt.isub(this.m):dt.cmpn(0)<0&&(mt=dt.iadd(this.m)),mt._forceRed(this)},ar.prototype.invm=function(Ct){var Nt=this.imod(Ct._invmp(this.m).mul(this.r2));return Nt._forceRed(this)}})(et,commonjsGlobal)})(bn);var BN=bn.exports,isTypedarray=isTypedArray$1;isTypedArray$1.strict=isStrictTypedArray;isTypedArray$1.loose=isLooseTypedArray;var toString$1=Object.prototype.toString,names={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function isTypedArray$1(et){return isStrictTypedArray(et)||isLooseTypedArray(et)}function isStrictTypedArray(et){return et instanceof Int8Array||et instanceof Int16Array||et instanceof Int32Array||et instanceof Uint8Array||et instanceof Uint8ClampedArray||et instanceof Uint16Array||et instanceof Uint32Array||et instanceof Float32Array||et instanceof Float64Array}function isLooseTypedArray(et){return names[toString$1.call(et)]}var isTypedArray=isTypedarray.strict,typedarrayToBuffer=function et(_e){if(isTypedArray(_e)){var tt=Buffer.from(_e.buffer);return _e.byteLength!==_e.buffer.byteLength&&(tt=tt.slice(_e.byteOffset,_e.byteOffset+_e.byteLength)),tt}else return Buffer.from(_e)};const ENC_HEX="hex",ENC_UTF8="utf8",STRING_ZERO="0";function bufferToArray(et){return new Uint8Array(et)}function bufferToHex(et,_e=!1){const tt=et.toString(ENC_HEX);return _e?addHexPrefix(tt):tt}function bufferToUtf8(et){return et.toString(ENC_UTF8)}function arrayToBuffer(et){return typedarrayToBuffer(et)}function arrayToHex(et,_e=!1){return bufferToHex(arrayToBuffer(et),_e)}function arrayToUtf8(et){return bufferToUtf8(arrayToBuffer(et))}function hexToBuffer(et){return Buffer.from(removeHexPrefix(et),ENC_HEX)}function hexToArray(et){return bufferToArray(hexToBuffer(et))}function utf8ToBuffer(et){return Buffer.from(et,ENC_UTF8)}function utf8ToArray(et){return bufferToArray(utf8ToBuffer(et))}function utf8ToHex(et,_e=!1){return bufferToHex(utf8ToBuffer(et),_e)}function isHexString$1(et,_e){return!(typeof et!="string"||!et.match(/^0x[0-9A-Fa-f]*$/)||_e&&et.length!==2+2*_e)}function concatArrays(...et){let _e=[];return et.forEach(tt=>_e=_e.concat(Array.from(tt))),new Uint8Array([..._e])}function calcByteLength(et,_e=8){const tt=et%_e;return tt?(et-tt)/_e*_e+_e:et}function sanitizeBytes(et,_e=8,tt=STRING_ZERO){return padLeft(et,calcByteLength(et.length,_e),tt)}function padLeft(et,_e,tt=STRING_ZERO){return padString(et,_e,!0,tt)}function removeHexPrefix(et){return et.replace(/^0x/,"")}function addHexPrefix(et){return et.startsWith("0x")?et:`0x${et}`}function sanitizeHex$1(et){return et=removeHexPrefix(et),et=sanitizeBytes(et,2),et&&(et=addHexPrefix(et)),et}function removeHexLeadingZeros$1(et){const _e=et.startsWith("0x");return et=removeHexPrefix(et),et=et.startsWith(STRING_ZERO)?et.substring(1):et,_e?addHexPrefix(et):et}function padString(et,_e,tt,rt=STRING_ZERO){const nt=_e-et.length;let it=et;if(nt>0){const at=rt.repeat(nt);it=tt?at+et:et+at}return it}function convertArrayBufferToBuffer(et){return arrayToBuffer(new Uint8Array(et))}function convertArrayBufferToHex(et,_e){return arrayToHex(new Uint8Array(et),!_e)}function convertBufferToArrayBuffer(et){return bufferToArray(et).buffer}function convertUtf8ToBuffer(et){return utf8ToBuffer(et)}function convertUtf8ToHex(et,_e){return utf8ToHex(et,!_e)}function convertHexToArrayBuffer(et){return hexToArray(et).buffer}function convertNumberToHex(et,_e){const tt=removeHexPrefix(sanitizeHex$1(new BN(et).toString(16)));return _e?tt:addHexPrefix(tt)}function sanitizeHex(et){return sanitizeHex$1(et)}function removeHexLeadingZeros(et){return removeHexLeadingZeros$1(addHexPrefix(et))}const payloadId=payloadId$1;function uuid(){return((_e,tt)=>{for(tt=_e="";_e++<36;tt+=_e*51&52?(_e^15?8^Math.random()*(_e^20?16:4):4).toString(16):"-");return tt})()}function getInfuraRpcUrl(et,_e){let tt;const rt=infuraNetworks[et];return rt&&(tt=`https://${rt}.infura.io/v3/${_e}`),tt}function getRpcUrl(et,_e){let tt;const rt=getInfuraRpcUrl(et,_e.infuraId);return _e.custom&&_e.custom[et]?tt=_e.custom[et]:rt&&(tt=rt),tt}function isEmptyString(et){return et===""||typeof et=="string"&&et.trim()===""}function isEmptyArray(et){return!(et&&et.length)}function isHexString(et,_e){return isHexString$1(et,_e)}function isJsonRpcRequest(et){return typeof et.method!="undefined"}function isJsonRpcResponseSuccess(et){return typeof et.result!="undefined"}function isJsonRpcResponseError(et){return typeof et.error!="undefined"}function isInternalEvent(et){return typeof et.event!="undefined"}function isReservedEvent(et){return reservedEvents.includes(et)||et.startsWith("wc_")}function isSilentPayload(et){return et.method.startsWith("wc_")?!0:!signingMethods.includes(et.method)}function toChecksumAddress(et){et=removeHexPrefix(et.toLowerCase());const _e=removeHexPrefix(sha3$2.exports.keccak_256(convertUtf8ToBuffer(et)));let tt="";for(let rt=0;rt<et.length;rt++)parseInt(_e[rt],16)>7?tt+=et[rt].toUpperCase():tt+=et[rt];return addHexPrefix(tt)}const isValidAddress=et=>et?et.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(et)?/^(0x)?[0-9a-f]{40}$/.test(et)||/^(0x)?[0-9A-F]{40}$/.test(et)?!0:et===toChecksumAddress(et):!1:!1;function parsePersonalSign(et){return!isEmptyArray(et)&&!isHexString(et[0])&&(et[0]=convertUtf8ToHex(et[0])),et}function parseTransactionData(et){if(typeof et.type!="undefined"&&et.type!=="0")return et;if(typeof et.from=="undefined"||!isValidAddress(et.from))throw new Error("Transaction object must include a valid 'from' value.");function _e(nt){let it=nt;return(typeof nt=="number"||typeof nt=="string"&&!isEmptyString(nt))&&(isHexString(nt)?typeof nt=="string"&&(it=sanitizeHex(nt)):it=convertNumberToHex(nt)),typeof it=="string"&&(it=removeHexLeadingZeros(it)),it}const tt={from:sanitizeHex(et.from),to:typeof et.to=="undefined"?void 0:sanitizeHex(et.to),gasPrice:typeof et.gasPrice=="undefined"?"":_e(et.gasPrice),gas:typeof et.gas=="undefined"?typeof et.gasLimit=="undefined"?"":_e(et.gasLimit):_e(et.gas),value:typeof et.value=="undefined"?"":_e(et.value),nonce:typeof et.nonce=="undefined"?"":_e(et.nonce),data:typeof et.data=="undefined"?"":sanitizeHex(et.data)||"0x"},rt=["gasPrice","gas","value","nonce"];return Object.keys(tt).forEach(nt=>{(typeof tt[nt]=="undefined"||typeof tt[nt]=="string"&&!tt[nt].trim().length)&&rt.includes(nt)&&delete tt[nt]}),tt}function formatRpcError(et){const _e=et.message||"Failed or Rejected Request";let tt=-32e3;if(et&&!et.code)switch(_e){case"Parse error":tt=-32700;break;case"Invalid request":tt=-32600;break;case"Method not found":tt=-32601;break;case"Invalid params":tt=-32602;break;case"Internal error":tt=-32603;break;default:tt=-32e3;break}return{code:tt,message:_e}}var queryString={},strictUriEncode=et=>encodeURIComponent(et).replace(/[!'()*]/g,_e=>`%${_e.charCodeAt(0).toString(16).toUpperCase()}`),token$1="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token$1+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token$1+")+","gi");function decodeComponents(et,_e){try{return[decodeURIComponent(et.join(""))]}catch{}if(et.length===1)return et;_e=_e||1;var tt=et.slice(0,_e),rt=et.slice(_e);return Array.prototype.concat.call([],decodeComponents(tt),decodeComponents(rt))}function decode(et){try{return decodeURIComponent(et)}catch{for(var _e=et.match(singleMatcher)||[],tt=1;tt<_e.length;tt++)et=decodeComponents(_e,tt).join(""),_e=et.match(singleMatcher)||[];return et}}function customDecodeURIComponent(et){for(var _e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},tt=multiMatcher.exec(et);tt;){try{_e[tt[0]]=decodeURIComponent(tt[0])}catch{var rt=decode(tt[0]);rt!==tt[0]&&(_e[tt[0]]=rt)}tt=multiMatcher.exec(et)}_e["%C2"]="\uFFFD";for(var nt=Object.keys(_e),it=0;it<nt.length;it++){var at=nt[it];et=et.replace(new RegExp(at,"g"),_e[at])}return et}var decodeUriComponent=function(et){if(typeof et!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof et+"`");try{return et=et.replace(/\+/g," "),decodeURIComponent(et)}catch{return customDecodeURIComponent(et)}},splitOnFirst=(et,_e)=>{if(!(typeof et=="string"&&typeof _e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(_e==="")return[et];const tt=et.indexOf(_e);return tt===-1?[et]:[et.slice(0,tt),et.slice(tt+_e.length)]};(function(et){const _e=strictUriEncode,tt=decodeUriComponent,rt=splitOnFirst,nt=Tt=>Tt==null;function it(Tt){switch(Tt.arrayFormat){case"index":return At=>(Rt,kt)=>{const Ot=Rt.length;return kt===void 0||Tt.skipNull&&kt===null||Tt.skipEmptyString&&kt===""?Rt:kt===null?[...Rt,[ct(At,Tt),"[",Ot,"]"].join("")]:[...Rt,[ct(At,Tt),"[",ct(Ot,Tt),"]=",ct(kt,Tt)].join("")]};case"bracket":return At=>(Rt,kt)=>kt===void 0||Tt.skipNull&&kt===null||Tt.skipEmptyString&&kt===""?Rt:kt===null?[...Rt,[ct(At,Tt),"[]"].join("")]:[...Rt,[ct(At,Tt),"[]=",ct(kt,Tt)].join("")];case"comma":case"separator":return At=>(Rt,kt)=>kt==null||kt.length===0?Rt:Rt.length===0?[[ct(At,Tt),"=",ct(kt,Tt)].join("")]:[[Rt,ct(kt,Tt)].join(Tt.arrayFormatSeparator)];default:return At=>(Rt,kt)=>kt===void 0||Tt.skipNull&&kt===null||Tt.skipEmptyString&&kt===""?Rt:kt===null?[...Rt,ct(At,Tt)]:[...Rt,[ct(At,Tt),"=",ct(kt,Tt)].join("")]}}function at(Tt){let At;switch(Tt.arrayFormat){case"index":return(Rt,kt,Ot)=>{if(At=/\[(\d*)\]$/.exec(Rt),Rt=Rt.replace(/\[\d*\]$/,""),!At){Ot[Rt]=kt;return}Ot[Rt]===void 0&&(Ot[Rt]={}),Ot[Rt][At[1]]=kt};case"bracket":return(Rt,kt,Ot)=>{if(At=/(\[\])$/.exec(Rt),Rt=Rt.replace(/\[\]$/,""),!At){Ot[Rt]=kt;return}if(Ot[Rt]===void 0){Ot[Rt]=[kt];return}Ot[Rt]=[].concat(Ot[Rt],kt)};case"comma":case"separator":return(Rt,kt,Ot)=>{const zt=typeof kt=="string"&&kt.split("").indexOf(Tt.arrayFormatSeparator)>-1?kt.split(Tt.arrayFormatSeparator).map(Kt=>ut(Kt,Tt)):kt===null?kt:ut(kt,Tt);Ot[Rt]=zt};default:return(Rt,kt,Ot)=>{if(Ot[Rt]===void 0){Ot[Rt]=kt;return}Ot[Rt]=[].concat(Ot[Rt],kt)}}}function st(Tt){if(typeof Tt!="string"||Tt.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ct(Tt,At){return At.encode?At.strict?_e(Tt):encodeURIComponent(Tt):Tt}function ut(Tt,At){return At.decode?tt(Tt):Tt}function ft(Tt){return Array.isArray(Tt)?Tt.sort():typeof Tt=="object"?ft(Object.keys(Tt)).sort((At,Rt)=>Number(At)-Number(Rt)).map(At=>Tt[At]):Tt}function gt(Tt){const At=Tt.indexOf("#");return At!==-1&&(Tt=Tt.slice(0,At)),Tt}function _t(Tt){let At="";const Rt=Tt.indexOf("#");return Rt!==-1&&(At=Tt.slice(Rt)),At}function Et(Tt){Tt=gt(Tt);const At=Tt.indexOf("?");return At===-1?"":Tt.slice(At+1)}function $t(Tt,At){return At.parseNumbers&&!Number.isNaN(Number(Tt))&&typeof Tt=="string"&&Tt.trim()!==""?Tt=Number(Tt):At.parseBooleans&&Tt!==null&&(Tt.toLowerCase()==="true"||Tt.toLowerCase()==="false")&&(Tt=Tt.toLowerCase()==="true"),Tt}function It(Tt,At){At=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},At),st(At.arrayFormatSeparator);const Rt=at(At),kt=Object.create(null);if(typeof Tt!="string"||(Tt=Tt.trim().replace(/^[?#&]/,""),!Tt))return kt;for(const Ot of Tt.split("&")){let[Wt,zt]=rt(At.decode?Ot.replace(/\+/g," "):Ot,"=");zt=zt===void 0?null:["comma","separator"].includes(At.arrayFormat)?zt:ut(zt,At),Rt(ut(Wt,At),zt,kt)}for(const Ot of Object.keys(kt)){const Wt=kt[Ot];if(typeof Wt=="object"&&Wt!==null)for(const zt of Object.keys(Wt))Wt[zt]=$t(Wt[zt],At);else kt[Ot]=$t(Wt,At)}return At.sort===!1?kt:(At.sort===!0?Object.keys(kt).sort():Object.keys(kt).sort(At.sort)).reduce((Ot,Wt)=>{const zt=kt[Wt];return Boolean(zt)&&typeof zt=="object"&&!Array.isArray(zt)?Ot[Wt]=ft(zt):Ot[Wt]=zt,Ot},Object.create(null))}et.extract=Et,et.parse=It,et.stringify=(Tt,At)=>{if(!Tt)return"";At=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},At),st(At.arrayFormatSeparator);const Rt=zt=>At.skipNull&&nt(Tt[zt])||At.skipEmptyString&&Tt[zt]==="",kt=it(At),Ot={};for(const zt of Object.keys(Tt))Rt(zt)||(Ot[zt]=Tt[zt]);const Wt=Object.keys(Ot);return At.sort!==!1&&Wt.sort(At.sort),Wt.map(zt=>{const Kt=Tt[zt];return Kt===void 0?"":Kt===null?ct(zt,At):Array.isArray(Kt)?Kt.reduce(kt(zt),[]).join("&"):ct(zt,At)+"="+ct(Kt,At)}).filter(zt=>zt.length>0).join("&")},et.parseUrl=(Tt,At)=>{At=Object.assign({decode:!0},At);const[Rt,kt]=rt(Tt,"#");return Object.assign({url:Rt.split("?")[0]||"",query:It(Et(Tt),At)},At&&At.parseFragmentIdentifier&&kt?{fragmentIdentifier:ut(kt,At)}:{})},et.stringifyUrl=(Tt,At)=>{At=Object.assign({encode:!0,strict:!0},At);const Rt=gt(Tt.url).split("?")[0]||"",kt=et.extract(Tt.url),Ot=et.parse(kt,{sort:!1}),Wt=Object.assign(Ot,Tt.query);let zt=et.stringify(Wt,At);zt&&(zt=`?${zt}`);let Kt=_t(Tt.url);return Tt.fragmentIdentifier&&(Kt=`#${ct(Tt.fragmentIdentifier,At)}`),`${Rt}${zt}${Kt}`}})(queryString);function getQueryString(et){const _e=et.indexOf("?")!==-1?et.indexOf("?"):void 0;return typeof _e!="undefined"?et.substr(_e):""}function appendToQueryString(et,_e){let tt=parseQueryString(et);return tt=Object.assign(Object.assign({},tt),_e),et=formatQueryString(tt),et}function parseQueryString(et){return queryString.parse(et)}function formatQueryString(et){return queryString.stringify(et)}function isWalletConnectSession(et){return typeof et.bridge!="undefined"}function parseWalletConnectUri(et){const _e=et.indexOf(":"),tt=et.indexOf("?")!==-1?et.indexOf("?"):void 0,rt=et.substring(0,_e),nt=et.substring(_e+1,tt);function it(gt){const _t="@",Et=gt.split(_t);return{handshakeTopic:Et[0],version:parseInt(Et[1],10)}}const at=it(nt),st=typeof tt!="undefined"?et.substr(tt):"";function ct(gt){const _t=parseQueryString(gt);return{key:_t.key||"",bridge:_t.bridge||""}}const ut=ct(st);return Object.assign(Object.assign({protocol:rt},at),ut)}class NetworkMonitor{constructor(){this._eventEmitters=[],typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(_e,tt){this._eventEmitters.push({event:_e,callback:tt})}trigger(_e){let tt=[];_e&&(tt=this._eventEmitters.filter(rt=>rt.event===_e)),tt.forEach(rt=>{rt.callback()})}}const WS=typeof globalThis.WebSocket!="undefined"?globalThis.WebSocket:require("ws");class SocketTransport{constructor(_e){if(this.opts=_e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=_e.protocol,this._version=_e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=_e.subscriptions||[],this._netMonitor=_e.netMonitor||new NetworkMonitor,!_e.url||typeof _e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=_e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(_e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(_e){}get connecting(){return this.readyState===0}set connected(_e){}get connected(){return this.readyState===1}set closing(_e){}get closing(){return this.readyState===2}set closed(_e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(_e,tt,rt){if(!tt||typeof tt!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:tt,type:"pub",payload:_e,silent:!!rt})}subscribe(_e){this._socketSend({topic:_e,type:"sub",payload:"",silent:!0})}on(_e,tt){this._events.push({event:_e,callback:tt})}_socketCreate(){if(this._nextSocket)return;const _e=getWebSocketUrl(this._url,this._protocol,this._version);if(this._nextSocket=new WS(_e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=tt=>this._socketReceive(tt),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=tt=>this._socketError(tt),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(_e){const tt=JSON.stringify(_e);this._socket&&this._socket.readyState===1?this._socket.send(tt):(this._setToQueue(_e),this._socketCreate())}async _socketReceive(_e){let tt;try{tt=JSON.parse(_e.data)}catch{return}if(this._socketSend({topic:tt.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const rt=this._events.filter(nt=>nt.event==="message");rt&&rt.length&&rt.forEach(nt=>nt.callback(tt))}}_socketError(_e){const tt=this._events.filter(rt=>rt.event==="error");tt&&tt.length&&tt.forEach(rt=>rt.callback(_e))}_queueSubscriptions(){this._subscriptions.forEach(tt=>this._queue.push({topic:tt,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(_e){this._queue.push(_e)}_pushQueue(){this._queue.forEach(tt=>this._socketSend(tt)),this._queue=[]}}function getWebSocketUrl(et,_e,tt){var rt,nt;const at=(et.startsWith("https")?et.replace("https","wss"):et.startsWith("http")?et.replace("http","ws"):et).split("?"),st=isBrowser$2()?{protocol:_e,version:tt,env:"browser",host:((rt=getLocation())===null||rt===void 0?void 0:rt.host)||""}:{protocol:_e,version:tt,env:((nt=detectEnv())===null||nt===void 0?void 0:nt.name)||""},ct=appendToQueryString(getQueryString(at[1]||""),st);return at[0]+"?"+ct}const ERROR_SESSION_CONNECTED="Session currently connected",ERROR_SESSION_DISCONNECTED="Session currently disconnected",ERROR_SESSION_REJECTED="Session Rejected",ERROR_MISSING_JSON_RPC="Missing JSON RPC response",ERROR_MISSING_RESULT='JSON-RPC success response must include "result" field',ERROR_MISSING_ERROR='JSON-RPC error response must include "error" field',ERROR_MISSING_METHOD='JSON RPC request must have valid "method" value',ERROR_MISSING_ID='JSON RPC request must have valid "id" value',ERROR_MISSING_REQUIRED="Missing one of the required parameters: bridge / uri / session",ERROR_INVALID_RESPONSE="JSON RPC response format is invalid",ERROR_INVALID_URI="URI format is invalid",ERROR_QRCODE_MODAL_NOT_PROVIDED="QRCode Modal not provided",ERROR_QRCODE_MODAL_USER_CLOSED="User close QRCode Modal";class EventManager{constructor(){this._eventEmitters=[]}subscribe(_e){this._eventEmitters.push(_e)}unsubscribe(_e){this._eventEmitters=this._eventEmitters.filter(tt=>tt.event!==_e)}trigger(_e){let tt=[],rt;isJsonRpcRequest(_e)?rt=_e.method:isJsonRpcResponseSuccess(_e)||isJsonRpcResponseError(_e)?rt=`response:${_e.id}`:isInternalEvent(_e)?rt=_e.event:rt="",rt&&(tt=this._eventEmitters.filter(nt=>nt.event===rt)),(!tt||!tt.length)&&!isReservedEvent(rt)&&!isInternalEvent(rt)&&(tt=this._eventEmitters.filter(nt=>nt.event==="call_request")),tt.forEach(nt=>{if(isJsonRpcResponseError(_e)){const it=new Error(_e.error.message);nt.callback(it,null)}else nt.callback(null,_e)})}}class SessionStorage{constructor(_e="walletconnect"){this.storageId=_e}getSession(){let _e=null;const tt=getLocal(this.storageId);return tt&&isWalletConnectSession(tt)&&(_e=tt),_e}setSession(_e){return setLocal(this.storageId,_e),_e}removeSession(){removeLocal(this.storageId)}}const domain="walletconnect.org",alphanumerical="abcdefghijklmnopqrstuvwxyz0123456789",bridges=alphanumerical.split("").map(et=>`https://${et}.bridge.walletconnect.org`);function extractHostname(et){let _e=et.indexOf("//")>-1?et.split("/")[2]:et.split("/")[0];return _e=_e.split(":")[0],_e=_e.split("?")[0],_e}function extractRootDomain(et){return extractHostname(et).split(".").slice(-2).join(".")}function randomBridgeIndex(){return Math.floor(Math.random()*bridges.length)}function selectRandomBridgeUrl(){return bridges[randomBridgeIndex()]}function shouldSelectRandomly(et){return extractRootDomain(et)===domain}function getBridgeUrl(et){return shouldSelectRandomly(et)?selectRandomBridgeUrl():et}class Connector{constructor(_e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new EventManager,this._clientMeta=getClientMeta()||_e.connectorOpts.clientMeta||null,this._cryptoLib=_e.cryptoLib,this._sessionStorage=_e.sessionStorage||new SessionStorage(_e.connectorOpts.storageId),this._qrcodeModal=_e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=_e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...signingMethods,..._e.connectorOpts.signingMethods||[]],!_e.connectorOpts.bridge&&!_e.connectorOpts.uri&&!_e.connectorOpts.session)throw new Error(ERROR_MISSING_REQUIRED);_e.connectorOpts.bridge&&(this.bridge=getBridgeUrl(_e.connectorOpts.bridge)),_e.connectorOpts.uri&&(this.uri=_e.connectorOpts.uri);const tt=_e.connectorOpts.session||this._getStorageSession();tt&&(this.session=tt),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=_e.transport||new SocketTransport({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),_e.connectorOpts.uri&&this._subscribeToSessionRequest(),_e.pushServerOpts&&this._registerPushServer(_e.pushServerOpts)}set bridge(_e){!_e||(this._bridge=_e)}get bridge(){return this._bridge}set key(_e){if(!_e)return;const tt=convertHexToArrayBuffer(_e);this._key=tt}get key(){return this._key?convertArrayBufferToHex(this._key,!0):""}set clientId(_e){!_e||(this._clientId=_e)}get clientId(){let _e=this._clientId;return _e||(_e=this._clientId=uuid()),this._clientId}set peerId(_e){!_e||(this._peerId=_e)}get peerId(){return this._peerId}set clientMeta(_e){}get clientMeta(){let _e=this._clientMeta;return _e||(_e=this._clientMeta=getClientMeta()),_e}set peerMeta(_e){this._peerMeta=_e}get peerMeta(){return this._peerMeta}set handshakeTopic(_e){!_e||(this._handshakeTopic=_e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(_e){!_e||(this._handshakeId=_e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(_e){if(!_e)return;const{handshakeTopic:tt,bridge:rt,key:nt}=this._parseUri(_e);this.handshakeTopic=tt,this.bridge=rt,this.key=nt}set chainId(_e){this._chainId=_e}get chainId(){return this._chainId}set networkId(_e){this._networkId=_e}get networkId(){return this._networkId}set accounts(_e){this._accounts=_e}get accounts(){return this._accounts}set rpcUrl(_e){this._rpcUrl=_e}get rpcUrl(){return this._rpcUrl}set connected(_e){}get connected(){return this._connected}set pending(_e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(_e){!_e||(this._connected=_e.connected,this.accounts=_e.accounts,this.chainId=_e.chainId,this.bridge=_e.bridge,this.key=_e.key,this.clientId=_e.clientId,this.clientMeta=_e.clientMeta,this.peerId=_e.peerId,this.peerMeta=_e.peerMeta,this.handshakeId=_e.handshakeId,this.handshakeTopic=_e.handshakeTopic)}on(_e,tt){const rt={event:_e,callback:tt};this._eventManager.subscribe(rt)}off(_e){this._eventManager.unsubscribe(_e)}async createInstantRequest(_e){this._key=await this._generateKey();const tt=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(_e)}]});this.handshakeId=tt.id,this.handshakeTopic=uuid(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(ERROR_QRCODE_MODAL_USER_CLOSED)});const rt=()=>{this.killSession()};try{const nt=await this._sendCallRequest(tt);return nt&&rt(),nt}catch(nt){throw rt(),nt}}async connect(_e){if(!this._qrcodeModal)throw new Error(ERROR_QRCODE_MODAL_NOT_PROVIDED);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(_e),new Promise(async(tt,rt)=>{this.on("modal_closed",()=>rt(new Error(ERROR_QRCODE_MODAL_USER_CLOSED))),this.on("connect",(nt,it)=>{if(nt)return rt(nt);tt(it.params[0])})}))}async createSession(_e){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);if(this.pending)return;this._key=await this._generateKey();const tt=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:_e&&_e.chainId?_e.chainId:null}]});this.handshakeId=tt.id,this.handshakeTopic=uuid(),this._sendSessionRequest(tt,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(_e){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);this.chainId=_e.chainId,this.accounts=_e.accounts,this.networkId=_e.networkId||0,this.rpcUrl=_e.rpcUrl||"";const tt={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},rt={id:this.handshakeId,jsonrpc:"2.0",result:tt};this._sendResponse(rt),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(_e){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);const tt=_e&&_e.message?_e.message:ERROR_SESSION_REJECTED,rt=this._formatResponse({id:this.handshakeId,error:{message:tt}});this._sendResponse(rt),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:tt}]}),this._removeStorageSession()}updateSession(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);this.chainId=_e.chainId,this.accounts=_e.accounts,this.networkId=_e.networkId||0,this.rpcUrl=_e.rpcUrl||"";const tt={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},rt=this._formatRequest({method:"wc_sessionUpdate",params:[tt]});this._sendSessionRequest(rt,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(_e){const tt=_e?_e.message:"Session Disconnected",rt={approved:!1,chainId:null,networkId:null,accounts:null},nt=this._formatRequest({method:"wc_sessionUpdate",params:[rt]});await this._sendRequest(nt),this._handleSessionDisconnect(tt)}async sendTransaction(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const tt=parseTransactionData(_e),rt=this._formatRequest({method:"eth_sendTransaction",params:[tt]});return await this._sendCallRequest(rt)}async signTransaction(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const tt=parseTransactionData(_e),rt=this._formatRequest({method:"eth_signTransaction",params:[tt]});return await this._sendCallRequest(rt)}async signMessage(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const tt=this._formatRequest({method:"eth_sign",params:_e});return await this._sendCallRequest(tt)}async signPersonalMessage(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);_e=parsePersonalSign(_e);const tt=this._formatRequest({method:"personal_sign",params:_e});return await this._sendCallRequest(tt)}async signTypedData(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const tt=this._formatRequest({method:"eth_signTypedData",params:_e});return await this._sendCallRequest(tt)}async updateChain(_e){if(!this._connected)throw new Error("Session currently disconnected");const tt=this._formatRequest({method:"wallet_updateChain",params:[_e]});return await this._sendCallRequest(tt)}unsafeSend(_e,tt){return this._sendRequest(_e,tt),this._eventManager.trigger({event:"call_request_sent",params:[{request:_e,options:tt}]}),new Promise((rt,nt)=>{this._subscribeToResponse(_e.id,(it,at)=>{if(it){nt(it);return}if(!at)throw new Error(ERROR_MISSING_JSON_RPC);rt(at)})})}async sendCustomRequest(_e,tt){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);switch(_e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return convertNumberToHex(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":_e.params&&(_e.params[0]=parseTransactionData(_e.params[0]));break;case"personal_sign":_e.params&&(_e.params=parsePersonalSign(_e.params));break}const rt=this._formatRequest(_e);return await this._sendCallRequest(rt,tt)}approveRequest(_e){if(isJsonRpcResponseSuccess(_e)){const tt=this._formatResponse(_e);this._sendResponse(tt)}else throw new Error(ERROR_MISSING_RESULT)}rejectRequest(_e){if(isJsonRpcResponseError(_e)){const tt=this._formatResponse(_e);this._sendResponse(tt)}else throw new Error(ERROR_MISSING_ERROR)}transportClose(){this._transport.close()}async _sendRequest(_e,tt){const rt=this._formatRequest(_e),nt=await this._encrypt(rt),it=typeof(tt==null?void 0:tt.topic)!="undefined"?tt.topic:this.peerId,at=JSON.stringify(nt),st=typeof(tt==null?void 0:tt.forcePushNotification)!="undefined"?!tt.forcePushNotification:isSilentPayload(rt);this._transport.send(at,it,st)}async _sendResponse(_e){const tt=await this._encrypt(_e),rt=this.peerId,nt=JSON.stringify(tt),it=!0;this._transport.send(nt,rt,it)}async _sendSessionRequest(_e,tt,rt){this._sendRequest(_e,rt),this._subscribeToSessionResponse(_e.id,tt)}_sendCallRequest(_e,tt){return this._sendRequest(_e,tt),this._eventManager.trigger({event:"call_request_sent",params:[{request:_e,options:tt}]}),this._subscribeToCallResponse(_e.id)}_formatRequest(_e){if(typeof _e.method=="undefined")throw new Error(ERROR_MISSING_METHOD);return{id:typeof _e.id=="undefined"?payloadId():_e.id,jsonrpc:"2.0",method:_e.method,params:typeof _e.params=="undefined"?[]:_e.params}}_formatResponse(_e){if(typeof _e.id=="undefined")throw new Error(ERROR_MISSING_ID);const tt={id:_e.id,jsonrpc:"2.0"};if(isJsonRpcResponseError(_e)){const rt=formatRpcError(_e.error);return Object.assign(Object.assign(Object.assign({},tt),_e),{error:rt})}else if(isJsonRpcResponseSuccess(_e))return Object.assign(Object.assign({},tt),_e);throw new Error(ERROR_INVALID_RESPONSE)}_handleSessionDisconnect(_e){const tt=_e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),removeLocal(mobileLinkChoiceKey)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:tt}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(_e,tt){tt?tt.approved?(this._connected?(tt.chainId&&(this.chainId=tt.chainId),tt.accounts&&(this.accounts=tt.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,tt.chainId&&(this.chainId=tt.chainId),tt.accounts&&(this.accounts=tt.accounts),tt.peerId&&!this.peerId&&(this.peerId=tt.peerId),tt.peerMeta&&!this.peerMeta&&(this.peerMeta=tt.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(_e):this._handleSessionDisconnect(_e)}async _handleIncomingMessages(_e){if(![this.clientId,this.handshakeTopic].includes(_e.topic))return;let rt;try{rt=JSON.parse(_e.payload)}catch{return}const nt=await this._decrypt(rt);nt&&this._eventManager.trigger(nt)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(_e,tt){this.on(`response:${_e}`,tt)}_subscribeToSessionResponse(_e,tt){this._subscribeToResponse(_e,(rt,nt)=>{if(rt){this._handleSessionResponse(rt.message);return}isJsonRpcResponseSuccess(nt)?this._handleSessionResponse(tt,nt.result):nt.error&&nt.error.message?this._handleSessionResponse(nt.error.message):this._handleSessionResponse(tt)})}_subscribeToCallResponse(_e){return new Promise((tt,rt)=>{this._subscribeToResponse(_e,(nt,it)=>{if(nt){rt(nt);return}isJsonRpcResponseSuccess(it)?tt(it.result):it.error&&it.error.message?rt(new Error(it.error.message)):rt(new Error(ERROR_INVALID_RESPONSE))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(_e,tt)=>{const{request:rt}=tt.params[0];if(isMobile()&&this._signingMethods.includes(rt.method)){const nt=getLocal(mobileLinkChoiceKey);nt&&(window.location.href=nt.href)}}),this.on("wc_sessionRequest",(_e,tt)=>{_e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:_e.toString()}]}),this.handshakeId=tt.id,this.peerId=tt.params[0].peerId,this.peerMeta=tt.params[0].peerMeta;const rt=Object.assign(Object.assign({},tt),{method:"session_request"});this._eventManager.trigger(rt)}),this.on("wc_sessionUpdate",(_e,tt)=>{_e&&this._handleSessionResponse(_e.message),this._handleSessionResponse("Session disconnected",tt.params[0])})}_initTransport(){this._transport.on("message",_e=>this._handleIncomingMessages(_e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const _e=this.protocol,tt=this.handshakeTopic,rt=this.version,nt=encodeURIComponent(this.bridge),it=this.key;return`${_e}:${tt}@${rt}?bridge=${nt}&key=${it}`}_parseUri(_e){const tt=parseWalletConnectUri(_e);if(tt.protocol===this.protocol){if(!tt.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const rt=tt.handshakeTopic;if(!tt.bridge)throw Error("Invalid or missing bridge url parameter value");const nt=decodeURIComponent(tt.bridge);if(!tt.key)throw Error("Invalid or missing key parameter value");const it=tt.key;return{handshakeTopic:rt,bridge:nt,key:it}}else throw new Error(ERROR_INVALID_URI)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(_e){const tt=this._key;return this._cryptoLib&&tt?await this._cryptoLib.encrypt(_e,tt):null}async _decrypt(_e){const tt=this._key;return this._cryptoLib&&tt?await this._cryptoLib.decrypt(_e,tt):null}_getStorageSession(){let _e=null;return this._sessionStorage&&(_e=this._sessionStorage.getSession()),_e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(_e){if(!_e.url||typeof _e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!_e.type||typeof _e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!_e.token||typeof _e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const tt={bridge:this.bridge,topic:this.clientId,type:_e.type,token:_e.token,peerName:"",language:_e.language||""};this.on("connect",async(rt,nt)=>{if(rt)throw rt;if(_e.peerMeta){const it=nt.params[0].peerMeta.name;tt.peerName=it}try{if(!(await(await fetch(`${_e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(tt)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function randomBytes(et){return cjs$3.getBrowerCrypto().getRandomValues(new Uint8Array(et))}const LENGTH_256=256,AES_LENGTH=LENGTH_256,HMAC_LENGTH=LENGTH_256,AES_BROWSER_ALGO="AES-CBC",HMAC_BROWSER_ALGO=`SHA-${AES_LENGTH}`,HMAC_BROWSER="HMAC",ENCRYPT_OP="encrypt",DECRYPT_OP="decrypt",SIGN_OP="sign",VERIFY_OP="verify";function getAlgo(et){return et===AES_BROWSER_ALGO?{length:AES_LENGTH,name:AES_BROWSER_ALGO}:{hash:{name:HMAC_BROWSER_ALGO},name:HMAC_BROWSER}}function getOps(et){return et===AES_BROWSER_ALGO?[ENCRYPT_OP,DECRYPT_OP]:[SIGN_OP,VERIFY_OP]}async function browserImportKey(et,_e=AES_BROWSER_ALGO){return cjs$3.getSubtleCrypto().importKey("raw",et,getAlgo(_e),!0,getOps(_e))}async function browserAesEncrypt(et,_e,tt){const rt=cjs$3.getSubtleCrypto(),nt=await browserImportKey(_e,AES_BROWSER_ALGO),it=await rt.encrypt({iv:et,name:AES_BROWSER_ALGO},nt,tt);return new Uint8Array(it)}async function browserAesDecrypt(et,_e,tt){const rt=cjs$3.getSubtleCrypto(),nt=await browserImportKey(_e,AES_BROWSER_ALGO),it=await rt.decrypt({iv:et,name:AES_BROWSER_ALGO},nt,tt);return new Uint8Array(it)}async function browserHmacSha256Sign(et,_e){const tt=cjs$3.getSubtleCrypto(),rt=await browserImportKey(et,HMAC_BROWSER),nt=await tt.sign({length:HMAC_LENGTH,name:HMAC_BROWSER},rt,_e);return new Uint8Array(nt)}function aesCbcEncrypt(et,_e,tt){return browserAesEncrypt(et,_e,tt)}function aesCbcDecrypt(et,_e,tt){return browserAesDecrypt(et,_e,tt)}async function hmacSha256Sign(et,_e){return await browserHmacSha256Sign(et,_e)}async function generateKey(et){const _e=(et||256)/8,tt=randomBytes(_e);return convertBufferToArrayBuffer(arrayToBuffer(tt))}async function verifyHmac(et,_e){const tt=hexToArray(et.data),rt=hexToArray(et.iv),nt=hexToArray(et.hmac),it=arrayToHex(nt,!1),at=concatArrays(tt,rt),st=await hmacSha256Sign(_e,at),ct=arrayToHex(st,!1);return removeHexPrefix(it)===removeHexPrefix(ct)}async function encrypt(et,_e,tt){const rt=bufferToArray(convertArrayBufferToBuffer(_e)),nt=tt||await generateKey(128),it=bufferToArray(convertArrayBufferToBuffer(nt)),at=arrayToHex(it,!1),st=JSON.stringify(et),ct=utf8ToArray(st),ut=await aesCbcEncrypt(it,rt,ct),ft=arrayToHex(ut,!1),gt=concatArrays(ut,it),_t=await hmacSha256Sign(rt,gt),Et=arrayToHex(_t,!1);return{data:ft,hmac:Et,iv:at}}async function decrypt(et,_e){const tt=bufferToArray(convertArrayBufferToBuffer(_e));if(!tt)throw new Error("Missing key: required for decryption");if(!await verifyHmac(et,tt))return null;const nt=hexToArray(et.data),it=hexToArray(et.iv),at=await aesCbcDecrypt(it,tt,nt),st=arrayToUtf8(at);let ct;try{ct=JSON.parse(st)}catch{return null}return ct}var cryptoLib=Object.freeze(Object.defineProperty({__proto__:null,generateKey,verifyHmac,encrypt,decrypt},Symbol.toStringTag,{value:"Module"}));class WalletConnect extends Connector{constructor(_e,tt){super({cryptoLib,connectorOpts:_e,pushServerOpts:tt})}}var require$$0=getAugmentedNamespace(esm),browser={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},typedarrayBuffer={},toString={}.toString,isarray=Array.isArray||function(et){return toString.call(et)=="[object Array]"},isArray$1=isarray;function typedArraySupport(){try{var et=new Uint8Array(1);return et.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},et.foo()===42}catch{return!1}}Buffer$2.TYPED_ARRAY_SUPPORT=typedArraySupport();var K_MAX_LENGTH=Buffer$2.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Buffer$2(et,_e,tt){return!Buffer$2.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer$2)?new Buffer$2(et,_e,tt):typeof et=="number"?allocUnsafe(this,et):from$1(this,et,_e,tt)}Buffer$2.TYPED_ARRAY_SUPPORT&&(Buffer$2.prototype.__proto__=Uint8Array.prototype,Buffer$2.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&Buffer$2[Symbol.species]===Buffer$2&&Object.defineProperty(Buffer$2,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function checked(et){if(et>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return et|0}function isnan(et){return et!==et}function createBuffer(et,_e){var tt;return Buffer$2.TYPED_ARRAY_SUPPORT?(tt=new Uint8Array(_e),tt.__proto__=Buffer$2.prototype):(tt=et,tt===null&&(tt=new Buffer$2(_e)),tt.length=_e),tt}function allocUnsafe(et,_e){var tt=createBuffer(et,_e<0?0:checked(_e)|0);if(!Buffer$2.TYPED_ARRAY_SUPPORT)for(var rt=0;rt<_e;++rt)tt[rt]=0;return tt}function fromString(et,_e){var tt=byteLength(_e)|0,rt=createBuffer(et,tt),nt=rt.write(_e);return nt!==tt&&(rt=rt.slice(0,nt)),rt}function fromArrayLike(et,_e){for(var tt=_e.length<0?0:checked(_e.length)|0,rt=createBuffer(et,tt),nt=0;nt<tt;nt+=1)rt[nt]=_e[nt]&255;return rt}function fromArrayBuffer(et,_e,tt,rt){if(tt<0||_e.byteLength<tt)throw new RangeError("'offset' is out of bounds");if(_e.byteLength<tt+(rt||0))throw new RangeError("'length' is out of bounds");var nt;return tt===void 0&&rt===void 0?nt=new Uint8Array(_e):rt===void 0?nt=new Uint8Array(_e,tt):nt=new Uint8Array(_e,tt,rt),Buffer$2.TYPED_ARRAY_SUPPORT?nt.__proto__=Buffer$2.prototype:nt=fromArrayLike(et,nt),nt}function fromObject(et,_e){if(Buffer$2.isBuffer(_e)){var tt=checked(_e.length)|0,rt=createBuffer(et,tt);return rt.length===0||_e.copy(rt,0,0,tt),rt}if(_e){if(typeof ArrayBuffer!="undefined"&&_e.buffer instanceof ArrayBuffer||"length"in _e)return typeof _e.length!="number"||isnan(_e.length)?createBuffer(et,0):fromArrayLike(et,_e);if(_e.type==="Buffer"&&Array.isArray(_e.data))return fromArrayLike(et,_e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function utf8ToBytes(et,_e){_e=_e||1/0;for(var tt,rt=et.length,nt=null,it=[],at=0;at<rt;++at){if(tt=et.charCodeAt(at),tt>55295&&tt<57344){if(!nt){if(tt>56319){(_e-=3)>-1&&it.push(239,191,189);continue}else if(at+1===rt){(_e-=3)>-1&&it.push(239,191,189);continue}nt=tt;continue}if(tt<56320){(_e-=3)>-1&&it.push(239,191,189),nt=tt;continue}tt=(nt-55296<<10|tt-56320)+65536}else nt&&(_e-=3)>-1&&it.push(239,191,189);if(nt=null,tt<128){if((_e-=1)<0)break;it.push(tt)}else if(tt<2048){if((_e-=2)<0)break;it.push(tt>>6|192,tt&63|128)}else if(tt<65536){if((_e-=3)<0)break;it.push(tt>>12|224,tt>>6&63|128,tt&63|128)}else if(tt<1114112){if((_e-=4)<0)break;it.push(tt>>18|240,tt>>12&63|128,tt>>6&63|128,tt&63|128)}else throw new Error("Invalid code point")}return it}function byteLength(et){if(Buffer$2.isBuffer(et))return et.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(et)||et instanceof ArrayBuffer))return et.byteLength;typeof et!="string"&&(et=""+et);var _e=et.length;return _e===0?0:utf8ToBytes(et).length}function blitBuffer(et,_e,tt,rt){for(var nt=0;nt<rt&&!(nt+tt>=_e.length||nt>=et.length);++nt)_e[nt+tt]=et[nt];return nt}function utf8Write(et,_e,tt,rt){return blitBuffer(utf8ToBytes(_e,et.length-tt),et,tt,rt)}function from$1(et,_e,tt,rt){if(typeof _e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&_e instanceof ArrayBuffer?fromArrayBuffer(et,_e,tt,rt):typeof _e=="string"?fromString(et,_e):fromObject(et,_e)}Buffer$2.prototype.write=function et(_e,tt,rt){tt===void 0?(rt=this.length,tt=0):rt===void 0&&typeof tt=="string"?(rt=this.length,tt=0):isFinite(tt)&&(tt=tt|0,isFinite(rt)?rt=rt|0:rt=void 0);var nt=this.length-tt;if((rt===void 0||rt>nt)&&(rt=nt),_e.length>0&&(rt<0||tt<0)||tt>this.length)throw new RangeError("Attempt to write outside buffer bounds");return utf8Write(this,_e,tt,rt)};Buffer$2.prototype.slice=function et(_e,tt){var rt=this.length;_e=~~_e,tt=tt===void 0?rt:~~tt,_e<0?(_e+=rt,_e<0&&(_e=0)):_e>rt&&(_e=rt),tt<0?(tt+=rt,tt<0&&(tt=0)):tt>rt&&(tt=rt),tt<_e&&(tt=_e);var nt;if(Buffer$2.TYPED_ARRAY_SUPPORT)nt=this.subarray(_e,tt),nt.__proto__=Buffer$2.prototype;else{var it=tt-_e;nt=new Buffer$2(it,void 0);for(var at=0;at<it;++at)nt[at]=this[at+_e]}return nt};Buffer$2.prototype.copy=function et(_e,tt,rt,nt){if(rt||(rt=0),!nt&&nt!==0&&(nt=this.length),tt>=_e.length&&(tt=_e.length),tt||(tt=0),nt>0&&nt<rt&&(nt=rt),nt===rt||_e.length===0||this.length===0)return 0;if(tt<0)throw new RangeError("targetStart out of bounds");if(rt<0||rt>=this.length)throw new RangeError("sourceStart out of bounds");if(nt<0)throw new RangeError("sourceEnd out of bounds");nt>this.length&&(nt=this.length),_e.length-tt<nt-rt&&(nt=_e.length-tt+rt);var it=nt-rt,at;if(this===_e&&rt<tt&&tt<nt)for(at=it-1;at>=0;--at)_e[at+tt]=this[at+rt];else if(it<1e3||!Buffer$2.TYPED_ARRAY_SUPPORT)for(at=0;at<it;++at)_e[at+tt]=this[at+rt];else Uint8Array.prototype.set.call(_e,this.subarray(rt,rt+it),tt);return it};Buffer$2.prototype.fill=function et(_e,tt,rt){if(typeof _e=="string"){if(typeof tt=="string"?(tt=0,rt=this.length):typeof rt=="string"&&(rt=this.length),_e.length===1){var nt=_e.charCodeAt(0);nt<256&&(_e=nt)}}else typeof _e=="number"&&(_e=_e&255);if(tt<0||this.length<tt||this.length<rt)throw new RangeError("Out of range index");if(rt<=tt)return this;tt=tt>>>0,rt=rt===void 0?this.length:rt>>>0,_e||(_e=0);var it;if(typeof _e=="number")for(it=tt;it<rt;++it)this[it]=_e;else{var at=Buffer$2.isBuffer(_e)?_e:new Buffer$2(_e),st=at.length;for(it=0;it<rt-tt;++it)this[it+tt]=at[it%st]}return this};Buffer$2.concat=function et(_e,tt){if(!isArray$1(_e))throw new TypeError('"list" argument must be an Array of Buffers');if(_e.length===0)return createBuffer(null,0);var rt;if(tt===void 0)for(tt=0,rt=0;rt<_e.length;++rt)tt+=_e[rt].length;var nt=allocUnsafe(null,tt),it=0;for(rt=0;rt<_e.length;++rt){var at=_e[rt];if(!Buffer$2.isBuffer(at))throw new TypeError('"list" argument must be an Array of Buffers');at.copy(nt,it),it+=at.length}return nt};Buffer$2.byteLength=byteLength;Buffer$2.prototype._isBuffer=!0;Buffer$2.isBuffer=function et(_e){return!!(_e!=null&&_e._isBuffer)};typedarrayBuffer.alloc=function(et){var _e=new Buffer$2(et);return _e.fill(0),_e};typedarrayBuffer.from=function(et){return new Buffer$2(et)};var utils$1={},toSJISFunction,CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$1.getSymbolSize=function et(_e){if(!_e)throw new Error('"version" cannot be null or undefined');if(_e<1||_e>40)throw new Error('"version" should be in range from 1 to 40');return _e*4+17};utils$1.getSymbolTotalCodewords=function et(_e){return CODEWORDS_COUNT[_e]};utils$1.getBCHDigit=function(et){for(var _e=0;et!==0;)_e++,et>>>=1;return _e};utils$1.setToSJISFunction=function et(_e){if(typeof _e!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=_e};utils$1.isKanjiModeEnabled=function(){return typeof toSJISFunction!="undefined"};utils$1.toSJIS=function et(_e){return toSJISFunction(_e)};var errorCorrectionLevel={};(function(et){et.L={bit:1},et.M={bit:0},et.Q={bit:3},et.H={bit:2};function _e(tt){if(typeof tt!="string")throw new Error("Param is not a string");var rt=tt.toLowerCase();switch(rt){case"l":case"low":return et.L;case"m":case"medium":return et.M;case"q":case"quartile":return et.Q;case"h":case"high":return et.H;default:throw new Error("Unknown EC Level: "+tt)}}et.isValid=function(rt){return rt&&typeof rt.bit!="undefined"&&rt.bit>=0&&rt.bit<4},et.from=function(rt,nt){if(et.isValid(rt))return rt;try{return _e(rt)}catch{return nt}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(et){var _e=Math.floor(et/8);return(this.buffer[_e]>>>7-et%8&1)===1},put:function(et,_e){for(var tt=0;tt<_e;tt++)this.putBit((et>>>_e-tt-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(et){var _e=Math.floor(this.length/8);this.buffer.length<=_e&&this.buffer.push(0),et&&(this.buffer[_e]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1,BufferUtil$4=typedarrayBuffer;function BitMatrix$1(et){if(!et||et<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=et,this.data=BufferUtil$4.alloc(et*et),this.reservedBit=BufferUtil$4.alloc(et*et)}BitMatrix$1.prototype.set=function(et,_e,tt,rt){var nt=et*this.size+_e;this.data[nt]=tt,rt&&(this.reservedBit[nt]=!0)};BitMatrix$1.prototype.get=function(et,_e){return this.data[et*this.size+_e]};BitMatrix$1.prototype.xor=function(et,_e,tt){this.data[et*this.size+_e]^=tt};BitMatrix$1.prototype.isReserved=function(et,_e){return this.reservedBit[et*this.size+_e]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(et){var _e=utils$1.getSymbolSize;et.getRowColCoords=function(rt){if(rt===1)return[];for(var nt=Math.floor(rt/7)+2,it=_e(rt),at=it===145?26:Math.ceil((it-13)/(2*nt-2))*2,st=[it-7],ct=1;ct<nt-1;ct++)st[ct]=st[ct-1]-at;return st.push(6),st.reverse()},et.getPositions=function(rt){for(var nt=[],it=et.getRowColCoords(rt),at=it.length,st=0;st<at;st++)for(var ct=0;ct<at;ct++)st===0&&ct===0||st===0&&ct===at-1||st===at-1&&ct===0||nt.push([it[st],it[ct]]);return nt}})(alignmentPattern);var finderPattern={},getSymbolSize=utils$1.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function et(_e){var tt=getSymbolSize(_e);return[[0,0],[tt-FINDER_PATTERN_SIZE,0],[0,tt-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(et){et.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var _e={N1:3,N2:3,N3:40,N4:10};et.isValid=function(nt){return nt!=null&&nt!==""&&!isNaN(nt)&&nt>=0&&nt<=7},et.from=function(nt){return et.isValid(nt)?parseInt(nt,10):void 0},et.getPenaltyN1=function(nt){for(var it=nt.size,at=0,st=0,ct=0,ut=null,ft=null,gt=0;gt<it;gt++){st=ct=0,ut=ft=null;for(var _t=0;_t<it;_t++){var Et=nt.get(gt,_t);Et===ut?st++:(st>=5&&(at+=_e.N1+(st-5)),ut=Et,st=1),Et=nt.get(_t,gt),Et===ft?ct++:(ct>=5&&(at+=_e.N1+(ct-5)),ft=Et,ct=1)}st>=5&&(at+=_e.N1+(st-5)),ct>=5&&(at+=_e.N1+(ct-5))}return at},et.getPenaltyN2=function(nt){for(var it=nt.size,at=0,st=0;st<it-1;st++)for(var ct=0;ct<it-1;ct++){var ut=nt.get(st,ct)+nt.get(st,ct+1)+nt.get(st+1,ct)+nt.get(st+1,ct+1);(ut===4||ut===0)&&at++}return at*_e.N2},et.getPenaltyN3=function(nt){for(var it=nt.size,at=0,st=0,ct=0,ut=0;ut<it;ut++){st=ct=0;for(var ft=0;ft<it;ft++)st=st<<1&2047|nt.get(ut,ft),ft>=10&&(st===1488||st===93)&&at++,ct=ct<<1&2047|nt.get(ft,ut),ft>=10&&(ct===1488||ct===93)&&at++}return at*_e.N3},et.getPenaltyN4=function(nt){for(var it=0,at=nt.data.length,st=0;st<at;st++)it+=nt.data[st];var ct=Math.abs(Math.ceil(it*100/at/5)-10);return ct*_e.N4};function tt(rt,nt,it){switch(rt){case et.Patterns.PATTERN000:return(nt+it)%2===0;case et.Patterns.PATTERN001:return nt%2===0;case et.Patterns.PATTERN010:return it%3===0;case et.Patterns.PATTERN011:return(nt+it)%3===0;case et.Patterns.PATTERN100:return(Math.floor(nt/2)+Math.floor(it/3))%2===0;case et.Patterns.PATTERN101:return nt*it%2+nt*it%3===0;case et.Patterns.PATTERN110:return(nt*it%2+nt*it%3)%2===0;case et.Patterns.PATTERN111:return(nt*it%3+(nt+it)%2)%2===0;default:throw new Error("bad maskPattern:"+rt)}}et.applyMask=function(nt,it){for(var at=it.size,st=0;st<at;st++)for(var ct=0;ct<at;ct++)it.isReserved(ct,st)||it.xor(ct,st,tt(nt,ct,st))},et.getBestMask=function(nt,it){for(var at=Object.keys(et.Patterns).length,st=0,ct=1/0,ut=0;ut<at;ut++){it(ut),et.applyMask(ut,nt);var ft=et.getPenaltyN1(nt)+et.getPenaltyN2(nt)+et.getPenaltyN3(nt)+et.getPenaltyN4(nt);et.applyMask(ut,nt),ft<ct&&(ct=ft,st=ut)}return st}})(maskPattern);var errorCorrectionCode={},ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function et(_e,tt){switch(tt){case ECLevel$1.L:return EC_BLOCKS_TABLE[(_e-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(_e-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(_e-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(_e-1)*4+3];default:return}};errorCorrectionCode.getTotalCodewordsCount=function et(_e,tt){switch(tt){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(_e-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(_e-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(_e-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(_e-1)*4+3];default:return}};var polynomial={},galoisField={},BufferUtil$3=typedarrayBuffer,EXP_TABLE=BufferUtil$3.alloc(512),LOG_TABLE=BufferUtil$3.alloc(256);(function et(){for(var _e=1,tt=0;tt<255;tt++)EXP_TABLE[tt]=_e,LOG_TABLE[_e]=tt,_e<<=1,_e&256&&(_e^=285);for(tt=255;tt<512;tt++)EXP_TABLE[tt]=EXP_TABLE[tt-255]})();galoisField.log=function et(_e){if(_e<1)throw new Error("log("+_e+")");return LOG_TABLE[_e]};galoisField.exp=function et(_e){return EXP_TABLE[_e]};galoisField.mul=function et(_e,tt){return _e===0||tt===0?0:EXP_TABLE[LOG_TABLE[_e]+LOG_TABLE[tt]]};(function(et){var _e=typedarrayBuffer,tt=galoisField;et.mul=function(nt,it){for(var at=_e.alloc(nt.length+it.length-1),st=0;st<nt.length;st++)for(var ct=0;ct<it.length;ct++)at[st+ct]^=tt.mul(nt[st],it[ct]);return at},et.mod=function(nt,it){for(var at=_e.from(nt);at.length-it.length>=0;){for(var st=at[0],ct=0;ct<it.length;ct++)at[ct]^=tt.mul(it[ct],st);for(var ut=0;ut<at.length&&at[ut]===0;)ut++;at=at.slice(ut)}return at},et.generateECPolynomial=function(nt){for(var it=_e.from([1]),at=0;at<nt;at++)it=et.mul(it,[1,tt.exp(at)]);return it}})(polynomial);var BufferUtil$2=typedarrayBuffer,Polynomial=polynomial,Buffer$1=buffer$2.Buffer;function ReedSolomonEncoder$1(et){this.genPoly=void 0,this.degree=et,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function et(_e){this.degree=_e,this.genPoly=Polynomial.generateECPolynomial(this.degree)};ReedSolomonEncoder$1.prototype.encode=function et(_e){if(!this.genPoly)throw new Error("Encoder not initialized");var tt=BufferUtil$2.alloc(this.degree),rt=Buffer$1.concat([_e,tt],_e.length+this.degree),nt=Polynomial.mod(rt,this.genPoly),it=this.degree-nt.length;if(it>0){var at=BufferUtil$2.alloc(this.degree);return nt.copy(at,it),at}return nt};var reedSolomonEncoder=ReedSolomonEncoder$1,version$2={},mode={},versionCheck={};versionCheck.isValid=function et(_e){return!isNaN(_e)&&_e>=1&&_e<=40};var regex={},numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+",kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");var byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g");regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");regex.BYTE=new RegExp(byte,"g");regex.NUMERIC=new RegExp(numeric,"g");regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");var TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function et(_e){return TEST_KANJI.test(_e)};regex.testNumeric=function et(_e){return TEST_NUMERIC.test(_e)};regex.testAlphanumeric=function et(_e){return TEST_ALPHANUMERIC.test(_e)};(function(et){var _e=versionCheck,tt=regex;et.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},et.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},et.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},et.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},et.MIXED={bit:-1},et.getCharCountIndicator=function(it,at){if(!it.ccBits)throw new Error("Invalid mode: "+it);if(!_e.isValid(at))throw new Error("Invalid version: "+at);return at>=1&&at<10?it.ccBits[0]:at<27?it.ccBits[1]:it.ccBits[2]},et.getBestModeForData=function(it){return tt.testNumeric(it)?et.NUMERIC:tt.testAlphanumeric(it)?et.ALPHANUMERIC:tt.testKanji(it)?et.KANJI:et.BYTE},et.toString=function(it){if(it&&it.id)return it.id;throw new Error("Invalid mode")},et.isValid=function(it){return it&&it.bit&&it.ccBits};function rt(nt){if(typeof nt!="string")throw new Error("Param is not a string");var it=nt.toLowerCase();switch(it){case"numeric":return et.NUMERIC;case"alphanumeric":return et.ALPHANUMERIC;case"kanji":return et.KANJI;case"byte":return et.BYTE;default:throw new Error("Unknown mode: "+nt)}}et.from=function(it,at){if(et.isValid(it))return it;try{return rt(it)}catch{return at}}})(mode);(function(et){var _e=utils$1,tt=errorCorrectionCode,rt=errorCorrectionLevel,nt=mode,it=versionCheck,at=isarray,st=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,ct=_e.getBCHDigit(st);function ut(Et,$t,It){for(var Tt=1;Tt<=40;Tt++)if($t<=et.getCapacity(Tt,It,Et))return Tt}function ft(Et,$t){return nt.getCharCountIndicator(Et,$t)+4}function gt(Et,$t){var It=0;return Et.forEach(function(Tt){var At=ft(Tt.mode,$t);It+=At+Tt.getBitsLength()}),It}function _t(Et,$t){for(var It=1;It<=40;It++){var Tt=gt(Et,It);if(Tt<=et.getCapacity(It,$t,nt.MIXED))return It}}et.from=function($t,It){return it.isValid($t)?parseInt($t,10):It},et.getCapacity=function($t,It,Tt){if(!it.isValid($t))throw new Error("Invalid QR Code version");typeof Tt=="undefined"&&(Tt=nt.BYTE);var At=_e.getSymbolTotalCodewords($t),Rt=tt.getTotalCodewordsCount($t,It),kt=(At-Rt)*8;if(Tt===nt.MIXED)return kt;var Ot=kt-ft(Tt,$t);switch(Tt){case nt.NUMERIC:return Math.floor(Ot/10*3);case nt.ALPHANUMERIC:return Math.floor(Ot/11*2);case nt.KANJI:return Math.floor(Ot/13);case nt.BYTE:default:return Math.floor(Ot/8)}},et.getBestVersionForData=function($t,It){var Tt,At=rt.from(It,rt.M);if(at($t)){if($t.length>1)return _t($t,At);if($t.length===0)return 1;Tt=$t[0]}else Tt=$t;return ut(Tt.mode,Tt.getLength(),At)},et.getEncodedBits=function($t){if(!it.isValid($t)||$t<7)throw new Error("Invalid QR Code version");for(var It=$t<<12;_e.getBCHDigit(It)-ct>=0;)It^=st<<_e.getBCHDigit(It)-ct;return $t<<12|It}})(version$2);var formatInfo={},Utils$3=utils$1,G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function et(_e,tt){for(var rt=_e.bit<<3|tt,nt=rt<<10;Utils$3.getBCHDigit(nt)-G15_BCH>=0;)nt^=G15<<Utils$3.getBCHDigit(nt)-G15_BCH;return(rt<<10|nt)^G15_MASK};var segments={},Mode$4=mode;function NumericData(et){this.mode=Mode$4.NUMERIC,this.data=et.toString()}NumericData.getBitsLength=function et(_e){return 10*Math.floor(_e/3)+(_e%3?_e%3*3+1:0)};NumericData.prototype.getLength=function et(){return this.data.length};NumericData.prototype.getBitsLength=function et(){return NumericData.getBitsLength(this.data.length)};NumericData.prototype.write=function et(_e){var tt,rt,nt;for(tt=0;tt+3<=this.data.length;tt+=3)rt=this.data.substr(tt,3),nt=parseInt(rt,10),_e.put(nt,10);var it=this.data.length-tt;it>0&&(rt=this.data.substr(tt),nt=parseInt(rt,10),_e.put(nt,it*3+1))};var numericData=NumericData,Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(et){this.mode=Mode$3.ALPHANUMERIC,this.data=et}AlphanumericData.getBitsLength=function et(_e){return 11*Math.floor(_e/2)+6*(_e%2)};AlphanumericData.prototype.getLength=function et(){return this.data.length};AlphanumericData.prototype.getBitsLength=function et(){return AlphanumericData.getBitsLength(this.data.length)};AlphanumericData.prototype.write=function et(_e){var tt;for(tt=0;tt+2<=this.data.length;tt+=2){var rt=ALPHA_NUM_CHARS.indexOf(this.data[tt])*45;rt+=ALPHA_NUM_CHARS.indexOf(this.data[tt+1]),_e.put(rt,11)}this.data.length%2&&_e.put(ALPHA_NUM_CHARS.indexOf(this.data[tt]),6)};var alphanumericData=AlphanumericData,BufferUtil$1=typedarrayBuffer,Mode$2=mode;function ByteData(et){this.mode=Mode$2.BYTE,this.data=BufferUtil$1.from(et)}ByteData.getBitsLength=function et(_e){return _e*8};ByteData.prototype.getLength=function et(){return this.data.length};ByteData.prototype.getBitsLength=function et(){return ByteData.getBitsLength(this.data.length)};ByteData.prototype.write=function(et){for(var _e=0,tt=this.data.length;_e<tt;_e++)et.put(this.data[_e],8)};var byteData=ByteData,Mode$1=mode,Utils$2=utils$1;function KanjiData(et){this.mode=Mode$1.KANJI,this.data=et}KanjiData.getBitsLength=function et(_e){return _e*13};KanjiData.prototype.getLength=function et(){return this.data.length};KanjiData.prototype.getBitsLength=function et(){return KanjiData.getBitsLength(this.data.length)};KanjiData.prototype.write=function(et){var _e;for(_e=0;_e<this.data.length;_e++){var tt=Utils$2.toSJIS(this.data[_e]);if(tt>=33088&&tt<=40956)tt-=33088;else if(tt>=57408&&tt<=60351)tt-=49472;else throw new Error("Invalid SJIS character: "+this.data[_e]+`
Make sure your charset is UTF-8`);tt=(tt>>>8&255)*192+(tt&255),et.put(tt,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(et){var _e={single_source_shortest_paths:function(tt,rt,nt){var it={},at={};at[rt]=0;var st=_e.PriorityQueue.make();st.push(rt,0);for(var ct,ut,ft,gt,_t,Et,$t,It,Tt;!st.empty();){ct=st.pop(),ut=ct.value,gt=ct.cost,_t=tt[ut]||{};for(ft in _t)_t.hasOwnProperty(ft)&&(Et=_t[ft],$t=gt+Et,It=at[ft],Tt=typeof at[ft]=="undefined",(Tt||It>$t)&&(at[ft]=$t,st.push(ft,$t),it[ft]=ut))}if(typeof nt!="undefined"&&typeof at[nt]=="undefined"){var At=["Could not find a path from ",rt," to ",nt,"."].join("");throw new Error(At)}return it},extract_shortest_path_from_predecessor_list:function(tt,rt){for(var nt=[],it=rt;it;)nt.push(it),tt[it],it=tt[it];return nt.reverse(),nt},find_path:function(tt,rt,nt){var it=_e.single_source_shortest_paths(tt,rt,nt);return _e.extract_shortest_path_from_predecessor_list(it,nt)},PriorityQueue:{make:function(tt){var rt=_e.PriorityQueue,nt={},it;tt=tt||{};for(it in rt)rt.hasOwnProperty(it)&&(nt[it]=rt[it]);return nt.queue=[],nt.sorter=tt.sorter||rt.default_sorter,nt},default_sorter:function(tt,rt){return tt.cost-rt.cost},push:function(tt,rt){var nt={value:tt,cost:rt};this.queue.push(nt),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};et.exports=_e})(dijkstra);(function(et){var _e=mode,tt=numericData,rt=alphanumericData,nt=byteData,it=kanjiData,at=regex,st=utils$1,ct=dijkstra.exports;function ut(At){return unescape(encodeURIComponent(At)).length}function ft(At,Rt,kt){for(var Ot=[],Wt;(Wt=At.exec(kt))!==null;)Ot.push({data:Wt[0],index:Wt.index,mode:Rt,length:Wt[0].length});return Ot}function gt(At){var Rt=ft(at.NUMERIC,_e.NUMERIC,At),kt=ft(at.ALPHANUMERIC,_e.ALPHANUMERIC,At),Ot,Wt;st.isKanjiModeEnabled()?(Ot=ft(at.BYTE,_e.BYTE,At),Wt=ft(at.KANJI,_e.KANJI,At)):(Ot=ft(at.BYTE_KANJI,_e.BYTE,At),Wt=[]);var zt=Rt.concat(kt,Ot,Wt);return zt.sort(function(Kt,Jt){return Kt.index-Jt.index}).map(function(Kt){return{data:Kt.data,mode:Kt.mode,length:Kt.length}})}function _t(At,Rt){switch(Rt){case _e.NUMERIC:return tt.getBitsLength(At);case _e.ALPHANUMERIC:return rt.getBitsLength(At);case _e.KANJI:return it.getBitsLength(At);case _e.BYTE:return nt.getBitsLength(At)}}function Et(At){return At.reduce(function(Rt,kt){var Ot=Rt.length-1>=0?Rt[Rt.length-1]:null;return Ot&&Ot.mode===kt.mode?(Rt[Rt.length-1].data+=kt.data,Rt):(Rt.push(kt),Rt)},[])}function $t(At){for(var Rt=[],kt=0;kt<At.length;kt++){var Ot=At[kt];switch(Ot.mode){case _e.NUMERIC:Rt.push([Ot,{data:Ot.data,mode:_e.ALPHANUMERIC,length:Ot.length},{data:Ot.data,mode:_e.BYTE,length:Ot.length}]);break;case _e.ALPHANUMERIC:Rt.push([Ot,{data:Ot.data,mode:_e.BYTE,length:Ot.length}]);break;case _e.KANJI:Rt.push([Ot,{data:Ot.data,mode:_e.BYTE,length:ut(Ot.data)}]);break;case _e.BYTE:Rt.push([{data:Ot.data,mode:_e.BYTE,length:ut(Ot.data)}])}}return Rt}function It(At,Rt){for(var kt={},Ot={start:{}},Wt=["start"],zt=0;zt<At.length;zt++){for(var Kt=At[zt],Jt=[],ar=0;ar<Kt.length;ar++){var jt=Kt[ar],Ct=""+zt+ar;Jt.push(Ct),kt[Ct]={node:jt,lastCount:0},Ot[Ct]={};for(var Nt=0;Nt<Wt.length;Nt++){var ht=Wt[Nt];kt[ht]&&kt[ht].node.mode===jt.mode?(Ot[ht][Ct]=_t(kt[ht].lastCount+jt.length,jt.mode)-_t(kt[ht].lastCount,jt.mode),kt[ht].lastCount+=jt.length):(kt[ht]&&(kt[ht].lastCount=jt.length),Ot[ht][Ct]=_t(jt.length,jt.mode)+4+_e.getCharCountIndicator(jt.mode,Rt))}}Wt=Jt}for(Nt=0;Nt<Wt.length;Nt++)Ot[Wt[Nt]].end=0;return{map:Ot,table:kt}}function Tt(At,Rt){var kt,Ot=_e.getBestModeForData(At);if(kt=_e.from(Rt,Ot),kt!==_e.BYTE&&kt.bit<Ot.bit)throw new Error('"'+At+'" cannot be encoded with mode '+_e.toString(kt)+`.
 Suggested mode is: `+_e.toString(Ot));switch(kt===_e.KANJI&&!st.isKanjiModeEnabled()&&(kt=_e.BYTE),kt){case _e.NUMERIC:return new tt(At);case _e.ALPHANUMERIC:return new rt(At);case _e.KANJI:return new it(At);case _e.BYTE:return new nt(At)}}et.fromArray=function(Rt){return Rt.reduce(function(kt,Ot){return typeof Ot=="string"?kt.push(Tt(Ot,null)):Ot.data&&kt.push(Tt(Ot.data,Ot.mode)),kt},[])},et.fromString=function(Rt,kt){for(var Ot=gt(Rt,st.isKanjiModeEnabled()),Wt=$t(Ot),zt=It(Wt,kt),Kt=ct.find_path(zt.map,"start","end"),Jt=[],ar=1;ar<Kt.length-1;ar++)Jt.push(zt.table[Kt[ar]].node);return et.fromArray(Et(Jt))},et.rawSplit=function(Rt){return et.fromArray(gt(Rt,st.isKanjiModeEnabled()))}})(segments);var BufferUtil=typedarrayBuffer,Utils$1=utils$1,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version$2,FormatInfo=formatInfo,Mode=mode,Segments=segments,isArray=isarray;function setupFinderPattern(et,_e){for(var tt=et.size,rt=FinderPattern.getPositions(_e),nt=0;nt<rt.length;nt++)for(var it=rt[nt][0],at=rt[nt][1],st=-1;st<=7;st++)if(!(it+st<=-1||tt<=it+st))for(var ct=-1;ct<=7;ct++)at+ct<=-1||tt<=at+ct||(st>=0&&st<=6&&(ct===0||ct===6)||ct>=0&&ct<=6&&(st===0||st===6)||st>=2&&st<=4&&ct>=2&&ct<=4?et.set(it+st,at+ct,!0,!0):et.set(it+st,at+ct,!1,!0))}function setupTimingPattern(et){for(var _e=et.size,tt=8;tt<_e-8;tt++){var rt=tt%2===0;et.set(tt,6,rt,!0),et.set(6,tt,rt,!0)}}function setupAlignmentPattern(et,_e){for(var tt=AlignmentPattern.getPositions(_e),rt=0;rt<tt.length;rt++)for(var nt=tt[rt][0],it=tt[rt][1],at=-2;at<=2;at++)for(var st=-2;st<=2;st++)at===-2||at===2||st===-2||st===2||at===0&&st===0?et.set(nt+at,it+st,!0,!0):et.set(nt+at,it+st,!1,!0)}function setupVersionInfo(et,_e){for(var tt=et.size,rt=Version.getEncodedBits(_e),nt,it,at,st=0;st<18;st++)nt=Math.floor(st/3),it=st%3+tt-8-3,at=(rt>>st&1)===1,et.set(nt,it,at,!0),et.set(it,nt,at,!0)}function setupFormatInfo(et,_e,tt){var rt=et.size,nt=FormatInfo.getEncodedBits(_e,tt),it,at;for(it=0;it<15;it++)at=(nt>>it&1)===1,it<6?et.set(it,8,at,!0):it<8?et.set(it+1,8,at,!0):et.set(rt-15+it,8,at,!0),it<8?et.set(8,rt-it-1,at,!0):it<9?et.set(8,15-it-1+1,at,!0):et.set(8,15-it-1,at,!0);et.set(rt-8,8,1,!0)}function setupData(et,_e){for(var tt=et.size,rt=-1,nt=tt-1,it=7,at=0,st=tt-1;st>0;st-=2)for(st===6&&st--;;){for(var ct=0;ct<2;ct++)if(!et.isReserved(nt,st-ct)){var ut=!1;at<_e.length&&(ut=(_e[at]>>>it&1)===1),et.set(nt,st-ct,ut),it--,it===-1&&(at++,it=7)}if(nt+=rt,nt<0||tt<=nt){nt-=rt,rt=-rt;break}}}function createData(et,_e,tt){var rt=new BitBuffer;tt.forEach(function(ut){rt.put(ut.mode.bit,4),rt.put(ut.getLength(),Mode.getCharCountIndicator(ut.mode,et)),ut.write(rt)});var nt=Utils$1.getSymbolTotalCodewords(et),it=ECCode.getTotalCodewordsCount(et,_e),at=(nt-it)*8;for(rt.getLengthInBits()+4<=at&&rt.put(0,4);rt.getLengthInBits()%8!==0;)rt.putBit(0);for(var st=(at-rt.getLengthInBits())/8,ct=0;ct<st;ct++)rt.put(ct%2?17:236,8);return createCodewords(rt,et,_e)}function createCodewords(et,_e,tt){for(var rt=Utils$1.getSymbolTotalCodewords(_e),nt=ECCode.getTotalCodewordsCount(_e,tt),it=rt-nt,at=ECCode.getBlocksCount(_e,tt),st=rt%at,ct=at-st,ut=Math.floor(rt/at),ft=Math.floor(it/at),gt=ft+1,_t=ut-ft,Et=new ReedSolomonEncoder(_t),$t=0,It=new Array(at),Tt=new Array(at),At=0,Rt=BufferUtil.from(et.buffer),kt=0;kt<at;kt++){var Ot=kt<ct?ft:gt;It[kt]=Rt.slice($t,$t+Ot),Tt[kt]=Et.encode(It[kt]),$t+=Ot,At=Math.max(At,Ot)}var Wt=BufferUtil.alloc(rt),zt=0,Kt,Jt;for(Kt=0;Kt<At;Kt++)for(Jt=0;Jt<at;Jt++)Kt<It[Jt].length&&(Wt[zt++]=It[Jt][Kt]);for(Kt=0;Kt<_t;Kt++)for(Jt=0;Jt<at;Jt++)Wt[zt++]=Tt[Jt][Kt];return Wt}function createSymbol(et,_e,tt,rt){var nt;if(isArray(et))nt=Segments.fromArray(et);else if(typeof et=="string"){var it=_e;if(!it){var at=Segments.rawSplit(et);it=Version.getBestVersionForData(at,tt)}nt=Segments.fromString(et,it||40)}else throw new Error("Invalid data");var st=Version.getBestVersionForData(nt,tt);if(!st)throw new Error("The amount of data is too big to be stored in a QR Code");if(!_e)_e=st;else if(_e<st)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+st+`.
`);var ct=createData(_e,tt,nt),ut=Utils$1.getSymbolSize(_e),ft=new BitMatrix(ut);return setupFinderPattern(ft,_e),setupTimingPattern(ft),setupAlignmentPattern(ft,_e),setupFormatInfo(ft,tt,0),_e>=7&&setupVersionInfo(ft,_e),setupData(ft,ct),isNaN(rt)&&(rt=MaskPattern.getBestMask(ft,setupFormatInfo.bind(null,ft,tt))),MaskPattern.applyMask(rt,ft),setupFormatInfo(ft,tt,rt),{modules:ft,version:_e,errorCorrectionLevel:tt,maskPattern:rt,segments:nt}}qrcode.create=function et(_e,tt){if(typeof _e=="undefined"||_e==="")throw new Error("No input text");var rt=ECLevel.M,nt,it;return typeof tt!="undefined"&&(rt=ECLevel.from(tt.errorCorrectionLevel,ECLevel.M),nt=Version.from(tt.version),it=MaskPattern.from(tt.maskPattern),tt.toSJISFunc&&Utils$1.setToSJISFunction(tt.toSJISFunc)),createSymbol(_e,nt,rt,it)};var canvas={},utils={};(function(et){function _e(tt){if(typeof tt=="number"&&(tt=tt.toString()),typeof tt!="string")throw new Error("Color should be defined as hex string");var rt=tt.slice().replace("#","").split("");if(rt.length<3||rt.length===5||rt.length>8)throw new Error("Invalid hex color: "+tt);(rt.length===3||rt.length===4)&&(rt=Array.prototype.concat.apply([],rt.map(function(it){return[it,it]}))),rt.length===6&&rt.push("F","F");var nt=parseInt(rt.join(""),16);return{r:nt>>24&255,g:nt>>16&255,b:nt>>8&255,a:nt&255,hex:"#"+rt.slice(0,6).join("")}}et.getOptions=function(rt){rt||(rt={}),rt.color||(rt.color={});var nt=typeof rt.margin=="undefined"||rt.margin===null||rt.margin<0?4:rt.margin,it=rt.width&&rt.width>=21?rt.width:void 0,at=rt.scale||4;return{width:it,scale:it?4:at,margin:nt,color:{dark:_e(rt.color.dark||"#000000ff"),light:_e(rt.color.light||"#ffffffff")},type:rt.type,rendererOpts:rt.rendererOpts||{}}},et.getScale=function(rt,nt){return nt.width&&nt.width>=rt+nt.margin*2?nt.width/(rt+nt.margin*2):nt.scale},et.getImageWidth=function(rt,nt){var it=et.getScale(rt,nt);return Math.floor((rt+nt.margin*2)*it)},et.qrToImageData=function(rt,nt,it){for(var at=nt.modules.size,st=nt.modules.data,ct=et.getScale(at,it),ut=Math.floor((at+it.margin*2)*ct),ft=it.margin*ct,gt=[it.color.light,it.color.dark],_t=0;_t<ut;_t++)for(var Et=0;Et<ut;Et++){var $t=(_t*ut+Et)*4,It=it.color.light;if(_t>=ft&&Et>=ft&&_t<ut-ft&&Et<ut-ft){var Tt=Math.floor((_t-ft)/ct),At=Math.floor((Et-ft)/ct);It=gt[st[Tt*at+At]?1:0]}rt[$t++]=It.r,rt[$t++]=It.g,rt[$t++]=It.b,rt[$t]=It.a}}})(utils);(function(et){var _e=utils;function tt(nt,it,at){nt.clearRect(0,0,it.width,it.height),it.style||(it.style={}),it.height=at,it.width=at,it.style.height=at+"px",it.style.width=at+"px"}function rt(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}et.render=function(it,at,st){var ct=st,ut=at;typeof ct=="undefined"&&(!at||!at.getContext)&&(ct=at,at=void 0),at||(ut=rt()),ct=_e.getOptions(ct);var ft=_e.getImageWidth(it.modules.size,ct),gt=ut.getContext("2d"),_t=gt.createImageData(ft,ft);return _e.qrToImageData(_t.data,it,ct),tt(gt,ut,ft),gt.putImageData(_t,0,0),ut},et.renderToDataURL=function(it,at,st){var ct=st;typeof ct=="undefined"&&(!at||!at.getContext)&&(ct=at,at=void 0),ct||(ct={});var ut=et.render(it,at,ct),ft=ct.type||"image/png",gt=ct.rendererOpts||{};return ut.toDataURL(ft,gt.quality)}})(canvas);var svgTag={},Utils=utils;function getColorAttrib(et,_e){var tt=et.a/255,rt=_e+'="'+et.hex+'"';return tt<1?rt+" "+_e+'-opacity="'+tt.toFixed(2).slice(1)+'"':rt}function svgCmd(et,_e,tt){var rt=et+_e;return typeof tt!="undefined"&&(rt+=" "+tt),rt}function qrToPath(et,_e,tt){for(var rt="",nt=0,it=!1,at=0,st=0;st<et.length;st++){var ct=Math.floor(st%_e),ut=Math.floor(st/_e);!ct&&!it&&(it=!0),et[st]?(at++,st>0&&ct>0&&et[st-1]||(rt+=it?svgCmd("M",ct+tt,.5+ut+tt):svgCmd("m",nt,0),nt=0,it=!1),ct+1<_e&&et[st+1]||(rt+=svgCmd("h",at),at=0)):nt++}return rt}svgTag.render=function et(_e,tt,rt){var nt=Utils.getOptions(tt),it=_e.modules.size,at=_e.modules.data,st=it+nt.margin*2,ct=nt.color.light.a?"<path "+getColorAttrib(nt.color.light,"fill")+' d="M0 0h'+st+"v"+st+'H0z"/>':"",ut="<path "+getColorAttrib(nt.color.dark,"stroke")+' d="'+qrToPath(at,it,nt.margin)+'"/>',ft='viewBox="0 0 '+st+" "+st+'"',gt=nt.width?'width="'+nt.width+'" height="'+nt.width+'" ':"",_t='<svg xmlns="http://www.w3.org/2000/svg" '+gt+ft+' shape-rendering="crispEdges">'+ct+ut+`</svg>
`;return typeof rt=="function"&&rt(null,_t),_t};var canPromise=canPromise$1,QRCode$1=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(et,_e,tt,rt,nt){var it=[].slice.call(arguments,1),at=it.length,st=typeof it[at-1]=="function";if(!st&&!canPromise())throw new Error("Callback required as last argument");if(st){if(at<2)throw new Error("Too few arguments provided");at===2?(nt=tt,tt=_e,_e=rt=void 0):at===3&&(_e.getContext&&typeof nt=="undefined"?(nt=rt,rt=void 0):(nt=rt,rt=tt,tt=_e,_e=void 0))}else{if(at<1)throw new Error("Too few arguments provided");return at===1?(tt=_e,_e=rt=void 0):at===2&&!_e.getContext&&(rt=tt,tt=_e,_e=void 0),new Promise(function(ut,ft){try{var gt=QRCode$1.create(tt,rt);ut(et(gt,_e,rt))}catch(_t){ft(_t)}})}try{var ct=QRCode$1.create(tt,rt);nt(null,et(ct,_e,rt))}catch(ut){nt(ut)}}browser.create=QRCode$1.create;browser.toCanvas=renderCanvas.bind(null,CanvasRenderer.render);browser.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL);browser.toString=renderCanvas.bind(null,function(et,_e,tt){return SvgRenderer.render(et,tt)});var toggleSelection=function(){var et=document.getSelection();if(!et.rangeCount)return function(){};for(var _e=document.activeElement,tt=[],rt=0;rt<et.rangeCount;rt++)tt.push(et.getRangeAt(rt));switch(_e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":_e.blur();break;default:_e=null;break}return et.removeAllRanges(),function(){et.type==="Caret"&&et.removeAllRanges(),et.rangeCount||tt.forEach(function(nt){et.addRange(nt)}),_e&&_e.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format(et){var _e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return et.replace(/#{\s*key\s*}/g,_e)}function copy$2(et,_e){var tt,rt,nt,it,at,st,ct=!1;_e||(_e={}),tt=_e.debug||!1;try{nt=deselectCurrent(),it=document.createRange(),at=document.getSelection(),st=document.createElement("span"),st.textContent=et,st.ariaHidden="true",st.style.all="unset",st.style.position="fixed",st.style.top=0,st.style.clip="rect(0, 0, 0, 0)",st.style.whiteSpace="pre",st.style.webkitUserSelect="text",st.style.MozUserSelect="text",st.style.msUserSelect="text",st.style.userSelect="text",st.addEventListener("copy",function(ft){if(ft.stopPropagation(),_e.format)if(ft.preventDefault(),typeof ft.clipboardData=="undefined"){tt&&console.warn("unable to use e.clipboardData"),tt&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var gt=clipboardToIE11Formatting[_e.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(gt,et)}else ft.clipboardData.clearData(),ft.clipboardData.setData(_e.format,et);_e.onCopy&&(ft.preventDefault(),_e.onCopy(ft.clipboardData))}),document.body.appendChild(st),it.selectNodeContents(st),at.addRange(it);var ut=document.execCommand("copy");if(!ut)throw new Error("copy command was unsuccessful");ct=!0}catch(ft){tt&&console.error("unable to copy using execCommand: ",ft),tt&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(_e.format||"text",et),_e.onCopy&&_e.onCopy(window.clipboardData),ct=!0}catch(gt){tt&&console.error("unable to copy using clipboardData: ",gt),tt&&console.error("falling back to prompt"),rt=format("message"in _e?_e.message:defaultMessage),window.prompt(rt,et)}}finally{at&&(typeof at.removeRange=="function"?at.removeRange(it):at.removeAllRanges()),st&&document.body.removeChild(st),nt()}return ct}var copyToClipboard=copy$2,n$1,u$1,i$1,t$2,r$2,o$1,f$2,e$2={},c$2=[],s$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function a$1(et,_e){for(var tt in _e)et[tt]=_e[tt];return et}function v$2(et){var _e=et.parentNode;_e&&_e.removeChild(et)}function h$2(et,_e,tt){var rt,nt=arguments,it={};for(rt in _e)rt!=="key"&&rt!=="ref"&&(it[rt]=_e[rt]);if(arguments.length>3)for(tt=[tt],rt=3;rt<arguments.length;rt++)tt.push(nt[rt]);if(tt!=null&&(it.children=tt),typeof et=="function"&&et.defaultProps!=null)for(rt in et.defaultProps)it[rt]===void 0&&(it[rt]=et.defaultProps[rt]);return p$2(et,it,_e&&_e.key,_e&&_e.ref,null)}function p$2(et,_e,tt,rt,nt){var it={type:et,props:_e,key:tt,ref:rt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:nt};return nt==null&&(it.__v=it),n$1.vnode&&n$1.vnode(it),it}function y$2(){return{}}function d$2(et){return et.children}function m$2(et,_e){this.props=et,this.context=_e}function w$3(et,_e){if(_e==null)return et.__?w$3(et.__,et.__.__k.indexOf(et)+1):null;for(var tt;_e<et.__k.length;_e++)if((tt=et.__k[_e])!=null&&tt.__e!=null)return tt.__e;return typeof et.type=="function"?w$3(et):null}function k$2(et){var _e,tt;if((et=et.__)!=null&&et.__c!=null){for(et.__e=et.__c.base=null,_e=0;_e<et.__k.length;_e++)if((tt=et.__k[_e])!=null&&tt.__e!=null){et.__e=et.__c.base=tt.__e;break}return k$2(et)}}function g$2(et){(!et.__d&&(et.__d=!0)&&u$1.push(et)&&!i$1++||r$2!==n$1.debounceRendering)&&((r$2=n$1.debounceRendering)||t$2)(_$2)}function _$2(){for(var et;i$1=u$1.length;)et=u$1.sort(function(_e,tt){return _e.__v.__b-tt.__v.__b}),u$1=[],et.some(function(_e){var tt,rt,nt,it,at,st,ct;_e.__d&&(st=(at=(tt=_e).__v).__e,(ct=tt.__P)&&(rt=[],(nt=a$1({},at)).__v=nt,it=A$3(ct,at,nt,tt.__n,ct.ownerSVGElement!==void 0,null,rt,st==null?w$3(at):st),T$2(rt,at),it!=st&&k$2(at)))})}function b$1(et,_e,tt,rt,nt,it,at,st,ct){var ut,ft,gt,_t,Et,$t,It,Tt=tt&&tt.__k||c$2,At=Tt.length;if(st==e$2&&(st=it!=null?it[0]:At?w$3(tt,0):null),ut=0,_e.__k=x$2(_e.__k,function(Rt){if(Rt!=null){if(Rt.__=_e,Rt.__b=_e.__b+1,(gt=Tt[ut])===null||gt&&Rt.key==gt.key&&Rt.type===gt.type)Tt[ut]=void 0;else for(ft=0;ft<At;ft++){if((gt=Tt[ft])&&Rt.key==gt.key&&Rt.type===gt.type){Tt[ft]=void 0;break}gt=null}if(_t=A$3(et,Rt,gt=gt||e$2,rt,nt,it,at,st,ct),(ft=Rt.ref)&&gt.ref!=ft&&(It||(It=[]),gt.ref&&It.push(gt.ref,null,Rt),It.push(ft,Rt.__c||_t,Rt)),_t!=null){var kt;if($t==null&&($t=_t),Rt.__d!==void 0)kt=Rt.__d,Rt.__d=void 0;else if(it==gt||_t!=st||_t.parentNode==null){e:if(st==null||st.parentNode!==et)et.appendChild(_t),kt=null;else{for(Et=st,ft=0;(Et=Et.nextSibling)&&ft<At;ft+=2)if(Et==_t)break e;et.insertBefore(_t,st),kt=st}_e.type=="option"&&(et.value="")}st=kt!==void 0?kt:_t.nextSibling,typeof _e.type=="function"&&(_e.__d=st)}else st&&gt.__e==st&&st.parentNode!=et&&(st=w$3(gt))}return ut++,Rt}),_e.__e=$t,it!=null&&typeof _e.type!="function")for(ut=it.length;ut--;)it[ut]!=null&&v$2(it[ut]);for(ut=At;ut--;)Tt[ut]!=null&&D$1(Tt[ut],Tt[ut]);if(It)for(ut=0;ut<It.length;ut++)j$1(It[ut],It[++ut],It[++ut])}function x$2(et,_e,tt){if(tt==null&&(tt=[]),et==null||typeof et=="boolean")_e&&tt.push(_e(null));else if(Array.isArray(et))for(var rt=0;rt<et.length;rt++)x$2(et[rt],_e,tt);else tt.push(_e?_e(typeof et=="string"||typeof et=="number"?p$2(null,et,null,null,et):et.__e!=null||et.__c!=null?p$2(et.type,et.props,et.key,null,et.__v):et):et);return tt}function P$1(et,_e,tt,rt,nt){var it;for(it in tt)it==="children"||it==="key"||it in _e||N$1(et,it,null,tt[it],rt);for(it in _e)nt&&typeof _e[it]!="function"||it==="children"||it==="key"||it==="value"||it==="checked"||tt[it]===_e[it]||N$1(et,it,_e[it],tt[it],rt)}function C$1(et,_e,tt){_e[0]==="-"?et.setProperty(_e,tt):et[_e]=typeof tt=="number"&&s$1.test(_e)===!1?tt+"px":tt==null?"":tt}function N$1(et,_e,tt,rt,nt){var it,at,st,ct,ut;if(nt?_e==="className"&&(_e="class"):_e==="class"&&(_e="className"),_e==="style")if(it=et.style,typeof tt=="string")it.cssText=tt;else{if(typeof rt=="string"&&(it.cssText="",rt=null),rt)for(ct in rt)tt&&ct in tt||C$1(it,ct,"");if(tt)for(ut in tt)rt&&tt[ut]===rt[ut]||C$1(it,ut,tt[ut])}else _e[0]==="o"&&_e[1]==="n"?(at=_e!==(_e=_e.replace(/Capture$/,"")),st=_e.toLowerCase(),_e=(st in et?st:_e).slice(2),tt?(rt||et.addEventListener(_e,z$2,at),(et.l||(et.l={}))[_e]=tt):et.removeEventListener(_e,z$2,at)):_e!=="list"&&_e!=="tagName"&&_e!=="form"&&_e!=="type"&&_e!=="size"&&!nt&&_e in et?et[_e]=tt==null?"":tt:typeof tt!="function"&&_e!=="dangerouslySetInnerHTML"&&(_e!==(_e=_e.replace(/^xlink:?/,""))?tt==null||tt===!1?et.removeAttributeNS("http://www.w3.org/1999/xlink",_e.toLowerCase()):et.setAttributeNS("http://www.w3.org/1999/xlink",_e.toLowerCase(),tt):tt==null||tt===!1&&!/^ar/.test(_e)?et.removeAttribute(_e):et.setAttribute(_e,tt))}function z$2(et){this.l[et.type](n$1.event?n$1.event(et):et)}function A$3(et,_e,tt,rt,nt,it,at,st,ct){var ut,ft,gt,_t,Et,$t,It,Tt,At,Rt,kt=_e.type;if(_e.constructor!==void 0)return null;(ut=n$1.__b)&&ut(_e);try{e:if(typeof kt=="function"){if(Tt=_e.props,At=(ut=kt.contextType)&&rt[ut.__c],Rt=ut?At?At.props.value:ut.__:rt,tt.__c?It=(ft=_e.__c=tt.__c).__=ft.__E:("prototype"in kt&&kt.prototype.render?_e.__c=ft=new kt(Tt,Rt):(_e.__c=ft=new m$2(Tt,Rt),ft.constructor=kt,ft.render=E$2),At&&At.sub(ft),ft.props=Tt,ft.state||(ft.state={}),ft.context=Rt,ft.__n=rt,gt=ft.__d=!0,ft.__h=[]),ft.__s==null&&(ft.__s=ft.state),kt.getDerivedStateFromProps!=null&&(ft.__s==ft.state&&(ft.__s=a$1({},ft.__s)),a$1(ft.__s,kt.getDerivedStateFromProps(Tt,ft.__s))),_t=ft.props,Et=ft.state,gt)kt.getDerivedStateFromProps==null&&ft.componentWillMount!=null&&ft.componentWillMount(),ft.componentDidMount!=null&&ft.__h.push(ft.componentDidMount);else{if(kt.getDerivedStateFromProps==null&&Tt!==_t&&ft.componentWillReceiveProps!=null&&ft.componentWillReceiveProps(Tt,Rt),!ft.__e&&ft.shouldComponentUpdate!=null&&ft.shouldComponentUpdate(Tt,ft.__s,Rt)===!1||_e.__v===tt.__v&&!ft.__){for(ft.props=Tt,ft.state=ft.__s,_e.__v!==tt.__v&&(ft.__d=!1),ft.__v=_e,_e.__e=tt.__e,_e.__k=tt.__k,ft.__h.length&&at.push(ft),ut=0;ut<_e.__k.length;ut++)_e.__k[ut]&&(_e.__k[ut].__=_e);break e}ft.componentWillUpdate!=null&&ft.componentWillUpdate(Tt,ft.__s,Rt),ft.componentDidUpdate!=null&&ft.__h.push(function(){ft.componentDidUpdate(_t,Et,$t)})}ft.context=Rt,ft.props=Tt,ft.state=ft.__s,(ut=n$1.__r)&&ut(_e),ft.__d=!1,ft.__v=_e,ft.__P=et,ut=ft.render(ft.props,ft.state,ft.context),_e.__k=ut!=null&&ut.type==d$2&&ut.key==null?ut.props.children:Array.isArray(ut)?ut:[ut],ft.getChildContext!=null&&(rt=a$1(a$1({},rt),ft.getChildContext())),gt||ft.getSnapshotBeforeUpdate==null||($t=ft.getSnapshotBeforeUpdate(_t,Et)),b$1(et,_e,tt,rt,nt,it,at,st,ct),ft.base=_e.__e,ft.__h.length&&at.push(ft),It&&(ft.__E=ft.__=null),ft.__e=!1}else it==null&&_e.__v===tt.__v?(_e.__k=tt.__k,_e.__e=tt.__e):_e.__e=$$1(tt.__e,_e,tt,rt,nt,it,at,ct);(ut=n$1.diffed)&&ut(_e)}catch(Ot){_e.__v=null,n$1.__e(Ot,_e,tt)}return _e.__e}function T$2(et,_e){n$1.__c&&n$1.__c(_e,et),et.some(function(tt){try{et=tt.__h,tt.__h=[],et.some(function(rt){rt.call(tt)})}catch(rt){n$1.__e(rt,tt.__v)}})}function $$1(et,_e,tt,rt,nt,it,at,st){var ct,ut,ft,gt,_t,Et=tt.props,$t=_e.props;if(nt=_e.type==="svg"||nt,it!=null){for(ct=0;ct<it.length;ct++)if((ut=it[ct])!=null&&((_e.type===null?ut.nodeType===3:ut.localName===_e.type)||et==ut)){et=ut,it[ct]=null;break}}if(et==null){if(_e.type===null)return document.createTextNode($t);et=nt?document.createElementNS("http://www.w3.org/2000/svg",_e.type):document.createElement(_e.type,$t.is&&{is:$t.is}),it=null,st=!1}if(_e.type===null)Et!==$t&&et.data!=$t&&(et.data=$t);else{if(it!=null&&(it=c$2.slice.call(et.childNodes)),ft=(Et=tt.props||e$2).dangerouslySetInnerHTML,gt=$t.dangerouslySetInnerHTML,!st){if(Et===e$2)for(Et={},_t=0;_t<et.attributes.length;_t++)Et[et.attributes[_t].name]=et.attributes[_t].value;(gt||ft)&&(gt&&ft&&gt.__html==ft.__html||(et.innerHTML=gt&&gt.__html||""))}P$1(et,$t,Et,nt,st),gt?_e.__k=[]:(_e.__k=_e.props.children,b$1(et,_e,tt,rt,_e.type!=="foreignObject"&&nt,it,at,e$2,st)),st||("value"in $t&&(ct=$t.value)!==void 0&&ct!==et.value&&N$1(et,"value",ct,Et.value,!1),"checked"in $t&&(ct=$t.checked)!==void 0&&ct!==et.checked&&N$1(et,"checked",ct,Et.checked,!1))}return et}function j$1(et,_e,tt){try{typeof et=="function"?et(_e):et.current=_e}catch(rt){n$1.__e(rt,tt)}}function D$1(et,_e,tt){var rt,nt,it;if(n$1.unmount&&n$1.unmount(et),(rt=et.ref)&&(rt.current&&rt.current!==et.__e||j$1(rt,null,_e)),tt||typeof et.type=="function"||(tt=(nt=et.__e)!=null),et.__e=et.__d=void 0,(rt=et.__c)!=null){if(rt.componentWillUnmount)try{rt.componentWillUnmount()}catch(at){n$1.__e(at,_e)}rt.base=rt.__P=null}if(rt=et.__k)for(it=0;it<rt.length;it++)rt[it]&&D$1(rt[it],_e,tt);nt!=null&&v$2(nt)}function E$2(et,_e,tt){return this.constructor(et,tt)}function H$1(et,_e,tt){var rt,nt,it;n$1.__&&n$1.__(et,_e),nt=(rt=tt===o$1)?null:tt&&tt.__k||_e.__k,et=h$2(d$2,null,[et]),it=[],A$3(_e,(rt?_e:tt||_e).__k=et,nt||e$2,e$2,_e.ownerSVGElement!==void 0,tt&&!rt?[tt]:nt?null:c$2.slice.call(_e.childNodes),it,tt||e$2,rt),T$2(it,et)}function I$1(et,_e){H$1(et,_e,o$1)}function L$1(et,_e){var tt,rt;for(rt in _e=a$1(a$1({},et.props),_e),arguments.length>2&&(_e.children=c$2.slice.call(arguments,2)),tt={},_e)rt!=="key"&&rt!=="ref"&&(tt[rt]=_e[rt]);return p$2(et.type,tt,_e.key||et.key,_e.ref||et.ref,null)}function M$1(et){var _e={},tt={__c:"__cC"+f$2++,__:et,Consumer:function(rt,nt){return rt.children(nt)},Provider:function(rt){var nt,it=this;return this.getChildContext||(nt=[],this.getChildContext=function(){return _e[tt.__c]=it,_e},this.shouldComponentUpdate=function(at){it.props.value!==at.value&&nt.some(function(st){st.context=at.value,g$2(st)})},this.sub=function(at){nt.push(at);var st=at.componentWillUnmount;at.componentWillUnmount=function(){nt.splice(nt.indexOf(at),1),st&&st.call(at)}}),rt.children}};return tt.Consumer.contextType=tt,tt.Provider.__=tt,tt}n$1={__e:function(et,_e){for(var tt,rt;_e=_e.__;)if((tt=_e.__c)&&!tt.__)try{if(tt.constructor&&tt.constructor.getDerivedStateFromError!=null&&(rt=!0,tt.setState(tt.constructor.getDerivedStateFromError(et))),tt.componentDidCatch!=null&&(rt=!0,tt.componentDidCatch(et)),rt)return g$2(tt.__E=tt)}catch(nt){et=nt}throw et}},m$2.prototype.setState=function(et,_e){var tt;tt=this.__s!==this.state?this.__s:this.__s=a$1({},this.state),typeof et=="function"&&(et=et(tt,this.props)),et&&a$1(tt,et),et!=null&&this.__v&&(_e&&this.__h.push(_e),g$2(this))},m$2.prototype.forceUpdate=function(et){this.__v&&(this.__e=!0,et&&this.__h.push(et),g$2(this))},m$2.prototype.render=d$2,u$1=[],i$1=0,t$2=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o$1=e$2,f$2=0;var t$1,u,r$1,i=0,o=[],c$1=n$1.__r,f$1=n$1.diffed,e$1=n$1.__c,a=n$1.unmount;function v$1(et,_e){n$1.__h&&n$1.__h(u,et,i||_e),i=0;var tt=u.__H||(u.__H={__:[],__h:[]});return et>=tt.__.length&&tt.__.push({}),tt.__[et]}function m$1(et){return i=1,p$1(E$1,et)}function p$1(et,_e,tt){var rt=v$1(t$1++,2);return rt.__c||(rt.__c=u,rt.__=[tt?tt(_e):E$1(void 0,_e),function(nt){var it=et(rt.__[0],nt);rt.__[0]!==it&&(rt.__[0]=it,rt.__c.setState({}))}]),rt.__}function l$1(et,_e){var tt=v$1(t$1++,3);!n$1.__s&&x$1(tt.__H,_e)&&(tt.__=et,tt.__H=_e,u.__H.__h.push(tt))}function y$1(et,_e){var tt=v$1(t$1++,4);!n$1.__s&&x$1(tt.__H,_e)&&(tt.__=et,tt.__H=_e,u.__h.push(tt))}function d$1(et){return i=5,h$1(function(){return{current:et}},[])}function s(et,_e,tt){i=6,y$1(function(){typeof et=="function"?et(_e()):et&&(et.current=_e())},tt==null?tt:tt.concat(et))}function h$1(et,_e){var tt=v$1(t$1++,7);return x$1(tt.__H,_e)?(tt.__H=_e,tt.__h=et,tt.__=et()):tt.__}function T$1(et,_e){return i=8,h$1(function(){return et},_e)}function w$2(et){var _e=u.context[et.__c],tt=v$1(t$1++,9);return tt.__c=et,_e?(tt.__==null&&(tt.__=!0,_e.sub(u)),_e.props.value):et.__}function A$2(et,_e){n$1.useDebugValue&&n$1.useDebugValue(_e?_e(et):et)}function F$1(et){var _e=v$1(t$1++,10),tt=m$1();return _e.__=et,u.componentDidCatch||(u.componentDidCatch=function(rt){_e.__&&_e.__(rt),tt[1](rt)}),[tt[0],function(){tt[1](void 0)}]}function _$1(){o.some(function(et){if(et.__P)try{et.__H.__h.forEach(g$1),et.__H.__h.forEach(q$2),et.__H.__h=[]}catch(_e){return et.__H.__h=[],n$1.__e(_e,et.__v),!0}}),o=[]}function g$1(et){et.t&&et.t()}function q$2(et){var _e=et.__();typeof _e=="function"&&(et.t=_e)}function x$1(et,_e){return!et||_e.some(function(tt,rt){return tt!==et[rt]})}function E$1(et,_e){return typeof _e=="function"?_e(et):_e}n$1.__r=function(et){c$1&&c$1(et),t$1=0,(u=et.__c).__H&&(u.__H.__h.forEach(g$1),u.__H.__h.forEach(q$2),u.__H.__h=[])},n$1.diffed=function(et){f$1&&f$1(et);var _e=et.__c;if(_e){var tt=_e.__H;tt&&tt.__h.length&&(o.push(_e)!==1&&r$1===n$1.requestAnimationFrame||((r$1=n$1.requestAnimationFrame)||function(rt){var nt,it=function(){clearTimeout(at),cancelAnimationFrame(nt),setTimeout(rt)},at=setTimeout(it,100);typeof window!="undefined"&&(nt=requestAnimationFrame(it))})(_$1))}},n$1.__c=function(et,_e){_e.some(function(tt){try{tt.__h.forEach(g$1),tt.__h=tt.__h.filter(function(rt){return!rt.__||q$2(rt)})}catch(rt){_e.some(function(nt){nt.__h&&(nt.__h=[])}),_e=[],n$1.__e(rt,tt.__v)}}),e$1&&e$1(et,_e)},n$1.unmount=function(et){a&&a(et);var _e=et.__c;if(_e){var tt=_e.__H;if(tt)try{tt.__.forEach(function(rt){return rt.t&&rt.t()})}catch(rt){n$1.__e(rt,_e.__v)}}};function E(et,_e){for(var tt in _e)et[tt]=_e[tt];return et}function w$1(et,_e){for(var tt in et)if(tt!=="__source"&&!(tt in _e))return!0;for(var rt in _e)if(rt!=="__source"&&et[rt]!==_e[rt])return!0;return!1}var C=function(et){var _e,tt;function rt(nt){var it;return(it=et.call(this,nt)||this).isPureReactComponent=!0,it}return tt=et,(_e=rt).prototype=Object.create(tt.prototype),_e.prototype.constructor=_e,_e.__proto__=tt,rt.prototype.shouldComponentUpdate=function(nt,it){return w$1(this.props,nt)||w$1(this.state,it)},rt}(m$2);function _(et,_e){function tt(nt){var it=this.props.ref,at=it==nt.ref;return!at&&it&&(it.call?it(null):it.current=null),_e?!_e(this.props,nt)||!at:w$1(this.props,nt)}function rt(nt){return this.shouldComponentUpdate=tt,h$2(et,E({},nt))}return rt.prototype.isReactComponent=!0,rt.displayName="Memo("+(et.displayName||et.name)+")",rt.t=!0,rt}var A$1=n$1.__b;function S(et){function _e(tt){var rt=E({},tt);return delete rt.ref,et(rt,tt.ref)}return _e.prototype.isReactComponent=_e.t=!0,_e.displayName="ForwardRef("+(et.displayName||et.name)+")",_e}n$1.__b=function(et){et.type&&et.type.t&&et.ref&&(et.props.ref=et.ref,et.ref=null),A$1&&A$1(et)};var k$1=function(et,_e){return et?x$2(et).reduce(function(tt,rt,nt){return tt.concat(_e(rt,nt))},[]):null},R={map:k$1,forEach:k$1,count:function(et){return et?x$2(et).length:0},only:function(et){if((et=x$2(et)).length!==1)throw new Error("Children.only() expects only one child.");return et[0]},toArray:x$2},F=n$1.__e;function N(et){return et&&((et=E({},et)).__c=null,et.__k=et.__k&&et.__k.map(N)),et}function U(){this.__u=0,this.o=null,this.__b=null}function M(et){var _e=et.__.__c;return _e&&_e.u&&_e.u(et)}function L(et){var _e,tt,rt;function nt(it){if(_e||(_e=et()).then(function(at){tt=at.default||at},function(at){rt=at}),rt)throw rt;if(!tt)throw _e;return h$2(tt,it)}return nt.displayName="Lazy",nt.t=!0,nt}function O(){this.i=null,this.l=null}n$1.__e=function(et,_e,tt){if(et.then){for(var rt,nt=_e;nt=nt.__;)if((rt=nt.__c)&&rt.__c)return rt.__c(et,_e.__c)}F(et,_e,tt)},(U.prototype=new m$2).__c=function(et,_e){var tt=this;tt.o==null&&(tt.o=[]),tt.o.push(_e);var rt=M(tt.__v),nt=!1,it=function(){nt||(nt=!0,rt?rt(at):at())};_e.__c=_e.componentWillUnmount,_e.componentWillUnmount=function(){it(),_e.__c&&_e.__c()};var at=function(){var st;if(!--tt.__u)for(tt.__v.__k[0]=tt.state.u,tt.setState({u:tt.__b=null});st=tt.o.pop();)st.forceUpdate()};tt.__u++||tt.setState({u:tt.__b=tt.__v.__k[0]}),et.then(it,it)},U.prototype.render=function(et,_e){return this.__b&&(this.__v.__k[0]=N(this.__b),this.__b=null),[h$2(m$2,null,_e.u?null:et.children),_e.u&&et.fallback]};var P=function(et,_e,tt){if(++tt[1]===tt[0]&&et.l.delete(_e),et.props.revealOrder&&(et.props.revealOrder[0]!=="t"||!et.l.size))for(tt=et.i;tt;){for(;tt.length>3;)tt.pop()();if(tt[1]<tt[0])break;et.i=tt=tt[2]}};(O.prototype=new m$2).u=function(et){var _e=this,tt=M(_e.__v),rt=_e.l.get(et);return rt[0]++,function(nt){var it=function(){_e.props.revealOrder?(rt.push(nt),P(_e,et,rt)):nt()};tt?tt(it):it()}},O.prototype.render=function(et){this.i=null,this.l=new Map;var _e=x$2(et.children);et.revealOrder&&et.revealOrder[0]==="b"&&_e.reverse();for(var tt=_e.length;tt--;)this.l.set(_e[tt],this.i=[1,0,this.i]);return et.children},O.prototype.componentDidUpdate=O.prototype.componentDidMount=function(){var et=this;et.l.forEach(function(_e,tt){P(et,tt,_e)})};var W=function(){function et(){}var _e=et.prototype;return _e.getChildContext=function(){return this.props.context},_e.render=function(tt){return tt.children},et}();function j(et){var _e=this,tt=et.container,rt=h$2(W,{context:_e.context},et.vnode);return _e.s&&_e.s!==tt&&(_e.v.parentNode&&_e.s.removeChild(_e.v),D$1(_e.h),_e.p=!1),et.vnode?_e.p?(tt.__k=_e.__k,H$1(rt,tt),_e.__k=tt.__k):(_e.v=document.createTextNode(""),I$1("",tt),tt.appendChild(_e.v),_e.p=!0,_e.s=tt,H$1(rt,tt,_e.v),_e.__k=_e.v.__k):_e.p&&(_e.v.parentNode&&_e.s.removeChild(_e.v),D$1(_e.h)),_e.h=rt,_e.componentWillUnmount=function(){_e.v.parentNode&&_e.s.removeChild(_e.v),D$1(_e.h)},null}function z$1(et,_e){return h$2(j,{vnode:et,container:_e})}var D=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;m$2.prototype.isReactComponent={};var H=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103;function T(et,_e,tt){if(_e.__k==null)for(;_e.firstChild;)_e.removeChild(_e.firstChild);return H$1(et,_e),typeof tt=="function"&&tt(),et?et.__c:null}function V(et,_e,tt){return I$1(et,_e),typeof tt=="function"&&tt(),et?et.__c:null}var Z=n$1.event;function I(et,_e){et["UNSAFE_"+_e]&&!et[_e]&&Object.defineProperty(et,_e,{configurable:!1,get:function(){return this["UNSAFE_"+_e]},set:function(tt){this["UNSAFE_"+_e]=tt}})}n$1.event=function(et){Z&&(et=Z(et)),et.persist=function(){};var _e=!1,tt=!1,rt=et.stopPropagation;et.stopPropagation=function(){rt.call(et),_e=!0};var nt=et.preventDefault;return et.preventDefault=function(){nt.call(et),tt=!0},et.isPropagationStopped=function(){return _e},et.isDefaultPrevented=function(){return tt},et.nativeEvent=et};var $={configurable:!0,get:function(){return this.class}},q$1=n$1.vnode;n$1.vnode=function(et){et.$$typeof=H;var _e=et.type,tt=et.props;if(_e){if(tt.class!=tt.className&&($.enumerable="className"in tt,tt.className!=null&&(tt.class=tt.className),Object.defineProperty(tt,"className",$)),typeof _e!="function"){var rt,nt,it;for(it in tt.defaultValue&&tt.value!==void 0&&(tt.value||tt.value===0||(tt.value=tt.defaultValue),delete tt.defaultValue),Array.isArray(tt.value)&&tt.multiple&&_e==="select"&&(x$2(tt.children).forEach(function(at){tt.value.indexOf(at.props.value)!=-1&&(at.props.selected=!0)}),delete tt.value),tt)if(rt=D.test(it))break;if(rt)for(it in nt=et.props={},tt)nt[D.test(it)?it.replace(/[A-Z0-9]/,"-$&").toLowerCase():it]=tt[it]}(function(at){var st=et.type,ct=et.props;if(ct&&typeof st=="string"){var ut={};for(var ft in ct)/^on(Ani|Tra|Tou)/.test(ft)&&(ct[ft.toLowerCase()]=ct[ft],delete ct[ft]),ut[ft.toLowerCase()]=ft;if(ut.ondoubleclick&&(ct.ondblclick=ct[ut.ondoubleclick],delete ct[ut.ondoubleclick]),ut.onbeforeinput&&(ct.onbeforeinput=ct[ut.onbeforeinput],delete ct[ut.onbeforeinput]),ut.onchange&&(st==="textarea"||st.toLowerCase()==="input"&&!/^fil|che|ra/i.test(ct.type))){var gt=ut.oninput||"oninput";ct[gt]||(ct[gt]=ct[ut.onchange],delete ct[ut.onchange])}}})(),typeof _e=="function"&&!_e.m&&_e.prototype&&(I(_e.prototype,"componentWillMount"),I(_e.prototype,"componentWillReceiveProps"),I(_e.prototype,"componentWillUpdate"),_e.m=!0)}q$1&&q$1(et)};var B="16.8.0";function G(et){return h$2.bind(null,et)}function J(et){return!!et&&et.$$typeof===H}function K(et){return J(et)?L$1.apply(null,arguments):et}function Q(et){return!!et.__k&&(H$1(null,et),!0)}function X(et){return et&&(et.base||et.nodeType===1&&et)||null}var Y=function(et,_e){return et(_e)},compat_module={useState:m$1,useReducer:p$1,useEffect:l$1,useLayoutEffect:y$1,useRef:d$1,useImperativeHandle:s,useMemo:h$1,useCallback:T$1,useContext:w$2,useDebugValue:A$2,version:"16.8.0",Children:R,render:T,hydrate:T,unmountComponentAtNode:Q,createPortal:z$1,createElement:h$2,createContext:M$1,createFactory:G,cloneElement:K,createRef:y$2,Fragment:d$2,isValidElement:J,findDOMNode:X,Component:m$2,PureComponent:C,memo:_,forwardRef:S,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O,lazy:L},compat_module$1=Object.freeze(Object.defineProperty({__proto__:null,default:compat_module,version:B,Children:R,render:T,hydrate:V,unmountComponentAtNode:Q,createPortal:z$1,createFactory:G,cloneElement:K,isValidElement:J,findDOMNode:X,PureComponent:C,memo:_,forwardRef:S,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O,lazy:L,createElement:h$2,createContext:M$1,createRef:y$2,Fragment:d$2,Component:m$2,useState:m$1,useReducer:p$1,useEffect:l$1,useLayoutEffect:y$1,useRef:d$1,useImperativeHandle:s,useMemo:h$1,useCallback:T$1,useContext:w$2,useDebugValue:A$2,useErrorBoundary:F$1},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(compat_module$1);function _interopDefault(et){return et&&typeof et=="object"&&"default"in et?et.default:et}var browserUtils=require$$0,QRCode=_interopDefault(browser),copy$1=_interopDefault(copyToClipboard),React=require$$3;function open(et){QRCode.toString(et,{type:"terminal"}).then(console.log)}var WALLETCONNECT_STYLE_SHEET=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function _catch(et,_e){try{var tt=et()}catch(rt){return _e(rt)}return tt&&tt.then?tt.then(void 0,_e):tt}var WALLETCONNECT_LOGO_SVG_URL="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",WALLETCONNECT_HEADER_TEXT="WalletConnect",ANIMATION_DURATION=300,DEFAULT_BUTTON_COLOR="rgb(64, 153, 255)",WALLETCONNECT_WRAPPER_ID="walletconnect-wrapper",WALLETCONNECT_STYLE_ID="walletconnect-style-sheet",WALLETCONNECT_MODAL_ID="walletconnect-qrcode-modal",WALLETCONNECT_CLOSE_BUTTON_ID="walletconnect-qrcode-close",WALLETCONNECT_CTA_TEXT_ID="walletconnect-qrcode-text",WALLETCONNECT_CONNECT_BUTTON_ID="walletconnect-connect-button";function Header(et){return React.createElement("div",{className:"walletconnect-modal__header"},React.createElement("img",{src:WALLETCONNECT_LOGO_SVG_URL,className:"walletconnect-modal__headerLogo"}),React.createElement("p",null,WALLETCONNECT_HEADER_TEXT),React.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:et.onClose},React.createElement("div",{id:WALLETCONNECT_CLOSE_BUTTON_ID,className:"walletconnect-modal__close__icon"},React.createElement("div",{className:"walletconnect-modal__close__line1"}),React.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function ConnectButton(et){return React.createElement("a",{className:"walletconnect-connect__button",href:et.href,id:WALLETCONNECT_CONNECT_BUTTON_ID+"-"+et.name,onClick:et.onClick,rel:"noopener noreferrer",style:{backgroundColor:et.color},target:"_blank"},et.name)}var CARET_SVG_URL="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function WalletButton(et){var _e=et.color,tt=et.href,rt=et.name,nt=et.logo,it=et.onClick;return React.createElement("a",{className:"walletconnect-modal__base__row",href:tt,onClick:it,rel:"noopener noreferrer",target:"_blank"},React.createElement("h3",{className:"walletconnect-modal__base__row__h3"},rt),React.createElement("div",{className:"walletconnect-modal__base__row__right"},React.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+nt+"') "+_e,backgroundSize:"100%"}}),React.createElement("img",{src:CARET_SVG_URL,className:"walletconnect-modal__base__row__right__caret"})))}function WalletIcon(et){var _e=et.color,tt=et.href,rt=et.name,nt=et.logo,it=et.onClick,at=window.innerWidth<768?(rt.length>8?2.5:2.7)+"vw":"inherit";return React.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:tt,onClick:it,rel:"noopener noreferrer",target:"_blank"},React.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+nt+"') "+_e,backgroundSize:"100%"}}),React.createElement("div",{style:{fontSize:at},className:"walletconnect-connect__button__text"},rt))}var GRID_MIN_COUNT=5,LINKS_PER_PAGE=12;function LinkDisplay(et){var _e=browserUtils.isAndroid(),tt=React.useState(""),rt=tt[0],nt=tt[1],it=React.useState(""),at=it[0],st=it[1],ct=React.useState(1),ut=ct[0],ft=ct[1],gt=at?et.links.filter(function(Ot){return Ot.name.toLowerCase().includes(at.toLowerCase())}):et.links,_t=et.errorMessage,Et=at||gt.length>GRID_MIN_COUNT,$t=Math.ceil(gt.length/LINKS_PER_PAGE),It=[(ut-1)*LINKS_PER_PAGE+1,ut*LINKS_PER_PAGE],Tt=gt.length?gt.filter(function(Ot,Wt){return Wt+1>=It[0]&&Wt+1<=It[1]}):[],At=!_e&&$t>1,Rt=void 0;function kt(Ot){nt(Ot.target.value),clearTimeout(Rt),Ot.target.value?Rt=setTimeout(function(){st(Ot.target.value),ft(1)},1e3):(nt(""),st(""),ft(1))}return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},_e?et.text.connect_mobile_wallet:et.text.choose_preferred_wallet),!_e&&React.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:rt,onChange:kt}),React.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(_e?"__android":Et&&gt.length?"__wrap":"")},_e?React.createElement(ConnectButton,{name:et.text.connect,color:DEFAULT_BUTTON_COLOR,href:et.uri,onClick:React.useCallback(function(){browserUtils.saveMobileLinkInfo({name:"Unknown",href:et.uri})},[])}):Tt.length?Tt.map(function(Ot){var Wt=Ot.color,zt=Ot.name,Kt=Ot.shortName,Jt=Ot.logo,ar=browserUtils.formatIOSMobile(et.uri,Ot),jt=React.useCallback(function(){browserUtils.saveMobileLinkInfo({name:zt,href:ar})},[Tt]);return Et?React.createElement(WalletIcon,{color:Wt,href:ar,name:Kt||zt,logo:Jt,onClick:jt}):React.createElement(WalletButton,{color:Wt,href:ar,name:zt,logo:Jt,onClick:jt})}):React.createElement(React.Fragment,null,React.createElement("p",null,_t.length?et.errorMessage:!!et.links.length&&!gt.length?et.text.no_wallets_found:et.text.loading))),At&&React.createElement("div",{className:"walletconnect-modal__footer"},Array($t).fill(0).map(function(Ot,Wt){var zt=Wt+1,Kt=ut===zt;return React.createElement("a",{style:{margin:"auto 10px",fontWeight:Kt?"bold":"normal"},onClick:function(){return ft(zt)}},zt)})))}function Notification(et){var _e=!!et.message.trim();return React.createElement("div",{className:"walletconnect-qrcode__notification"+(_e?" notification__show":"")},et.message)}var formatQRCodeImage=function(et){try{var _e="";return Promise.resolve(QRCode.toString(et,{margin:0,type:"svg"})).then(function(tt){return typeof tt=="string"&&(_e=tt.replace("<svg",'<svg class="walletconnect-qrcode__image"')),_e})}catch(tt){return Promise.reject(tt)}};function QRCodeDisplay(et){var _e=React.useState(""),tt=_e[0],rt=_e[1],nt=React.useState(""),it=nt[0],at=nt[1];React.useEffect(function(){try{return Promise.resolve(formatQRCodeImage(et.uri)).then(function(ct){at(ct)})}catch(ct){Promise.reject(ct)}},[]);var st=function(){var ct=copy$1(et.uri);ct?(rt(et.text.copied_to_clipboard),setInterval(function(){return rt("")},1200)):(rt("Error"),setInterval(function(){return rt("")},1200))};return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},et.text.scan_qrcode_with_wallet),React.createElement("div",{dangerouslySetInnerHTML:{__html:it}}),React.createElement("div",{className:"walletconnect-modal__footer"},React.createElement("a",{onClick:st},et.text.copy_to_clipboard)),React.createElement(Notification,{message:tt}))}function Modal(et){var _e=browserUtils.isAndroid(),tt=browserUtils.isMobile(),rt=tt?et.qrcodeModalOptions&&et.qrcodeModalOptions.mobileLinks?et.qrcodeModalOptions.mobileLinks:void 0:et.qrcodeModalOptions&&et.qrcodeModalOptions.desktopLinks?et.qrcodeModalOptions.desktopLinks:void 0,nt=React.useState(!1),it=nt[0],at=nt[1],st=React.useState(!1),ct=st[0],ut=st[1],ft=React.useState(!tt),gt=ft[0],_t=ft[1],Et={mobile:tt,text:et.text,uri:et.uri,qrcodeModalOptions:et.qrcodeModalOptions},$t=React.useState(""),It=$t[0],Tt=$t[1],At=React.useState(!1),Rt=At[0],kt=At[1],Ot=React.useState([]),Wt=Ot[0],zt=Ot[1],Kt=React.useState(""),Jt=Kt[0],ar=Kt[1],jt=function(){ct||it||rt&&!rt.length||Wt.length>0||React.useEffect(function(){var Nt=function(){try{if(_e)return Promise.resolve();at(!0);var ht=_catch(function(){var ot=et.qrcodeModalOptions&&et.qrcodeModalOptions.registryUrl?et.qrcodeModalOptions.registryUrl:browserUtils.getWalletRegistryUrl();return Promise.resolve(fetch(ot)).then(function(dt){return Promise.resolve(dt.json()).then(function(mt){var wt=mt.listings,bt=tt?"mobile":"desktop",vt=browserUtils.getMobileLinkRegistry(browserUtils.formatMobileRegistry(wt,bt),rt);at(!1),ut(!0),ar(vt.length?"":et.text.no_supported_wallets),zt(vt);var St=vt.length===1;St&&(Tt(browserUtils.formatIOSMobile(et.uri,vt[0])),_t(!0)),kt(St)})})},function(ot){at(!1),ut(!0),ar(et.text.something_went_wrong),console.error(ot)});return Promise.resolve(ht&&ht.then?ht.then(function(){}):void 0)}catch(ot){return Promise.reject(ot)}};Nt()})};jt();var Ct=tt?gt:!gt;return React.createElement("div",{id:WALLETCONNECT_MODAL_ID,className:"walletconnect-qrcode__base animated fadeIn"},React.createElement("div",{className:"walletconnect-modal__base"},React.createElement(Header,{onClose:et.onClose}),Rt&&gt?React.createElement("div",{className:"walletconnect-modal__single_wallet"},React.createElement("a",{onClick:function(){return browserUtils.saveMobileLinkInfo({name:Wt[0].name,href:It})},href:It,rel:"noopener noreferrer",target:"_blank"},et.text.connect_with+" "+(Rt?Wt[0].name:"")+" \u203A")):_e||it||!it&&Wt.length?React.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(Ct?" right__selected":"")},React.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),tt?React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return _t(!1),jt()}},et.text.mobile),React.createElement("a",{onClick:function(){return _t(!0)}},et.text.qrcode)):React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return _t(!0)}},et.text.qrcode),React.createElement("a",{onClick:function(){return _t(!1),jt()}},et.text.desktop))):null,React.createElement("div",null,gt||!_e&&!it&&!Wt.length?React.createElement(QRCodeDisplay,Object.assign({},Et)):React.createElement(LinkDisplay,Object.assign({},Et,{links:Wt,errorMessage:Jt})))))}var de={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},en={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},es={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},fr={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},ko={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},pt={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},zh={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},fa={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},languages={de,en,es,fr,ko,pt,zh,fa};function injectStyleSheet(){var et=browserUtils.getDocumentOrThrow(),_e=et.getElementById(WALLETCONNECT_STYLE_ID);_e&&et.head.removeChild(_e);var tt=et.createElement("style");tt.setAttribute("id",WALLETCONNECT_STYLE_ID),tt.innerText=WALLETCONNECT_STYLE_SHEET,et.head.appendChild(tt)}function renderWrapper(){var et=browserUtils.getDocumentOrThrow(),_e=et.createElement("div");return _e.setAttribute("id",WALLETCONNECT_WRAPPER_ID),et.body.appendChild(_e),_e}function triggerCloseAnimation(){var et=browserUtils.getDocumentOrThrow(),_e=et.getElementById(WALLETCONNECT_MODAL_ID);_e&&(_e.className=_e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var tt=et.getElementById(WALLETCONNECT_WRAPPER_ID);tt&&et.body.removeChild(tt)},ANIMATION_DURATION))}function getWrappedCallback(et){return function(){triggerCloseAnimation(),et&&et()}}function getText(){var et=browserUtils.getNavigatorOrThrow().language.split("-")[0]||"en";return languages[et]||languages.en}function open$1(et,_e,tt){injectStyleSheet();var rt=renderWrapper();React.render(React.createElement(Modal,{text:getText(),uri:et,onClose:getWrappedCallback(_e),qrcodeModalOptions:tt}),rt)}function close$1(){triggerCloseAnimation()}var isNode=function(){return typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"};function open$2(et,_e,tt){console.log(et),isNode()?open(et):open$1(et,_e,tt)}function close$2(){isNode()||close$1()}var index={open:open$2,close:close$2},cjs=index;class SignerConnection extends IJsonRpcConnection{constructor(_e){super(),this.events=new EventEmitter$2,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=_e,this.chainId=(_e==null?void 0:_e.chainId)||this.chainId,this.wc=this.register(_e)}get connected(){return typeof this.wc!="undefined"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(_e,tt){this.events.on(_e,tt)}once(_e,tt){this.events.once(_e,tt)}off(_e,tt){this.events.off(_e,tt)}removeListener(_e,tt){this.events.removeListener(_e,tt)}async open(_e){if(this.connected){this.onOpen();return}return new Promise((tt,rt)=>{this.on("error",nt=>{rt(nt)}),this.on("open",()=>{tt()}),this.create(_e)})}async close(){typeof this.wc!="undefined"&&(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(_e){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(_e).then(tt=>this.events.emit("payload",tt)).catch(tt=>this.events.emit("payload",formatJsonRpcError(_e.id,tt.message)))}register(_e){if(this.wc)return this.wc;this.opts=_e||this.opts,this.bridge=_e!=null&&_e.connector?_e.connector.bridge:(_e==null?void 0:_e.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(_e==null?void 0:_e.qrcode)=="undefined"||_e.qrcode!==!1,this.chainId=typeof(_e==null?void 0:_e.chainId)!="undefined"?_e.chainId:this.chainId,this.qrcodeModalOptions=_e==null?void 0:_e.qrcodeModalOptions;const tt={bridge:this.bridge,qrcodeModal:this.qrcode?cjs:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:_e==null?void 0:_e.storageId,signingMethods:_e==null?void 0:_e.signingMethods,clientMeta:_e==null?void 0:_e.clientMeta};if(this.wc=typeof(_e==null?void 0:_e.connector)!="undefined"?_e.connector:new WalletConnect(tt),typeof this.wc=="undefined")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(_e){this.pending=!1,_e&&(this.wc=_e),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(_e,tt="Failed or Rejected Request",rt=-32e3){const nt={id:_e.id,jsonrpc:_e.jsonrpc,error:{code:rt,message:tt}};return this.events.emit("payload",nt),nt}create(_e){this.wc=this.register(this.opts),this.chainId=_e||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(tt=>this.events.emit("error",tt)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",_e=>{var tt,rt;if(_e){this.events.emit("error",_e);return}this.accounts=((tt=this.wc)===null||tt===void 0?void 0:tt.accounts)||[],this.chainId=((rt=this.wc)===null||rt===void 0?void 0:rt.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",_e=>{if(_e){this.events.emit("error",_e);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(_e,tt)=>{const{accounts:rt,chainId:nt}=tt.params[0];(!this.accounts||rt&&this.accounts!==rt)&&(this.accounts=rt,this.events.emit("accountsChanged",rt)),(!this.chainId||nt&&this.chainId!==nt)&&(this.chainId=nt,this.events.emit("chainChanged",nt))})}async sendPayload(_e){this.wc=this.register(this.opts);try{const tt=await this.wc.unsafeSend(_e);return this.sanitizeResponse(tt)}catch(tt){return this.onError(_e,tt.message)}}sanitizeResponse(_e){return typeof _e.error!="undefined"&&typeof _e.error.code=="undefined"?formatJsonRpcError(_e.id,_e.error.message):_e}}class WalletConnectProvider{constructor(_e){this.events=new EventEmitter$2,this.rpc={infuraId:_e==null?void 0:_e.infuraId,custom:_e==null?void 0:_e.rpc},this.signer=new JsonRpcProvider(new SignerConnection(_e));const tt=this.signer.connection.chainId||(_e==null?void 0:_e.chainId)||1;this.http=this.setHttpProvider(tt),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var _e;return((_e=this.http)===null||_e===void 0?void 0:_e.connection).url||""}async request(_e){switch(_e.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(signingMethods.includes(_e.method))return this.signer.request(_e);if(typeof this.http=="undefined")throw new Error(`Cannot request JSON-RPC method (${_e.method}) without provided rpc url`);return this.http.request(_e)}sendAsync(_e,tt){this.request(_e).then(rt=>tt(null,rt)).catch(rt=>tt(rt,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(_e,tt){this.events.on(_e,tt)}once(_e,tt){this.events.once(_e,tt)}removeListener(_e,tt){this.events.removeListener(_e,tt)}off(_e,tt){this.events.off(_e,tt)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",_e=>{this.events.emit("accountsChanged",_e)}),this.signer.connection.on("chainChanged",_e=>{this.http=this.setHttpProvider(_e),this.events.emit("chainChanged",_e)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(_e){const tt=getRpcUrl(_e,this.rpc);return typeof tt=="undefined"?void 0:new JsonRpcProvider(new HttpConnection(tt))}}function _classPrivateMethodInitSpec(et,_e){_checkPrivateRedeclaration(et,_e),_e.add(et)}function _classPrivateMethodGet(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to get private field on non-instance");return tt}const switchChainAllowedRegex=/(rainbow)/i;var _provider=new WeakMap,_switchChain=new WeakSet;class WalletConnectConnector extends Connector$1{constructor(_e){super(_e),_classPrivateMethodInitSpec(this,_switchChain),_defineProperty$2(this,"id","walletConnect"),_defineProperty$2(this,"name","WalletConnect"),_defineProperty$2(this,"ready",!0),_classPrivateFieldInitSpec(this,_provider,{writable:!0,value:void 0}),_defineProperty$2(this,"onAccountsChanged",tt=>{tt.length===0?this.emit("disconnect"):this.emit("change",{account:utils$6.getAddress(tt[0])})}),_defineProperty$2(this,"onChainChanged",tt=>{const rt=normalizeChainId(tt),nt=this.isChainUnsupported(rt);this.emit("change",{chain:{id:rt,unsupported:nt}})}),_defineProperty$2(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect(){try{var _e,tt,rt;const nt=this.getProvider(!0);nt.on("accountsChanged",this.onAccountsChanged),nt.on("chainChanged",this.onChainChanged),nt.on("disconnect",this.onDisconnect);const it=await nt.enable(),at=utils$6.getAddress(it[0]),st=await this.getChainId(),ct=this.isChainUnsupported(st),ut=(_e=(tt=nt.connector)===null||tt===void 0||(rt=tt.peerMeta)===null||rt===void 0?void 0:rt.name)!==null&&_e!==void 0?_e:"";return switchChainAllowedRegex.test(ut)&&(this.switchChain=_classPrivateMethodGet(this,_switchChain,_switchChain2)),{account:at,chain:{id:st,unsupported:ct},provider:new Web3Provider(nt)}}catch(nt){throw/user closed modal/i.test(nt.message)?new UserRejectedRequestError:nt}}async disconnect(){const _e=this.getProvider();await _e.disconnect(),_e.removeListener("accountsChanged",this.onAccountsChanged),_e.removeListener("chainChanged",this.onChainChanged),_e.removeListener("disconnect",this.onDisconnect),typeof localStorage!="undefined"&&localStorage.removeItem("walletconnect")}async getAccount(){const tt=this.getProvider().accounts;return utils$6.getAddress(tt[0])}async getChainId(){const _e=this.getProvider();return normalizeChainId(_e.chainId)}getProvider(_e){return(!_classPrivateFieldGet(this,_provider)||_e)&&_classPrivateFieldSet(this,_provider,new WalletConnectProvider(this.options)),_classPrivateFieldGet(this,_provider)}async getSigner(){const _e=this.getProvider(),tt=await this.getAccount();return new Web3Provider(_e).getSigner(tt)}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}}async function _switchChain2(et){const _e=this.getProvider(),tt=utils$6.hexValue(et);try{return await _e.request({method:"wallet_switchEthereumChain",params:[{chainId:tt}]}),[...this.chains,...allChains].find(nt=>nt.id===et)}catch(rt){const nt=typeof rt=="string"?rt:rt==null?void 0:rt.message;throw/user rejected request/i.test(nt)?new UserRejectedRequestError:new SwitchChainError}}var buffer={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(et){const _e=base64Js,tt=ieee754,rt=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;et.Buffer=st,et.SlowBuffer=Rt,et.INSPECT_MAX_BYTES=50;const nt=2147483647;et.kMaxLength=nt,st.TYPED_ARRAY_SUPPORT=it(),!st.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function it(){try{const Vt=new Uint8Array(1),Dt={foo:function(){return 42}};return Object.setPrototypeOf(Dt,Uint8Array.prototype),Object.setPrototypeOf(Vt,Dt),Vt.foo()===42}catch{return!1}}Object.defineProperty(st.prototype,"parent",{enumerable:!0,get:function(){if(!!st.isBuffer(this))return this.buffer}}),Object.defineProperty(st.prototype,"offset",{enumerable:!0,get:function(){if(!!st.isBuffer(this))return this.byteOffset}});function at(Vt){if(Vt>nt)throw new RangeError('The value "'+Vt+'" is invalid for option "size"');const Dt=new Uint8Array(Vt);return Object.setPrototypeOf(Dt,st.prototype),Dt}function st(Vt,Dt,Bt){if(typeof Vt=="number"){if(typeof Dt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return gt(Vt)}return ct(Vt,Dt,Bt)}st.poolSize=8192;function ct(Vt,Dt,Bt){if(typeof Vt=="string")return _t(Vt,Dt);if(ArrayBuffer.isView(Vt))return $t(Vt);if(Vt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Vt);if(Er(Vt,ArrayBuffer)||Vt&&Er(Vt.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Er(Vt,SharedArrayBuffer)||Vt&&Er(Vt.buffer,SharedArrayBuffer)))return It(Vt,Dt,Bt);if(typeof Vt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Gt=Vt.valueOf&&Vt.valueOf();if(Gt!=null&&Gt!==Vt)return st.from(Gt,Dt,Bt);const cr=Tt(Vt);if(cr)return cr;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof Vt[Symbol.toPrimitive]=="function")return st.from(Vt[Symbol.toPrimitive]("string"),Dt,Bt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Vt)}st.from=function(Vt,Dt,Bt){return ct(Vt,Dt,Bt)},Object.setPrototypeOf(st.prototype,Uint8Array.prototype),Object.setPrototypeOf(st,Uint8Array);function ut(Vt){if(typeof Vt!="number")throw new TypeError('"size" argument must be of type number');if(Vt<0)throw new RangeError('The value "'+Vt+'" is invalid for option "size"')}function ft(Vt,Dt,Bt){return ut(Vt),Vt<=0?at(Vt):Dt!==void 0?typeof Bt=="string"?at(Vt).fill(Dt,Bt):at(Vt).fill(Dt):at(Vt)}st.alloc=function(Vt,Dt,Bt){return ft(Vt,Dt,Bt)};function gt(Vt){return ut(Vt),at(Vt<0?0:At(Vt)|0)}st.allocUnsafe=function(Vt){return gt(Vt)},st.allocUnsafeSlow=function(Vt){return gt(Vt)};function _t(Vt,Dt){if((typeof Dt!="string"||Dt==="")&&(Dt="utf8"),!st.isEncoding(Dt))throw new TypeError("Unknown encoding: "+Dt);const Bt=kt(Vt,Dt)|0;let Gt=at(Bt);const cr=Gt.write(Vt,Dt);return cr!==Bt&&(Gt=Gt.slice(0,cr)),Gt}function Et(Vt){const Dt=Vt.length<0?0:At(Vt.length)|0,Bt=at(Dt);for(let Gt=0;Gt<Dt;Gt+=1)Bt[Gt]=Vt[Gt]&255;return Bt}function $t(Vt){if(Er(Vt,Uint8Array)){const Dt=new Uint8Array(Vt);return It(Dt.buffer,Dt.byteOffset,Dt.byteLength)}return Et(Vt)}function It(Vt,Dt,Bt){if(Dt<0||Vt.byteLength<Dt)throw new RangeError('"offset" is outside of buffer bounds');if(Vt.byteLength<Dt+(Bt||0))throw new RangeError('"length" is outside of buffer bounds');let Gt;return Dt===void 0&&Bt===void 0?Gt=new Uint8Array(Vt):Bt===void 0?Gt=new Uint8Array(Vt,Dt):Gt=new Uint8Array(Vt,Dt,Bt),Object.setPrototypeOf(Gt,st.prototype),Gt}function Tt(Vt){if(st.isBuffer(Vt)){const Dt=At(Vt.length)|0,Bt=at(Dt);return Bt.length===0||Vt.copy(Bt,0,0,Dt),Bt}if(Vt.length!==void 0)return typeof Vt.length!="number"||mr(Vt.length)?at(0):Et(Vt);if(Vt.type==="Buffer"&&Array.isArray(Vt.data))return Et(Vt.data)}function At(Vt){if(Vt>=nt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+nt.toString(16)+" bytes");return Vt|0}function Rt(Vt){return+Vt!=Vt&&(Vt=0),st.alloc(+Vt)}st.isBuffer=function(Dt){return Dt!=null&&Dt._isBuffer===!0&&Dt!==st.prototype},st.compare=function(Dt,Bt){if(Er(Dt,Uint8Array)&&(Dt=st.from(Dt,Dt.offset,Dt.byteLength)),Er(Bt,Uint8Array)&&(Bt=st.from(Bt,Bt.offset,Bt.byteLength)),!st.isBuffer(Dt)||!st.isBuffer(Bt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Dt===Bt)return 0;let Gt=Dt.length,cr=Bt.length;for(let nr=0,or=Math.min(Gt,cr);nr<or;++nr)if(Dt[nr]!==Bt[nr]){Gt=Dt[nr],cr=Bt[nr];break}return Gt<cr?-1:cr<Gt?1:0},st.isEncoding=function(Dt){switch(String(Dt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},st.concat=function(Dt,Bt){if(!Array.isArray(Dt))throw new TypeError('"list" argument must be an Array of Buffers');if(Dt.length===0)return st.alloc(0);let Gt;if(Bt===void 0)for(Bt=0,Gt=0;Gt<Dt.length;++Gt)Bt+=Dt[Gt].length;const cr=st.allocUnsafe(Bt);let nr=0;for(Gt=0;Gt<Dt.length;++Gt){let or=Dt[Gt];if(Er(or,Uint8Array))nr+or.length>cr.length?(st.isBuffer(or)||(or=st.from(or)),or.copy(cr,nr)):Uint8Array.prototype.set.call(cr,or,nr);else if(st.isBuffer(or))or.copy(cr,nr);else throw new TypeError('"list" argument must be an Array of Buffers');nr+=or.length}return cr};function kt(Vt,Dt){if(st.isBuffer(Vt))return Vt.length;if(ArrayBuffer.isView(Vt)||Er(Vt,ArrayBuffer))return Vt.byteLength;if(typeof Vt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Vt);const Bt=Vt.length,Gt=arguments.length>2&&arguments[2]===!0;if(!Gt&&Bt===0)return 0;let cr=!1;for(;;)switch(Dt){case"ascii":case"latin1":case"binary":return Bt;case"utf8":case"utf-8":return Ft(Vt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bt*2;case"hex":return Bt>>>1;case"base64":return tr(Vt).length;default:if(cr)return Gt?-1:Ft(Vt).length;Dt=(""+Dt).toLowerCase(),cr=!0}}st.byteLength=kt;function Ot(Vt,Dt,Bt){let Gt=!1;if((Dt===void 0||Dt<0)&&(Dt=0),Dt>this.length||((Bt===void 0||Bt>this.length)&&(Bt=this.length),Bt<=0)||(Bt>>>=0,Dt>>>=0,Bt<=Dt))return"";for(Vt||(Vt="utf8");;)switch(Vt){case"hex":return vt(this,Dt,Bt);case"utf8":case"utf-8":return ot(this,Dt,Bt);case"ascii":return wt(this,Dt,Bt);case"latin1":case"binary":return bt(this,Dt,Bt);case"base64":return ht(this,Dt,Bt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return St(this,Dt,Bt);default:if(Gt)throw new TypeError("Unknown encoding: "+Vt);Vt=(Vt+"").toLowerCase(),Gt=!0}}st.prototype._isBuffer=!0;function Wt(Vt,Dt,Bt){const Gt=Vt[Dt];Vt[Dt]=Vt[Bt],Vt[Bt]=Gt}st.prototype.swap16=function(){const Dt=this.length;if(Dt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Bt=0;Bt<Dt;Bt+=2)Wt(this,Bt,Bt+1);return this},st.prototype.swap32=function(){const Dt=this.length;if(Dt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Bt=0;Bt<Dt;Bt+=4)Wt(this,Bt,Bt+3),Wt(this,Bt+1,Bt+2);return this},st.prototype.swap64=function(){const Dt=this.length;if(Dt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Bt=0;Bt<Dt;Bt+=8)Wt(this,Bt,Bt+7),Wt(this,Bt+1,Bt+6),Wt(this,Bt+2,Bt+5),Wt(this,Bt+3,Bt+4);return this},st.prototype.toString=function(){const Dt=this.length;return Dt===0?"":arguments.length===0?ot(this,0,Dt):Ot.apply(this,arguments)},st.prototype.toLocaleString=st.prototype.toString,st.prototype.equals=function(Dt){if(!st.isBuffer(Dt))throw new TypeError("Argument must be a Buffer");return this===Dt?!0:st.compare(this,Dt)===0},st.prototype.inspect=function(){let Dt="";const Bt=et.INSPECT_MAX_BYTES;return Dt=this.toString("hex",0,Bt).replace(/(.{2})/g,"$1 ").trim(),this.length>Bt&&(Dt+=" ... "),"<Buffer "+Dt+">"},rt&&(st.prototype[rt]=st.prototype.inspect),st.prototype.compare=function(Dt,Bt,Gt,cr,nr){if(Er(Dt,Uint8Array)&&(Dt=st.from(Dt,Dt.offset,Dt.byteLength)),!st.isBuffer(Dt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Dt);if(Bt===void 0&&(Bt=0),Gt===void 0&&(Gt=Dt?Dt.length:0),cr===void 0&&(cr=0),nr===void 0&&(nr=this.length),Bt<0||Gt>Dt.length||cr<0||nr>this.length)throw new RangeError("out of range index");if(cr>=nr&&Bt>=Gt)return 0;if(cr>=nr)return-1;if(Bt>=Gt)return 1;if(Bt>>>=0,Gt>>>=0,cr>>>=0,nr>>>=0,this===Dt)return 0;let or=nr-cr,qr=Gt-Bt;const vr=Math.min(or,qr),br=this.slice(cr,nr),Zr=Dt.slice(Bt,Gt);for(let yr=0;yr<vr;++yr)if(br[yr]!==Zr[yr]){or=br[yr],qr=Zr[yr];break}return or<qr?-1:qr<or?1:0};function zt(Vt,Dt,Bt,Gt,cr){if(Vt.length===0)return-1;if(typeof Bt=="string"?(Gt=Bt,Bt=0):Bt>2147483647?Bt=2147483647:Bt<-2147483648&&(Bt=-2147483648),Bt=+Bt,mr(Bt)&&(Bt=cr?0:Vt.length-1),Bt<0&&(Bt=Vt.length+Bt),Bt>=Vt.length){if(cr)return-1;Bt=Vt.length-1}else if(Bt<0)if(cr)Bt=0;else return-1;if(typeof Dt=="string"&&(Dt=st.from(Dt,Gt)),st.isBuffer(Dt))return Dt.length===0?-1:Kt(Vt,Dt,Bt,Gt,cr);if(typeof Dt=="number")return Dt=Dt&255,typeof Uint8Array.prototype.indexOf=="function"?cr?Uint8Array.prototype.indexOf.call(Vt,Dt,Bt):Uint8Array.prototype.lastIndexOf.call(Vt,Dt,Bt):Kt(Vt,[Dt],Bt,Gt,cr);throw new TypeError("val must be string, number or Buffer")}function Kt(Vt,Dt,Bt,Gt,cr){let nr=1,or=Vt.length,qr=Dt.length;if(Gt!==void 0&&(Gt=String(Gt).toLowerCase(),Gt==="ucs2"||Gt==="ucs-2"||Gt==="utf16le"||Gt==="utf-16le")){if(Vt.length<2||Dt.length<2)return-1;nr=2,or/=2,qr/=2,Bt/=2}function vr(Zr,yr){return nr===1?Zr[yr]:Zr.readUInt16BE(yr*nr)}let br;if(cr){let Zr=-1;for(br=Bt;br<or;br++)if(vr(Vt,br)===vr(Dt,Zr===-1?0:br-Zr)){if(Zr===-1&&(Zr=br),br-Zr+1===qr)return Zr*nr}else Zr!==-1&&(br-=br-Zr),Zr=-1}else for(Bt+qr>or&&(Bt=or-qr),br=Bt;br>=0;br--){let Zr=!0;for(let yr=0;yr<qr;yr++)if(vr(Vt,br+yr)!==vr(Dt,yr)){Zr=!1;break}if(Zr)return br}return-1}st.prototype.includes=function(Dt,Bt,Gt){return this.indexOf(Dt,Bt,Gt)!==-1},st.prototype.indexOf=function(Dt,Bt,Gt){return zt(this,Dt,Bt,Gt,!0)},st.prototype.lastIndexOf=function(Dt,Bt,Gt){return zt(this,Dt,Bt,Gt,!1)};function Jt(Vt,Dt,Bt,Gt){Bt=Number(Bt)||0;const cr=Vt.length-Bt;Gt?(Gt=Number(Gt),Gt>cr&&(Gt=cr)):Gt=cr;const nr=Dt.length;Gt>nr/2&&(Gt=nr/2);let or;for(or=0;or<Gt;++or){const qr=parseInt(Dt.substr(or*2,2),16);if(mr(qr))return or;Vt[Bt+or]=qr}return or}function ar(Vt,Dt,Bt,Gt){return sr(Ft(Dt,Vt.length-Bt),Vt,Bt,Gt)}function jt(Vt,Dt,Bt,Gt){return sr(Lt(Dt),Vt,Bt,Gt)}function Ct(Vt,Dt,Bt,Gt){return sr(tr(Dt),Vt,Bt,Gt)}function Nt(Vt,Dt,Bt,Gt){return sr(Qt(Dt,Vt.length-Bt),Vt,Bt,Gt)}st.prototype.write=function(Dt,Bt,Gt,cr){if(Bt===void 0)cr="utf8",Gt=this.length,Bt=0;else if(Gt===void 0&&typeof Bt=="string")cr=Bt,Gt=this.length,Bt=0;else if(isFinite(Bt))Bt=Bt>>>0,isFinite(Gt)?(Gt=Gt>>>0,cr===void 0&&(cr="utf8")):(cr=Gt,Gt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const nr=this.length-Bt;if((Gt===void 0||Gt>nr)&&(Gt=nr),Dt.length>0&&(Gt<0||Bt<0)||Bt>this.length)throw new RangeError("Attempt to write outside buffer bounds");cr||(cr="utf8");let or=!1;for(;;)switch(cr){case"hex":return Jt(this,Dt,Bt,Gt);case"utf8":case"utf-8":return ar(this,Dt,Bt,Gt);case"ascii":case"latin1":case"binary":return jt(this,Dt,Bt,Gt);case"base64":return Ct(this,Dt,Bt,Gt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nt(this,Dt,Bt,Gt);default:if(or)throw new TypeError("Unknown encoding: "+cr);cr=(""+cr).toLowerCase(),or=!0}},st.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ht(Vt,Dt,Bt){return Dt===0&&Bt===Vt.length?_e.fromByteArray(Vt):_e.fromByteArray(Vt.slice(Dt,Bt))}function ot(Vt,Dt,Bt){Bt=Math.min(Vt.length,Bt);const Gt=[];let cr=Dt;for(;cr<Bt;){const nr=Vt[cr];let or=null,qr=nr>239?4:nr>223?3:nr>191?2:1;if(cr+qr<=Bt){let vr,br,Zr,yr;switch(qr){case 1:nr<128&&(or=nr);break;case 2:vr=Vt[cr+1],(vr&192)===128&&(yr=(nr&31)<<6|vr&63,yr>127&&(or=yr));break;case 3:vr=Vt[cr+1],br=Vt[cr+2],(vr&192)===128&&(br&192)===128&&(yr=(nr&15)<<12|(vr&63)<<6|br&63,yr>2047&&(yr<55296||yr>57343)&&(or=yr));break;case 4:vr=Vt[cr+1],br=Vt[cr+2],Zr=Vt[cr+3],(vr&192)===128&&(br&192)===128&&(Zr&192)===128&&(yr=(nr&15)<<18|(vr&63)<<12|(br&63)<<6|Zr&63,yr>65535&&yr<1114112&&(or=yr))}}or===null?(or=65533,qr=1):or>65535&&(or-=65536,Gt.push(or>>>10&1023|55296),or=56320|or&1023),Gt.push(or),cr+=qr}return mt(Gt)}const dt=4096;function mt(Vt){const Dt=Vt.length;if(Dt<=dt)return String.fromCharCode.apply(String,Vt);let Bt="",Gt=0;for(;Gt<Dt;)Bt+=String.fromCharCode.apply(String,Vt.slice(Gt,Gt+=dt));return Bt}function wt(Vt,Dt,Bt){let Gt="";Bt=Math.min(Vt.length,Bt);for(let cr=Dt;cr<Bt;++cr)Gt+=String.fromCharCode(Vt[cr]&127);return Gt}function bt(Vt,Dt,Bt){let Gt="";Bt=Math.min(Vt.length,Bt);for(let cr=Dt;cr<Bt;++cr)Gt+=String.fromCharCode(Vt[cr]);return Gt}function vt(Vt,Dt,Bt){const Gt=Vt.length;(!Dt||Dt<0)&&(Dt=0),(!Bt||Bt<0||Bt>Gt)&&(Bt=Gt);let cr="";for(let nr=Dt;nr<Bt;++nr)cr+=gr[Vt[nr]];return cr}function St(Vt,Dt,Bt){const Gt=Vt.slice(Dt,Bt);let cr="";for(let nr=0;nr<Gt.length-1;nr+=2)cr+=String.fromCharCode(Gt[nr]+Gt[nr+1]*256);return cr}st.prototype.slice=function(Dt,Bt){const Gt=this.length;Dt=~~Dt,Bt=Bt===void 0?Gt:~~Bt,Dt<0?(Dt+=Gt,Dt<0&&(Dt=0)):Dt>Gt&&(Dt=Gt),Bt<0?(Bt+=Gt,Bt<0&&(Bt=0)):Bt>Gt&&(Bt=Gt),Bt<Dt&&(Bt=Dt);const cr=this.subarray(Dt,Bt);return Object.setPrototypeOf(cr,st.prototype),cr};function yt(Vt,Dt,Bt){if(Vt%1!==0||Vt<0)throw new RangeError("offset is not uint");if(Vt+Dt>Bt)throw new RangeError("Trying to access beyond buffer length")}st.prototype.readUintLE=st.prototype.readUIntLE=function(Dt,Bt,Gt){Dt=Dt>>>0,Bt=Bt>>>0,Gt||yt(Dt,Bt,this.length);let cr=this[Dt],nr=1,or=0;for(;++or<Bt&&(nr*=256);)cr+=this[Dt+or]*nr;return cr},st.prototype.readUintBE=st.prototype.readUIntBE=function(Dt,Bt,Gt){Dt=Dt>>>0,Bt=Bt>>>0,Gt||yt(Dt,Bt,this.length);let cr=this[Dt+--Bt],nr=1;for(;Bt>0&&(nr*=256);)cr+=this[Dt+--Bt]*nr;return cr},st.prototype.readUint8=st.prototype.readUInt8=function(Dt,Bt){return Dt=Dt>>>0,Bt||yt(Dt,1,this.length),this[Dt]},st.prototype.readUint16LE=st.prototype.readUInt16LE=function(Dt,Bt){return Dt=Dt>>>0,Bt||yt(Dt,2,this.length),this[Dt]|this[Dt+1]<<8},st.prototype.readUint16BE=st.prototype.readUInt16BE=function(Dt,Bt){return Dt=Dt>>>0,Bt||yt(Dt,2,this.length),this[Dt]<<8|this[Dt+1]},st.prototype.readUint32LE=st.prototype.readUInt32LE=function(Dt,Bt){return Dt=Dt>>>0,Bt||yt(Dt,4,this.length),(this[Dt]|this[Dt+1]<<8|this[Dt+2]<<16)+this[Dt+3]*16777216},st.prototype.readUint32BE=st.prototype.readUInt32BE=function(Dt,Bt){return Dt=Dt>>>0,Bt||yt(Dt,4,this.length),this[Dt]*16777216+(this[Dt+1]<<16|this[Dt+2]<<8|this[Dt+3])},st.prototype.readBigUInt64LE=Qr(function(Dt){Dt=Dt>>>0,Ur(Dt,"offset");const Bt=this[Dt],Gt=this[Dt+7];(Bt===void 0||Gt===void 0)&&dr(Dt,this.length-8);const cr=Bt+this[++Dt]*2**8+this[++Dt]*2**16+this[++Dt]*2**24,nr=this[++Dt]+this[++Dt]*2**8+this[++Dt]*2**16+Gt*2**24;return BigInt(cr)+(BigInt(nr)<<BigInt(32))}),st.prototype.readBigUInt64BE=Qr(function(Dt){Dt=Dt>>>0,Ur(Dt,"offset");const Bt=this[Dt],Gt=this[Dt+7];(Bt===void 0||Gt===void 0)&&dr(Dt,this.length-8);const cr=Bt*2**24+this[++Dt]*2**16+this[++Dt]*2**8+this[++Dt],nr=this[++Dt]*2**24+this[++Dt]*2**16+this[++Dt]*2**8+Gt;return(BigInt(cr)<<BigInt(32))+BigInt(nr)}),st.prototype.readIntLE=function(Dt,Bt,Gt){Dt=Dt>>>0,Bt=Bt>>>0,Gt||yt(Dt,Bt,this.length);let cr=this[Dt],nr=1,or=0;for(;++or<Bt&&(nr*=256);)cr+=this[Dt+or]*nr;return nr*=128,cr>=nr&&(cr-=Math.pow(2,8*Bt)),cr},st.prototype.readIntBE=function(Dt,Bt,Gt){Dt=Dt>>>0,Bt=Bt>>>0,Gt||yt(Dt,Bt,this.length);let cr=Bt,nr=1,or=this[Dt+--cr];for(;cr>0&&(nr*=256);)or+=this[Dt+--cr]*nr;return nr*=128,or>=nr&&(or-=Math.pow(2,8*Bt)),or},st.prototype.readInt8=function(Dt,Bt){return Dt=Dt>>>0,Bt||yt(Dt,1,this.length),this[Dt]&128?(255-this[Dt]+1)*-1:this[Dt]},st.prototype.readInt16LE=function(Dt,Bt){Dt=Dt>>>0,Bt||yt(Dt,2,this.length);const Gt=this[Dt]|this[Dt+1]<<8;return Gt&32768?Gt|4294901760:Gt},st.prototype.readInt16BE=function(Dt,Bt){Dt=Dt>>>0,Bt||yt(Dt,2,this.length);const Gt=this[Dt+1]|this[Dt]<<8;return Gt&32768?Gt|4294901760:Gt},st.prototype.readInt32LE=function(Dt,Bt){return Dt=Dt>>>0,Bt||yt(Dt,4,this.length),this[Dt]|this[Dt+1]<<8|this[Dt+2]<<16|this[Dt+3]<<24},st.prototype.readInt32BE=function(Dt,Bt){return Dt=Dt>>>0,Bt||yt(Dt,4,this.length),this[Dt]<<24|this[Dt+1]<<16|this[Dt+2]<<8|this[Dt+3]},st.prototype.readBigInt64LE=Qr(function(Dt){Dt=Dt>>>0,Ur(Dt,"offset");const Bt=this[Dt],Gt=this[Dt+7];(Bt===void 0||Gt===void 0)&&dr(Dt,this.length-8);const cr=this[Dt+4]+this[Dt+5]*2**8+this[Dt+6]*2**16+(Gt<<24);return(BigInt(cr)<<BigInt(32))+BigInt(Bt+this[++Dt]*2**8+this[++Dt]*2**16+this[++Dt]*2**24)}),st.prototype.readBigInt64BE=Qr(function(Dt){Dt=Dt>>>0,Ur(Dt,"offset");const Bt=this[Dt],Gt=this[Dt+7];(Bt===void 0||Gt===void 0)&&dr(Dt,this.length-8);const cr=(Bt<<24)+this[++Dt]*2**16+this[++Dt]*2**8+this[++Dt];return(BigInt(cr)<<BigInt(32))+BigInt(this[++Dt]*2**24+this[++Dt]*2**16+this[++Dt]*2**8+Gt)}),st.prototype.readFloatLE=function(Dt,Bt){return Dt=Dt>>>0,Bt||yt(Dt,4,this.length),tt.read(this,Dt,!0,23,4)},st.prototype.readFloatBE=function(Dt,Bt){return Dt=Dt>>>0,Bt||yt(Dt,4,this.length),tt.read(this,Dt,!1,23,4)},st.prototype.readDoubleLE=function(Dt,Bt){return Dt=Dt>>>0,Bt||yt(Dt,8,this.length),tt.read(this,Dt,!0,52,8)},st.prototype.readDoubleBE=function(Dt,Bt){return Dt=Dt>>>0,Bt||yt(Dt,8,this.length),tt.read(this,Dt,!1,52,8)};function lt(Vt,Dt,Bt,Gt,cr,nr){if(!st.isBuffer(Vt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Dt>cr||Dt<nr)throw new RangeError('"value" argument is out of bounds');if(Bt+Gt>Vt.length)throw new RangeError("Index out of range")}st.prototype.writeUintLE=st.prototype.writeUIntLE=function(Dt,Bt,Gt,cr){if(Dt=+Dt,Bt=Bt>>>0,Gt=Gt>>>0,!cr){const qr=Math.pow(2,8*Gt)-1;lt(this,Dt,Bt,Gt,qr,0)}let nr=1,or=0;for(this[Bt]=Dt&255;++or<Gt&&(nr*=256);)this[Bt+or]=Dt/nr&255;return Bt+Gt},st.prototype.writeUintBE=st.prototype.writeUIntBE=function(Dt,Bt,Gt,cr){if(Dt=+Dt,Bt=Bt>>>0,Gt=Gt>>>0,!cr){const qr=Math.pow(2,8*Gt)-1;lt(this,Dt,Bt,Gt,qr,0)}let nr=Gt-1,or=1;for(this[Bt+nr]=Dt&255;--nr>=0&&(or*=256);)this[Bt+nr]=Dt/or&255;return Bt+Gt},st.prototype.writeUint8=st.prototype.writeUInt8=function(Dt,Bt,Gt){return Dt=+Dt,Bt=Bt>>>0,Gt||lt(this,Dt,Bt,1,255,0),this[Bt]=Dt&255,Bt+1},st.prototype.writeUint16LE=st.prototype.writeUInt16LE=function(Dt,Bt,Gt){return Dt=+Dt,Bt=Bt>>>0,Gt||lt(this,Dt,Bt,2,65535,0),this[Bt]=Dt&255,this[Bt+1]=Dt>>>8,Bt+2},st.prototype.writeUint16BE=st.prototype.writeUInt16BE=function(Dt,Bt,Gt){return Dt=+Dt,Bt=Bt>>>0,Gt||lt(this,Dt,Bt,2,65535,0),this[Bt]=Dt>>>8,this[Bt+1]=Dt&255,Bt+2},st.prototype.writeUint32LE=st.prototype.writeUInt32LE=function(Dt,Bt,Gt){return Dt=+Dt,Bt=Bt>>>0,Gt||lt(this,Dt,Bt,4,4294967295,0),this[Bt+3]=Dt>>>24,this[Bt+2]=Dt>>>16,this[Bt+1]=Dt>>>8,this[Bt]=Dt&255,Bt+4},st.prototype.writeUint32BE=st.prototype.writeUInt32BE=function(Dt,Bt,Gt){return Dt=+Dt,Bt=Bt>>>0,Gt||lt(this,Dt,Bt,4,4294967295,0),this[Bt]=Dt>>>24,this[Bt+1]=Dt>>>16,this[Bt+2]=Dt>>>8,this[Bt+3]=Dt&255,Bt+4};function xt(Vt,Dt,Bt,Gt,cr){ur(Dt,Gt,cr,Vt,Bt,7);let nr=Number(Dt&BigInt(4294967295));Vt[Bt++]=nr,nr=nr>>8,Vt[Bt++]=nr,nr=nr>>8,Vt[Bt++]=nr,nr=nr>>8,Vt[Bt++]=nr;let or=Number(Dt>>BigInt(32)&BigInt(4294967295));return Vt[Bt++]=or,or=or>>8,Vt[Bt++]=or,or=or>>8,Vt[Bt++]=or,or=or>>8,Vt[Bt++]=or,Bt}function Ut(Vt,Dt,Bt,Gt,cr){ur(Dt,Gt,cr,Vt,Bt,7);let nr=Number(Dt&BigInt(4294967295));Vt[Bt+7]=nr,nr=nr>>8,Vt[Bt+6]=nr,nr=nr>>8,Vt[Bt+5]=nr,nr=nr>>8,Vt[Bt+4]=nr;let or=Number(Dt>>BigInt(32)&BigInt(4294967295));return Vt[Bt+3]=or,or=or>>8,Vt[Bt+2]=or,or=or>>8,Vt[Bt+1]=or,or=or>>8,Vt[Bt]=or,Bt+8}st.prototype.writeBigUInt64LE=Qr(function(Dt,Bt=0){return xt(this,Dt,Bt,BigInt(0),BigInt("0xffffffffffffffff"))}),st.prototype.writeBigUInt64BE=Qr(function(Dt,Bt=0){return Ut(this,Dt,Bt,BigInt(0),BigInt("0xffffffffffffffff"))}),st.prototype.writeIntLE=function(Dt,Bt,Gt,cr){if(Dt=+Dt,Bt=Bt>>>0,!cr){const vr=Math.pow(2,8*Gt-1);lt(this,Dt,Bt,Gt,vr-1,-vr)}let nr=0,or=1,qr=0;for(this[Bt]=Dt&255;++nr<Gt&&(or*=256);)Dt<0&&qr===0&&this[Bt+nr-1]!==0&&(qr=1),this[Bt+nr]=(Dt/or>>0)-qr&255;return Bt+Gt},st.prototype.writeIntBE=function(Dt,Bt,Gt,cr){if(Dt=+Dt,Bt=Bt>>>0,!cr){const vr=Math.pow(2,8*Gt-1);lt(this,Dt,Bt,Gt,vr-1,-vr)}let nr=Gt-1,or=1,qr=0;for(this[Bt+nr]=Dt&255;--nr>=0&&(or*=256);)Dt<0&&qr===0&&this[Bt+nr+1]!==0&&(qr=1),this[Bt+nr]=(Dt/or>>0)-qr&255;return Bt+Gt},st.prototype.writeInt8=function(Dt,Bt,Gt){return Dt=+Dt,Bt=Bt>>>0,Gt||lt(this,Dt,Bt,1,127,-128),Dt<0&&(Dt=255+Dt+1),this[Bt]=Dt&255,Bt+1},st.prototype.writeInt16LE=function(Dt,Bt,Gt){return Dt=+Dt,Bt=Bt>>>0,Gt||lt(this,Dt,Bt,2,32767,-32768),this[Bt]=Dt&255,this[Bt+1]=Dt>>>8,Bt+2},st.prototype.writeInt16BE=function(Dt,Bt,Gt){return Dt=+Dt,Bt=Bt>>>0,Gt||lt(this,Dt,Bt,2,32767,-32768),this[Bt]=Dt>>>8,this[Bt+1]=Dt&255,Bt+2},st.prototype.writeInt32LE=function(Dt,Bt,Gt){return Dt=+Dt,Bt=Bt>>>0,Gt||lt(this,Dt,Bt,4,2147483647,-2147483648),this[Bt]=Dt&255,this[Bt+1]=Dt>>>8,this[Bt+2]=Dt>>>16,this[Bt+3]=Dt>>>24,Bt+4},st.prototype.writeInt32BE=function(Dt,Bt,Gt){return Dt=+Dt,Bt=Bt>>>0,Gt||lt(this,Dt,Bt,4,2147483647,-2147483648),Dt<0&&(Dt=4294967295+Dt+1),this[Bt]=Dt>>>24,this[Bt+1]=Dt>>>16,this[Bt+2]=Dt>>>8,this[Bt+3]=Dt&255,Bt+4},st.prototype.writeBigInt64LE=Qr(function(Dt,Bt=0){return xt(this,Dt,Bt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),st.prototype.writeBigInt64BE=Qr(function(Dt,Bt=0){return Ut(this,Dt,Bt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pt(Vt,Dt,Bt,Gt,cr,nr){if(Bt+Gt>Vt.length)throw new RangeError("Index out of range");if(Bt<0)throw new RangeError("Index out of range")}function qt(Vt,Dt,Bt,Gt,cr){return Dt=+Dt,Bt=Bt>>>0,cr||Pt(Vt,Dt,Bt,4),tt.write(Vt,Dt,Bt,Gt,23,4),Bt+4}st.prototype.writeFloatLE=function(Dt,Bt,Gt){return qt(this,Dt,Bt,!0,Gt)},st.prototype.writeFloatBE=function(Dt,Bt,Gt){return qt(this,Dt,Bt,!1,Gt)};function ir(Vt,Dt,Bt,Gt,cr){return Dt=+Dt,Bt=Bt>>>0,cr||Pt(Vt,Dt,Bt,8),tt.write(Vt,Dt,Bt,Gt,52,8),Bt+8}st.prototype.writeDoubleLE=function(Dt,Bt,Gt){return ir(this,Dt,Bt,!0,Gt)},st.prototype.writeDoubleBE=function(Dt,Bt,Gt){return ir(this,Dt,Bt,!1,Gt)},st.prototype.copy=function(Dt,Bt,Gt,cr){if(!st.isBuffer(Dt))throw new TypeError("argument should be a Buffer");if(Gt||(Gt=0),!cr&&cr!==0&&(cr=this.length),Bt>=Dt.length&&(Bt=Dt.length),Bt||(Bt=0),cr>0&&cr<Gt&&(cr=Gt),cr===Gt||Dt.length===0||this.length===0)return 0;if(Bt<0)throw new RangeError("targetStart out of bounds");if(Gt<0||Gt>=this.length)throw new RangeError("Index out of range");if(cr<0)throw new RangeError("sourceEnd out of bounds");cr>this.length&&(cr=this.length),Dt.length-Bt<cr-Gt&&(cr=Dt.length-Bt+Gt);const nr=cr-Gt;return this===Dt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Bt,Gt,cr):Uint8Array.prototype.set.call(Dt,this.subarray(Gt,cr),Bt),nr},st.prototype.fill=function(Dt,Bt,Gt,cr){if(typeof Dt=="string"){if(typeof Bt=="string"?(cr=Bt,Bt=0,Gt=this.length):typeof Gt=="string"&&(cr=Gt,Gt=this.length),cr!==void 0&&typeof cr!="string")throw new TypeError("encoding must be a string");if(typeof cr=="string"&&!st.isEncoding(cr))throw new TypeError("Unknown encoding: "+cr);if(Dt.length===1){const or=Dt.charCodeAt(0);(cr==="utf8"&&or<128||cr==="latin1")&&(Dt=or)}}else typeof Dt=="number"?Dt=Dt&255:typeof Dt=="boolean"&&(Dt=Number(Dt));if(Bt<0||this.length<Bt||this.length<Gt)throw new RangeError("Out of range index");if(Gt<=Bt)return this;Bt=Bt>>>0,Gt=Gt===void 0?this.length:Gt>>>0,Dt||(Dt=0);let nr;if(typeof Dt=="number")for(nr=Bt;nr<Gt;++nr)this[nr]=Dt;else{const or=st.isBuffer(Dt)?Dt:st.from(Dt,cr),qr=or.length;if(qr===0)throw new TypeError('The value "'+Dt+'" is invalid for argument "value"');for(nr=0;nr<Gt-Bt;++nr)this[nr+Bt]=or[nr%qr]}return this};const Yt={};function rr(Vt,Dt,Bt){Yt[Vt]=class extends Bt{constructor(){super(),Object.defineProperty(this,"message",{value:Dt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Vt}]`,this.stack,delete this.name}get code(){return Vt}set code(cr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:cr,writable:!0})}toString(){return`${this.name} [${Vt}]: ${this.message}`}}}rr("ERR_BUFFER_OUT_OF_BOUNDS",function(Vt){return Vt?`${Vt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rr("ERR_INVALID_ARG_TYPE",function(Vt,Dt){return`The "${Vt}" argument must be of type number. Received type ${typeof Dt}`},TypeError),rr("ERR_OUT_OF_RANGE",function(Vt,Dt,Bt){let Gt=`The value of "${Vt}" is out of range.`,cr=Bt;return Number.isInteger(Bt)&&Math.abs(Bt)>2**32?cr=Sr(String(Bt)):typeof Bt=="bigint"&&(cr=String(Bt),(Bt>BigInt(2)**BigInt(32)||Bt<-(BigInt(2)**BigInt(32)))&&(cr=Sr(cr)),cr+="n"),Gt+=` It must be ${Dt}. Received ${cr}`,Gt},RangeError);function Sr(Vt){let Dt="",Bt=Vt.length;const Gt=Vt[0]==="-"?1:0;for(;Bt>=Gt+4;Bt-=3)Dt=`_${Vt.slice(Bt-3,Bt)}${Dt}`;return`${Vt.slice(0,Bt)}${Dt}`}function lr(Vt,Dt,Bt){Ur(Dt,"offset"),(Vt[Dt]===void 0||Vt[Dt+Bt]===void 0)&&dr(Dt,Vt.length-(Bt+1))}function ur(Vt,Dt,Bt,Gt,cr,nr){if(Vt>Bt||Vt<Dt){const or=typeof Dt=="bigint"?"n":"";let qr;throw nr>3?Dt===0||Dt===BigInt(0)?qr=`>= 0${or} and < 2${or} ** ${(nr+1)*8}${or}`:qr=`>= -(2${or} ** ${(nr+1)*8-1}${or}) and < 2 ** ${(nr+1)*8-1}${or}`:qr=`>= ${Dt}${or} and <= ${Bt}${or}`,new Yt.ERR_OUT_OF_RANGE("value",qr,Vt)}lr(Gt,cr,nr)}function Ur(Vt,Dt){if(typeof Vt!="number")throw new Yt.ERR_INVALID_ARG_TYPE(Dt,"number",Vt)}function dr(Vt,Dt,Bt){throw Math.floor(Vt)!==Vt?(Ur(Vt,Bt),new Yt.ERR_OUT_OF_RANGE(Bt||"offset","an integer",Vt)):Dt<0?new Yt.ERR_BUFFER_OUT_OF_BOUNDS:new Yt.ERR_OUT_OF_RANGE(Bt||"offset",`>= ${Bt?1:0} and <= ${Dt}`,Vt)}const xr=/[^+/0-9A-Za-z-_]/g;function er(Vt){if(Vt=Vt.split("=")[0],Vt=Vt.trim().replace(xr,""),Vt.length<2)return"";for(;Vt.length%4!==0;)Vt=Vt+"=";return Vt}function Ft(Vt,Dt){Dt=Dt||1/0;let Bt;const Gt=Vt.length;let cr=null;const nr=[];for(let or=0;or<Gt;++or){if(Bt=Vt.charCodeAt(or),Bt>55295&&Bt<57344){if(!cr){if(Bt>56319){(Dt-=3)>-1&&nr.push(239,191,189);continue}else if(or+1===Gt){(Dt-=3)>-1&&nr.push(239,191,189);continue}cr=Bt;continue}if(Bt<56320){(Dt-=3)>-1&&nr.push(239,191,189),cr=Bt;continue}Bt=(cr-55296<<10|Bt-56320)+65536}else cr&&(Dt-=3)>-1&&nr.push(239,191,189);if(cr=null,Bt<128){if((Dt-=1)<0)break;nr.push(Bt)}else if(Bt<2048){if((Dt-=2)<0)break;nr.push(Bt>>6|192,Bt&63|128)}else if(Bt<65536){if((Dt-=3)<0)break;nr.push(Bt>>12|224,Bt>>6&63|128,Bt&63|128)}else if(Bt<1114112){if((Dt-=4)<0)break;nr.push(Bt>>18|240,Bt>>12&63|128,Bt>>6&63|128,Bt&63|128)}else throw new Error("Invalid code point")}return nr}function Lt(Vt){const Dt=[];for(let Bt=0;Bt<Vt.length;++Bt)Dt.push(Vt.charCodeAt(Bt)&255);return Dt}function Qt(Vt,Dt){let Bt,Gt,cr;const nr=[];for(let or=0;or<Vt.length&&!((Dt-=2)<0);++or)Bt=Vt.charCodeAt(or),Gt=Bt>>8,cr=Bt%256,nr.push(cr),nr.push(Gt);return nr}function tr(Vt){return _e.toByteArray(er(Vt))}function sr(Vt,Dt,Bt,Gt){let cr;for(cr=0;cr<Gt&&!(cr+Bt>=Dt.length||cr>=Vt.length);++cr)Dt[cr+Bt]=Vt[cr];return cr}function Er(Vt,Dt){return Vt instanceof Dt||Vt!=null&&Vt.constructor!=null&&Vt.constructor.name!=null&&Vt.constructor.name===Dt.name}function mr(Vt){return Vt!==Vt}const gr=function(){const Vt="0123456789abcdef",Dt=new Array(256);for(let Bt=0;Bt<16;++Bt){const Gt=Bt*16;for(let cr=0;cr<16;++cr)Dt[Gt+cr]=Vt[Bt]+Vt[cr]}return Dt}();function Qr(Vt){return typeof BigInt=="undefined"?wr:Vt}function wr(){throw new Error("BigInt not supported")}})(buffer);function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let et=0;et<arguments.length;et++)this.define(arguments[et]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(et,_e){for(let tt in et){let rt=et[tt].map(function(nt){return nt.toLowerCase()});tt=tt.toLowerCase();for(let nt=0;nt<rt.length;nt++){const it=rt[nt];if(it[0]!=="*"){if(!_e&&it in this._types)throw new Error('Attempt to change mapping for "'+it+'" extension from "'+this._types[it]+'" to "'+tt+'". Pass `force=true` to allow this, otherwise remove "'+it+'" from the list of extensions for "'+tt+'".');this._types[it]=tt}}if(_e||!this._extensions[tt]){const nt=rt[0];this._extensions[tt]=nt[0]!=="*"?nt:nt.substr(1)}}};Mime$1.prototype.getType=function(et){et=String(et);let _e=et.replace(/^.*[/\\]/,"").toLowerCase(),tt=_e.replace(/^.*\./,"").toLowerCase(),rt=_e.length<et.length;return(tt.length<_e.length-1||!rt)&&this._types[tt]||null};Mime$1.prototype.getExtension=function(et){return et=/^\s*([^;\s]*)/.test(et)&&RegExp.$1,et&&this._extensions[et.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/globalThis":["u8msg"],"message/globalThis-delivery-status":["u8dsn"],"message/globalThis-disposition-notification":["u8mdn"],"message/globalThis-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;var lite=new Mime(standard);function _extends$4(){return _extends$4=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$4.apply(this,arguments)}var useLatest=function(et){var _e=react.exports.useRef(et);return _e.current=et,_e},observerErr="\u{1F4A1} react-cool-dimensions: the browser doesn't support Resize Observer, please use polyfill: https://github.com/wellyshen/react-cool-dimensions#resizeobserver-polyfill",borderBoxWarn="\u{1F4A1} react-cool-dimensions: the browser doesn't support border-box size, fallback to content-box size. Please see: https://github.com/wellyshen/react-cool-dimensions#border-box-size-measurement",getCurrentBreakpoint=function et(_e,tt){var rt="",nt=-1;return Object.keys(_e).forEach(function(it){var at=_e[it];tt>=at&&at>nt&&(rt=it,nt=at)}),rt},useDimensions=function et(_e){var tt=_e===void 0?{}:_e,rt=tt.useBorderBoxSize,nt=tt.breakpoints,it=tt.updateOnBreakpointChange,at=tt.shouldUpdate,st=tt.onResize,ct=tt.polyfill,ut=react.exports.useState({currentBreakpoint:"",width:0,height:0}),ft=ut[0],gt=ut[1],_t=react.exports.useRef({}),Et=react.exports.useRef(),$t=react.exports.useRef(),It=react.exports.useRef(!1),Tt=react.exports.useRef(),At=useLatest(st),Rt=useLatest(at),kt=react.exports.useCallback(function(){$t.current&&$t.current.disconnect()},[]),Ot=react.exports.useCallback(function(Wt){Wt&&Wt!==Tt.current&&(kt(),Tt.current=Wt),$t.current&&Tt.current&&$t.current.observe(Tt.current)},[kt]);return react.exports.useEffect(function(){if((!("ResizeObserver"in window)||!("ResizeObserverEntry"in window))&&!ct)return console.error(observerErr),function(){return null};var Wt=null;return $t.current=new(ct||ResizeObserver)(function(zt){var Kt=zt[0];Wt=requestAnimationFrame(function(){var Jt=Kt.contentBoxSize,ar=Kt.borderBoxSize,jt=Kt.contentRect,Ct=Jt;rt&&(ar?Ct=ar:It.current||(console.warn(borderBoxWarn),It.current=!0)),Ct=Array.isArray(Ct)?Ct[0]:Ct;var Nt=Ct?Ct.inlineSize:jt.width,ht=Ct?Ct.blockSize:jt.height;if(!(Nt===_t.current.width&&ht===_t.current.height)){_t.current={width:Nt,height:ht};var ot={currentBreakpoint:"",width:Nt,height:ht,entry:Kt,observe:Ot,unobserve:kt};nt?(ot.currentBreakpoint=getCurrentBreakpoint(nt,Nt),ot.currentBreakpoint!==Et.current&&(At.current&&At.current(ot),Et.current=ot.currentBreakpoint)):At.current&&At.current(ot);var dt={currentBreakpoint:ot.currentBreakpoint,width:Nt,height:ht,entry:Kt};if(!(Rt.current&&!Rt.current(dt))){if(!Rt.current&&nt&&it){gt(function(mt){return mt.currentBreakpoint!==dt.currentBreakpoint?dt:mt});return}gt(dt)}}})}),Ot(),function(){kt(),Wt&&cancelAnimationFrame(Wt)}},[JSON.stringify(nt),rt,Ot,kt,it]),_extends$4({},ft,{observe:Ot,unobserve:kt})};function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$3.apply(this,arguments)}function memoize(et){var _e=Object.create(null);return function(tt){return _e[tt]===void 0&&(_e[tt]=et(tt)),_e[tt]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(et){return reactPropsRegex.test(et)||et.charCodeAt(0)===111&&et.charCodeAt(1)===110&&et.charCodeAt(2)<91});function sheetForTag(et){if(et.sheet)return et.sheet;for(var _e=0;_e<document.styleSheets.length;_e++)if(document.styleSheets[_e].ownerNode===et)return document.styleSheets[_e]}function createStyleElement(et){var _e=document.createElement("style");return _e.setAttribute("data-emotion",et.key),et.nonce!==void 0&&_e.setAttribute("nonce",et.nonce),_e.appendChild(document.createTextNode("")),_e.setAttribute("data-s",""),_e}var StyleSheet=function(){function et(tt){var rt=this;this._insertTag=function(nt){var it;rt.tags.length===0?rt.insertionPoint?it=rt.insertionPoint.nextSibling:rt.prepend?it=rt.container.firstChild:it=rt.before:it=rt.tags[rt.tags.length-1].nextSibling,rt.container.insertBefore(nt,it),rt.tags.push(nt)},this.isSpeedy=tt.speedy===void 0?!0:tt.speedy,this.tags=[],this.ctr=0,this.nonce=tt.nonce,this.key=tt.key,this.container=tt.container,this.prepend=tt.prepend,this.insertionPoint=tt.insertionPoint,this.before=null}var _e=et.prototype;return _e.hydrate=function(rt){rt.forEach(this._insertTag)},_e.insert=function(rt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var nt=this.tags[this.tags.length-1];if(this.isSpeedy){var it=sheetForTag(nt);try{it.insertRule(rt,it.cssRules.length)}catch{}}else nt.appendChild(document.createTextNode(rt));this.ctr++},_e.flush=function(){this.tags.forEach(function(rt){return rt.parentNode&&rt.parentNode.removeChild(rt)}),this.tags=[],this.ctr=0},et}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(et,_e){return charat(et,0)^45?(((_e<<2^charat(et,0))<<2^charat(et,1))<<2^charat(et,2))<<2^charat(et,3):0}function trim(et){return et.trim()}function match(et,_e){return(et=_e.exec(et))?et[0]:et}function replace(et,_e,tt){return et.replace(_e,tt)}function indexof(et,_e){return et.indexOf(_e)}function charat(et,_e){return et.charCodeAt(_e)|0}function substr(et,_e,tt){return et.slice(_e,tt)}function strlen(et){return et.length}function sizeof(et){return et.length}function append(et,_e){return _e.push(et),et}function combine(et,_e){return et.map(_e).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(et,_e,tt,rt,nt,it,at){return{value:et,root:_e,parent:tt,type:rt,props:nt,children:it,line,column,length:at,return:""}}function copy(et,_e){return assign(node("",null,null,"",null,null,0),et,{length:-et.length},_e)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice$1(et,_e){return substr(characters,et,_e)}function token(et){switch(et){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(et){return line=column=1,length=strlen(characters=et),position=0,[]}function dealloc(et){return characters="",et}function delimit(et){return trim(slice$1(position-1,delimiter(et===91?et+2:et===40?et+1:et)))}function whitespace(et){for(;(character=peek())&&character<33;)next();return token(et)>2||token(character)>3?"":" "}function escaping(et,_e){for(;--_e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$1(et,caret()+(_e<6&&peek()==32&&next()==32))}function delimiter(et){for(;next();)switch(character){case et:return position;case 34:case 39:et!==34&&et!==39&&delimiter(character);break;case 40:et===41&&delimiter(et);break;case 92:next();break}return position}function commenter(et,_e){for(;next()&&et+character!==47+10;)if(et+character===42+42&&peek()===47)break;return"/*"+slice$1(_e,position-1)+"*"+from(et===47?et:next())}function identifier(et){for(;!token(peek());)next();return slice$1(et,position)}function compile(et){return dealloc(parse("",null,null,null,[""],et=alloc(et),0,[0],et))}function parse(et,_e,tt,rt,nt,it,at,st,ct){for(var ut=0,ft=0,gt=at,_t=0,Et=0,$t=0,It=1,Tt=1,At=1,Rt=0,kt="",Ot=nt,Wt=it,zt=rt,Kt=kt;Tt;)switch($t=Rt,Rt=next()){case 40:if($t!=108&&charat(Kt,gt-1)==58){indexof(Kt+=replace(delimit(Rt),"&","&\f"),"&\f")!=-1&&(At=-1);break}case 34:case 39:case 91:Kt+=delimit(Rt);break;case 9:case 10:case 13:case 32:Kt+=whitespace($t);break;case 92:Kt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),_e,tt),ct);break;default:Kt+="/"}break;case 123*It:st[ut++]=strlen(Kt)*At;case 125*It:case 59:case 0:switch(Rt){case 0:case 125:Tt=0;case 59+ft:Et>0&&strlen(Kt)-gt&&append(Et>32?declaration(Kt+";",rt,tt,gt-1):declaration(replace(Kt," ","")+";",rt,tt,gt-2),ct);break;case 59:Kt+=";";default:if(append(zt=ruleset(Kt,_e,tt,ut,ft,nt,st,kt,Ot=[],Wt=[],gt),it),Rt===123)if(ft===0)parse(Kt,_e,zt,zt,Ot,it,gt,st,Wt);else switch(_t===99&&charat(Kt,3)===110?100:_t){case 100:case 109:case 115:parse(et,zt,zt,rt&&append(ruleset(et,zt,zt,0,0,nt,st,kt,nt,Ot=[],gt),Wt),nt,Wt,gt,st,rt?Ot:Wt);break;default:parse(Kt,zt,zt,zt,[""],Wt,0,st,Wt)}}ut=ft=Et=0,It=At=1,kt=Kt="",gt=at;break;case 58:gt=1+strlen(Kt),Et=$t;default:if(It<1){if(Rt==123)--It;else if(Rt==125&&It++==0&&prev()==125)continue}switch(Kt+=from(Rt),Rt*It){case 38:At=ft>0?1:(Kt+="\f",-1);break;case 44:st[ut++]=(strlen(Kt)-1)*At,At=1;break;case 64:peek()===45&&(Kt+=delimit(next())),_t=peek(),ft=gt=strlen(kt=Kt+=identifier(caret())),Rt++;break;case 45:$t===45&&strlen(Kt)==2&&(It=0)}}return it}function ruleset(et,_e,tt,rt,nt,it,at,st,ct,ut,ft){for(var gt=nt-1,_t=nt===0?it:[""],Et=sizeof(_t),$t=0,It=0,Tt=0;$t<rt;++$t)for(var At=0,Rt=substr(et,gt+1,gt=abs(It=at[$t])),kt=et;At<Et;++At)(kt=trim(It>0?_t[At]+" "+Rt:replace(Rt,/&\f/g,_t[At])))&&(ct[Tt++]=kt);return node(et,_e,tt,nt===0?RULESET:st,ct,ut,ft)}function comment(et,_e,tt){return node(et,_e,tt,COMMENT,from(char()),substr(et,2,-2),0)}function declaration(et,_e,tt,rt){return node(et,_e,tt,DECLARATION,substr(et,0,rt),substr(et,rt+1,-1),rt)}function serialize(et,_e){for(var tt="",rt=sizeof(et),nt=0;nt<rt;nt++)tt+=_e(et[nt],nt,et,_e)||"";return tt}function stringify(et,_e,tt,rt){switch(et.type){case IMPORT:case DECLARATION:return et.return=et.return||et.value;case COMMENT:return"";case KEYFRAMES:return et.return=et.value+"{"+serialize(et.children,rt)+"}";case RULESET:et.value=et.props.join(",")}return strlen(tt=serialize(et.children,rt))?et.return=et.value+"{"+tt+"}":""}function middleware(et){var _e=sizeof(et);return function(tt,rt,nt,it){for(var at="",st=0;st<_e;st++)at+=et[st](tt,rt,nt,it)||"";return at}}function rulesheet(et){return function(_e){_e.root||(_e=_e.return)&&et(_e)}}var identifierWithPointTracking=function et(_e,tt,rt){for(var nt=0,it=0;nt=it,it=peek(),nt===38&&it===12&&(tt[rt]=1),!token(it);)next();return slice$1(_e,position)},toRules=function et(_e,tt){var rt=-1,nt=44;do switch(token(nt)){case 0:nt===38&&peek()===12&&(tt[rt]=1),_e[rt]+=identifierWithPointTracking(position-1,tt,rt);break;case 2:_e[rt]+=delimit(nt);break;case 4:if(nt===44){_e[++rt]=peek()===58?"&\f":"",tt[rt]=_e[rt].length;break}default:_e[rt]+=from(nt)}while(nt=next());return _e},getRules=function et(_e,tt){return dealloc(toRules(alloc(_e),tt))},fixedElements=new WeakMap,compat=function et(_e){if(!(_e.type!=="rule"||!_e.parent||_e.length<1)){for(var tt=_e.value,rt=_e.parent,nt=_e.column===rt.column&&_e.line===rt.line;rt.type!=="rule";)if(rt=rt.parent,!rt)return;if(!(_e.props.length===1&&tt.charCodeAt(0)!==58&&!fixedElements.get(rt))&&!nt){fixedElements.set(_e,!0);for(var it=[],at=getRules(tt,it),st=rt.props,ct=0,ut=0;ct<at.length;ct++)for(var ft=0;ft<st.length;ft++,ut++)_e.props[ut]=it[ct]?at[ct].replace(/&\f/g,st[ft]):st[ft]+" "+at[ct]}}},removeLabel=function et(_e){if(_e.type==="decl"){var tt=_e.value;tt.charCodeAt(0)===108&&tt.charCodeAt(2)===98&&(_e.return="",_e.value="")}};function prefix(et,_e){switch(hash(et,_e)){case 5103:return WEBKIT+"print-"+et+et;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+et+et;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+et+MOZ+et+MS+et+et;case 6828:case 4268:return WEBKIT+et+MS+et+et;case 6165:return WEBKIT+et+MS+"flex-"+et+et;case 5187:return WEBKIT+et+replace(et,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+et;case 5443:return WEBKIT+et+MS+"flex-item-"+replace(et,/flex-|-self/,"")+et;case 4675:return WEBKIT+et+MS+"flex-line-pack"+replace(et,/align-content|flex-|-self/,"")+et;case 5548:return WEBKIT+et+MS+replace(et,"shrink","negative")+et;case 5292:return WEBKIT+et+MS+replace(et,"basis","preferred-size")+et;case 6060:return WEBKIT+"box-"+replace(et,"-grow","")+WEBKIT+et+MS+replace(et,"grow","positive")+et;case 4554:return WEBKIT+replace(et,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+et;case 6187:return replace(replace(replace(et,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),et,"")+et;case 5495:case 3959:return replace(et,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(et,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+et+et;case 4095:case 3583:case 4068:case 2532:return replace(et,/(.+)-inline(.+)/,WEBKIT+"$1$2")+et;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(et)-1-_e>6)switch(charat(et,_e+1)){case 109:if(charat(et,_e+4)!==45)break;case 102:return replace(et,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(et,_e+3)==108?"$3":"$2-$3"))+et;case 115:return~indexof(et,"stretch")?prefix(replace(et,"stretch","fill-available"),_e)+et:et}break;case 4949:if(charat(et,_e+1)!==115)break;case 6444:switch(charat(et,strlen(et)-3-(~indexof(et,"!important")&&10))){case 107:return replace(et,":",":"+WEBKIT)+et;case 101:return replace(et,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(et,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+et}break;case 5936:switch(charat(et,_e+11)){case 114:return WEBKIT+et+MS+replace(et,/[svh]\w+-[tblr]{2}/,"tb")+et;case 108:return WEBKIT+et+MS+replace(et,/[svh]\w+-[tblr]{2}/,"tb-rl")+et;case 45:return WEBKIT+et+MS+replace(et,/[svh]\w+-[tblr]{2}/,"lr")+et}return WEBKIT+et+MS+et+et}return et}var prefixer=function et(_e,tt,rt,nt){if(_e.length>-1&&!_e.return)switch(_e.type){case DECLARATION:_e.return=prefix(_e.value,_e.length);break;case KEYFRAMES:return serialize([copy(_e,{value:replace(_e.value,"@","@"+WEBKIT)})],nt);case RULESET:if(_e.length)return combine(_e.props,function(it){switch(match(it,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(_e,{props:[replace(it,/:(read-\w+)/,":"+MOZ+"$1")]})],nt);case"::placeholder":return serialize([copy(_e,{props:[replace(it,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(_e,{props:[replace(it,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(_e,{props:[replace(it,/:(plac\w+)/,MS+"input-$1")]})],nt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function et(_e){var tt=_e.key;if(tt==="css"){var rt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(rt,function(It){var Tt=It.getAttribute("data-emotion");Tt.indexOf(" ")!==-1&&(document.head.appendChild(It),It.setAttribute("data-s",""))})}var nt=_e.stylisPlugins||defaultStylisPlugins,it={},at,st=[];at=_e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+tt+' "]'),function(It){for(var Tt=It.getAttribute("data-emotion").split(" "),At=1;At<Tt.length;At++)it[Tt[At]]=!0;st.push(It)});var ct,ut=[compat,removeLabel];{var ft,gt=[stringify,rulesheet(function(It){ft.insert(It)})],_t=middleware(ut.concat(nt,gt)),Et=function(Tt){return serialize(compile(Tt),_t)};ct=function(Tt,At,Rt,kt){ft=Rt,Et(Tt?Tt+"{"+At.styles+"}":At.styles),kt&&($t.inserted[At.name]=!0)}}var $t={key:tt,sheet:new StyleSheet({key:tt,container:at,nonce:_e.nonce,speedy:_e.speedy,prepend:_e.prepend,insertionPoint:_e.insertionPoint}),nonce:_e.nonce,inserted:it,registered:{},insert:ct};return $t.sheet.hydrate(st),$t},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(et){if(typeof et=="object"&&et!==null){var _e=et.$$typeof;switch(_e){case c:switch(et=et.type,et){case l:case m:case e:case g:case f:case p:return et;default:switch(et=et&&et.$$typeof,et){case k:case n:case t:case r:case h:return et;default:return _e}}case d:return _e}}}function A(et){return z(et)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(et){return A(et)||z(et)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(et){return z(et)===k};reactIs_production_min.isContextProvider=function(et){return z(et)===h};reactIs_production_min.isElement=function(et){return typeof et=="object"&&et!==null&&et.$$typeof===c};reactIs_production_min.isForwardRef=function(et){return z(et)===n};reactIs_production_min.isFragment=function(et){return z(et)===e};reactIs_production_min.isLazy=function(et){return z(et)===t};reactIs_production_min.isMemo=function(et){return z(et)===r};reactIs_production_min.isPortal=function(et){return z(et)===d};reactIs_production_min.isProfiler=function(et){return z(et)===g};reactIs_production_min.isStrictMode=function(et){return z(et)===f};reactIs_production_min.isSuspense=function(et){return z(et)===p};reactIs_production_min.isValidElementType=function(et){return typeof et=="string"||typeof et=="function"||et===e||et===m||et===g||et===f||et===p||et===q||typeof et=="object"&&et!==null&&(et.$$typeof===t||et.$$typeof===r||et.$$typeof===h||et.$$typeof===k||et.$$typeof===n||et.$$typeof===w||et.$$typeof===x||et.$$typeof===y||et.$$typeof===v)};reactIs_production_min.typeOf=z;reactIs$1.exports=reactIs_production_min;var reactIs=reactIs$1.exports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(et,_e,tt){var rt="";return tt.split(" ").forEach(function(nt){et[nt]!==void 0?_e.push(et[nt]+";"):rt+=nt+" "}),rt}var registerStyles=function et(_e,tt,rt){var nt=_e.key+"-"+tt.name;(rt===!1||isBrowser$1===!1)&&_e.registered[nt]===void 0&&(_e.registered[nt]=tt.styles)},insertStyles=function et(_e,tt,rt){registerStyles(_e,tt,rt);var nt=_e.key+"-"+tt.name;if(_e.inserted[tt.name]===void 0){var it=tt;do _e.insert(tt===it?"."+nt:"",it,_e.sheet,!0),it=it.next;while(it!==void 0)}};function murmur2(et){for(var _e=0,tt,rt=0,nt=et.length;nt>=4;++rt,nt-=4)tt=et.charCodeAt(rt)&255|(et.charCodeAt(++rt)&255)<<8|(et.charCodeAt(++rt)&255)<<16|(et.charCodeAt(++rt)&255)<<24,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16),tt^=tt>>>24,_e=(tt&65535)*1540483477+((tt>>>16)*59797<<16)^(_e&65535)*1540483477+((_e>>>16)*59797<<16);switch(nt){case 3:_e^=(et.charCodeAt(rt+2)&255)<<16;case 2:_e^=(et.charCodeAt(rt+1)&255)<<8;case 1:_e^=et.charCodeAt(rt)&255,_e=(_e&65535)*1540483477+((_e>>>16)*59797<<16)}return _e^=_e>>>13,_e=(_e&65535)*1540483477+((_e>>>16)*59797<<16),((_e^_e>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function et(_e){return _e.charCodeAt(1)===45},isProcessableValue=function et(_e){return _e!=null&&typeof _e!="boolean"},processStyleName=memoize(function(et){return isCustomProperty(et)?et:et.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function et(_e,tt){switch(_e){case"animation":case"animationName":if(typeof tt=="string")return tt.replace(animationRegex,function(rt,nt,it){return cursor={name:nt,styles:it,next:cursor},nt})}return unitlessKeys[_e]!==1&&!isCustomProperty(_e)&&typeof tt=="number"&&tt!==0?tt+"px":tt},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(et,_e,tt){if(tt==null)return"";if(tt.__emotion_styles!==void 0)return tt;switch(typeof tt){case"boolean":return"";case"object":{if(tt.anim===1)return cursor={name:tt.name,styles:tt.styles,next:cursor},tt.name;if(tt.styles!==void 0){var rt=tt.next;if(rt!==void 0)for(;rt!==void 0;)cursor={name:rt.name,styles:rt.styles,next:cursor},rt=rt.next;var nt=tt.styles+";";return nt}return createStringFromObject(et,_e,tt)}case"function":{if(et!==void 0){var it=cursor,at=tt(et);return cursor=it,handleInterpolation(et,_e,at)}break}}if(_e==null)return tt;var st=_e[tt];return st!==void 0?st:tt}function createStringFromObject(et,_e,tt){var rt="";if(Array.isArray(tt))for(var nt=0;nt<tt.length;nt++)rt+=handleInterpolation(et,_e,tt[nt])+";";else for(var it in tt){var at=tt[it];if(typeof at!="object")_e!=null&&_e[at]!==void 0?rt+=it+"{"+_e[at]+"}":isProcessableValue(at)&&(rt+=processStyleName(it)+":"+processStyleValue(it,at)+";");else if(Array.isArray(at)&&typeof at[0]=="string"&&(_e==null||_e[at[0]]===void 0))for(var st=0;st<at.length;st++)isProcessableValue(at[st])&&(rt+=processStyleName(it)+":"+processStyleValue(it,at[st])+";");else{var ct=handleInterpolation(et,_e,at);switch(it){case"animation":case"animationName":{rt+=processStyleName(it)+":"+ct+";";break}default:rt+=it+"{"+ct+"}"}}}return rt}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function et(_e,tt,rt){if(_e.length===1&&typeof _e[0]=="object"&&_e[0]!==null&&_e[0].styles!==void 0)return _e[0];var nt=!0,it="";cursor=void 0;var at=_e[0];at==null||at.raw===void 0?(nt=!1,it+=handleInterpolation(rt,tt,at)):it+=at[0];for(var st=1;st<_e.length;st++)it+=handleInterpolation(rt,tt,_e[st]),nt&&(it+=at[st]);labelPattern.lastIndex=0;for(var ct="",ut;(ut=labelPattern.exec(it))!==null;)ct+="-"+ut[1];var ft=murmur2(it)+ct;return{name:ft,styles:it,next:cursor}},syncFallback=function et(_e){return _e()},useInsertionEffect=React$2["useInsertionEffect"]?React$2["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=react.exports.createContext(typeof HTMLElement!="undefined"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function et(_e){return react.exports.forwardRef(function(tt,rt){var nt=react.exports.useContext(EmotionCacheContext);return _e(tt,nt,rt)})},ThemeContext=react.exports.createContext({});function css(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];return serializeStyles(_e)}var keyframes=function et(){var _e=css.apply(void 0,arguments),tt="animation-"+_e.name;return{name:tt,styles:"@keyframes "+tt+"{"+_e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function et(_e){return _e!=="theme"},getDefaultShouldForwardProp=function et(_e){return typeof _e=="string"&&_e.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function et(_e,tt,rt){var nt;if(tt){var it=tt.shouldForwardProp;nt=_e.__emotion_forwardProp&&it?function(at){return _e.__emotion_forwardProp(at)&&it(at)}:it}return typeof nt!="function"&&rt&&(nt=_e.__emotion_forwardProp),nt},Insertion=function et(_e){var tt=_e.cache,rt=_e.serialized,nt=_e.isStringTag;return registerStyles(tt,rt,nt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(tt,rt,nt)}),null},createStyled=function et(_e,tt){var rt=_e.__emotion_real===_e,nt=rt&&_e.__emotion_base||_e,it,at;tt!==void 0&&(it=tt.label,at=tt.target);var st=composeShouldForwardProps(_e,tt,rt),ct=st||getDefaultShouldForwardProp(nt),ut=!ct("as");return function(){var ft=arguments,gt=rt&&_e.__emotion_styles!==void 0?_e.__emotion_styles.slice(0):[];if(it!==void 0&&gt.push("label:"+it+";"),ft[0]==null||ft[0].raw===void 0)gt.push.apply(gt,ft);else{gt.push(ft[0][0]);for(var _t=ft.length,Et=1;Et<_t;Et++)gt.push(ft[Et],ft[0][Et])}var $t=withEmotionCache(function(It,Tt,At){var Rt=ut&&It.as||nt,kt="",Ot=[],Wt=It;if(It.theme==null){Wt={};for(var zt in It)Wt[zt]=It[zt];Wt.theme=react.exports.useContext(ThemeContext)}typeof It.className=="string"?kt=getRegisteredStyles(Tt.registered,Ot,It.className):It.className!=null&&(kt=It.className+" ");var Kt=serializeStyles(gt.concat(Ot),Tt.registered,Wt);kt+=Tt.key+"-"+Kt.name,at!==void 0&&(kt+=" "+at);var Jt=ut&&st===void 0?getDefaultShouldForwardProp(Rt):ct,ar={};for(var jt in It)ut&&jt==="as"||Jt(jt)&&(ar[jt]=It[jt]);return ar.className=kt,ar.ref=At,react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(Insertion,{cache:Tt,serialized:Kt,isStringTag:typeof Rt=="string"}),react.exports.createElement(Rt,ar))});return $t.displayName=it!==void 0?it:"Styled("+(typeof nt=="string"?nt:nt.displayName||nt.name||"Component")+")",$t.defaultProps=_e.defaultProps,$t.__emotion_real=$t,$t.__emotion_base=nt,$t.__emotion_styles=gt,$t.__emotion_forwardProp=st,Object.defineProperty($t,"toString",{value:function(){return"."+at}}),$t.withComponent=function(It,Tt){return et(It,_extends$3({},tt,Tt,{shouldForwardProp:composeShouldForwardProps($t,Tt,!0)})).apply(void 0,gt)},$t}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(et){newStyled[et]=newStyled(et)});var colorString$1={exports:{}},colorName$1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},simpleSwizzle={exports:{}},isArrayish$1=function et(_e){return!_e||typeof _e=="string"?!1:_e instanceof Array||Array.isArray(_e)||_e.length>=0&&(_e.splice instanceof Function||Object.getOwnPropertyDescriptor(_e,_e.length-1)&&_e.constructor.name!=="String")},isArrayish=isArrayish$1,concat=Array.prototype.concat,slice=Array.prototype.slice,swizzle$1=simpleSwizzle.exports=function et(_e){for(var tt=[],rt=0,nt=_e.length;rt<nt;rt++){var it=_e[rt];isArrayish(it)?tt=concat.call(tt,slice.call(it)):tt.push(it)}return tt};swizzle$1.wrap=function(et){return function(){return et(swizzle$1(arguments))}};var colorNames=colorName$1,swizzle=simpleSwizzle.exports,hasOwnProperty=Object.hasOwnProperty,reverseNames=Object.create(null);for(var name$q in colorNames)hasOwnProperty.call(colorNames,name$q)&&(reverseNames[colorNames[name$q]]=name$q);var cs=colorString$1.exports={to:{},get:{}};cs.get=function(et){var _e=et.substring(0,3).toLowerCase(),tt,rt;switch(_e){case"hsl":tt=cs.get.hsl(et),rt="hsl";break;case"hwb":tt=cs.get.hwb(et),rt="hwb";break;default:tt=cs.get.rgb(et),rt="rgb";break}return tt?{model:rt,value:tt}:null};cs.get.rgb=function(et){if(!et)return null;var _e=/^#([a-f0-9]{3,4})$/i,tt=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,rt=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,nt=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,it=/^(\w+)$/,at=[0,0,0,1],st,ct,ut;if(st=et.match(tt)){for(ut=st[2],st=st[1],ct=0;ct<3;ct++){var ft=ct*2;at[ct]=parseInt(st.slice(ft,ft+2),16)}ut&&(at[3]=parseInt(ut,16)/255)}else if(st=et.match(_e)){for(st=st[1],ut=st[3],ct=0;ct<3;ct++)at[ct]=parseInt(st[ct]+st[ct],16);ut&&(at[3]=parseInt(ut+ut,16)/255)}else if(st=et.match(rt)){for(ct=0;ct<3;ct++)at[ct]=parseInt(st[ct+1],0);st[4]&&(st[5]?at[3]=parseFloat(st[4])*.01:at[3]=parseFloat(st[4]))}else if(st=et.match(nt)){for(ct=0;ct<3;ct++)at[ct]=Math.round(parseFloat(st[ct+1])*2.55);st[4]&&(st[5]?at[3]=parseFloat(st[4])*.01:at[3]=parseFloat(st[4]))}else return(st=et.match(it))?st[1]==="transparent"?[0,0,0,0]:hasOwnProperty.call(colorNames,st[1])?(at=colorNames[st[1]],at[3]=1,at):null:null;for(ct=0;ct<3;ct++)at[ct]=clamp(at[ct],0,255);return at[3]=clamp(at[3],0,1),at};cs.get.hsl=function(et){if(!et)return null;var _e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,tt=et.match(_e);if(tt){var rt=parseFloat(tt[4]),nt=(parseFloat(tt[1])%360+360)%360,it=clamp(parseFloat(tt[2]),0,100),at=clamp(parseFloat(tt[3]),0,100),st=clamp(isNaN(rt)?1:rt,0,1);return[nt,it,at,st]}return null};cs.get.hwb=function(et){if(!et)return null;var _e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,tt=et.match(_e);if(tt){var rt=parseFloat(tt[4]),nt=(parseFloat(tt[1])%360+360)%360,it=clamp(parseFloat(tt[2]),0,100),at=clamp(parseFloat(tt[3]),0,100),st=clamp(isNaN(rt)?1:rt,0,1);return[nt,it,at,st]}return null};cs.to.hex=function(){var et=swizzle(arguments);return"#"+hexDouble(et[0])+hexDouble(et[1])+hexDouble(et[2])+(et[3]<1?hexDouble(Math.round(et[3]*255)):"")};cs.to.rgb=function(){var et=swizzle(arguments);return et.length<4||et[3]===1?"rgb("+Math.round(et[0])+", "+Math.round(et[1])+", "+Math.round(et[2])+")":"rgba("+Math.round(et[0])+", "+Math.round(et[1])+", "+Math.round(et[2])+", "+et[3]+")"};cs.to.rgb.percent=function(){var et=swizzle(arguments),_e=Math.round(et[0]/255*100),tt=Math.round(et[1]/255*100),rt=Math.round(et[2]/255*100);return et.length<4||et[3]===1?"rgb("+_e+"%, "+tt+"%, "+rt+"%)":"rgba("+_e+"%, "+tt+"%, "+rt+"%, "+et[3]+")"};cs.to.hsl=function(){var et=swizzle(arguments);return et.length<4||et[3]===1?"hsl("+et[0]+", "+et[1]+"%, "+et[2]+"%)":"hsla("+et[0]+", "+et[1]+"%, "+et[2]+"%, "+et[3]+")"};cs.to.hwb=function(){var et=swizzle(arguments),_e="";return et.length>=4&&et[3]!==1&&(_e=", "+et[3]),"hwb("+et[0]+", "+et[1]+"%, "+et[2]+"%"+_e+")"};cs.to.keyword=function(et){return reverseNames[et.slice(0,3)]};function clamp(et,_e,tt){return Math.min(Math.max(_e,et),tt)}function hexDouble(et){var _e=Math.round(et).toString(16).toUpperCase();return _e.length<2?"0"+_e:_e}var colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const cssKeywords=colorName,reverseKeywords={};for(const et of Object.keys(cssKeywords))reverseKeywords[cssKeywords[et]]=et;const convert$2={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$2;for(const et of Object.keys(convert$2)){if(!("channels"in convert$2[et]))throw new Error("missing channels property: "+et);if(!("labels"in convert$2[et]))throw new Error("missing channel labels property: "+et);if(convert$2[et].labels.length!==convert$2[et].channels)throw new Error("channel and label counts mismatch: "+et);const{channels:_e,labels:tt}=convert$2[et];delete convert$2[et].channels,delete convert$2[et].labels,Object.defineProperty(convert$2[et],"channels",{value:_e}),Object.defineProperty(convert$2[et],"labels",{value:tt})}convert$2.rgb.hsl=function(et){const _e=et[0]/255,tt=et[1]/255,rt=et[2]/255,nt=Math.min(_e,tt,rt),it=Math.max(_e,tt,rt),at=it-nt;let st,ct;it===nt?st=0:_e===it?st=(tt-rt)/at:tt===it?st=2+(rt-_e)/at:rt===it&&(st=4+(_e-tt)/at),st=Math.min(st*60,360),st<0&&(st+=360);const ut=(nt+it)/2;return it===nt?ct=0:ut<=.5?ct=at/(it+nt):ct=at/(2-it-nt),[st,ct*100,ut*100]};convert$2.rgb.hsv=function(et){let _e,tt,rt,nt,it;const at=et[0]/255,st=et[1]/255,ct=et[2]/255,ut=Math.max(at,st,ct),ft=ut-Math.min(at,st,ct),gt=function(_t){return(ut-_t)/6/ft+1/2};return ft===0?(nt=0,it=0):(it=ft/ut,_e=gt(at),tt=gt(st),rt=gt(ct),at===ut?nt=rt-tt:st===ut?nt=1/3+_e-rt:ct===ut&&(nt=2/3+tt-_e),nt<0?nt+=1:nt>1&&(nt-=1)),[nt*360,it*100,ut*100]};convert$2.rgb.hwb=function(et){const _e=et[0],tt=et[1];let rt=et[2];const nt=convert$2.rgb.hsl(et)[0],it=1/255*Math.min(_e,Math.min(tt,rt));return rt=1-1/255*Math.max(_e,Math.max(tt,rt)),[nt,it*100,rt*100]};convert$2.rgb.cmyk=function(et){const _e=et[0]/255,tt=et[1]/255,rt=et[2]/255,nt=Math.min(1-_e,1-tt,1-rt),it=(1-_e-nt)/(1-nt)||0,at=(1-tt-nt)/(1-nt)||0,st=(1-rt-nt)/(1-nt)||0;return[it*100,at*100,st*100,nt*100]};function comparativeDistance(et,_e){return(et[0]-_e[0])**2+(et[1]-_e[1])**2+(et[2]-_e[2])**2}convert$2.rgb.keyword=function(et){const _e=reverseKeywords[et];if(_e)return _e;let tt=1/0,rt;for(const nt of Object.keys(cssKeywords)){const it=cssKeywords[nt],at=comparativeDistance(et,it);at<tt&&(tt=at,rt=nt)}return rt};convert$2.keyword.rgb=function(et){return cssKeywords[et]};convert$2.rgb.xyz=function(et){let _e=et[0]/255,tt=et[1]/255,rt=et[2]/255;_e=_e>.04045?((_e+.055)/1.055)**2.4:_e/12.92,tt=tt>.04045?((tt+.055)/1.055)**2.4:tt/12.92,rt=rt>.04045?((rt+.055)/1.055)**2.4:rt/12.92;const nt=_e*.4124+tt*.3576+rt*.1805,it=_e*.2126+tt*.7152+rt*.0722,at=_e*.0193+tt*.1192+rt*.9505;return[nt*100,it*100,at*100]};convert$2.rgb.lab=function(et){const _e=convert$2.rgb.xyz(et);let tt=_e[0],rt=_e[1],nt=_e[2];tt/=95.047,rt/=100,nt/=108.883,tt=tt>.008856?tt**(1/3):7.787*tt+16/116,rt=rt>.008856?rt**(1/3):7.787*rt+16/116,nt=nt>.008856?nt**(1/3):7.787*nt+16/116;const it=116*rt-16,at=500*(tt-rt),st=200*(rt-nt);return[it,at,st]};convert$2.hsl.rgb=function(et){const _e=et[0]/360,tt=et[1]/100,rt=et[2]/100;let nt,it,at;if(tt===0)return at=rt*255,[at,at,at];rt<.5?nt=rt*(1+tt):nt=rt+tt-rt*tt;const st=2*rt-nt,ct=[0,0,0];for(let ut=0;ut<3;ut++)it=_e+1/3*-(ut-1),it<0&&it++,it>1&&it--,6*it<1?at=st+(nt-st)*6*it:2*it<1?at=nt:3*it<2?at=st+(nt-st)*(2/3-it)*6:at=st,ct[ut]=at*255;return ct};convert$2.hsl.hsv=function(et){const _e=et[0];let tt=et[1]/100,rt=et[2]/100,nt=tt;const it=Math.max(rt,.01);rt*=2,tt*=rt<=1?rt:2-rt,nt*=it<=1?it:2-it;const at=(rt+tt)/2,st=rt===0?2*nt/(it+nt):2*tt/(rt+tt);return[_e,st*100,at*100]};convert$2.hsv.rgb=function(et){const _e=et[0]/60,tt=et[1]/100;let rt=et[2]/100;const nt=Math.floor(_e)%6,it=_e-Math.floor(_e),at=255*rt*(1-tt),st=255*rt*(1-tt*it),ct=255*rt*(1-tt*(1-it));switch(rt*=255,nt){case 0:return[rt,ct,at];case 1:return[st,rt,at];case 2:return[at,rt,ct];case 3:return[at,st,rt];case 4:return[ct,at,rt];case 5:return[rt,at,st]}};convert$2.hsv.hsl=function(et){const _e=et[0],tt=et[1]/100,rt=et[2]/100,nt=Math.max(rt,.01);let it,at;at=(2-tt)*rt;const st=(2-tt)*nt;return it=tt*nt,it/=st<=1?st:2-st,it=it||0,at/=2,[_e,it*100,at*100]};convert$2.hwb.rgb=function(et){const _e=et[0]/360;let tt=et[1]/100,rt=et[2]/100;const nt=tt+rt;let it;nt>1&&(tt/=nt,rt/=nt);const at=Math.floor(6*_e),st=1-rt;it=6*_e-at,(at&1)!==0&&(it=1-it);const ct=tt+it*(st-tt);let ut,ft,gt;switch(at){default:case 6:case 0:ut=st,ft=ct,gt=tt;break;case 1:ut=ct,ft=st,gt=tt;break;case 2:ut=tt,ft=st,gt=ct;break;case 3:ut=tt,ft=ct,gt=st;break;case 4:ut=ct,ft=tt,gt=st;break;case 5:ut=st,ft=tt,gt=ct;break}return[ut*255,ft*255,gt*255]};convert$2.cmyk.rgb=function(et){const _e=et[0]/100,tt=et[1]/100,rt=et[2]/100,nt=et[3]/100,it=1-Math.min(1,_e*(1-nt)+nt),at=1-Math.min(1,tt*(1-nt)+nt),st=1-Math.min(1,rt*(1-nt)+nt);return[it*255,at*255,st*255]};convert$2.xyz.rgb=function(et){const _e=et[0]/100,tt=et[1]/100,rt=et[2]/100;let nt,it,at;return nt=_e*3.2406+tt*-1.5372+rt*-.4986,it=_e*-.9689+tt*1.8758+rt*.0415,at=_e*.0557+tt*-.204+rt*1.057,nt=nt>.0031308?1.055*nt**(1/2.4)-.055:nt*12.92,it=it>.0031308?1.055*it**(1/2.4)-.055:it*12.92,at=at>.0031308?1.055*at**(1/2.4)-.055:at*12.92,nt=Math.min(Math.max(0,nt),1),it=Math.min(Math.max(0,it),1),at=Math.min(Math.max(0,at),1),[nt*255,it*255,at*255]};convert$2.xyz.lab=function(et){let _e=et[0],tt=et[1],rt=et[2];_e/=95.047,tt/=100,rt/=108.883,_e=_e>.008856?_e**(1/3):7.787*_e+16/116,tt=tt>.008856?tt**(1/3):7.787*tt+16/116,rt=rt>.008856?rt**(1/3):7.787*rt+16/116;const nt=116*tt-16,it=500*(_e-tt),at=200*(tt-rt);return[nt,it,at]};convert$2.lab.xyz=function(et){const _e=et[0],tt=et[1],rt=et[2];let nt,it,at;it=(_e+16)/116,nt=tt/500+it,at=it-rt/200;const st=it**3,ct=nt**3,ut=at**3;return it=st>.008856?st:(it-16/116)/7.787,nt=ct>.008856?ct:(nt-16/116)/7.787,at=ut>.008856?ut:(at-16/116)/7.787,nt*=95.047,it*=100,at*=108.883,[nt,it,at]};convert$2.lab.lch=function(et){const _e=et[0],tt=et[1],rt=et[2];let nt;nt=Math.atan2(rt,tt)*360/2/Math.PI,nt<0&&(nt+=360);const at=Math.sqrt(tt*tt+rt*rt);return[_e,at,nt]};convert$2.lch.lab=function(et){const _e=et[0],tt=et[1],nt=et[2]/360*2*Math.PI,it=tt*Math.cos(nt),at=tt*Math.sin(nt);return[_e,it,at]};convert$2.rgb.ansi16=function(et,_e=null){const[tt,rt,nt]=et;let it=_e===null?convert$2.rgb.hsv(et)[2]:_e;if(it=Math.round(it/50),it===0)return 30;let at=30+(Math.round(nt/255)<<2|Math.round(rt/255)<<1|Math.round(tt/255));return it===2&&(at+=60),at};convert$2.hsv.ansi16=function(et){return convert$2.rgb.ansi16(convert$2.hsv.rgb(et),et[2])};convert$2.rgb.ansi256=function(et){const _e=et[0],tt=et[1],rt=et[2];return _e===tt&&tt===rt?_e<8?16:_e>248?231:Math.round((_e-8)/247*24)+232:16+36*Math.round(_e/255*5)+6*Math.round(tt/255*5)+Math.round(rt/255*5)};convert$2.ansi16.rgb=function(et){let _e=et%10;if(_e===0||_e===7)return et>50&&(_e+=3.5),_e=_e/10.5*255,[_e,_e,_e];const tt=(~~(et>50)+1)*.5,rt=(_e&1)*tt*255,nt=(_e>>1&1)*tt*255,it=(_e>>2&1)*tt*255;return[rt,nt,it]};convert$2.ansi256.rgb=function(et){if(et>=232){const it=(et-232)*10+8;return[it,it,it]}et-=16;let _e;const tt=Math.floor(et/36)/5*255,rt=Math.floor((_e=et%36)/6)/5*255,nt=_e%6/5*255;return[tt,rt,nt]};convert$2.rgb.hex=function(et){const tt=(((Math.round(et[0])&255)<<16)+((Math.round(et[1])&255)<<8)+(Math.round(et[2])&255)).toString(16).toUpperCase();return"000000".substring(tt.length)+tt};convert$2.hex.rgb=function(et){const _e=et.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!_e)return[0,0,0];let tt=_e[0];_e[0].length===3&&(tt=tt.split("").map(st=>st+st).join(""));const rt=parseInt(tt,16),nt=rt>>16&255,it=rt>>8&255,at=rt&255;return[nt,it,at]};convert$2.rgb.hcg=function(et){const _e=et[0]/255,tt=et[1]/255,rt=et[2]/255,nt=Math.max(Math.max(_e,tt),rt),it=Math.min(Math.min(_e,tt),rt),at=nt-it;let st,ct;return at<1?st=it/(1-at):st=0,at<=0?ct=0:nt===_e?ct=(tt-rt)/at%6:nt===tt?ct=2+(rt-_e)/at:ct=4+(_e-tt)/at,ct/=6,ct%=1,[ct*360,at*100,st*100]};convert$2.hsl.hcg=function(et){const _e=et[1]/100,tt=et[2]/100,rt=tt<.5?2*_e*tt:2*_e*(1-tt);let nt=0;return rt<1&&(nt=(tt-.5*rt)/(1-rt)),[et[0],rt*100,nt*100]};convert$2.hsv.hcg=function(et){const _e=et[1]/100,tt=et[2]/100,rt=_e*tt;let nt=0;return rt<1&&(nt=(tt-rt)/(1-rt)),[et[0],rt*100,nt*100]};convert$2.hcg.rgb=function(et){const _e=et[0]/360,tt=et[1]/100,rt=et[2]/100;if(tt===0)return[rt*255,rt*255,rt*255];const nt=[0,0,0],it=_e%1*6,at=it%1,st=1-at;let ct=0;switch(Math.floor(it)){case 0:nt[0]=1,nt[1]=at,nt[2]=0;break;case 1:nt[0]=st,nt[1]=1,nt[2]=0;break;case 2:nt[0]=0,nt[1]=1,nt[2]=at;break;case 3:nt[0]=0,nt[1]=st,nt[2]=1;break;case 4:nt[0]=at,nt[1]=0,nt[2]=1;break;default:nt[0]=1,nt[1]=0,nt[2]=st}return ct=(1-tt)*rt,[(tt*nt[0]+ct)*255,(tt*nt[1]+ct)*255,(tt*nt[2]+ct)*255]};convert$2.hcg.hsv=function(et){const _e=et[1]/100,tt=et[2]/100,rt=_e+tt*(1-_e);let nt=0;return rt>0&&(nt=_e/rt),[et[0],nt*100,rt*100]};convert$2.hcg.hsl=function(et){const _e=et[1]/100,rt=et[2]/100*(1-_e)+.5*_e;let nt=0;return rt>0&&rt<.5?nt=_e/(2*rt):rt>=.5&&rt<1&&(nt=_e/(2*(1-rt))),[et[0],nt*100,rt*100]};convert$2.hcg.hwb=function(et){const _e=et[1]/100,tt=et[2]/100,rt=_e+tt*(1-_e);return[et[0],(rt-_e)*100,(1-rt)*100]};convert$2.hwb.hcg=function(et){const _e=et[1]/100,tt=et[2]/100,rt=1-tt,nt=rt-_e;let it=0;return nt<1&&(it=(rt-nt)/(1-nt)),[et[0],nt*100,it*100]};convert$2.apple.rgb=function(et){return[et[0]/65535*255,et[1]/65535*255,et[2]/65535*255]};convert$2.rgb.apple=function(et){return[et[0]/255*65535,et[1]/255*65535,et[2]/255*65535]};convert$2.gray.rgb=function(et){return[et[0]/100*255,et[0]/100*255,et[0]/100*255]};convert$2.gray.hsl=function(et){return[0,0,et[0]]};convert$2.gray.hsv=convert$2.gray.hsl;convert$2.gray.hwb=function(et){return[0,100,et[0]]};convert$2.gray.cmyk=function(et){return[0,0,0,et[0]]};convert$2.gray.lab=function(et){return[et[0],0,0]};convert$2.gray.hex=function(et){const _e=Math.round(et[0]/100*255)&255,rt=((_e<<16)+(_e<<8)+_e).toString(16).toUpperCase();return"000000".substring(rt.length)+rt};convert$2.rgb.gray=function(et){return[(et[0]+et[1]+et[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph(){const et={},_e=Object.keys(conversions$1);for(let tt=_e.length,rt=0;rt<tt;rt++)et[_e[rt]]={distance:-1,parent:null};return et}function deriveBFS(et){const _e=buildGraph(),tt=[et];for(_e[et].distance=0;tt.length;){const rt=tt.pop(),nt=Object.keys(conversions$1[rt]);for(let it=nt.length,at=0;at<it;at++){const st=nt[at],ct=_e[st];ct.distance===-1&&(ct.distance=_e[rt].distance+1,ct.parent=rt,tt.unshift(st))}}return _e}function link(et,_e){return function(tt){return _e(et(tt))}}function wrapConversion(et,_e){const tt=[_e[et].parent,et];let rt=conversions$1[_e[et].parent][et],nt=_e[et].parent;for(;_e[nt].parent;)tt.unshift(_e[nt].parent),rt=link(conversions$1[_e[nt].parent][nt],rt),nt=_e[nt].parent;return rt.conversion=tt,rt}var route$1=function(et){const _e=deriveBFS(et),tt={},rt=Object.keys(_e);for(let nt=rt.length,it=0;it<nt;it++){const at=rt[it];_e[at].parent!==null&&(tt[at]=wrapConversion(at,_e))}return tt};const conversions=conversions$2,route=route$1,convert$1={},models=Object.keys(conversions);function wrapRaw(et){const _e=function(...tt){const rt=tt[0];return rt==null?rt:(rt.length>1&&(tt=rt),et(tt))};return"conversion"in et&&(_e.conversion=et.conversion),_e}function wrapRounded(et){const _e=function(...tt){const rt=tt[0];if(rt==null)return rt;rt.length>1&&(tt=rt);const nt=et(tt);if(typeof nt=="object")for(let it=nt.length,at=0;at<it;at++)nt[at]=Math.round(nt[at]);return nt};return"conversion"in et&&(_e.conversion=et.conversion),_e}models.forEach(et=>{convert$1[et]={},Object.defineProperty(convert$1[et],"channels",{value:conversions[et].channels}),Object.defineProperty(convert$1[et],"labels",{value:conversions[et].labels});const _e=route(et);Object.keys(_e).forEach(rt=>{const nt=_e[rt];convert$1[et][rt]=wrapRounded(nt),convert$1[et][rt].raw=wrapRaw(nt)})});var colorConvert=convert$1;const colorString=colorString$1.exports,convert=colorConvert,skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const et of Object.keys(convert))hashedModelKeys[[...convert[et].labels].sort().join("")]=et;const limiters={};function Color(et,_e){if(!(this instanceof Color))return new Color(et,_e);if(_e&&_e in skippedModels&&(_e=null),_e&&!(_e in convert))throw new Error("Unknown model: "+_e);let tt,rt;if(et==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(et instanceof Color)this.model=et.model,this.color=[...et.color],this.valpha=et.valpha;else if(typeof et=="string"){const nt=colorString.get(et);if(nt===null)throw new Error("Unable to parse color from string: "+et);this.model=nt.model,rt=convert[this.model].channels,this.color=nt.value.slice(0,rt),this.valpha=typeof nt.value[rt]=="number"?nt.value[rt]:1}else if(et.length>0){this.model=_e||"rgb",rt=convert[this.model].channels;const nt=Array.prototype.slice.call(et,0,rt);this.color=zeroArray(nt,rt),this.valpha=typeof et[rt]=="number"?et[rt]:1}else if(typeof et=="number")this.model="rgb",this.color=[et>>16&255,et>>8&255,et&255],this.valpha=1;else{this.valpha=1;const nt=Object.keys(et);"alpha"in et&&(nt.splice(nt.indexOf("alpha"),1),this.valpha=typeof et.alpha=="number"?et.alpha:0);const it=nt.sort().join("");if(!(it in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(et));this.model=hashedModelKeys[it];const{labels:at}=convert[this.model],st=[];for(tt=0;tt<at.length;tt++)st.push(et[at[tt]]);this.color=zeroArray(st)}if(limiters[this.model])for(rt=convert[this.model].channels,tt=0;tt<rt;tt++){const nt=limiters[this.model][tt];nt&&(this.color[tt]=nt(this.color[tt]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(et){let _e=this.model in colorString.to?this:this.rgb();_e=_e.round(typeof et=="number"?et:1);const tt=_e.valpha===1?_e.color:[..._e.color,this.valpha];return colorString.to[_e.model](tt)},percentString(et){const _e=this.rgb().round(typeof et=="number"?et:1),tt=_e.valpha===1?_e.color:[..._e.color,this.valpha];return colorString.to.rgb.percent(tt)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const et={},{channels:_e}=convert[this.model],{labels:tt}=convert[this.model];for(let rt=0;rt<_e;rt++)et[tt[rt]]=this.color[rt];return this.valpha!==1&&(et.alpha=this.valpha),et},unitArray(){const et=this.rgb().color;return et[0]/=255,et[1]/=255,et[2]/=255,this.valpha!==1&&et.push(this.valpha),et},unitObject(){const et=this.rgb().object();return et.r/=255,et.g/=255,et.b/=255,this.valpha!==1&&(et.alpha=this.valpha),et},round(et){return et=Math.max(et||0,0),new Color([...this.color.map(roundToPlace(et)),this.valpha],this.model)},alpha(et){return et!==void 0?new Color([...this.color,Math.max(0,Math.min(1,et))],this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,et=>(et%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(95.047)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(108.833)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword(et){return et!==void 0?new Color(et):convert[this.model].keyword(this.color)},hex(et){return et!==void 0?new Color(et):colorString.to.hex(this.rgb().round().color)},hexa(et){if(et!==void 0)return new Color(et);const _e=this.rgb().round().color;let tt=Math.round(this.valpha*255).toString(16).toUpperCase();return tt.length===1&&(tt="0"+tt),colorString.to.hex(_e)+tt},rgbNumber(){const et=this.rgb().color;return(et[0]&255)<<16|(et[1]&255)<<8|et[2]&255},luminosity(){const et=this.rgb().color,_e=[];for(const[tt,rt]of et.entries()){const nt=rt/255;_e[tt]=nt<=.04045?nt/12.92:((nt+.055)/1.055)**2.4}return .2126*_e[0]+.7152*_e[1]+.0722*_e[2]},contrast(et){const _e=this.luminosity(),tt=et.luminosity();return _e>tt?(_e+.05)/(tt+.05):(tt+.05)/(_e+.05)},level(et){const _e=this.contrast(et);return _e>=7?"AAA":_e>=4.5?"AA":""},isDark(){const et=this.rgb().color;return(et[0]*2126+et[1]*7152+et[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const et=this.rgb();for(let _e=0;_e<3;_e++)et.color[_e]=255-et.color[_e];return et},lighten(et){const _e=this.hsl();return _e.color[2]+=_e.color[2]*et,_e},darken(et){const _e=this.hsl();return _e.color[2]-=_e.color[2]*et,_e},saturate(et){const _e=this.hsl();return _e.color[1]+=_e.color[1]*et,_e},desaturate(et){const _e=this.hsl();return _e.color[1]-=_e.color[1]*et,_e},whiten(et){const _e=this.hwb();return _e.color[1]+=_e.color[1]*et,_e},blacken(et){const _e=this.hwb();return _e.color[2]+=_e.color[2]*et,_e},grayscale(){const et=this.rgb().color,_e=et[0]*.3+et[1]*.59+et[2]*.11;return Color.rgb(_e,_e,_e)},fade(et){return this.alpha(this.valpha-this.valpha*et)},opaquer(et){return this.alpha(this.valpha+this.valpha*et)},rotate(et){const _e=this.hsl();let tt=_e.color[0];return tt=(tt+et)%360,tt=tt<0?360+tt:tt,_e.color[0]=tt,_e},mix(et,_e){if(!et||!et.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof et);const tt=et.rgb(),rt=this.rgb(),nt=_e===void 0?.5:_e,it=2*nt-1,at=tt.alpha()-rt.alpha(),st=((it*at===-1?it:(it+at)/(1+it*at))+1)/2,ct=1-st;return Color.rgb(st*tt.red()+ct*rt.red(),st*tt.green()+ct*rt.green(),st*tt.blue()+ct*rt.blue(),tt.alpha()*nt+rt.alpha()*(1-nt))}};for(const et of Object.keys(convert)){if(skippedModels.includes(et))continue;const{channels:_e}=convert[et];Color.prototype[et]=function(...tt){return this.model===et?new Color(this):tt.length>0?new Color(tt,et):new Color([...assertArray(convert[this.model][et].raw(this.color)),this.valpha],et)},Color[et]=function(...tt){let rt=tt[0];return typeof rt=="number"&&(rt=zeroArray(tt,_e)),new Color(rt,et)}}function roundTo(et,_e){return Number(et.toFixed(_e))}function roundToPlace(et){return function(_e){return roundTo(_e,et)}}function getset(et,_e,tt){et=Array.isArray(et)?et:[et];for(const rt of et)(limiters[rt]||(limiters[rt]=[]))[_e]=tt;return et=et[0],function(rt){let nt;return rt!==void 0?(tt&&(rt=tt(rt)),nt=this[et](),nt.color[_e]=rt,nt):(nt=this[et]().color[_e],tt&&(nt=tt(nt)),nt)}}function maxfn(et){return function(_e){return Math.max(0,Math.min(et,_e))}}function assertArray(et){return Array.isArray(et)?et:[et]}function zeroArray(et,_e){for(let tt=0;tt<_e;tt++)typeof et[tt]!="number"&&(et[tt]=0);return et}var color=Color,color$1=color;const chain={mainnet:{id:ChainId$1.Mainnet,name:"Ethereum Mainnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.Mainnet],rpcUrls:["https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]},goerli:{id:ChainId$1.Goerli,name:"Goerli",nativeCurrency:NATIVE_TOKENS[ChainId$1.Goerli],rpcUrls:["https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://goerli.etherscan.io"}],testnet:!0},polygonMainnet:{id:ChainId$1.Polygon,name:"Polygon Mainnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.Polygon],rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://polygonscan.com"}]},polygonTestnetMumbai:{id:ChainId$1.Mumbai,name:"Mumbai",nativeCurrency:NATIVE_TOKENS[ChainId$1.Mumbai],rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com"],blockExplorers:[{name:"PolygonScan",url:"https://mumbai.polygonscan.com"}],testnet:!0},avalanche:{id:ChainId$1.Avalanche,name:"Avalanche",nativeCurrency:NATIVE_TOKENS[ChainId$1.Avalanche],rpcUrls:["https://api.avax.network/ext/bc/C/rpc","https://rpc.ankr.com/avalanche"],blockExplorers:[{name:"SnowTrace",url:"https://snowtrace.io/"}],testnet:!1},avalancheFujiTestnet:{id:ChainId$1.AvalancheFujiTestnet,name:"Avalanche Fuji Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.AvalancheFujiTestnet],rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorers:[{name:"SnowTrace",url:"https://testnet.snowtrace.io/"}],testnet:!0},fantom:{id:ChainId$1.Fantom,name:"Fantom Opera",nativeCurrency:NATIVE_TOKENS[ChainId$1.Fantom],rpcUrls:["https://rpc.ftm.tools"],blockExplorers:[{name:"FTMscan",url:"https://ftmscan.com/"}],testnet:!1},fantomTestnet:{id:ChainId$1.FantomTestnet,name:"Fantom Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.FantomTestnet],rpcUrls:["https://rpc.testnet.fantom.network"],blockExplorers:[{name:"FTMscan",url:"https://testnet.ftmscan.com/"}],testnet:!0},optimism:{id:ChainId$1.Optimism,name:"Optimism",nativeCurrency:NATIVE_TOKENS[ChainId$1.Optimism],rpcUrls:["https://mainnet.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://optimistic.etherscan.io/"}],testnet:!1},optimismGoerli:{id:ChainId$1.OptimismGoerli,name:"Optimism Goerli Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.OptimismGoerli],rpcUrls:["https://goerli.optimism.io/"],blockExplorers:[{name:"Etherscan",url:"https://goerli-optimism.etherscan.io/"}],testnet:!0},arbitrum:{id:ChainId$1.Arbitrum,name:"Arbitrum One",nativeCurrency:NATIVE_TOKENS[ChainId$1.Arbitrum],rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorers:[{name:"Arbiscan",url:"https://arbiscan.io/"}],testnet:!1},arbitrumGoerli:{id:ChainId$1.ArbitrumGoerli,name:"Arbitrum Goerli",nativeCurrency:NATIVE_TOKENS[ChainId$1.ArbitrumGoerli],rpcUrls:["https://goerli-rollup.arbitrum.io/rpc/"],blockExplorers:[{name:"Arbitrum Goerli Rollup Explorer",url:"https://goerli-rollup-explorer.arbitrum.io"}],testnet:!0},binanceSmartChainMainnet:{id:ChainId$1.BinanceSmartChainMainnet,name:"Binance Smart Chain Mainnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.BinanceSmartChainMainnet],rpcUrls:["https://bsc-dataseed1.binance.org"],blockExplorers:[{name:"BscScan",url:"https://bscscan.com/"}],testnet:!1},binanceSmartChainTestnet:{id:ChainId$1.BinanceSmartChainTestnet,name:"Binance Smart Chain Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.BinanceSmartChainTestnet],rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545"],blockExplorers:[{name:"BscScan",url:"https://testnet.bscscan.com/"}],testnet:!0}},defaultSupportedChains=Object.values(chain),defaultdAppMeta={name:"thirdweb powered dApp"},defaultWalletConnectors=["metamask","walletConnect","walletLink"],ThirdwebProvider=et=>{let{sdkOptions:_e,chainRpc:tt=DEFAULT_RPC_URLS,supportedChains:rt=defaultSupportedChains.map(At=>At.id),walletConnectors:nt=defaultWalletConnectors,dAppMeta:it=defaultdAppMeta,desiredChainId:at,authConfig:st,storageInterface:ct,queryClient:ut,autoConnect:ft=!0,children:gt}=et;const _t=react.exports.useMemo(()=>rt.map(At=>typeof At=="number"?defaultSupportedChains.find(Rt=>Rt.id===At):At).filter(At=>At!==void 0),[rt]),Et=react.exports.useMemo(()=>_t.reduce((At,Rt)=>(At[Rt.id]=Rt.id in tt?getProviderForNetwork(tt[Rt.id]||Rt.rpcUrls[0]):Rt.rpcUrls[0],At),{}),[tt,_t]),$t=react.exports.useMemo(()=>{const At={name:it.name,url:it.url||"",icons:[it.logoUrl||""],description:it.description||""},Rt={appName:it.name,appLogoUrl:it.logoUrl,darkMode:it.isDarkMode};return{autoConnect:ft,connectorStorageKey:"tw:provider:connectors",connectors:kt=>{let{chainId:Ot}=kt;return nt.map(Wt=>{if(Wt instanceof Connector$1)return Wt;if(typeof Wt=="string"&&(Wt==="injected"||Wt==="metamask")||typeof Wt=="object"&&(Wt.name==="injected"||Wt.name==="metamask"))return new InjectedConnector({options:typeof Wt=="string"?{shimDisconnect:!0,shimChainChangedDisconnect:!0}:Wt.options,chains:_t});if(typeof Wt=="string"&&Wt==="walletConnect"||typeof Wt=="object"&&Wt.name==="walletConnect")return new WalletConnectConnector({options:typeof Wt=="string"?{chainId:Ot,rpc:Et,clientMeta:At,qrcode:!0}:{chainId:Ot,rpc:Et,clientMeta:At,qrcode:!0,...Wt.options},chains:_t});if(typeof Wt=="string"&&(Wt==="coinbase"||Wt==="walletLink")||typeof Wt=="object"&&(Wt.name==="coinbase"||Wt.name==="walletLink")){const zt=Et[Ot||at||1];return new CoinbaseWalletConnector({chains:_t,options:typeof Wt=="string"?{...Rt,jsonRpcUrl:zt}:{...Rt,jsonRpcUrl:zt,...Wt.options}})}return null}).filter(Wt=>Wt!==null)}}},[it.name,it.url,it.logoUrl,it.description,it.isDarkMode,ft,nt,_t,Et,at]),It=react.exports.useMemo(()=>{var Rt,kt;if(((Rt=_e==null?void 0:_e.readonlySettings)==null?void 0:Rt.rpcUrl)&&((kt=_e==null?void 0:_e.readonlySettings)==null?void 0:kt.chainId))return _e.readonlySettings;if(!at)return;let At=Et[at];try{At=getProviderForNetwork(At)}catch{console.error(`failed to configure rpc url for chain: "${at}". Did you forget to pass "desiredChainId" to the <ThirdwebProvider /> component?`);return}return{chainId:at,rpcUrl:At}},[Et,at,_e==null?void 0:_e.readonlySettings]),Tt=react.exports.useMemo(()=>({..._e,readonlySettings:It}),[_e,It]);return jsx(ThirdwebConfigProvider,{value:{rpcUrlMap:Et,supportedChains:_t},children:jsx(Provider$1,{...$t,children:jsx(ThirdwebSDKProviderWagmiWrapper,{queryClient:ut,desiredChainId:at,sdkOptions:Tt,storageInterface:ct,authConfig:st,children:gt})})})},ThirdwebSDKProviderWagmiWrapper=et=>{let{children:_e,...tt}=et;const rt=useProvider(),[nt]=useSigner();return jsx(ThirdwebSDKProvider,{signer:nt.data,provider:rt,...tt,children:_e})};globalThis.Buffer=buffer.Buffer;globalThis.Buffer=buffer.Buffer;const DEFAULT_IPFS_GATEWAY="https://gateway.ipfscdn.io/ipfs/",DEFAULT_IPFS_RESOLVER_OPTIONS={gatewayUrl:DEFAULT_IPFS_GATEWAY};function resolveIpfsUri(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_IPFS_RESOLVER_OPTIONS;if(!!et)return et.startsWith("ipfs://")?et.replace("ipfs://",_e.gatewayUrl):et}async function resolveMimeType(et){if(!et)return;const _e=lite.getType(et);if(_e)return _e;const tt=await fetch(et,{method:"HEAD"});if(tt.ok&&tt.headers.has("content-type"))return tt.headers.get("content-type")||void 0}let video;function supportsVideoType(et){return typeof window=="undefined"||!et||!et.startsWith("video/")?"":(video||(video=document.createElement("video")),video.canPlayType(et))}function shouldRenderVideoTag(et){return!!supportsVideoType(et)}let audio;function supportsAudioType(et){return typeof window=="undefined"||!et||!et.startsWith("audio/")?"":(audio||(audio=document.createElement("audio")),audio.canPlayType(et))}function shouldRenderAudioTag(et){return!!supportsAudioType(et)}function mergeRefs(et){return _e=>{et.forEach(tt=>{typeof tt=="function"?tt(_e):tt!=null&&(tt.current=_e)})}}const CarbonDocumentUnknown=et=>jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...et,children:[jsx("circle",{cx:"9",cy:"28.5",r:"1.5",fill:"currentColor"}),jsx("path",{fill:"currentColor",d:"M10 25H8v-4h2a2 2 0 0 0 0-4H8a2.002 2.002 0 0 0-2 2v.5H4V19a4.005 4.005 0 0 1 4-4h2a4 4 0 0 1 0 8Z"}),jsx("path",{fill:"currentColor",d:"m27.7 9.3l-7-7A.908.908 0 0 0 20 2H10a2.006 2.006 0 0 0-2 2v8h2V4h8v6a2.006 2.006 0 0 0 2 2h6v16H14v2h12a2.006 2.006 0 0 0 2-2V10a.91.91 0 0 0-.3-.7ZM20 10V4.4l5.6 5.6Z"})]}),CarbonDocumentAudio=et=>jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...et,children:[jsx("path",{fill:"currentColor",d:"M29 31a.999.999 0 0 1-.625-.22L23.65 27H20a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1h3.65l4.726-3.78A1 1 0 0 1 30 17v13a1 1 0 0 1-1 1Zm-8-6h3a1 1 0 0 1 .625.22L28 27.92v-8.84l-3.376 2.7A1 1 0 0 1 24 22h-3Z"}),jsx("path",{fill:"currentColor",d:"M16 28H8V4h8v6a2.006 2.006 0 0 0 2 2h6v3h2v-5a.91.91 0 0 0-.3-.7l-7-7A.909.909 0 0 0 18 2H8a2.006 2.006 0 0 0-2 2v24a2.006 2.006 0 0 0 2 2h8Zm2-23.6l5.6 5.6H18Z"})]}),CarbonPauseFilled=et=>jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...et,children:jsx("path",{fill:"currentColor",d:"M12 6h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm10 0h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2z"})}),CarbonPlayFilledAlt=et=>jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...et,children:jsx("path",{fill:"currentColor",d:"M7 28a1 1 0 0 1-1-1V5a1 1 0 0 1 1.482-.876l20 11a1 1 0 0 1 0 1.752l-20 11A1 1 0 0 1 7 28Z"})}),ModelViewer=react.exports.lazy(()=>__vitePreload(()=>import("./ModelViewer-b692ef14.esm.02817247.js"),[])),PlayButton=et=>{let{onClick:_e,isPlaying:tt}=et;const[rt,nt]=react.exports.useState(!1),it=()=>nt(!0),at=()=>nt(!1),st=()=>nt(!1),ct=()=>nt(!0);return jsx("button",{style:{position:"absolute",bottom:0,right:0,transform:"translate(-25%, -25%)",maxWidth:"32px",width:"8%",minWidth:"24px",aspectRatio:"1",zIndex:3,backgroundColor:"#fff",color:"rgb(138, 147, 155)",display:"grid",placeItems:"center",borderRadius:"50%",border:"1px solid rgb(229, 232, 235)",cursor:"pointer",...rt?{color:"rgb(53, 56, 64)",boxShadow:"rgb(4 17 29 / 25%) 0px 0px 8px 0px"}:{}},onClick:_e,onMouseEnter:it,onMouseLeave:at,onMouseDown:st,onMouseUp:ct,children:tt?jsx(CarbonPauseFilled,{style:{width:"66%",height:"66%"}}):jsx(CarbonPlayFilledAlt,{style:{width:"66%",height:"66%"}})})},VideoPlayer=React$1.forwardRef((et,_e)=>{let{src:tt,alt:rt,poster:nt,requireInteraction:it,style:at,width:st,height:ct,controls:ut,...ft}=et;const gt=react.exports.useRef(null),[_t,Et]=react.exports.useState(!it),[$t,It]=react.exports.useState(!0);return react.exports.useEffect(()=>{if(gt.current)if(_t)try{gt.current.play()}catch(Tt){console.error("error playing video",Tt)}else try{gt.current.pause(),gt.current.currentTime=0}catch(Tt){console.error("error pausing video",Tt)}},[_t]),jsxs("div",{style:{position:"relative",...at},...ft,children:[jsx("video",{ref:mergeRefs([gt,_e]),src:tt!=null?tt:void 0,poster:nt!=null?nt:void 0,loop:!0,playsInline:!0,controlsList:"nodownload",muted:$t,preload:nt?"metadata":"auto",onCanPlay:()=>{var Tt;_t&&((Tt=gt.current)==null||Tt.play())},width:st,height:ct,controls:ut,style:{height:"100%",width:"100%",objectFit:"contain",zIndex:1,transition:"opacity .5s",opacity:nt?_t?1:0:1}}),nt&&jsx("img",{src:nt,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:_t?0:1,top:0,left:0,right:0,bottom:0},alt:rt}),jsx(PlayButton,{onClick:()=>{Et(Tt=>!Tt),It(!1)},isPlaying:_t})]})});VideoPlayer.displayName="VideoPlayer";const AudioPlayer=React$1.forwardRef((et,_e)=>{let{src:tt,alt:rt,poster:nt,style:it,height:at,width:st,...ct}=et;const ut=react.exports.useRef(null),[ft,gt]=react.exports.useState(!1),[_t,Et]=react.exports.useState(!0);return react.exports.useEffect(()=>{ut.current&&(ft?ut.current.play():(ut.current.pause(),ut.current.currentTime=0))},[ft]),jsxs("div",{style:{position:"relative",...it},...ct,children:[nt?jsx("img",{height:at,width:st,src:nt,style:{height:"100%",width:"100%",pointerEvents:"none",objectFit:"contain"},alt:rt}):jsx("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",pointerEvents:"none",backgroundColor:"#fff",color:"rgb(138, 147, 155)"},children:jsx(CarbonDocumentAudio,{style:{height:"64px",width:"64px"}})}),jsx(PlayButton,{onClick:()=>{gt($t=>!$t),Et(!1)},isPlaying:ft}),jsx("audio",{ref:mergeRefs([ut,_e]),src:tt!=null?tt:void 0,loop:!0,playsInline:!0,muted:_t,preload:"none",controlsList:"nodownload",style:{position:"absolute",opacity:0,pointerEvents:"none",zIndex:-1,visibility:"hidden"}})]})});AudioPlayer.displayName="AudioPlayer";const IframePlayer=React$1.forwardRef((et,_e)=>{let{src:tt,alt:rt,poster:nt,requireInteraction:it,style:at,...st}=et;const{observe:ct,width:ut}=useDimensions(),[ft,gt]=react.exports.useState(!it);return ut<300?jsx("div",{ref:ct,children:jsx(LinkPlayer,{style:at,src:tt,alt:rt,...st})}):jsxs("div",{style:{position:"relative",...at},...st,ref:ct,children:[jsx("iframe",{src:ft&&tt!=null?tt:void 0,ref:_e,style:{objectFit:"contain",zIndex:1,height:"100%",width:"100%",transition:"opacity .5s",opacity:nt?ft?1:0:1},sandbox:"allow-scripts",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}),nt&&jsx("img",{src:nt,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:ft?0:1,top:0,left:0,right:0,bottom:0},alt:rt}),jsx(PlayButton,{onClick:()=>{gt(_t=>!_t)},isPlaying:ft})]})});IframePlayer.displayName="IframePlayer";const LinkPlayer=React$1.forwardRef((et,_e)=>{let{src:tt,alt:rt,style:nt,...it}=et;return jsx("div",{style:{position:"relative",...nt},...it,children:jsx("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",backgroundColor:"#fff",color:"rgb(138, 147, 155)"},children:jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center",flexWrap:"nowrap"},children:[jsx(CarbonDocumentUnknown,{style:{maxWidth:"128px",minWidth:"48px",width:"50%",aspectRatio:"1"}}),jsx("a",{rel:"noopener noreferrer",style:{textDecoration:"underline",color:"rgb(138, 147, 155)"},href:tt!=null?tt:void 0,target:"_blank",ref:_e,children:rt||"File"})]})})})});LinkPlayer.displayName="LinkPlayer";const MediaRenderer=React$1.forwardRef((et,_e)=>{let{src:tt,poster:rt,alt:nt,requireInteraction:it=!1,width:at="300px",height:st="300px",style:ct,...ut}=et;const ft={objectFit:"contain",width:at,height:st,...ct},gt=useResolvedMediaType(tt!=null?tt:void 0),_t=useResolvedMediaType(rt!=null?rt:void 0);if(gt.mimeType){if(gt.mimeType==="text/html")return jsx(IframePlayer,{style:ft,src:gt.url,poster:_t.url,requireInteraction:it,...ut});if(gt.mimeType.startsWith("model"))return jsx(react.exports.Suspense,{fallback:rt?jsx("img",{style:ft,src:rt,alt:nt,ref:_e,...ut}):null,children:jsx(ModelViewer,{style:ft,src:gt.url||"",poster:rt,alt:nt,...ut})});if(shouldRenderVideoTag(gt.mimeType))return jsx(VideoPlayer,{style:ft,src:gt.url,poster:_t.url,requireInteraction:it,...ut});if(shouldRenderAudioTag(gt.mimeType))return jsx(AudioPlayer,{style:ft,src:gt.url,poster:_t.url,requireInteraction:it,...ut});if(gt.mimeType.startsWith("image/"))return jsx("img",{style:ft,src:gt.url,alt:nt,ref:_e,...ut})}else return jsx("img",{style:ft,...ut,ref:_e,alt:nt});return jsx(LinkPlayer,{style:ft,src:gt.url,alt:nt,ref:_e,...ut})});MediaRenderer.displayName="MediaRenderer";function useResolvedMediaType(et){const _e=react.exports.useMemo(()=>resolveIpfsUri(et),[et]),tt=useQuery(["mime-type",_e],()=>resolveMimeType(_e),{enabled:!!_e});return{url:_e,mimeType:tt.data}}const ThirdwebNftMedia=React$1.forwardRef((et,_e)=>{var st;let{metadata:tt,width:rt="300px",height:nt="300px",style:it,...at}=et;return jsx(MediaRenderer,{src:tt.animation_url||tt.image,poster:tt.image,alt:((st=tt.name)==null?void 0:st.toString())||"",ref:_e,width:rt,height:nt,style:{...it},...at})});ThirdwebNftMedia.displayName="ThirdwebNftMedia";newStyled.div``;const spin=keyframes({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});newStyled.div`
  display: inline-block;
  border-top: 2px solid currentcolor;
  border-right: 2px solid currentcolor;
  border-bottom-style: solid;
  border-left-style: solid;
  border-radius: 99999px;
  border-bottom-width: 2px;
  border-left-width: 2px;
  border-bottom-color: transparent;
  border-left-color: transparent;
  animation: 0.45s linear 0s infinite normal none running ${spin};
  width: 0.75em;
  height: 0.75em;
  flex-shrink: 0;
`;const BaseButton=newStyled.button`
  position: relative;
  border-radius: 0.5em;
  padding: 0.75em 1.25em;
  padding-right: ${et=>et.hasRightElement?"0.75em":"1.25em"};
  padding-left: ${et=>et.hasLeftElement?"0.75em":"1.25em"};
  font-size: 1em;
  font-weight: 600;
  letter-spacing: 0.5px;
  display: flex;
  gap: 0.5em;
  align-items: center;
  justify-content: space-evenly;
  color: ${et=>computeTextColorBasedOnBackground(et.theme.colors.accent)};
  border: 2px solid
    ${et=>computeHoverColor(et.theme.colors.accent)};
  &:hover {
    cursor: pointer;
  }
  &:disabled {
    cursor: not-allowed;
  }
  &:focus {
    position: relative;
    border-radius: 0.5em;
    outline: 0;
  }
  &:focus:after {
    content: "";
    position: absolute;
    top: -5px;
    right: -5px;
    bottom: -5px;
    left: -5px;
    border: 2px solid ${et=>et.theme.colors.accent};
    border-radius: 11px;
  }
`;function computeHoverColor(et){const _e=color$1(et);return _e.hex()==="#000000"?"#262627":_e.luminosity()<.2?_e.lighten(.1).hex():_e.darken(.1).hex()}function computeDisabledColor(et){const _e=color$1(et);return _e.hex()==="#000000"?"#262627":_e.luminosity()<.2?_e.lighten(.5).hex():_e.darken(.5).hex()}function computeTextColorBasedOnBackground(et){return color$1(et).isDark()?"#fff":"#000"}newStyled(BaseButton)`
  background: ${et=>et.theme.colors.accent};
  &:hover {
    background: ${et=>computeHoverColor(et.theme.colors.accent)};
    border-color: ${et=>computeHoverColor(et.theme.colors.accent)};
  }
  &:disabled {
    background: ${et=>computeDisabledColor(et.theme.colors.accent)};
    border-color: ${et=>computeDisabledColor(et.theme.colors.accent)};
    color: ${et=>computeTextColorBasedOnBackground(computeDisabledColor(et.theme.colors.accent))};
  }
`;newStyled(BaseButton)`
  background: transparent;
  &:hover {
    background: ${et=>color$1(et.theme.colors.background).alpha(.5).hexa()};
  }
`;newStyled.svg`
  border-radius: 0.25em;
  flex-shrink: 0;
  ${et=>et.boxSize?`width: ${et.boxSize};
    height: ${et.boxSize};`:""}
`;newStyled.li`
  display: flex;
  padding: 0.75em 1em;
  align-items: center;
  gap: 0.5em;
  font-size: 1em;

  ${et=>et.isSelectable?`&:hover,
  &[data-focus] {
    cursor: pointer;
    background: ${color$1(et.theme.colors.text).alpha(.15).hexa()};
  }`:""}

  > svg {
    flex-shrink: 0;
  }
`;newStyled.ul`
  padding: 0;
  margin: 0;
  background: ${et=>et.theme.colors.background};
  color: ${et=>et.theme.colors.text};
  list-style: none;
  border-radius: 0.5em;
  overflow: hidden;
  position: relative;
  pointer-events: auto;
  &:focus {
    outline: 0;
  }
  &:after {
    content: "";
    position: absolute;
    border: 1px solid ${et=>et.theme.colors.accent};
    border-radius: 0.5em;
    pointer-events: none;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`;newStyled.select`
  margin: -0.25em 0;
  background: ${et=>color$1(et.theme.colors.background).alpha(.85).hexa()};
  color: ${et=>et.theme.colors.text};
  border: 1px solid
    ${et=>color$1(et.theme.colors.text).alpha(.25).hexa()};
  border-radius: 0.25em;
  padding: 0.25em;
  width: 100%;
  flex-shrink: 1;
  font-size: 1em;
  &:hover {
    cursor: pointer;
  }
  &:focus {
    outline: 2px solid ${et=>et.theme.colors.accent};
  }
  &:disabled {
    cursor: not-allowed;
  }
`;ChainId$1.Mainnet+"",ChainId$1.Goerli+"",ChainId$1.Arbitrum+"",ChainId$1.ArbitrumGoerli+"",ChainId$1.Avalanche+"",ChainId$1.AvalancheFujiTestnet+"",ChainId$1.Fantom+"",ChainId$1.FantomTestnet+"",ChainId$1.Optimism+"",ChainId$1.OptimismGoerli+"",ChainId$1.Polygon+"",ChainId$1.Mumbai+"",ChainId$1.BinanceSmartChainMainnet+"",ChainId$1.BinanceSmartChainTestnet+"";/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$2.apply(this,arguments)}var Action;(function(et){et.Pop="POP",et.Push="PUSH",et.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(et){et===void 0&&(et={});function _e(rt,nt){let{pathname:it,search:at,hash:st}=rt.location;return createLocation("",{pathname:it,search:at,hash:st},nt.state&&nt.state.usr||null,nt.state&&nt.state.key||"default")}function tt(rt,nt){return typeof nt=="string"?nt:createPath(nt)}return getUrlBasedHistory(_e,tt,null,et)}function invariant(et,_e){if(et===!1||et===null||typeof et=="undefined")throw new Error(_e)}function warning(et,_e){if(!et){typeof console!="undefined"&&console.warn(_e);try{throw new Error(_e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(et,_e){return{usr:et.state,key:et.key,idx:_e}}function createLocation(et,_e,tt,rt){return tt===void 0&&(tt=null),_extends$2({pathname:typeof et=="string"?et:et.pathname,search:"",hash:""},typeof _e=="string"?parsePath(_e):_e,{state:tt,key:_e&&_e.key||rt||createKey()})}function createPath(et){let{pathname:_e="/",search:tt="",hash:rt=""}=et;return tt&&tt!=="?"&&(_e+=tt.charAt(0)==="?"?tt:"?"+tt),rt&&rt!=="#"&&(_e+=rt.charAt(0)==="#"?rt:"#"+rt),_e}function parsePath(et){let _e={};if(et){let tt=et.indexOf("#");tt>=0&&(_e.hash=et.substr(tt),et=et.substr(0,tt));let rt=et.indexOf("?");rt>=0&&(_e.search=et.substr(rt),et=et.substr(0,rt)),et&&(_e.pathname=et)}return _e}function getUrlBasedHistory(et,_e,tt,rt){rt===void 0&&(rt={});let{window:nt=document.defaultView,v5Compat:it=!1}=rt,at=nt.history,st=Action.Pop,ct=null,ut=ft();ut==null&&(ut=0,at.replaceState(_extends$2({},at.state,{idx:ut}),""));function ft(){return(at.state||{idx:null}).idx}function gt(){st=Action.Pop;let Tt=ft(),At=Tt==null?null:Tt-ut;ut=Tt,ct&&ct({action:st,location:It.location,delta:At})}function _t(Tt,At){st=Action.Push;let Rt=createLocation(It.location,Tt,At);tt&&tt(Rt,Tt),ut=ft()+1;let kt=getHistoryState(Rt,ut),Ot=It.createHref(Rt);try{at.pushState(kt,"",Ot)}catch{nt.location.assign(Ot)}it&&ct&&ct({action:st,location:It.location,delta:1})}function Et(Tt,At){st=Action.Replace;let Rt=createLocation(It.location,Tt,At);tt&&tt(Rt,Tt),ut=ft();let kt=getHistoryState(Rt,ut),Ot=It.createHref(Rt);at.replaceState(kt,"",Ot),it&&ct&&ct({action:st,location:It.location,delta:0})}function $t(Tt){let At=nt.location.origin!=="null"?nt.location.origin:nt.location.href,Rt=typeof Tt=="string"?Tt:createPath(Tt);return invariant(At,"No window.location.(origin|href) available to create URL for href: "+Rt),new URL(Rt,At)}let It={get action(){return st},get location(){return et(nt,at)},listen(Tt){if(ct)throw new Error("A history only accepts one active listener");return nt.addEventListener(PopStateEventType,gt),ct=Tt,()=>{nt.removeEventListener(PopStateEventType,gt),ct=null}},createHref(Tt){return _e(nt,Tt)},createURL:$t,encodeLocation(Tt){let At=$t(Tt);return{pathname:At.pathname,search:At.search,hash:At.hash}},push:_t,replace:Et,go(Tt){return at.go(Tt)}};return It}var ResultType;(function(et){et.data="data",et.deferred="deferred",et.redirect="redirect",et.error="error"})(ResultType||(ResultType={}));function matchRoutes(et,_e,tt){tt===void 0&&(tt="/");let rt=typeof _e=="string"?parsePath(_e):_e,nt=stripBasename(rt.pathname||"/",tt);if(nt==null)return null;let it=flattenRoutes(et);rankRouteBranches(it);let at=null;for(let st=0;at==null&&st<it.length;++st)at=matchRouteBranch(it[st],safelyDecodeURI(nt));return at}function flattenRoutes(et,_e,tt,rt){_e===void 0&&(_e=[]),tt===void 0&&(tt=[]),rt===void 0&&(rt="");let nt=(it,at,st)=>{let ct={relativePath:st===void 0?it.path||"":st,caseSensitive:it.caseSensitive===!0,childrenIndex:at,route:it};ct.relativePath.startsWith("/")&&(invariant(ct.relativePath.startsWith(rt),'Absolute route path "'+ct.relativePath+'" nested under path '+('"'+rt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),ct.relativePath=ct.relativePath.slice(rt.length));let ut=joinPaths([rt,ct.relativePath]),ft=tt.concat(ct);it.children&&it.children.length>0&&(invariant(it.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ut+'".')),flattenRoutes(it.children,_e,ft,ut)),!(it.path==null&&!it.index)&&_e.push({path:ut,score:computeScore(ut,it.index),routesMeta:ft})};return et.forEach((it,at)=>{var st;if(it.path===""||!((st=it.path)!=null&&st.includes("?")))nt(it,at);else for(let ct of explodeOptionalSegments(it.path))nt(it,at,ct)}),_e}function explodeOptionalSegments(et){let _e=et.split("/");if(_e.length===0)return[];let[tt,...rt]=_e,nt=tt.endsWith("?"),it=tt.replace(/\?$/,"");if(rt.length===0)return nt?[it,""]:[it];let at=explodeOptionalSegments(rt.join("/")),st=[];return st.push(...at.map(ct=>ct===""?it:[it,ct].join("/"))),nt&&st.push(...at),st.map(ct=>et.startsWith("/")&&ct===""?"/":ct)}function rankRouteBranches(et){et.sort((_e,tt)=>_e.score!==tt.score?tt.score-_e.score:compareIndexes(_e.routesMeta.map(rt=>rt.childrenIndex),tt.routesMeta.map(rt=>rt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=et=>et==="*";function computeScore(et,_e){let tt=et.split("/"),rt=tt.length;return tt.some(isSplat)&&(rt+=splatPenalty),_e&&(rt+=indexRouteValue),tt.filter(nt=>!isSplat(nt)).reduce((nt,it)=>nt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),rt)}function compareIndexes(et,_e){return et.length===_e.length&&et.slice(0,-1).every((rt,nt)=>rt===_e[nt])?et[et.length-1]-_e[_e.length-1]:0}function matchRouteBranch(et,_e){let{routesMeta:tt}=et,rt={},nt="/",it=[];for(let at=0;at<tt.length;++at){let st=tt[at],ct=at===tt.length-1,ut=nt==="/"?_e:_e.slice(nt.length)||"/",ft=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:ct},ut);if(!ft)return null;Object.assign(rt,ft.params);let gt=st.route;it.push({params:rt,pathname:joinPaths([nt,ft.pathname]),pathnameBase:normalizePathname(joinPaths([nt,ft.pathnameBase])),route:gt}),ft.pathnameBase!=="/"&&(nt=joinPaths([nt,ft.pathnameBase]))}return it}function matchPath(et,_e){typeof et=="string"&&(et={path:et,caseSensitive:!1,end:!0});let[tt,rt]=compilePath(et.path,et.caseSensitive,et.end),nt=_e.match(tt);if(!nt)return null;let it=nt[0],at=it.replace(/(.)\/+$/,"$1"),st=nt.slice(1);return{params:rt.reduce((ut,ft,gt)=>{if(ft==="*"){let _t=st[gt]||"";at=it.slice(0,it.length-_t.length).replace(/(.)\/+$/,"$1")}return ut[ft]=safelyDecodeURIComponent(st[gt]||"",ft),ut},{}),pathname:it,pathnameBase:at,pattern:et}}function compilePath(et,_e,tt){_e===void 0&&(_e=!1),tt===void 0&&(tt=!0),warning(et==="*"||!et.endsWith("*")||et.endsWith("/*"),'Route path "'+et+'" will be treated as if it were '+('"'+et.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+et.replace(/\*$/,"/*")+'".'));let rt=[],nt="^"+et.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(at,st)=>(rt.push(st),"/([^\\/]+)"));return et.endsWith("*")?(rt.push("*"),nt+=et==="*"||et==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tt?nt+="\\/*$":et!==""&&et!=="/"&&(nt+="(?:(?=\\/|$))"),[new RegExp(nt,_e?void 0:"i"),rt]}function safelyDecodeURI(et){try{return decodeURI(et)}catch(_e){return warning(!1,'The URL path "'+et+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_e+").")),et}}function safelyDecodeURIComponent(et,_e){try{return decodeURIComponent(et)}catch(tt){return warning(!1,'The value for the URL param "'+_e+'" will not be decoded because'+(' the string "'+et+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+tt+").")),et}}function stripBasename(et,_e){if(_e==="/")return et;if(!et.toLowerCase().startsWith(_e.toLowerCase()))return null;let tt=_e.endsWith("/")?_e.length-1:_e.length,rt=et.charAt(tt);return rt&&rt!=="/"?null:et.slice(tt)||"/"}function resolvePath(et,_e){_e===void 0&&(_e="/");let{pathname:tt,search:rt="",hash:nt=""}=typeof et=="string"?parsePath(et):et;return{pathname:tt?tt.startsWith("/")?tt:resolvePathname(tt,_e):_e,search:normalizeSearch(rt),hash:normalizeHash(nt)}}function resolvePathname(et,_e){let tt=_e.replace(/\/+$/,"").split("/");return et.split("/").forEach(nt=>{nt===".."?tt.length>1&&tt.pop():nt!=="."&&tt.push(nt)}),tt.length>1?tt.join("/"):"/"}function getInvalidPathError(et,_e,tt,rt){return"Cannot include a '"+et+"' character in a manually specified "+("`to."+_e+"` field ["+JSON.stringify(rt)+"].  Please separate it out to the ")+("`to."+tt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(et){return et.filter((_e,tt)=>tt===0||_e.route.path&&_e.route.path.length>0)}function resolveTo(et,_e,tt,rt){rt===void 0&&(rt=!1);let nt;typeof et=="string"?nt=parsePath(et):(nt=_extends$2({},et),invariant(!nt.pathname||!nt.pathname.includes("?"),getInvalidPathError("?","pathname","search",nt)),invariant(!nt.pathname||!nt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nt)),invariant(!nt.search||!nt.search.includes("#"),getInvalidPathError("#","search","hash",nt)));let it=et===""||nt.pathname==="",at=it?"/":nt.pathname,st;if(rt||at==null)st=tt;else{let gt=_e.length-1;if(at.startsWith("..")){let _t=at.split("/");for(;_t[0]==="..";)_t.shift(),gt-=1;nt.pathname=_t.join("/")}st=gt>=0?_e[gt]:"/"}let ct=resolvePath(nt,st),ut=at&&at!=="/"&&at.endsWith("/"),ft=(it||at===".")&&tt.endsWith("/");return!ct.pathname.endsWith("/")&&(ut||ft)&&(ct.pathname+="/"),ct}const joinPaths=et=>et.join("/").replace(/\/\/+/g,"/"),normalizePathname=et=>et.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=et=>!et||et==="?"?"":et.startsWith("?")?et:"?"+et,normalizeHash=et=>!et||et==="#"?"":et.startsWith("#")?et:"#"+et;function isRouteErrorResponse(et){return et!=null&&typeof et.status=="number"&&typeof et.statusText=="string"&&typeof et.internal=="boolean"&&"data"in et}const validMutationMethodsArr=["post","put","patch","delete"];[...validMutationMethodsArr];/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$1.apply(this,arguments)}const DataRouterContext=react.exports.createContext(null),DataRouterStateContext=react.exports.createContext(null),NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=react.exports.createContext(null);function useHref(et,_e){let{relative:tt}=_e===void 0?{}:_e;useInRouterContext()||invariant(!1);let{basename:rt,navigator:nt}=react.exports.useContext(NavigationContext),{hash:it,pathname:at,search:st}=useResolvedPath(et,{relative:tt}),ct=at;return rt!=="/"&&(ct=at==="/"?rt:joinPaths([rt,at])),nt.createHref({pathname:ct,search:st,hash:it})}function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),react.exports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(et){react.exports.useContext(NavigationContext).static||react.exports.useLayoutEffect(et)}function useNavigate(){let{isDataRoute:et}=react.exports.useContext(RouteContext);return et?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let et=react.exports.useContext(DataRouterContext),{basename:_e,navigator:tt}=react.exports.useContext(NavigationContext),{matches:rt}=react.exports.useContext(RouteContext),{pathname:nt}=useLocation(),it=JSON.stringify(getPathContributingMatches(rt).map(ct=>ct.pathnameBase)),at=react.exports.useRef(!1);return useIsomorphicLayoutEffect(()=>{at.current=!0}),react.exports.useCallback(function(ct,ut){if(ut===void 0&&(ut={}),!at.current)return;if(typeof ct=="number"){tt.go(ct);return}let ft=resolveTo(ct,JSON.parse(it),nt,ut.relative==="path");et==null&&_e!=="/"&&(ft.pathname=ft.pathname==="/"?_e:joinPaths([_e,ft.pathname])),(ut.replace?tt.replace:tt.push)(ft,ut.state,ut)},[_e,tt,it,nt,et])}function useResolvedPath(et,_e){let{relative:tt}=_e===void 0?{}:_e,{matches:rt}=react.exports.useContext(RouteContext),{pathname:nt}=useLocation(),it=JSON.stringify(getPathContributingMatches(rt).map(at=>at.pathnameBase));return react.exports.useMemo(()=>resolveTo(et,JSON.parse(it),nt,tt==="path"),[et,it,nt,tt])}function useRoutes(et,_e){return useRoutesImpl(et,_e)}function useRoutesImpl(et,_e,tt){useInRouterContext()||invariant(!1);let{navigator:rt}=react.exports.useContext(NavigationContext),{matches:nt}=react.exports.useContext(RouteContext),it=nt[nt.length-1],at=it?it.params:{};it&&it.pathname;let st=it?it.pathnameBase:"/";it&&it.route;let ct=useLocation(),ut;if(_e){var ft;let It=typeof _e=="string"?parsePath(_e):_e;st==="/"||((ft=It.pathname)==null?void 0:ft.startsWith(st))||invariant(!1),ut=It}else ut=ct;let gt=ut.pathname||"/",_t=st==="/"?gt:gt.slice(st.length)||"/",Et=matchRoutes(et,{pathname:_t}),$t=_renderMatches(Et&&Et.map(It=>Object.assign({},It,{params:Object.assign({},at,It.params),pathname:joinPaths([st,rt.encodeLocation?rt.encodeLocation(It.pathname).pathname:It.pathname]),pathnameBase:It.pathnameBase==="/"?st:joinPaths([st,rt.encodeLocation?rt.encodeLocation(It.pathnameBase).pathname:It.pathnameBase])})),nt,tt);return _e&&$t?react.exports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},ut),navigationType:Action.Pop}},$t):$t}function DefaultErrorComponent(){let et=useRouteError(),_e=isRouteErrorResponse(et)?et.status+" "+et.statusText:et instanceof Error?et.message:JSON.stringify(et),tt=et instanceof Error?et.stack:null,nt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},it=null;return react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("h2",null,"Unexpected Application Error!"),react.exports.createElement("h3",{style:{fontStyle:"italic"}},_e),tt?react.exports.createElement("pre",{style:nt},tt):null,it)}const defaultErrorElement=react.exports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends react.exports.Component{constructor(_e){super(_e),this.state={location:_e.location,revalidation:_e.revalidation,error:_e.error}}static getDerivedStateFromError(_e){return{error:_e}}static getDerivedStateFromProps(_e,tt){return tt.location!==_e.location||tt.revalidation!=="idle"&&_e.revalidation==="idle"?{error:_e.error,location:_e.location,revalidation:_e.revalidation}:{error:_e.error||tt.error,location:tt.location,revalidation:_e.revalidation||tt.revalidation}}componentDidCatch(_e,tt){console.error("React Router caught the following error during render",_e,tt)}render(){return this.state.error?react.exports.createElement(RouteContext.Provider,{value:this.props.routeContext},react.exports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(et){let{routeContext:_e,match:tt,children:rt}=et,nt=react.exports.useContext(DataRouterContext);return nt&&nt.static&&nt.staticContext&&(tt.route.errorElement||tt.route.ErrorBoundary)&&(nt.staticContext._deepestRenderedBoundaryId=tt.route.id),react.exports.createElement(RouteContext.Provider,{value:_e},rt)}function _renderMatches(et,_e,tt){var rt;if(_e===void 0&&(_e=[]),tt===void 0&&(tt=null),et==null){var nt;if((nt=tt)!=null&&nt.errors)et=tt.matches;else return null}let it=et,at=(rt=tt)==null?void 0:rt.errors;if(at!=null){let st=it.findIndex(ct=>ct.route.id&&(at==null?void 0:at[ct.route.id]));st>=0||invariant(!1),it=it.slice(0,Math.min(it.length,st+1))}return it.reduceRight((st,ct,ut)=>{let ft=ct.route.id?at==null?void 0:at[ct.route.id]:null,gt=null;tt&&(gt=ct.route.errorElement||defaultErrorElement);let _t=_e.concat(it.slice(0,ut+1)),Et=()=>{let $t;return ft?$t=gt:ct.route.Component?$t=react.exports.createElement(ct.route.Component,null):ct.route.element?$t=ct.route.element:$t=st,react.exports.createElement(RenderedRoute,{match:ct,routeContext:{outlet:st,matches:_t,isDataRoute:tt!=null},children:$t})};return tt&&(ct.route.ErrorBoundary||ct.route.errorElement||ut===0)?react.exports.createElement(RenderErrorBoundary,{location:tt.location,revalidation:tt.revalidation,component:gt,error:ft,children:Et(),routeContext:{outlet:null,matches:_t,isDataRoute:!0}}):Et()},null)}var DataRouterHook$1;(function(et){et.UseBlocker="useBlocker",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(et){et.UseBlocker="useBlocker",et.UseLoaderData="useLoaderData",et.UseActionData="useActionData",et.UseRouteError="useRouteError",et.UseNavigation="useNavigation",et.UseRouteLoaderData="useRouteLoaderData",et.UseMatches="useMatches",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate",et.UseRouteId="useRouteId"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterContext(et){let _e=react.exports.useContext(DataRouterContext);return _e||invariant(!1),_e}function useDataRouterState(et){let _e=react.exports.useContext(DataRouterStateContext);return _e||invariant(!1),_e}function useRouteContext(et){let _e=react.exports.useContext(RouteContext);return _e||invariant(!1),_e}function useCurrentRouteId(et){let _e=useRouteContext(),tt=_e.matches[_e.matches.length-1];return tt.route.id||invariant(!1),tt.route.id}function useRouteError(){var et;let _e=react.exports.useContext(RouteErrorContext),tt=useDataRouterState(DataRouterStateHook$1.UseRouteError),rt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return _e||((et=tt.errors)==null?void 0:et[rt])}function useNavigateStable(){let{router:et}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),_e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),tt=react.exports.useRef(!1);return useIsomorphicLayoutEffect(()=>{tt.current=!0}),react.exports.useCallback(function(nt,it){it===void 0&&(it={}),tt.current&&(typeof nt=="number"?et.navigate(nt):et.navigate(nt,_extends$1({fromRouteId:_e},it)))},[et,_e])}function Route(et){invariant(!1)}function Router(et){let{basename:_e="/",children:tt=null,location:rt,navigationType:nt=Action.Pop,navigator:it,static:at=!1}=et;useInRouterContext()&&invariant(!1);let st=_e.replace(/^\/*/,"/"),ct=react.exports.useMemo(()=>({basename:st,navigator:it,static:at}),[st,it,at]);typeof rt=="string"&&(rt=parsePath(rt));let{pathname:ut="/",search:ft="",hash:gt="",state:_t=null,key:Et="default"}=rt,$t=react.exports.useMemo(()=>{let It=stripBasename(ut,st);return It==null?null:{location:{pathname:It,search:ft,hash:gt,state:_t,key:Et},navigationType:nt}},[st,ut,ft,gt,_t,Et,nt]);return $t==null?null:react.exports.createElement(NavigationContext.Provider,{value:ct},react.exports.createElement(LocationContext.Provider,{children:tt,value:$t}))}function Routes(et){let{children:_e,location:tt}=et;return useRoutes(createRoutesFromChildren(_e),tt)}var AwaitRenderStatus;(function(et){et[et.pending=0]="pending",et[et.success=1]="success",et[et.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(et,_e){_e===void 0&&(_e=[]);let tt=[];return react.exports.Children.forEach(et,(rt,nt)=>{if(!react.exports.isValidElement(rt))return;let it=[..._e,nt];if(rt.type===react.exports.Fragment){tt.push.apply(tt,createRoutesFromChildren(rt.props.children,it));return}rt.type!==Route&&invariant(!1),!rt.props.index||!rt.props.children||invariant(!1);let at={id:rt.props.id||it.join("-"),caseSensitive:rt.props.caseSensitive,element:rt.props.element,Component:rt.props.Component,index:rt.props.index,path:rt.props.path,loader:rt.props.loader,action:rt.props.action,errorElement:rt.props.errorElement,ErrorBoundary:rt.props.ErrorBoundary,hasErrorBoundary:rt.props.ErrorBoundary!=null||rt.props.errorElement!=null,shouldRevalidate:rt.props.shouldRevalidate,handle:rt.props.handle,lazy:rt.props.lazy};rt.props.children&&(at.children=createRoutesFromChildren(rt.props.children,it)),tt.push(at)}),tt}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(et,_e){if(et==null)return{};var tt={},rt=Object.keys(et),nt,it;for(it=0;it<rt.length;it++)nt=rt[it],!(_e.indexOf(nt)>=0)&&(tt[nt]=et[nt]);return tt}function isModifiedEvent(et){return!!(et.metaKey||et.altKey||et.ctrlKey||et.shiftKey)}function shouldProcessLinkClick(et,_e){return et.button===0&&(!_e||_e==="_self")&&!isModifiedEvent(et)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function BrowserRouter(et){let{basename:_e,children:tt,window:rt}=et,nt=react.exports.useRef();nt.current==null&&(nt.current=createBrowserHistory({window:rt,v5Compat:!0}));let it=nt.current,[at,st]=react.exports.useState({action:it.action,location:it.location});return react.exports.useLayoutEffect(()=>it.listen(st),[it]),react.exports.createElement(Router,{basename:_e,children:tt,location:at.location,navigationType:at.action,navigator:it})}const isBrowser=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=react.exports.forwardRef(function et(_e,tt){let{onClick:rt,relative:nt,reloadDocument:it,replace:at,state:st,target:ct,to:ut,preventScrollReset:ft}=_e,gt=_objectWithoutPropertiesLoose(_e,_excluded),{basename:_t}=react.exports.useContext(NavigationContext),Et,$t=!1;if(typeof ut=="string"&&ABSOLUTE_URL_REGEX.test(ut)&&(Et=ut,isBrowser))try{let Rt=new URL(window.location.href),kt=ut.startsWith("//")?new URL(Rt.protocol+ut):new URL(ut),Ot=stripBasename(kt.pathname,_t);kt.origin===Rt.origin&&Ot!=null?ut=Ot+kt.search+kt.hash:$t=!0}catch{}let It=useHref(ut,{relative:nt}),Tt=useLinkClickHandler(ut,{replace:at,state:st,target:ct,preventScrollReset:ft,relative:nt});function At(Rt){rt&&rt(Rt),Rt.defaultPrevented||Tt(Rt)}return react.exports.createElement("a",_extends({},gt,{href:Et||It,onClick:$t||it?rt:At,ref:tt,target:ct}))});var DataRouterHook;(function(et){et.UseScrollRestoration="useScrollRestoration",et.UseSubmitImpl="useSubmitImpl",et.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(et){et.UseFetchers="useFetchers",et.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(et,_e){let{target:tt,replace:rt,state:nt,preventScrollReset:it,relative:at}=_e===void 0?{}:_e,st=useNavigate(),ct=useLocation(),ut=useResolvedPath(et,{relative:at});return react.exports.useCallback(ft=>{if(shouldProcessLinkClick(ft,tt)){ft.preventDefault();let gt=rt!==void 0?rt:createPath(ct)===createPath(ut);st(et,{replace:gt,state:nt,preventScrollReset:it,relative:at})}},[ct,st,ut,rt,nt,tt,et,it,at])}function Navbar2(){return jsx("header",{id:"topnav",className:"defaultscroll sticky bg-white",children:jsxs("div",{className:"container",children:[jsx("div",{children:jsx("a",{className:"logo",href:"index.html",children:jsx("img",{src:"/src/assets/imgs/logo.png",height:52,alt:""})})}),jsx("div",{className:"buy-button",children:jsx(Link,{to:"/Join",className:"btn btn-primary",children:"Join a Community"})}),jsx("div",{className:"menu-extras",children:jsx("div",{className:"menu-item",children:jsx("a",{className:"navbar-toggle",id:"isToggle",onclick:"toggleMenu()",children:jsxs("div",{className:"lines",children:[jsx("span",{}),jsx("span",{}),jsx("span",{})]})})})}),jsx("div",{id:"navigation",children:jsxs("ul",{className:"navigation-menu",children:[jsx("li",{className:"has-submenu parent-menu-item",children:jsx(Link,{to:"/",className:"sub-menu-item",children:"Home"})}),jsxs("li",{className:"has-submenu parent-menu-item",children:[jsx("a",{href:"javascript:void(0)",children:"My Community"}),jsx("span",{className:"menu-arrow"}),jsxs("ul",{className:"submenu",children:[jsx("li",{children:jsx(Link,{to:"/ProposalTemplate",className:"sub-menu-item",children:"Proposal Details Page"})}),jsx("li",{children:jsx(Link,{to:"/Members",className:"sub-menu-item",children:"Members"})})]})]}),jsx("li",{children:jsx(Link,{to:"/Communities2",className:"sub-menu-item",children:"All Communities"})})]})})]})})}function Footer(){return jsxs("div",{children:[jsxs("footer",{className:"bg-dark py-5",children:[jsx("div",{className:"container",children:jsx("div",{className:"row justify-content-center",children:jsx("div",{className:"col-lg-7 mb-3",children:jsxs("div",{className:"text-center",children:[jsx("a",{className:"logo logo-footer",href:"#",children:jsx("img",{src:"/src/assets/imgs/white-logo-vmf.png",height:78,alt:""})}),jsx("p",{className:"text-muted para-desc mx-auto mt-3",children:"Launch your campaign and benefit from our expertise on designing and managing conversion centered bootstrap4 html page."}),jsxs("ul",{className:"list-unstyled social-icon social mb-0 mt-4",children:[jsx("li",{className:"list-inline-item",children:jsx("a",{href:"javascript:void(0)",className:"rounded",children:jsx("i",{"data-feather":"facebook",className:"fea icon-sm fea-social"})})}),jsx("li",{className:"list-inline-item",children:jsx("a",{href:"javascript:void(0)",className:"rounded",children:jsx("i",{"data-feather":"instagram",className:"fea icon-sm fea-social"})})}),jsx("li",{className:"list-inline-item",children:jsx("a",{href:"javascript:void(0)",className:"rounded",children:jsx("i",{"data-feather":"twitter",className:"fea icon-sm fea-social"})})}),jsx("li",{className:"list-inline-item",children:jsx("a",{href:"javascript:void(0)",className:"rounded",children:jsx("i",{"data-feather":"linkedin",className:"fea icon-sm fea-social"})})})]})]})})})}),jsx("a",{href:"#",className:"back-to-top",id:"back-to-top",title:"Top",children:jsx("i",{className:"mdi mdi-arrow-up icons bg-light text-dark",children:" "})})]}),jsx("footer",{className:"footer-bar bg-dark",children:jsx("div",{className:"container",children:jsx("div",{className:"row justify-content-center",children:jsx("div",{className:"col-12 text-center",children:jsxs("p",{className:"mb-0 footer-text para-desc mx-auto",children:["\xA9  ",jsx("span",{className:"text-reset",children:"VMF DAO"}),". Design with ",jsx("i",{className:"mdi mdi-heart text-danger"})," by ",jsx("a",{href:"http://shreethemes.in",target:"_blank",className:"text-reset",children:"NetDreams"}),"."]})})})})})]})}function Vote(){return jsx("h1",{children:"Vote Page | Del "})}function Dashboard(){return jsxs(Fragment$1,{children:[jsx("h1",{children:"Dashboard"}),jsx("h2",{children:"Coming Soon"})]})}function Partners(){return jsx("section",{className:"py-4 border-top border-bottom position-relative",children:jsx("div",{className:"container",children:jsxs("div",{className:"row justify-content-center",children:[jsx("div",{className:"col-lg-2 col-md-2 col-6 text-center py-4",children:jsx("img",{src:"/src/themes/appgen/images/client/amazon.svg",className:"avatar avatar-ex-sm",alt:""})}),jsx("div",{className:"col-lg-2 col-md-2 col-6 text-center py-4",children:jsx("img",{src:"/src/themes/appgen/images/client/google.svg",className:"avatar avatar-ex-sm",alt:""})}),jsx("div",{className:"col-lg-2 col-md-2 col-6 text-center py-4",children:jsx("img",{src:"/src/themes/appgen/images/client/lenovo.svg",className:"avatar avatar-ex-sm",alt:""})}),jsx("div",{className:"col-lg-2 col-md-2 col-6 text-center py-4",children:jsx("img",{src:"/src/themes/appgen/images/client/paypal.svg",className:"avatar avatar-ex-sm",alt:""})}),jsx("div",{className:"col-lg-2 col-md-2 col-6 text-center py-4",children:jsx("img",{src:"/src/themes/appgen/images/client/shopify.svg",className:"avatar avatar-ex-sm",alt:""})}),jsx("div",{className:"col-lg-2 col-md-2 col-6 text-center py-4",children:jsx("img",{src:"/src/themes/appgen/images/client/spotify.svg",className:"avatar avatar-ex-sm",alt:""})})]})})})}function Features$1(){return jsxs(Fragment$1,{children:[jsx("section",{className:"section",id:"service",children:jsxs("div",{className:"container",children:[jsx("div",{className:"row justify-content-center",children:jsx("div",{className:"col-12",children:jsxs("div",{className:"section-title text-center mb-4 pb-2",children:[jsx("h4",{className:"title mb-4",children:"How is Works"}),jsx("p",{className:"para-desc mx-auto text-muted mb-0",children:"Launch your campaign and benefit from our expertise on designing and managing conversion centered bootstrap4 html page."})]})})}),jsxs("div",{className:"row",children:[jsx("div",{className:"col-lg-4 col-md-6 col-12 mt-4 pt-2",children:jsx("div",{className:"feature position-relative text-center",children:jsxs("div",{className:"p-4 rounded position-relative overflow-hidden",children:[jsxs("div",{className:"icon text-primary",children:[jsx("i",{className:"uim uim-download-alt"}),jsx("img",{src:"/assets/themes/appgen/images/shape-1.png",className:"avatar avatar-small icon-shape",alt:""})]}),jsxs("div",{className:"content mt-4",children:[jsx("h5",{children:jsx("a",{href:"javascript:void(0)",className:"title text-dark",children:"Create Account"})}),jsx("p",{className:"text-muted",children:"Due to its widespread use as filler text for layouts, non-readability is of great importance"}),jsxs("a",{href:"javascript:void(0)",className:"text-primary",children:["Read More ",jsx("i",{"data-feather":"chevron-right",className:"fea icon-sm"})]})]})]})})}),jsx("div",{className:"col-lg-4 col-md-6 col-12 mt-4 pt-2",children:jsx("div",{className:"feature position-relative text-center",children:jsxs("div",{className:"p-4 rounded position-relative overflow-hidden",children:[jsxs("div",{className:"icon text-primary",children:[jsx("i",{className:"uim uim-unlock-alt"}),jsx("img",{src:"/src/themes/appgen/images/shape-1.png",className:"avatar avatar-small icon-shape",alt:""})]}),jsxs("div",{className:"content mt-4",children:[jsx("h5",{children:jsx("a",{href:"javascript:void(0)",className:"title text-dark",children:"Join Community"})}),jsx("p",{className:"text-muted",children:"Due to its widespread use as filler text for layouts, non-readability is of great importance"}),jsxs("a",{href:"javascript:void(0)",className:"text-primary",children:["Read More ",jsx("i",{"data-feather":"chevron-right",className:"fea icon-sm"})]})]})]})})}),jsx("div",{className:"col-lg-4 col-md-6 col-12 mt-4 pt-2",children:jsx("div",{className:"feature position-relative text-center",children:jsxs("div",{className:"p-4 rounded position-relative overflow-hidden",children:[jsxs("div",{className:"icon text-primary",children:[jsx("i",{className:"uim uim-chart"}),jsx("img",{src:"/src/themes/appgen/images/shape-1.png",className:"avatar avatar-small icon-shape",alt:""})]}),jsxs("div",{className:"content mt-4",children:[jsx("h5",{children:jsx("a",{href:"javascript:void(0)",className:"title text-dark",children:"Vote on Proposals"})}),jsx("p",{className:"text-muted",children:"Due to its widespread use as filler text for layouts, non-readability is of great importance"}),jsxs("a",{href:"javascript:void(0)",className:"text-primary",children:["Read More ",jsx("i",{"data-feather":"chevron-right",className:"fea icon-sm"})]})]})]})})})]})]})}),jsx("section",{className:"section bg-light",children:jsx("div",{className:"container",children:jsxs("div",{className:"row align-items-center",children:[jsx("div",{className:"col-md-6",children:jsx("div",{className:"feature position-relative",children:jsx("img",{src:"/assets/themes/appgen/images/saas/features-1.png",className:"img-fluid",alt:""})})}),jsx("div",{className:"col-md-6 mt-4 mt-sm-0 pt-2 pt-sm-0",children:jsxs("div",{className:"section-title ms-lg-5",children:[jsxs("h5",{className:"title mb-4",children:["Perfect Solution for ",jsx("br",{})," Your Dashboard"]}),jsx("p",{className:"text-muted para-desc",children:"Launch your campaign and benefit from our expertise on designing and managing conversion centered bootstrap4 html page."}),jsx("div",{className:"mt-4 pt-2",children:jsx("a",{href:"javascript:void(0)",className:"btn btn-primary",children:"Get Started"})})]})})]})})}),jsx("div",{className:"position-relative",children:jsx("div",{className:"shape overflow-hidden text-white",children:jsx("svg",{viewBox:"0 0 2880 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{d:"M0 48H1437.5H2880V0H2160C1442.5 52 720 0 720 0H0V48Z",fill:"currentColor"})})})}),jsx("section",{className:"section",id:"download",children:jsx("div",{className:"container",children:jsxs("div",{className:"row align-items-center",children:[jsx("div",{className:"col-lg-6 col-md-6 col-12",children:jsx("img",{src:"/src/themes/appgen/images/app/mobile-2.png",className:"img-fluid d-block mx-auto",alt:""})}),jsx("div",{className:"col-lg-6 col-md-6 col-12 mt-4 mt-sm-0 pt-2 pt-sm-0",children:jsxs("div",{className:"section-title",children:[jsxs("div",{className:"alert alert-light alert-pills",role:"alert",children:[jsx("span",{className:"badge bg-dark rounded-pill me-1",children:"Apps"}),jsxs("span",{className:"content",children:["Download now ",jsx("i",{"data-feather":"chevron-right",className:"fea icon-sm"})]})]}),jsxs("h4",{className:"title mb-4 mt-2",children:["Available for your ",jsx("br",{})," Smartphones"]}),jsx("p",{className:"text-muted para-desc mb-0",children:"It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout."}),jsxs("div",{className:"mt-4 mb-4",children:[jsxs("a",{href:"javascript:void(0)",className:"btn btn-pills btn-lg btn-primary mt-2 me-2",children:[jsx("i",{className:"mdi mdi-apple"})," App Store"]}),jsxs("a",{href:"javascript:void(0)",className:"btn btn-pills btn-lg btn-primary mt-2",children:[jsx("i",{className:"mdi mdi-google-play"})," Play Store"]})]}),jsx("div",{className:"d-inline-block",children:jsxs("div",{className:"pt-4 d-flex align-items-center border-top",children:[jsx("i",{"data-feather":"smartphone",className:"fea icon-md me-2 text-primary"}),jsxs("div",{className:"content",children:[jsx("p",{className:"mb-0",children:"Install app now on your cellphones"}),jsxs("a",{href:"javascript:void(0)",className:"text-primary small",children:["Learn More ",jsx("i",{className:"mdi mdi-arrow-right"})]})]})]})})]})})]})})})]})}function Header2(){return jsx("section",{className:"bg-half-170 d-table w-100 overflow-hidden",id:"home",children:jsx("div",{className:"container",children:jsxs("div",{className:"row align-items-center",children:[jsx("div",{className:"col-lg-7 col-md-6",children:jsxs("div",{className:"title-heading",children:[jsxs("div",{className:"alert alert-light alert-pills",role:"alert",children:[jsx("span",{className:"badge bg-primary rounded-pill me-1",children:"Dashboard"}),jsx("span",{className:"content text-muted",children:" Learn anythting with Appgen"})]}),jsxs("h1",{className:"heading mb-3",children:["Make anything develop ",jsx("br",{})," with Appgen"]}),jsx("p",{className:"para-desc text-muted",children:"Launch your campaign and benefit from our expertise on designing and managing conversion centered bootstrap4 html page."}),jsx("div",{className:"mt-4",children:jsx("a",{href:"javascript:void(0)",className:"btn btn-pills btn-primary",children:"Get Started"})})]})}),jsx("div",{className:"col-lg-5 col-md-6 mt-4 pt-2 mt-sm-0 pt-sm-0",children:jsx("div",{className:"dashboard-shape-two app-image-fluid",children:jsx("img",{src:"/src/assets/themes/appgen/images/saas/saas-2.png",alt:""})})})]})})})}function Home(){return jsxs("div",{children:[jsx(Header2,{}),jsx(Partners,{}),jsx(Features$1,{})]})}function Members(){const et=useAddress(),_e="0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",{contract:tt}=useContract(_e,"edition-drop"),{contract:rt}=useContract("0x1E1aECDC3C932c4B3490203326A3e2e178C94315","token");useContract("0x2FDaBe3f3Eaa7c6442faD20ccDF632280a46ef56","vote");const nt=_t=>_t.substring(0,6)+"..."+_t.substring(_t.length-4),[it,at]=react.exports.useState([]),[st,ct]=react.exports.useState([]),{data:ut}=useNFTBalance(tt,et,"0"),ft=react.exports.useMemo(()=>ut&&ut.gt(0),[ut]);react.exports.useEffect(()=>{if(!ft)return;(async()=>{try{const Et=await(tt==null?void 0:tt.history.getAllClaimerAddresses(0));ct(Et),console.log("\u{1F680} Members addresses",Et)}catch(Et){console.error("failed to get member list",Et)}})()},[ft,tt==null?void 0:tt.history]),react.exports.useEffect(()=>{if(!ft)return;(async()=>{try{const Et=await(rt==null?void 0:rt.history.getAllHolderBalances());at(Et),console.log("\u{1F45C} Amounts",Et)}catch(Et){console.error("failed to get member balances",Et)}})()},[ft,rt==null?void 0:rt.history]);const gt=react.exports.useMemo(()=>st.map(_t=>{const Et=it==null?void 0:it.find(({holder:$t})=>$t===_t);return{address:_t,tokenAmount:(Et==null?void 0:Et.balance.displayValue)||"0"}}),[st,it]);return jsx(Fragment$1,{children:jsxs("table",{className:"card",children:[jsx("thead",{children:jsxs("tr",{children:[jsx("th",{children:"Name"}),jsx("th",{children:"Address"}),jsx("th",{children:"Votes"})]})}),jsx("tbody",{children:gt.map(_t=>jsxs("tr",{children:[jsx("td",{children:"John Doe"}),jsx("td",{children:nt(_t.address)}),jsx("td",{children:_t.tokenAmount})]},_t.address))})]})})}function Features(){return jsx("section",{className:"section",id:"blog",children:jsx("div",{className:"container",children:jsxs("div",{className:"row",children:[jsx("div",{className:"col-lg-4 col-md-6 col-12 mb-4 pb-2",children:jsxs("div",{className:"card blog-post border-0 rounded overflow-hidden shadow",children:[jsx("img",{src:"/src/assets/themes/appgen/images/blog/01.jpg",className:"img-fluid",alt:"missing-image"}),jsxs("div",{className:"card-body p-4",children:[jsx("h5",{className:"mb-3",children:jsx("a",{href:"javascript:void(0)",className:"text-dark title",children:"Install Tinc and VPN Setup on Debian & Ubuntu"})}),jsx("p",{className:"text-muted",children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),jsxs("a",{href:"#",className:"text-primary h6",children:["Read More ",jsx("i",{"data-feather":"arrow-right",className:"fea icon-sm"})]})]})]})}),jsx("div",{className:"col-lg-4 col-md-6 col-12 mb-4 pb-2",children:jsxs("div",{className:"card blog-post border-0 rounded overflow-hidden shadow",children:[jsx("img",{src:"/src/assets/themes/appgen/images/blog/02.jpg",className:"img-fluid",alt:"missing-image"}),jsxs("div",{className:"card-body p-4",children:[jsx("h5",{className:"mb-3",children:jsx("a",{href:"javascript:void(0)",className:"text-dark title",children:"Responsive & Mobile Design"})}),jsx("p",{className:"text-muted",children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),jsxs("a",{href:"#",className:"text-primary h6",children:["Read More ",jsx("i",{"data-feather":"arrow-right",className:"fea icon-sm"})]})]})]})}),jsx("div",{className:"col-lg-4 col-md-6 col-12 mb-4 pb-2",children:jsxs("div",{className:"card blog-post border-0 rounded overflow-hidden shadow",children:[jsx("img",{src:"/src/assets/themes/appgen/images/blog/03.jpg",className:"img-fluid",alt:"missing-image"}),jsxs("div",{className:"card-body p-4",children:[jsx("h5",{className:"mb-3",children:jsx("a",{href:"javascript:void(0)",className:"text-dark title",children:"Initial Server Configuration & Setup on Debian"})}),jsx("p",{className:"text-muted",children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),jsxs("a",{href:"#",className:"text-primary h6",children:["Read More ",jsx("i",{"data-feather":"arrow-right",className:"fea icon-sm"})]})]})]})}),jsx("div",{className:"col-lg-4 col-md-6 col-12 mb-4 pb-2",children:jsxs("div",{className:"card blog-post border-0 rounded overflow-hidden shadow",children:[jsx("img",{src:"/src/assets/themes/appgen/images/blog/04.jpg",className:"img-fluid",alt:"missing-image"}),jsxs("div",{className:"card-body p-4",children:[jsx("h5",{className:"mb-3",children:jsx("a",{href:"javascript:void(0)",className:"text-dark title",children:"Install Tinc and VPN Setup on Debian & Ubuntu"})}),jsx("p",{className:"text-muted",children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),jsxs("a",{href:"#",className:"text-primary h6",children:["Read More ",jsx("i",{"data-feather":"arrow-right",className:"fea icon-sm"})]})]})]})}),jsx("div",{className:"col-lg-4 col-md-6 col-12 mb-4 pb-2",children:jsxs("div",{className:"card blog-post border-0 rounded overflow-hidden shadow",children:[jsx("img",{src:"/src/assets/themes/appgen/images/blog/05.jpg",className:"img-fluid",alt:"missing-image"}),jsxs("div",{className:"card-body p-4",children:[jsx("h5",{className:"mb-3",children:jsx("a",{href:"javascript:void(0)",className:"text-dark title",children:"Responsive & Mobile Design"})}),jsx("p",{className:"text-muted",children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),jsxs("a",{href:"#",className:"text-primary h6",children:["Read More ",jsx("i",{"data-feather":"arrow-right",className:"fea icon-sm"})]})]})]})}),jsx("div",{className:"col-lg-4 col-md-6 col-12 mb-4 pb-2",children:jsxs("div",{className:"card blog-post border-0 rounded overflow-hidden shadow",children:[jsx("img",{src:"/src/assets/themes/appgen/images/blog/06.jpg",className:"img-fluid",alt:"missing-image"}),jsxs("div",{className:"card-body p-4",children:[jsx("h5",{className:"mb-3",children:jsx("a",{href:"javascript:void(0)",className:"text-dark title",children:"Initial Server Configuration & Setup on Debian"})}),jsx("p",{className:"text-muted",children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),jsxs("a",{href:"#",className:"text-primary h6",children:["Read More ",jsx("i",{"data-feather":"arrow-right",className:"fea icon-sm"})]})]})]})}),jsx("div",{className:"col-lg-4 col-md-6 col-12 mb-4 pb-2",children:jsxs("div",{className:"card blog-post border-0 rounded overflow-hidden shadow",children:[jsx("img",{src:"/src/assets/themes/appgen/images/blog/07.jpg",className:"img-fluid",alt:"missing-image"}),jsxs("div",{className:"card-body p-4",children:[jsx("h5",{className:"mb-3",children:jsx("a",{href:"javascript:void(0)",className:"text-dark title",children:"Install Tinc and VPN Setup on Debian & Ubuntu"})}),jsx("p",{className:"text-muted",children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),jsxs("a",{href:"#",className:"text-primary h6",children:["Read More ",jsx("i",{"data-feather":"arrow-right",className:"fea icon-sm"})]})]})]})}),jsx("div",{className:"col-12",children:jsxs("ul",{className:"pagination justify-content-center mb-0",children:[jsx("li",{className:"page-item",children:jsx("a",{className:"page-link",href:"javascript:void(0)","aria-label":"Previous",children:"Previous"})}),jsx("li",{className:"page-item active",children:jsx("a",{className:"page-link",href:"javascript:void(0)",children:"1"})}),jsx("li",{className:"page-item",children:jsx("a",{className:"page-link",href:"javascript:void(0)",children:"2"})}),jsx("li",{className:"page-item",children:jsx("a",{className:"page-link",href:"javascript:void(0)",children:"3"})}),jsx("li",{className:"page-item",children:jsx("a",{className:"page-link",href:"javascript:void(0)","aria-label":"Next",children:"Next"})})]})})]})})})}const NFT_CONTRACT_ADDRESS="0x1E1aECDC3C932c4B3490203326A3e2e178C94315",proposalData={id:1,title:"Invest $100,000 in a new project",description:"This is a description of project 1",image:"/src/assets/imgs/proposalImageSample.png",status:"Active",budget:1e3,completionTime:"2 months",createdBy:"0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",totalMembers:10,verifiedMembers:5,activeProposals:2,totalProposals:5,projects:2,owner:"0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",community:"0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",comments:[{id:1,comment:"This is a comment",commentBy:"0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",commentDate:"12/12/2021",commentStatus:"Active",commentVotes:5,commentReplies:2,commentRepliesVotes:5},{id:2,comment:"This is a comment",commentBy:"0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",commentDate:"12/12/2021",commentStatus:"Active",commentVotes:5,commentReplies:2}],votes:[{id:1,vote:"Yes",voteBy:"0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",voteDate:"12/12/2021",voteStatus:"Active",voteReplies:2},{id:2,vote:"Yes",voteBy:"0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",voteDate:"12/12/2021",voteStatus:"Active",voteReplies:2}]},communityData={id:1,name:"West End",description:"This is a description of the West End Community",img:"https://ipfs-2.thirdwebcdn.com/ipfs/QmUbFZXPdymA5BRhEf7NDkmHqUTeoZ5qiW3WmxZ14dEJKw/0",nft:"0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",community:"0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",members:3,projects:2,proposals:5,comments:2,verifiedMembers:3};function MyCommunity(){const et=useAddress(),_e="0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",{contract:tt}=useContract(_e,"edition-drop"),{contract:rt}=useContract("0x1E1aECDC3C932c4B3490203326A3e2e178C94315","token"),{contract:nt}=useContract("0x2FDaBe3f3Eaa7c6442faD20ccDF632280a46ef56","vote"),{contract:it}=useContract("0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1"),at=0,{data:st,isLoading:ct,error:ut}=useNFT(it,at),{data:ft}=useNFTBalance(tt,et,"0"),gt=react.exports.useMemo(()=>ft&&ft.gt(0),[ft]),[_t,Et]=react.exports.useState([]),[$t,It]=react.exports.useState([]),Tt=zt=>zt.substring(0,6)+"..."+zt.substring(zt.length-4),[At,Rt]=react.exports.useState([]);react.exports.useState(!1);const[kt,Ot]=react.exports.useState(!1);react.exports.useEffect(()=>{if(!gt)return;(async()=>{try{const Kt=await nt.getAll();Rt(Kt),console.log("\u{1F308} Proposals:",Kt),console.log(Kt[1])}catch(Kt){console.log("failed to get proposals",Kt)}})()},[gt,nt]),react.exports.useEffect(()=>{if(!gt||!At.length)return;(async()=>{try{const Kt=await nt.hasVoted(At[0].proposalId,et);Ot(Kt)}catch{}})()},[gt,At,et,nt]),react.exports.useEffect(()=>{if(!gt)return;(async()=>{try{const Kt=await(tt==null?void 0:tt.history.getAllClaimerAddresses(0));It(Kt),console.log("\u{1F680} Members addresses",Kt)}catch(Kt){console.error("failed to get member list",Kt)}})()},[gt,tt==null?void 0:tt.history]),react.exports.useEffect(()=>{if(!gt)return;(async()=>{try{const Kt=await(rt==null?void 0:rt.history.getAllHolderBalances());Et(Kt),console.log("\u{1F45C} Amounts",Kt)}catch(Kt){console.error("failed to get member balances",Kt)}})()},[gt,rt==null?void 0:rt.history]);const Wt=react.exports.useMemo(()=>$t.map(zt=>{const Kt=_t==null?void 0:_t.find(({holder:Jt})=>Jt===zt);return{address:zt,tokenAmount:(Kt==null?void 0:Kt.balance.displayValue)||"0"}}),[$t,_t]);return gt?jsx("div",{className:"wrapper",children:jsxs("div",{className:"member-page",children:[jsxs("h1",{children:[st.metadata.name," "]}),jsxs("div",{children:[jsxs("div",{children:[jsx("h2",{children:"Member List"}),jsxs("table",{className:"card",children:[jsx("thead",{children:jsxs("tr",{children:[jsx("th",{children:"Name"}),jsx("th",{children:"Address"}),jsx("th",{children:"Votes"})]})}),jsx("tbody",{children:Wt.map(zt=>jsxs("tr",{children:[jsx("td",{children:"John Doe"}),jsx("td",{children:Tt(zt.address)}),jsx("td",{children:zt.tokenAmount})]},zt.address))})]})]}),jsxs("div",{children:[jsx("h2",{children:"All Proposals"}),jsxs("form",{children:[At.map(zt=>jsxs("div",{className:"card",children:[jsx("h3",{children:"Proposal Title"}),jsx("div",{className:"cardHead"}),jsx("p",{children:zt.description}),jsx("div",{children:jsx("button",{children:jsx(Link,{to:"/ProposalTemplate",children:"View Proposal Details"})})})]},zt.proposalId)),!kt&&jsx("small",{children:"This will trigger multiple transactions that you will need to sign."})]})]})]})]})}):jsxs("div",{className:"container",children:[jsx("div",{className:"row",children:jsx("div",{className:"col-sm text-center",children:jsx("h1",{children:"My Community Show Community and all proposals"})})}),jsx("div",{className:"row row-cols-1 row-cols-md-2 g-4",children:jsx("div",{className:"col",children:jsxs("div",{className:"card",children:[jsx("img",{src:communityData.img,className:"card-img-top",alt:"..."}),jsxs("div",{className:"card-body",children:[jsx("h5",{className:"card-title",children:communityData.name}),jsx("p",{className:"card-text",children:communityData.description})]})]})})})]})}function CommunityDetailsSideBar(){const et=NFT_CONTRACT_ADDRESS,{contract:_e}=useContract(et);useNFT(_e,0);const{data:rt,isLoading:nt}=useContractMetadata(_e);return jsxs("div",{children:[!nt&&jsxs("div",{children:[jsx("h3",{children:rt==null?void 0:rt.name}),rt==null?void 0:rt.image]}),jsx("img",{src:communityData.img,alt:""}),jsxs("div",{className:"card-body",children:[jsx("h5",{className:"card-title",children:communityData.name}),jsx("p",{className:"card-text"})]}),jsxs("ul",{className:"list-group list-group-flush",children:[jsxs("li",{className:"list-group-item",children:["Total Members:",communityData.members," "]}),jsxs("li",{className:"list-group-item",children:["Verified members: ",communityData.verifiedMembers]}),jsxs("li",{className:"list-group-item",children:[" Proposals: ",communityData.proposals]}),jsxs("li",{className:"list-group-item",children:["Total Proposals: ",communityData.proposals]}),jsxs("li",{className:"list-group-item",children:["Projects: ",communityData.projects]})]}),jsx("br",{})]})}function CommunityBK(){const et=useAddress(),_e="0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",{contract:tt}=useContract(_e,"edition-drop"),{contract:rt}=useContract("0x1E1aECDC3C932c4B3490203326A3e2e178C94315","token"),{contract:nt}=useContract("0x2FDaBe3f3Eaa7c6442faD20ccDF632280a46ef56","vote");console.log(nt);const{data:it}=useNFTBalance(tt,et,"0"),at=react.exports.useMemo(()=>it&&it.gt(0),[it]),[st,ct]=react.exports.useState([]),[ut,ft]=react.exports.useState([]),gt=kt=>kt.substring(0,6)+"..."+kt.substring(kt.length-4),[_t,Et]=react.exports.useState([]),[$t,It]=react.exports.useState(!1),[Tt,At]=react.exports.useState(!1);console.log("\u{1F680} ~ file: CommunityBK.jsx ~ line 86 ~ proposals",_t),react.exports.useEffect(()=>{if(!at){console.log("\u{1F98A} User has not claimed NFT yet");return}(async()=>{try{const Ot=await nt.getAll();Et(Ot),console.log("\u{1F308} Proposals:",Ot),console.log(Ot[1])}catch(Ot){console.log("failed to get proposals",Ot)}})()},[at,nt]),react.exports.useEffect(()=>{if(!at||!_t.length)return;(async()=>{try{const Ot=await nt.hasVoted(_t[0].proposalId,et);At(Ot),console.log(Ot?"\u{1F975} User has already voted":"\u{1F642} User has not voted yet")}catch(Ot){console.error("Failed to check if wallet has voted",Ot)}})()},[at,_t,et,nt]),react.exports.useEffect(()=>{if(!at)return;(async()=>{try{const Ot=await(tt==null?void 0:tt.history.getAllClaimerAddresses(0));ft(Ot),console.log("\u{1F680} Members addresses",Ot)}catch(Ot){console.error("failed to get member list",Ot)}})()},[at,tt==null?void 0:tt.history]),react.exports.useEffect(()=>{if(!at)return;(async()=>{try{const Ot=await(rt==null?void 0:rt.history.getAllHolderBalances());ct(Ot),console.log("\u{1F45C} Amounts",Ot)}catch(Ot){console.error("failed to get member balances",Ot)}})()},[at,rt==null?void 0:rt.history]);const Rt=react.exports.useMemo(()=>ut.map(kt=>{const Ot=st==null?void 0:st.find(({holder:Wt})=>Wt===kt);return{address:kt,tokenAmount:(Ot==null?void 0:Ot.balance.displayValue)||"0"}}),[ut,st]);return jsx("div",{className:"container",children:jsx("div",{className:"member-page",children:jsxs("div",{children:[jsxs("div",{children:[jsx(CommunityDetailsSideBar,{}),jsx("h2",{children:"Member List"}),jsxs("table",{className:"card",children:[jsx("thead",{children:jsxs("tr",{children:[jsx("th",{children:"Name"}),jsx("th",{children:"Address"}),jsx("th",{children:"Votes"})]})}),jsx("tbody",{children:Rt.map(kt=>jsxs("tr",{children:[jsx("td",{children:"John Doe"}),jsx("td",{children:gt(kt.address)}),jsx("td",{children:kt.tokenAmount})]},kt.address))})]})]}),jsxs("div",{children:[jsx("h2",{children:"All Proposals"}),jsxs("form",{onSubmit:async kt=>{kt.preventDefault(),kt.stopPropagation(),It(!0);const Ot=_t.map(Wt=>{const zt={proposalId:Wt.proposalId,vote:2};return Wt.votes.forEach(Kt=>{if(document.getElementById(Wt.proposalId+"-"+Kt.type).checked){zt.vote=Kt.type;return}}),zt});try{await rt.getDelegationOf(et)===AddressZero&&await rt.delegateTo(et);try{await Promise.all(Ot.map(async({proposalId:zt,vote:Kt})=>{if((await nt.get(zt)).state===1)return nt.vote(zt,Kt)}));try{await Promise.all(Ot.map(async({proposalId:zt})=>{if((await nt.get(zt)).state===4)return nt.execute(zt)})),At(!0),console.log("successfully voted")}catch(zt){console.error("failed to execute votes",zt)}}catch(zt){console.error("failed to vote",zt)}}catch{console.error("failed to delegate tokens")}finally{It(!1)}},children:[_t.map(kt=>jsxs("div",{className:"card",children:[jsx("h3",{children:"Proposal Title"}),jsx("div",{className:"cardHead"}),jsxs("h5",{children:[kt.description," | "]}),jsxs("div",{children:[jsx("button",{children:"View Project"}),kt.votes.map(({type:Ot,label:Wt})=>jsxs("div",{children:[jsx("input",{type:"radio",id:kt.proposalId+"-"+Ot,name:kt.proposalId,value:Ot,defaultChecked:Ot===2}),jsx("label",{htmlFor:kt.proposalId+"-"+Ot,children:Wt}),jsx("hr",{})]},Ot))]}),jsx("button",{disabled:$t||Tt,type:"submit",children:$t?"Voting...":Tt?"You Already Voted":"Submit Votes"}),jsx("hr",{})]},kt.proposalId)),!Tt&&jsx("small",{children:"This will trigger multiple transactions that you will need to sign."})]})]})]})})})}function Join(){return jsx(Fragment$1,{children:jsx("div",{className:"container text-center",children:jsxs("form",{children:[jsxs("div",{className:"form-row",children:[jsxs("div",{className:"form-group col-md-6",children:[jsx("label",{for:"inputEmail4",children:"Email"}),jsx("input",{type:"email",className:"form-control",id:"inputEmail4",placeholder:"Email"})]}),jsxs("div",{className:"form-group col-md-6",children:[jsx("label",{for:"inputPassword4",children:"Password"}),jsx("input",{type:"password",className:"form-control",id:"inputPassword4",placeholder:"Password"})]})]}),jsxs("div",{className:"form-group",children:[jsx("label",{for:"inputAddress",children:"Address"}),jsx("input",{type:"text",className:"form-control",id:"inputAddress",placeholder:"1234 Main St"})]}),jsxs("div",{className:"form-group",children:[jsx("label",{for:"inputAddress2",children:"Address 2"}),jsx("input",{type:"text",className:"form-control",id:"inputAddress2",placeholder:"Apartment, studio, or floor"})]}),jsxs("div",{className:"form-row",children:[jsxs("div",{className:"form-group col-md-6",children:[jsx("label",{for:"inputCity",children:"City"}),jsx("input",{type:"text",className:"form-control",id:"inputCity"})]}),jsxs("div",{className:"form-group col-md-4",children:[jsx("label",{for:"inputState",children:"State"}),jsxs("select",{id:"inputState",className:"form-control",children:[jsx("option",{selected:!0,children:"Choose..."}),jsx("option",{children:"..."})]})]}),jsxs("div",{className:"form-group col-md-2",children:[jsx("label",{for:"inputZip",children:"Zip"}),jsx("input",{type:"text",className:"form-control",id:"inputZip"})]})]}),jsx("div",{className:"form-group",children:jsxs("div",{className:"form-check",children:[jsx("input",{className:"form-check-input",type:"checkbox",id:"gridCheck"}),jsx("label",{className:"form-check-label",for:"gridCheck",children:"Check me out"})]})}),jsx("button",{type:"submit",className:"btn btn-primary",children:"Sign in"})]})})})}var proposalDetails="";function ProjectTemplate(){return jsxs(Fragment$1,{children:[jsx("div",{className:"container",children:jsxs("div",{className:"row",children:[jsxs("div",{className:"col-lg-4",children:[jsx("div",{className:"card",children:jsx(CommunityDetailsSideBar,{})}),jsx("div",{className:"card",children:"( add voting component here )"})]}),jsx("div",{className:"col-lg-8",children:jsxs("div",{className:"proposalDetails",children:[jsx("div",{className:"proposalDetailsHeader",children:jsxs("h1",{children:[proposalData.title," "]})}),jsx("div",{children:"Voting time "}),jsxs("div",{children:[" Status: ",proposalData.status," "]}),jsxs("div",{children:["Budget: ",proposalData.budget," "]}),jsx("img",{src:proposalData.image,alt:""}),proposalData.description]})})]})}),jsx("section",{className:"section",children:jsx("div",{className:"container",children:jsx("div",{className:"row justify-content-center",children:jsx("div",{className:"col-lg-10",children:jsxs("div",{className:"card blog-post border-0 rounded shadow overflow-hidden",children:[jsx("img",{src:"/src/themes/appgen/images/blog/single.jpg",className:"img-fluid",alt:""}),jsxs("div",{className:"card-body p-4",children:[jsxs("div",{className:"post-meta d-flex justify-content-between mb-4",children:[jsxs("ul",{className:"list-unstyled mb-0",children:[jsx("li",{className:"list-inline-item me-2 mb-0",children:jsxs("a",{href:"javascript:void(0)",className:"text-muted like",children:[jsx("i",{"data-feather":"heart",className:"fea icon-sm"})," 33"]})}),jsx("li",{className:"list-inline-item",children:jsxs("a",{href:"javascript:void(0)",className:"text-muted comments",children:[jsx("i",{"data-feather":"message-circle",className:"fea icon-sm"})," 08"]})})]}),jsxs("a",{href:"javascript:void(0)",className:"text-muted",children:[jsx("i",{"data-feather":"tag",className:"fea icon-sm"})," Designing"]})]}),jsx("p",{className:"text-muted",children:"The most well-known dummy text is the 'Lorem Ipsum', which is said to have originated in the 16th century. Lorem Ipsum is composed in a pseudo-Latin language which more or less corresponds to 'proper' Latin. It contains a series of real Latin words. This ancient dummy text is also incomprehensible, but it imitates the rhythm of most European languages in Latin script."}),jsx("p",{className:"text-muted mb-4",children:"The advantage of its Latin origin and the relative meaninglessness of Lorum Ipsum is that the text does not attract attention to itself or distract the viewer's attention from the layout."}),jsx("h5",{className:"card-title mb-0 pt-4 border-top",children:"Comments :"}),jsxs("ul",{className:"media-list list-unstyled mb-4",children:[jsxs("li",{className:"mt-4",children:[jsxs("div",{className:"d-flex justify-content-between",children:[jsxs("div",{className:"d-flex align-items-center",children:[jsx("a",{className:"pe-3",href:"#",children:jsx("img",{src:"/src/themes/appgen/images/client/01.jpg",className:"img-fluid avatar avatar-md-sm rounded-circle shadow",alt:"img"})}),jsxs("div",{className:"commentor-detail",children:[jsx("h6",{className:"mb-0",children:jsx("a",{href:"javascript:void(0)",className:"text-dark media-heading",children:"Lorenzo Peterson"})}),jsx("small",{className:"text-muted",children:"15th August, 2019 at 01:25 pm"})]})]}),jsxs("a",{href:"#",className:"text-muted",children:[jsx("i",{className:"mdi mdi-reply"})," Reply"]})]}),jsx("div",{className:"mt-3",children:jsx("p",{className:"text-muted fst-italic p-3 bg-light rounded",children:'" There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour "'})})]}),jsxs("li",{className:"mt-4",children:[jsxs("div",{className:"d-flex justify-content-between",children:[jsxs("div",{className:"d-flex align-items-center",children:[jsx("a",{className:"pe-3",href:"#",children:jsx("img",{src:"/src/themes/appgen/images/client/02.jpg",className:"img-fluid avatar avatar-md-sm rounded-circle shadow",alt:"img"})}),jsxs("div",{className:"commentor-detail",children:[jsx("h6",{className:"mb-0",children:jsx("a",{href:"javascript:void(0)",className:"media-heading text-dark",children:"Tammy Camacho"})}),jsx("small",{className:"text-muted",children:"15th August, 2019 at 05:44 pm"})]})]}),jsxs("a",{href:"#",className:"text-muted",children:[jsx("i",{className:"mdi mdi-reply"})," Reply"]})]}),jsx("div",{className:"mt-3",children:jsx("p",{className:"text-muted fst-italic p-3 bg-light rounded",children:'" There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour "'})})]}),jsxs("li",{className:"mt-4",children:[jsxs("div",{className:"d-flex justify-content-between",children:[jsxs("div",{className:"d-flex align-items-center",children:[jsx("a",{className:"pe-3",href:"#",children:jsx("img",{src:"/src/themes/appgen/images/client/03.jpg",className:"img-fluid avatar avatar-md-sm rounded-circle shadow",alt:"img"})}),jsxs("div",{className:"commentor-detail",children:[jsx("h6",{className:"mb-0",children:jsx("a",{href:"javascript:void(0)",className:"media-heading text-dark",children:"Tammy Camacho"})}),jsx("small",{className:"text-muted",children:"16th August, 2019 at 03:44 pm"})]})]}),jsxs("a",{href:"#",className:"text-muted",children:[jsx("i",{className:"mdi mdi-reply"})," Reply"]})]}),jsx("div",{className:"mt-3",children:jsx("p",{className:"text-muted fst-italic p-3 bg-light rounded",children:'" There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour "'})}),jsx("ul",{className:"list-unstyled ps-4 ps-md-5 sub-comment",children:jsxs("li",{className:"mt-4",children:[jsxs("div",{className:"d-flex justify-content-between",children:[jsxs("div",{className:"d-flex align-items-center",children:[jsx("a",{className:"pe-3",href:"#",children:jsx("img",{src:"/src/themes/appgen/images/client/01.jpg",className:"img-fluid avatar avatar-md-sm rounded-circle shadow",alt:"img"})}),jsxs("div",{className:"commentor-detail",children:[jsx("h6",{className:"mb-0",children:jsx("a",{href:"javascript:void(0)",className:"text-dark media-heading",children:"Lorenzo Peterson"})}),jsx("small",{className:"text-muted",children:"17th August, 2019 at 01:25 pm"})]})]}),jsxs("a",{href:"#",className:"text-muted",children:[jsx("i",{className:"mdi mdi-reply"})," Reply"]})]}),jsx("div",{className:"mt-3",children:jsx("p",{className:"text-muted fst-italic p-3 bg-light rounded",children:'" There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour "'})})]})})]})]}),jsx("h5",{className:"card-title mb-0 pt-4 border-top",children:"Leave A Comment :"}),jsx("form",{className:"mt-3",children:jsxs("div",{className:"row",children:[jsx("div",{className:"col-md-12",children:jsxs("div",{className:"mb-3 position-relative",children:[jsx("label",{className:"form-label small fw-bold",children:"Your Comment"}),jsx("textarea",{id:"message",placeholder:"Your Comment",rows:5,name:"message",className:"form-control",required:!0,defaultValue:""})]})}),jsx("div",{className:"col-lg-6",children:jsxs("div",{className:"mb-3 position-relative",children:[jsxs("label",{className:"form-label small fw-bold",children:["Name ",jsx("span",{className:"text-danger",children:"*"})]}),jsx("input",{id:"name",name:"name",type:"text",placeholder:"Name",className:"form-control",required:!0})]})}),jsx("div",{className:"col-lg-6",children:jsxs("div",{className:"mb-3 position-relative",children:[jsxs("label",{className:"form-label small fw-bold",children:["Your Email ",jsx("span",{className:"text-danger",children:"*"})]}),jsx("input",{id:"email",type:"email",placeholder:"Email",name:"email",className:"form-control",required:!0})]})}),jsx("div",{className:"col-md-12",children:jsx("div",{className:"send text-end",children:jsx("button",{type:"submit",className:"btn btn-primary",children:"Send Message"})})})]})})]})]})})})})})]})}function CreateProposal(){return jsxs(Fragment$1,{children:[jsx("h1",{children:"Create Proposal"}),jsxs("ul",{children:[jsx("li",{children:"Title"}),jsx("li",{children:"Description"}),jsx("li",{children:"image "}),jsx("li",{children:"video"})]}),jsxs("form",{children:[jsxs("label",{children:["Name:",jsx("input",{type:"text",name:"name"})]}),jsxs("label",{children:["Email:",jsx("input",{type:"text",name:"email"})]}),jsxs("label",{children:["Message:",jsx("input",{type:"text",name:"message"})]}),jsx("input",{type:"submit",value:"Submit"})]})]})}var bootstrap_min$1="",bootstrap_bundle_min={exports:{}};/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(et,_e){(function(tt,rt){et.exports=rt()})(commonjsGlobal,function(){const tt="transitionend",rt=Zt=>{let Mt=Zt.getAttribute("data-bs-target");if(!Mt||Mt==="#"){let Ht=Zt.getAttribute("href");if(!Ht||!Ht.includes("#")&&!Ht.startsWith("."))return null;Ht.includes("#")&&!Ht.startsWith("#")&&(Ht=`#${Ht.split("#")[1]}`),Mt=Ht&&Ht!=="#"?Ht.trim():null}return Mt},nt=Zt=>{const Mt=rt(Zt);return Mt&&document.querySelector(Mt)?Mt:null},it=Zt=>{const Mt=rt(Zt);return Mt?document.querySelector(Mt):null},at=Zt=>{Zt.dispatchEvent(new Event(tt))},st=Zt=>!(!Zt||typeof Zt!="object")&&(Zt.jquery!==void 0&&(Zt=Zt[0]),Zt.nodeType!==void 0),ct=Zt=>st(Zt)?Zt.jquery?Zt[0]:Zt:typeof Zt=="string"&&Zt.length>0?document.querySelector(Zt):null,ut=Zt=>{if(!st(Zt)||Zt.getClientRects().length===0)return!1;const Mt=getComputedStyle(Zt).getPropertyValue("visibility")==="visible",Ht=Zt.closest("details:not([open])");if(!Ht)return Mt;if(Ht!==Zt){const Xt=Zt.closest("summary");if(Xt&&Xt.parentNode!==Ht||Xt===null)return!1}return Mt},ft=Zt=>!Zt||Zt.nodeType!==Node.ELEMENT_NODE||!!Zt.classList.contains("disabled")||(Zt.disabled!==void 0?Zt.disabled:Zt.hasAttribute("disabled")&&Zt.getAttribute("disabled")!=="false"),gt=Zt=>{if(!document.documentElement.attachShadow)return null;if(typeof Zt.getRootNode=="function"){const Mt=Zt.getRootNode();return Mt instanceof ShadowRoot?Mt:null}return Zt instanceof ShadowRoot?Zt:Zt.parentNode?gt(Zt.parentNode):null},_t=()=>{},Et=Zt=>{Zt.offsetHeight},$t=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,It=[],Tt=()=>document.documentElement.dir==="rtl",At=Zt=>{var Mt;Mt=()=>{const Ht=$t();if(Ht){const Xt=Zt.NAME,hr=Ht.fn[Xt];Ht.fn[Xt]=Zt.jQueryInterface,Ht.fn[Xt].Constructor=Zt,Ht.fn[Xt].noConflict=()=>(Ht.fn[Xt]=hr,Zt.jQueryInterface)}},document.readyState==="loading"?(It.length||document.addEventListener("DOMContentLoaded",()=>{for(const Ht of It)Ht()}),It.push(Mt)):Mt()},Rt=Zt=>{typeof Zt=="function"&&Zt()},kt=(Zt,Mt,Ht=!0)=>{if(!Ht)return void Rt(Zt);const Xt=(_r=>{if(!_r)return 0;let{transitionDuration:Wr,transitionDelay:zr}=window.getComputedStyle(_r);const Kr=Number.parseFloat(Wr),Gr=Number.parseFloat(zr);return Kr||Gr?(Wr=Wr.split(",")[0],zr=zr.split(",")[0],1e3*(Number.parseFloat(Wr)+Number.parseFloat(zr))):0})(Mt)+5;let hr=!1;const pr=({target:_r})=>{_r===Mt&&(hr=!0,Mt.removeEventListener(tt,pr),Rt(Zt))};Mt.addEventListener(tt,pr),setTimeout(()=>{hr||at(Mt)},Xt)},Ot=(Zt,Mt,Ht,Xt)=>{const hr=Zt.length;let pr=Zt.indexOf(Mt);return pr===-1?!Ht&&Xt?Zt[hr-1]:Zt[0]:(pr+=Ht?1:-1,Xt&&(pr=(pr+hr)%hr),Zt[Math.max(0,Math.min(pr,hr-1))])},Wt=/[^.]*(?=\..*)\.|.*/,zt=/\..*/,Kt=/::\d+$/,Jt={};let ar=1;const jt={mouseenter:"mouseover",mouseleave:"mouseout"},Ct=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Nt(Zt,Mt){return Mt&&`${Mt}::${ar++}`||Zt.uidEvent||ar++}function ht(Zt){const Mt=Nt(Zt);return Zt.uidEvent=Mt,Jt[Mt]=Jt[Mt]||{},Jt[Mt]}function ot(Zt,Mt,Ht=null){return Object.values(Zt).find(Xt=>Xt.callable===Mt&&Xt.delegationSelector===Ht)}function dt(Zt,Mt,Ht){const Xt=typeof Mt=="string",hr=Xt?Ht:Mt||Ht;let pr=vt(Zt);return Ct.has(pr)||(pr=Zt),[Xt,hr,pr]}function mt(Zt,Mt,Ht,Xt,hr){if(typeof Mt!="string"||!Zt)return;let[pr,_r,Wr]=dt(Mt,Ht,Xt);Mt in jt&&(_r=(Xr=>function(Yr){if(!Yr.relatedTarget||Yr.relatedTarget!==Yr.delegateTarget&&!Yr.delegateTarget.contains(Yr.relatedTarget))return Xr.call(this,Yr)})(_r));const zr=ht(Zt),Kr=zr[Wr]||(zr[Wr]={}),Gr=ot(Kr,_r,pr?Ht:null);if(Gr)return void(Gr.oneOff=Gr.oneOff&&hr);const Vr=Nt(_r,Mt.replace(Wt,"")),nn=pr?function(Jr,Xr,Yr){return function tn(An){const On=Jr.querySelectorAll(Xr);for(let{target:on}=An;on&&on!==this;on=on.parentNode)for(const gn of On)if(gn===on)return yt(An,{delegateTarget:on}),tn.oneOff&&St.off(Jr,An.type,Xr,Yr),Yr.apply(on,[An])}}(Zt,Ht,_r):function(Jr,Xr){return function Yr(tn){return yt(tn,{delegateTarget:Jr}),Yr.oneOff&&St.off(Jr,tn.type,Xr),Xr.apply(Jr,[tn])}}(Zt,_r);nn.delegationSelector=pr?Ht:null,nn.callable=_r,nn.oneOff=hr,nn.uidEvent=Vr,Kr[Vr]=nn,Zt.addEventListener(Wr,nn,pr)}function wt(Zt,Mt,Ht,Xt,hr){const pr=ot(Mt[Ht],Xt,hr);pr&&(Zt.removeEventListener(Ht,pr,Boolean(hr)),delete Mt[Ht][pr.uidEvent])}function bt(Zt,Mt,Ht,Xt){const hr=Mt[Ht]||{};for(const pr of Object.keys(hr))if(pr.includes(Xt)){const _r=hr[pr];wt(Zt,Mt,Ht,_r.callable,_r.delegationSelector)}}function vt(Zt){return Zt=Zt.replace(zt,""),jt[Zt]||Zt}const St={on(Zt,Mt,Ht,Xt){mt(Zt,Mt,Ht,Xt,!1)},one(Zt,Mt,Ht,Xt){mt(Zt,Mt,Ht,Xt,!0)},off(Zt,Mt,Ht,Xt){if(typeof Mt!="string"||!Zt)return;const[hr,pr,_r]=dt(Mt,Ht,Xt),Wr=_r!==Mt,zr=ht(Zt),Kr=zr[_r]||{},Gr=Mt.startsWith(".");if(pr===void 0){if(Gr)for(const Vr of Object.keys(zr))bt(Zt,zr,Vr,Mt.slice(1));for(const Vr of Object.keys(Kr)){const nn=Vr.replace(Kt,"");if(!Wr||Mt.includes(nn)){const Jr=Kr[Vr];wt(Zt,zr,_r,Jr.callable,Jr.delegationSelector)}}}else{if(!Object.keys(Kr).length)return;wt(Zt,zr,_r,pr,hr?Ht:null)}},trigger(Zt,Mt,Ht){if(typeof Mt!="string"||!Zt)return null;const Xt=$t();let hr=null,pr=!0,_r=!0,Wr=!1;Mt!==vt(Mt)&&Xt&&(hr=Xt.Event(Mt,Ht),Xt(Zt).trigger(hr),pr=!hr.isPropagationStopped(),_r=!hr.isImmediatePropagationStopped(),Wr=hr.isDefaultPrevented());let zr=new Event(Mt,{bubbles:pr,cancelable:!0});return zr=yt(zr,Ht),Wr&&zr.preventDefault(),_r&&Zt.dispatchEvent(zr),zr.defaultPrevented&&hr&&hr.preventDefault(),zr}};function yt(Zt,Mt){for(const[Ht,Xt]of Object.entries(Mt||{}))try{Zt[Ht]=Xt}catch{Object.defineProperty(Zt,Ht,{configurable:!0,get:()=>Xt})}return Zt}const lt=new Map,xt={set(Zt,Mt,Ht){lt.has(Zt)||lt.set(Zt,new Map);const Xt=lt.get(Zt);Xt.has(Mt)||Xt.size===0?Xt.set(Mt,Ht):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Xt.keys())[0]}.`)},get:(Zt,Mt)=>lt.has(Zt)&&lt.get(Zt).get(Mt)||null,remove(Zt,Mt){if(!lt.has(Zt))return;const Ht=lt.get(Zt);Ht.delete(Mt),Ht.size===0&&lt.delete(Zt)}};function Ut(Zt){if(Zt==="true")return!0;if(Zt==="false")return!1;if(Zt===Number(Zt).toString())return Number(Zt);if(Zt===""||Zt==="null")return null;if(typeof Zt!="string")return Zt;try{return JSON.parse(decodeURIComponent(Zt))}catch{return Zt}}function Pt(Zt){return Zt.replace(/[A-Z]/g,Mt=>`-${Mt.toLowerCase()}`)}const qt={setDataAttribute(Zt,Mt,Ht){Zt.setAttribute(`data-bs-${Pt(Mt)}`,Ht)},removeDataAttribute(Zt,Mt){Zt.removeAttribute(`data-bs-${Pt(Mt)}`)},getDataAttributes(Zt){if(!Zt)return{};const Mt={},Ht=Object.keys(Zt.dataset).filter(Xt=>Xt.startsWith("bs")&&!Xt.startsWith("bsConfig"));for(const Xt of Ht){let hr=Xt.replace(/^bs/,"");hr=hr.charAt(0).toLowerCase()+hr.slice(1,hr.length),Mt[hr]=Ut(Zt.dataset[Xt])}return Mt},getDataAttribute:(Zt,Mt)=>Ut(Zt.getAttribute(`data-bs-${Pt(Mt)}`))};class ir{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(Mt){return Mt=this._mergeConfigObj(Mt),Mt=this._configAfterMerge(Mt),this._typeCheckConfig(Mt),Mt}_configAfterMerge(Mt){return Mt}_mergeConfigObj(Mt,Ht){const Xt=st(Ht)?qt.getDataAttribute(Ht,"config"):{};return{...this.constructor.Default,...typeof Xt=="object"?Xt:{},...st(Ht)?qt.getDataAttributes(Ht):{},...typeof Mt=="object"?Mt:{}}}_typeCheckConfig(Mt,Ht=this.constructor.DefaultType){for(const hr of Object.keys(Ht)){const pr=Ht[hr],_r=Mt[hr],Wr=st(_r)?"element":(Xt=_r)==null?`${Xt}`:Object.prototype.toString.call(Xt).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(pr).test(Wr))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${hr}" provided type "${Wr}" but expected type "${pr}".`)}var Xt}}class Yt extends ir{constructor(Mt,Ht){super(),(Mt=ct(Mt))&&(this._element=Mt,this._config=this._getConfig(Ht),xt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){xt.remove(this._element,this.constructor.DATA_KEY),St.off(this._element,this.constructor.EVENT_KEY);for(const Mt of Object.getOwnPropertyNames(this))this[Mt]=null}_queueCallback(Mt,Ht,Xt=!0){kt(Mt,Ht,Xt)}_getConfig(Mt){return Mt=this._mergeConfigObj(Mt,this._element),Mt=this._configAfterMerge(Mt),this._typeCheckConfig(Mt),Mt}static getInstance(Mt){return xt.get(ct(Mt),this.DATA_KEY)}static getOrCreateInstance(Mt,Ht={}){return this.getInstance(Mt)||new this(Mt,typeof Ht=="object"?Ht:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(Mt){return`${Mt}${this.EVENT_KEY}`}}const rr=(Zt,Mt="hide")=>{const Ht=`click.dismiss${Zt.EVENT_KEY}`,Xt=Zt.NAME;St.on(document,Ht,`[data-bs-dismiss="${Xt}"]`,function(hr){if(["A","AREA"].includes(this.tagName)&&hr.preventDefault(),ft(this))return;const pr=it(this)||this.closest(`.${Xt}`);Zt.getOrCreateInstance(pr)[Mt]()})};class Sr extends Yt{static get NAME(){return"alert"}close(){if(St.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const Mt=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,Mt)}_destroyElement(){this._element.remove(),St.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(Mt){return this.each(function(){const Ht=Sr.getOrCreateInstance(this);if(typeof Mt=="string"){if(Ht[Mt]===void 0||Mt.startsWith("_")||Mt==="constructor")throw new TypeError(`No method named "${Mt}"`);Ht[Mt](this)}})}}rr(Sr,"close"),At(Sr);const lr='[data-bs-toggle="button"]';class ur extends Yt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(Mt){return this.each(function(){const Ht=ur.getOrCreateInstance(this);Mt==="toggle"&&Ht[Mt]()})}}St.on(document,"click.bs.button.data-api",lr,Zt=>{Zt.preventDefault();const Mt=Zt.target.closest(lr);ur.getOrCreateInstance(Mt).toggle()}),At(ur);const Ur={find:(Zt,Mt=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(Mt,Zt)),findOne:(Zt,Mt=document.documentElement)=>Element.prototype.querySelector.call(Mt,Zt),children:(Zt,Mt)=>[].concat(...Zt.children).filter(Ht=>Ht.matches(Mt)),parents(Zt,Mt){const Ht=[];let Xt=Zt.parentNode.closest(Mt);for(;Xt;)Ht.push(Xt),Xt=Xt.parentNode.closest(Mt);return Ht},prev(Zt,Mt){let Ht=Zt.previousElementSibling;for(;Ht;){if(Ht.matches(Mt))return[Ht];Ht=Ht.previousElementSibling}return[]},next(Zt,Mt){let Ht=Zt.nextElementSibling;for(;Ht;){if(Ht.matches(Mt))return[Ht];Ht=Ht.nextElementSibling}return[]},focusableChildren(Zt){const Mt=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Ht=>`${Ht}:not([tabindex^="-"])`).join(",");return this.find(Mt,Zt).filter(Ht=>!ft(Ht)&&ut(Ht))}},dr={endCallback:null,leftCallback:null,rightCallback:null},xr={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class er extends ir{constructor(Mt,Ht){super(),this._element=Mt,Mt&&er.isSupported()&&(this._config=this._getConfig(Ht),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return dr}static get DefaultType(){return xr}static get NAME(){return"swipe"}dispose(){St.off(this._element,".bs.swipe")}_start(Mt){this._supportPointerEvents?this._eventIsPointerPenTouch(Mt)&&(this._deltaX=Mt.clientX):this._deltaX=Mt.touches[0].clientX}_end(Mt){this._eventIsPointerPenTouch(Mt)&&(this._deltaX=Mt.clientX-this._deltaX),this._handleSwipe(),Rt(this._config.endCallback)}_move(Mt){this._deltaX=Mt.touches&&Mt.touches.length>1?0:Mt.touches[0].clientX-this._deltaX}_handleSwipe(){const Mt=Math.abs(this._deltaX);if(Mt<=40)return;const Ht=Mt/this._deltaX;this._deltaX=0,Ht&&Rt(Ht>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(St.on(this._element,"pointerdown.bs.swipe",Mt=>this._start(Mt)),St.on(this._element,"pointerup.bs.swipe",Mt=>this._end(Mt)),this._element.classList.add("pointer-event")):(St.on(this._element,"touchstart.bs.swipe",Mt=>this._start(Mt)),St.on(this._element,"touchmove.bs.swipe",Mt=>this._move(Mt)),St.on(this._element,"touchend.bs.swipe",Mt=>this._end(Mt)))}_eventIsPointerPenTouch(Mt){return this._supportPointerEvents&&(Mt.pointerType==="pen"||Mt.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ft="next",Lt="prev",Qt="left",tr="right",sr="slid.bs.carousel",Er="carousel",mr="active",gr={ArrowLeft:tr,ArrowRight:Qt},Qr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},wr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Vt extends Yt{constructor(Mt,Ht){super(Mt,Ht),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ur.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Er&&this.cycle()}static get Default(){return Qr}static get DefaultType(){return wr}static get NAME(){return"carousel"}next(){this._slide(Ft)}nextWhenVisible(){!document.hidden&&ut(this._element)&&this.next()}prev(){this._slide(Lt)}pause(){this._isSliding&&at(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?St.one(this._element,sr,()=>this.cycle()):this.cycle())}to(Mt){const Ht=this._getItems();if(Mt>Ht.length-1||Mt<0)return;if(this._isSliding)return void St.one(this._element,sr,()=>this.to(Mt));const Xt=this._getItemIndex(this._getActive());if(Xt===Mt)return;const hr=Mt>Xt?Ft:Lt;this._slide(hr,Ht[Mt])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(Mt){return Mt.defaultInterval=Mt.interval,Mt}_addEventListeners(){this._config.keyboard&&St.on(this._element,"keydown.bs.carousel",Mt=>this._keydown(Mt)),this._config.pause==="hover"&&(St.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),St.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&er.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const Ht of Ur.find(".carousel-item img",this._element))St.on(Ht,"dragstart.bs.carousel",Xt=>Xt.preventDefault());const Mt={leftCallback:()=>this._slide(this._directionToOrder(Qt)),rightCallback:()=>this._slide(this._directionToOrder(tr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new er(this._element,Mt)}_keydown(Mt){if(/input|textarea/i.test(Mt.target.tagName))return;const Ht=gr[Mt.key];Ht&&(Mt.preventDefault(),this._slide(this._directionToOrder(Ht)))}_getItemIndex(Mt){return this._getItems().indexOf(Mt)}_setActiveIndicatorElement(Mt){if(!this._indicatorsElement)return;const Ht=Ur.findOne(".active",this._indicatorsElement);Ht.classList.remove(mr),Ht.removeAttribute("aria-current");const Xt=Ur.findOne(`[data-bs-slide-to="${Mt}"]`,this._indicatorsElement);Xt&&(Xt.classList.add(mr),Xt.setAttribute("aria-current","true"))}_updateInterval(){const Mt=this._activeElement||this._getActive();if(!Mt)return;const Ht=Number.parseInt(Mt.getAttribute("data-bs-interval"),10);this._config.interval=Ht||this._config.defaultInterval}_slide(Mt,Ht=null){if(this._isSliding)return;const Xt=this._getActive(),hr=Mt===Ft,pr=Ht||Ot(this._getItems(),Xt,hr,this._config.wrap);if(pr===Xt)return;const _r=this._getItemIndex(pr),Wr=Vr=>St.trigger(this._element,Vr,{relatedTarget:pr,direction:this._orderToDirection(Mt),from:this._getItemIndex(Xt),to:_r});if(Wr("slide.bs.carousel").defaultPrevented||!Xt||!pr)return;const zr=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(_r),this._activeElement=pr;const Kr=hr?"carousel-item-start":"carousel-item-end",Gr=hr?"carousel-item-next":"carousel-item-prev";pr.classList.add(Gr),Et(pr),Xt.classList.add(Kr),pr.classList.add(Kr),this._queueCallback(()=>{pr.classList.remove(Kr,Gr),pr.classList.add(mr),Xt.classList.remove(mr,Gr,Kr),this._isSliding=!1,Wr(sr)},Xt,this._isAnimated()),zr&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Ur.findOne(".active.carousel-item",this._element)}_getItems(){return Ur.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(Mt){return Tt()?Mt===Qt?Lt:Ft:Mt===Qt?Ft:Lt}_orderToDirection(Mt){return Tt()?Mt===Lt?Qt:tr:Mt===Lt?tr:Qt}static jQueryInterface(Mt){return this.each(function(){const Ht=Vt.getOrCreateInstance(this,Mt);if(typeof Mt!="number"){if(typeof Mt=="string"){if(Ht[Mt]===void 0||Mt.startsWith("_")||Mt==="constructor")throw new TypeError(`No method named "${Mt}"`);Ht[Mt]()}}else Ht.to(Mt)})}}St.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(Zt){const Mt=it(this);if(!Mt||!Mt.classList.contains(Er))return;Zt.preventDefault();const Ht=Vt.getOrCreateInstance(Mt),Xt=this.getAttribute("data-bs-slide-to");return Xt?(Ht.to(Xt),void Ht._maybeEnableCycle()):qt.getDataAttribute(this,"slide")==="next"?(Ht.next(),void Ht._maybeEnableCycle()):(Ht.prev(),void Ht._maybeEnableCycle())}),St.on(window,"load.bs.carousel.data-api",()=>{const Zt=Ur.find('[data-bs-ride="carousel"]');for(const Mt of Zt)Vt.getOrCreateInstance(Mt)}),At(Vt);const Dt="show",Bt="collapse",Gt="collapsing",cr='[data-bs-toggle="collapse"]',nr={parent:null,toggle:!0},or={parent:"(null|element)",toggle:"boolean"};class qr extends Yt{constructor(Mt,Ht){super(Mt,Ht),this._isTransitioning=!1,this._triggerArray=[];const Xt=Ur.find(cr);for(const hr of Xt){const pr=nt(hr),_r=Ur.find(pr).filter(Wr=>Wr===this._element);pr!==null&&_r.length&&this._triggerArray.push(hr)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return nr}static get DefaultType(){return or}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let Mt=[];if(this._config.parent&&(Mt=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(hr=>hr!==this._element).map(hr=>qr.getOrCreateInstance(hr,{toggle:!1}))),Mt.length&&Mt[0]._isTransitioning||St.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const hr of Mt)hr.hide();const Ht=this._getDimension();this._element.classList.remove(Bt),this._element.classList.add(Gt),this._element.style[Ht]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Xt=`scroll${Ht[0].toUpperCase()+Ht.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gt),this._element.classList.add(Bt,Dt),this._element.style[Ht]="",St.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[Ht]=`${this._element[Xt]}px`}hide(){if(this._isTransitioning||!this._isShown()||St.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const Mt=this._getDimension();this._element.style[Mt]=`${this._element.getBoundingClientRect()[Mt]}px`,Et(this._element),this._element.classList.add(Gt),this._element.classList.remove(Bt,Dt);for(const Ht of this._triggerArray){const Xt=it(Ht);Xt&&!this._isShown(Xt)&&this._addAriaAndCollapsedClass([Ht],!1)}this._isTransitioning=!0,this._element.style[Mt]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gt),this._element.classList.add(Bt),St.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(Mt=this._element){return Mt.classList.contains(Dt)}_configAfterMerge(Mt){return Mt.toggle=Boolean(Mt.toggle),Mt.parent=ct(Mt.parent),Mt}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const Mt=this._getFirstLevelChildren(cr);for(const Ht of Mt){const Xt=it(Ht);Xt&&this._addAriaAndCollapsedClass([Ht],this._isShown(Xt))}}_getFirstLevelChildren(Mt){const Ht=Ur.find(":scope .collapse .collapse",this._config.parent);return Ur.find(Mt,this._config.parent).filter(Xt=>!Ht.includes(Xt))}_addAriaAndCollapsedClass(Mt,Ht){if(Mt.length)for(const Xt of Mt)Xt.classList.toggle("collapsed",!Ht),Xt.setAttribute("aria-expanded",Ht)}static jQueryInterface(Mt){const Ht={};return typeof Mt=="string"&&/show|hide/.test(Mt)&&(Ht.toggle=!1),this.each(function(){const Xt=qr.getOrCreateInstance(this,Ht);if(typeof Mt=="string"){if(Xt[Mt]===void 0)throw new TypeError(`No method named "${Mt}"`);Xt[Mt]()}})}}St.on(document,"click.bs.collapse.data-api",cr,function(Zt){(Zt.target.tagName==="A"||Zt.delegateTarget&&Zt.delegateTarget.tagName==="A")&&Zt.preventDefault();const Mt=nt(this),Ht=Ur.find(Mt);for(const Xt of Ht)qr.getOrCreateInstance(Xt,{toggle:!1}).toggle()}),At(qr);var vr="top",br="bottom",Zr="right",yr="left",Rr="auto",dn=[vr,br,Zr,yr],Mr="start",$r="end",Sn="clippingParents",Ir="viewport",kr="popper",xn="reference",Pr=dn.reduce(function(Zt,Mt){return Zt.concat([Mt+"-"+Mr,Mt+"-"+$r])},[]),Nr=[].concat(dn,[Rr]).reduce(function(Zt,Mt){return Zt.concat([Mt,Mt+"-"+Mr,Mt+"-"+$r])},[]),wn="beforeRead",Fr="read",Or="afterRead",rn="beforeMain",Cr="main",Br="afterMain",Tn="beforeWrite",Dr="write",Lr="afterWrite",In=[wn,Fr,Or,rn,Cr,Br,Tn,Dr,Lr];function Ar(Zt){return Zt?(Zt.nodeName||"").toLowerCase():null}function Tr(Zt){if(Zt==null)return window;if(Zt.toString()!=="[object Window]"){var Mt=Zt.ownerDocument;return Mt&&Mt.defaultView||window}return Zt}function pn(Zt){return Zt instanceof Tr(Zt).Element||Zt instanceof Element}function jr(Zt){return Zt instanceof Tr(Zt).HTMLElement||Zt instanceof HTMLElement}function Hr(Zt){return typeof ShadowRoot!="undefined"&&(Zt instanceof Tr(Zt).ShadowRoot||Zt instanceof ShadowRoot)}const mn={name:"applyStyles",enabled:!0,phase:"write",fn:function(Zt){var Mt=Zt.state;Object.keys(Mt.elements).forEach(function(Ht){var Xt=Mt.styles[Ht]||{},hr=Mt.attributes[Ht]||{},pr=Mt.elements[Ht];jr(pr)&&Ar(pr)&&(Object.assign(pr.style,Xt),Object.keys(hr).forEach(function(_r){var Wr=hr[_r];Wr===!1?pr.removeAttribute(_r):pr.setAttribute(_r,Wr===!0?"":Wr)}))})},effect:function(Zt){var Mt=Zt.state,Ht={popper:{position:Mt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Mt.elements.popper.style,Ht.popper),Mt.styles=Ht,Mt.elements.arrow&&Object.assign(Mt.elements.arrow.style,Ht.arrow),function(){Object.keys(Mt.elements).forEach(function(Xt){var hr=Mt.elements[Xt],pr=Mt.attributes[Xt]||{},_r=Object.keys(Mt.styles.hasOwnProperty(Xt)?Mt.styles[Xt]:Ht[Xt]).reduce(function(Wr,zr){return Wr[zr]="",Wr},{});jr(hr)&&Ar(hr)&&(Object.assign(hr.style,_r),Object.keys(pr).forEach(function(Wr){hr.removeAttribute(Wr)}))})}},requires:["computeStyles"]};function sn(Zt){return Zt.split("-")[0]}var cn=Math.max,fn=Math.min,ln=Math.round;function $n(){var Zt=navigator.userAgentData;return Zt!=null&&Zt.brands?Zt.brands.map(function(Mt){return Mt.brand+"/"+Mt.version}).join(" "):navigator.userAgent}function Pn(){return!/^((?!chrome|android).)*safari/i.test($n())}function vn(Zt,Mt,Ht){Mt===void 0&&(Mt=!1),Ht===void 0&&(Ht=!1);var Xt=Zt.getBoundingClientRect(),hr=1,pr=1;Mt&&jr(Zt)&&(hr=Zt.offsetWidth>0&&ln(Xt.width)/Zt.offsetWidth||1,pr=Zt.offsetHeight>0&&ln(Xt.height)/Zt.offsetHeight||1);var _r=(pn(Zt)?Tr(Zt):window).visualViewport,Wr=!Pn()&&Ht,zr=(Xt.left+(Wr&&_r?_r.offsetLeft:0))/hr,Kr=(Xt.top+(Wr&&_r?_r.offsetTop:0))/pr,Gr=Xt.width/hr,Vr=Xt.height/pr;return{width:Gr,height:Vr,top:Kr,right:zr+Gr,bottom:Kr+Vr,left:zr,x:zr,y:Kr}}function kn(Zt){var Mt=vn(Zt),Ht=Zt.offsetWidth,Xt=Zt.offsetHeight;return Math.abs(Mt.width-Ht)<=1&&(Ht=Mt.width),Math.abs(Mt.height-Xt)<=1&&(Xt=Mt.height),{x:Zt.offsetLeft,y:Zt.offsetTop,width:Ht,height:Xt}}function Nn(Zt,Mt){var Ht=Mt.getRootNode&&Mt.getRootNode();if(Zt.contains(Mt))return!0;if(Ht&&Hr(Ht)){var Xt=Mt;do{if(Xt&&Zt.isSameNode(Xt))return!0;Xt=Xt.parentNode||Xt.host}while(Xt)}return!1}function hn(Zt){return Tr(Zt).getComputedStyle(Zt)}function Bn(Zt){return["table","td","th"].indexOf(Ar(Zt))>=0}function yn(Zt){return((pn(Zt)?Zt.ownerDocument:Zt.document)||window.document).documentElement}function Cn(Zt){return Ar(Zt)==="html"?Zt:Zt.assignedSlot||Zt.parentNode||(Hr(Zt)?Zt.host:null)||yn(Zt)}function Dn(Zt){return jr(Zt)&&hn(Zt).position!=="fixed"?Zt.offsetParent:null}function Fn(Zt){for(var Mt=Tr(Zt),Ht=Dn(Zt);Ht&&Bn(Ht)&&hn(Ht).position==="static";)Ht=Dn(Ht);return Ht&&(Ar(Ht)==="html"||Ar(Ht)==="body"&&hn(Ht).position==="static")?Mt:Ht||function(Xt){var hr=/firefox/i.test($n());if(/Trident/i.test($n())&&jr(Xt)&&hn(Xt).position==="fixed")return null;var pr=Cn(Xt);for(Hr(pr)&&(pr=pr.host);jr(pr)&&["html","body"].indexOf(Ar(pr))<0;){var _r=hn(pr);if(_r.transform!=="none"||_r.perspective!=="none"||_r.contain==="paint"||["transform","perspective"].indexOf(_r.willChange)!==-1||hr&&_r.willChange==="filter"||hr&&_r.filter&&_r.filter!=="none")return pr;pr=pr.parentNode}return null}(Zt)||Mt}function jn(Zt){return["top","bottom"].indexOf(Zt)>=0?"x":"y"}function Ln(Zt,Mt,Ht){return cn(Zt,fn(Mt,Ht))}function Wn(Zt){return Object.assign({},{top:0,right:0,bottom:0,left:0},Zt)}function Ws(Zt,Mt){return Mt.reduce(function(Ht,Xt){return Ht[Xt]=Zt,Ht},{})}const Hs={name:"arrow",enabled:!0,phase:"main",fn:function(Zt){var Mt,Ht=Zt.state,Xt=Zt.name,hr=Zt.options,pr=Ht.elements.arrow,_r=Ht.modifiersData.popperOffsets,Wr=sn(Ht.placement),zr=jn(Wr),Kr=[yr,Zr].indexOf(Wr)>=0?"height":"width";if(pr&&_r){var Gr=function(Mn,En){return Wn(typeof(Mn=typeof Mn=="function"?Mn(Object.assign({},En.rects,{placement:En.placement})):Mn)!="number"?Mn:Ws(Mn,dn))}(hr.padding,Ht),Vr=kn(pr),nn=zr==="y"?vr:yr,Jr=zr==="y"?br:Zr,Xr=Ht.rects.reference[Kr]+Ht.rects.reference[zr]-_r[zr]-Ht.rects.popper[Kr],Yr=_r[zr]-Ht.rects.reference[zr],tn=Fn(pr),An=tn?zr==="y"?tn.clientHeight||0:tn.clientWidth||0:0,On=Xr/2-Yr/2,on=Gr[nn],gn=An-Vr[Kr]-Gr[Jr],an=An/2-Vr[Kr]/2+On,un=Ln(on,an,gn),_n=zr;Ht.modifiersData[Xt]=((Mt={})[_n]=un,Mt.centerOffset=un-an,Mt)}},effect:function(Zt){var Mt=Zt.state,Ht=Zt.options.element,Xt=Ht===void 0?"[data-popper-arrow]":Ht;Xt!=null&&(typeof Xt!="string"||(Xt=Mt.elements.popper.querySelector(Xt)))&&Nn(Mt.elements.popper,Xt)&&(Mt.elements.arrow=Xt)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rs(Zt){return Zt.split("-")[1]}var _c={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zs(Zt){var Mt,Ht=Zt.popper,Xt=Zt.popperRect,hr=Zt.placement,pr=Zt.variation,_r=Zt.offsets,Wr=Zt.position,zr=Zt.gpuAcceleration,Kr=Zt.adaptive,Gr=Zt.roundOffsets,Vr=Zt.isFixed,nn=_r.x,Jr=nn===void 0?0:nn,Xr=_r.y,Yr=Xr===void 0?0:Xr,tn=typeof Gr=="function"?Gr({x:Jr,y:Yr}):{x:Jr,y:Yr};Jr=tn.x,Yr=tn.y;var An=_r.hasOwnProperty("x"),On=_r.hasOwnProperty("y"),on=yr,gn=vr,an=window;if(Kr){var un=Fn(Ht),_n="clientHeight",Mn="clientWidth";un===Tr(Ht)&&hn(un=yn(Ht)).position!=="static"&&Wr==="absolute"&&(_n="scrollHeight",Mn="scrollWidth"),(hr===vr||(hr===yr||hr===Zr)&&pr===$r)&&(gn=br,Yr-=(Vr&&un===an&&an.visualViewport?an.visualViewport.height:un[_n])-Xt.height,Yr*=zr?1:-1),hr!==yr&&(hr!==vr&&hr!==br||pr!==$r)||(on=Zr,Jr-=(Vr&&un===an&&an.visualViewport?an.visualViewport.width:un[Mn])-Xt.width,Jr*=zr?1:-1)}var En,Un=Object.assign({position:Wr},Kr&&_c),Gn=Gr===!0?function(Yn){var Vn=Yn.x,Zn=Yn.y,qn=window.devicePixelRatio||1;return{x:ln(Vn*qn)/qn||0,y:ln(Zn*qn)/qn||0}}({x:Jr,y:Yr}):{x:Jr,y:Yr};return Jr=Gn.x,Yr=Gn.y,zr?Object.assign({},Un,((En={})[gn]=On?"0":"",En[on]=An?"0":"",En.transform=(an.devicePixelRatio||1)<=1?"translate("+Jr+"px, "+Yr+"px)":"translate3d("+Jr+"px, "+Yr+"px, 0)",En)):Object.assign({},Un,((Mt={})[gn]=On?Yr+"px":"",Mt[on]=An?Jr+"px":"",Mt.transform="",Mt))}const Ts={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(Zt){var Mt=Zt.state,Ht=Zt.options,Xt=Ht.gpuAcceleration,hr=Xt===void 0||Xt,pr=Ht.adaptive,_r=pr===void 0||pr,Wr=Ht.roundOffsets,zr=Wr===void 0||Wr,Kr={placement:sn(Mt.placement),variation:rs(Mt.placement),popper:Mt.elements.popper,popperRect:Mt.rects.popper,gpuAcceleration:hr,isFixed:Mt.options.strategy==="fixed"};Mt.modifiersData.popperOffsets!=null&&(Mt.styles.popper=Object.assign({},Mt.styles.popper,zs(Object.assign({},Kr,{offsets:Mt.modifiersData.popperOffsets,position:Mt.options.strategy,adaptive:_r,roundOffsets:zr})))),Mt.modifiersData.arrow!=null&&(Mt.styles.arrow=Object.assign({},Mt.styles.arrow,zs(Object.assign({},Kr,{offsets:Mt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:zr})))),Mt.attributes.popper=Object.assign({},Mt.attributes.popper,{"data-popper-placement":Mt.placement})},data:{}};var ds={passive:!0};const Cs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(Zt){var Mt=Zt.state,Ht=Zt.instance,Xt=Zt.options,hr=Xt.scroll,pr=hr===void 0||hr,_r=Xt.resize,Wr=_r===void 0||_r,zr=Tr(Mt.elements.popper),Kr=[].concat(Mt.scrollParents.reference,Mt.scrollParents.popper);return pr&&Kr.forEach(function(Gr){Gr.addEventListener("scroll",Ht.update,ds)}),Wr&&zr.addEventListener("resize",Ht.update,ds),function(){pr&&Kr.forEach(function(Gr){Gr.removeEventListener("scroll",Ht.update,ds)}),Wr&&zr.removeEventListener("resize",Ht.update,ds)}},data:{}};var yl={left:"right",right:"left",bottom:"top",top:"bottom"};function fs(Zt){return Zt.replace(/left|right|bottom|top/g,function(Mt){return yl[Mt]})}var xl={start:"end",end:"start"};function Vs(Zt){return Zt.replace(/start|end/g,function(Mt){return xl[Mt]})}function As(Zt){var Mt=Tr(Zt);return{scrollLeft:Mt.pageXOffset,scrollTop:Mt.pageYOffset}}function Ms(Zt){return vn(yn(Zt)).left+As(Zt).scrollLeft}function $s(Zt){var Mt=hn(Zt),Ht=Mt.overflow,Xt=Mt.overflowX,hr=Mt.overflowY;return/auto|scroll|overlay|hidden/.test(Ht+hr+Xt)}function qs(Zt){return["html","body","#document"].indexOf(Ar(Zt))>=0?Zt.ownerDocument.body:jr(Zt)&&$s(Zt)?Zt:qs(Cn(Zt))}function as(Zt,Mt){var Ht;Mt===void 0&&(Mt=[]);var Xt=qs(Zt),hr=Xt===((Ht=Zt.ownerDocument)==null?void 0:Ht.body),pr=Tr(Xt),_r=hr?[pr].concat(pr.visualViewport||[],$s(Xt)?Xt:[]):Xt,Wr=Mt.concat(_r);return hr?Wr:Wr.concat(as(Cn(_r)))}function ks(Zt){return Object.assign({},Zt,{left:Zt.x,top:Zt.y,right:Zt.x+Zt.width,bottom:Zt.y+Zt.height})}function Ks(Zt,Mt,Ht){return Mt===Ir?ks(function(Xt,hr){var pr=Tr(Xt),_r=yn(Xt),Wr=pr.visualViewport,zr=_r.clientWidth,Kr=_r.clientHeight,Gr=0,Vr=0;if(Wr){zr=Wr.width,Kr=Wr.height;var nn=Pn();(nn||!nn&&hr==="fixed")&&(Gr=Wr.offsetLeft,Vr=Wr.offsetTop)}return{width:zr,height:Kr,x:Gr+Ms(Xt),y:Vr}}(Zt,Ht)):pn(Mt)?function(Xt,hr){var pr=vn(Xt,!1,hr==="fixed");return pr.top=pr.top+Xt.clientTop,pr.left=pr.left+Xt.clientLeft,pr.bottom=pr.top+Xt.clientHeight,pr.right=pr.left+Xt.clientWidth,pr.width=Xt.clientWidth,pr.height=Xt.clientHeight,pr.x=pr.left,pr.y=pr.top,pr}(Mt,Ht):ks(function(Xt){var hr,pr=yn(Xt),_r=As(Xt),Wr=(hr=Xt.ownerDocument)==null?void 0:hr.body,zr=cn(pr.scrollWidth,pr.clientWidth,Wr?Wr.scrollWidth:0,Wr?Wr.clientWidth:0),Kr=cn(pr.scrollHeight,pr.clientHeight,Wr?Wr.scrollHeight:0,Wr?Wr.clientHeight:0),Gr=-_r.scrollLeft+Ms(Xt),Vr=-_r.scrollTop;return hn(Wr||pr).direction==="rtl"&&(Gr+=cn(pr.clientWidth,Wr?Wr.clientWidth:0)-zr),{width:zr,height:Kr,x:Gr,y:Vr}}(yn(Zt)))}function Gs(Zt){var Mt,Ht=Zt.reference,Xt=Zt.element,hr=Zt.placement,pr=hr?sn(hr):null,_r=hr?rs(hr):null,Wr=Ht.x+Ht.width/2-Xt.width/2,zr=Ht.y+Ht.height/2-Xt.height/2;switch(pr){case vr:Mt={x:Wr,y:Ht.y-Xt.height};break;case br:Mt={x:Wr,y:Ht.y+Ht.height};break;case Zr:Mt={x:Ht.x+Ht.width,y:zr};break;case yr:Mt={x:Ht.x-Xt.width,y:zr};break;default:Mt={x:Ht.x,y:Ht.y}}var Kr=pr?jn(pr):null;if(Kr!=null){var Gr=Kr==="y"?"height":"width";switch(_r){case Mr:Mt[Kr]=Mt[Kr]-(Ht[Gr]/2-Xt[Gr]/2);break;case $r:Mt[Kr]=Mt[Kr]+(Ht[Gr]/2-Xt[Gr]/2)}}return Mt}function ns(Zt,Mt){Mt===void 0&&(Mt={});var Ht=Mt,Xt=Ht.placement,hr=Xt===void 0?Zt.placement:Xt,pr=Ht.strategy,_r=pr===void 0?Zt.strategy:pr,Wr=Ht.boundary,zr=Wr===void 0?Sn:Wr,Kr=Ht.rootBoundary,Gr=Kr===void 0?Ir:Kr,Vr=Ht.elementContext,nn=Vr===void 0?kr:Vr,Jr=Ht.altBoundary,Xr=Jr!==void 0&&Jr,Yr=Ht.padding,tn=Yr===void 0?0:Yr,An=Wn(typeof tn!="number"?tn:Ws(tn,dn)),On=nn===kr?xn:kr,on=Zt.rects.popper,gn=Zt.elements[Xr?On:nn],an=function(Vn,Zn,qn,zn){var Xn=Zn==="clippingParents"?function(Rn){var Kn=as(Cn(Rn)),Qn=["absolute","fixed"].indexOf(hn(Rn).position)>=0&&jr(Rn)?Fn(Rn):Rn;return pn(Qn)?Kn.filter(function(ga){return pn(ga)&&Nn(ga,Qn)&&Ar(ga)!=="body"}):[]}(Vn):[].concat(Zn),_i=[].concat(Xn,[qn]),is=_i[0],Hn=_i.reduce(function(Rn,Kn){var Qn=Ks(Vn,Kn,zn);return Rn.top=cn(Qn.top,Rn.top),Rn.right=fn(Qn.right,Rn.right),Rn.bottom=fn(Qn.bottom,Rn.bottom),Rn.left=cn(Qn.left,Rn.left),Rn},Ks(Vn,is,zn));return Hn.width=Hn.right-Hn.left,Hn.height=Hn.bottom-Hn.top,Hn.x=Hn.left,Hn.y=Hn.top,Hn}(pn(gn)?gn:gn.contextElement||yn(Zt.elements.popper),zr,Gr,_r),un=vn(Zt.elements.reference),_n=Gs({reference:un,element:on,strategy:"absolute",placement:hr}),Mn=ks(Object.assign({},on,_n)),En=nn===kr?Mn:un,Un={top:an.top-En.top+An.top,bottom:En.bottom-an.bottom+An.bottom,left:an.left-En.left+An.left,right:En.right-an.right+An.right},Gn=Zt.modifiersData.offset;if(nn===kr&&Gn){var Yn=Gn[hr];Object.keys(Un).forEach(function(Vn){var Zn=[Zr,br].indexOf(Vn)>=0?1:-1,qn=[vr,br].indexOf(Vn)>=0?"y":"x";Un[Vn]+=Yn[qn]*Zn})}return Un}function _l(Zt,Mt){Mt===void 0&&(Mt={});var Ht=Mt,Xt=Ht.placement,hr=Ht.boundary,pr=Ht.rootBoundary,_r=Ht.padding,Wr=Ht.flipVariations,zr=Ht.allowedAutoPlacements,Kr=zr===void 0?Nr:zr,Gr=rs(Xt),Vr=Gr?Wr?Pr:Pr.filter(function(Xr){return rs(Xr)===Gr}):dn,nn=Vr.filter(function(Xr){return Kr.indexOf(Xr)>=0});nn.length===0&&(nn=Vr);var Jr=nn.reduce(function(Xr,Yr){return Xr[Yr]=ns(Zt,{placement:Yr,boundary:hr,rootBoundary:pr,padding:_r})[sn(Yr)],Xr},{});return Object.keys(Jr).sort(function(Xr,Yr){return Jr[Xr]-Jr[Yr]})}const Zs={name:"flip",enabled:!0,phase:"main",fn:function(Zt){var Mt=Zt.state,Ht=Zt.options,Xt=Zt.name;if(!Mt.modifiersData[Xt]._skip){for(var hr=Ht.mainAxis,pr=hr===void 0||hr,_r=Ht.altAxis,Wr=_r===void 0||_r,zr=Ht.fallbackPlacements,Kr=Ht.padding,Gr=Ht.boundary,Vr=Ht.rootBoundary,nn=Ht.altBoundary,Jr=Ht.flipVariations,Xr=Jr===void 0||Jr,Yr=Ht.allowedAutoPlacements,tn=Mt.options.placement,An=sn(tn),On=zr||(An!==tn&&Xr?function(Rn){if(sn(Rn)===Rr)return[];var Kn=fs(Rn);return[Vs(Rn),Kn,Vs(Kn)]}(tn):[fs(tn)]),on=[tn].concat(On).reduce(function(Rn,Kn){return Rn.concat(sn(Kn)===Rr?_l(Mt,{placement:Kn,boundary:Gr,rootBoundary:Vr,padding:Kr,flipVariations:Xr,allowedAutoPlacements:Yr}):Kn)},[]),gn=Mt.rects.reference,an=Mt.rects.popper,un=new Map,_n=!0,Mn=on[0],En=0;En<on.length;En++){var Un=on[En],Gn=sn(Un),Yn=rs(Un)===Mr,Vn=[vr,br].indexOf(Gn)>=0,Zn=Vn?"width":"height",qn=ns(Mt,{placement:Un,boundary:Gr,rootBoundary:Vr,altBoundary:nn,padding:Kr}),zn=Vn?Yn?Zr:yr:Yn?br:vr;gn[Zn]>an[Zn]&&(zn=fs(zn));var Xn=fs(zn),_i=[];if(pr&&_i.push(qn[Gn]<=0),Wr&&_i.push(qn[zn]<=0,qn[Xn]<=0),_i.every(function(Rn){return Rn})){Mn=Un,_n=!1;break}un.set(Un,_i)}if(_n)for(var is=function(Rn){var Kn=on.find(function(Qn){var ga=un.get(Qn);if(ga)return ga.slice(0,Rn).every(function(_s){return _s})});if(Kn)return Mn=Kn,"break"},Hn=Xr?3:1;Hn>0&&is(Hn)!=="break";Hn--);Mt.placement!==Mn&&(Mt.modifiersData[Xt]._skip=!0,Mt.placement=Mn,Mt.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Qs(Zt,Mt,Ht){return Ht===void 0&&(Ht={x:0,y:0}),{top:Zt.top-Mt.height-Ht.y,right:Zt.right-Mt.width+Ht.x,bottom:Zt.bottom-Mt.height+Ht.y,left:Zt.left-Mt.width-Ht.x}}function Js(Zt){return[vr,Zr,br,yr].some(function(Mt){return Zt[Mt]>=0})}const Ys={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(Zt){var Mt=Zt.state,Ht=Zt.name,Xt=Mt.rects.reference,hr=Mt.rects.popper,pr=Mt.modifiersData.preventOverflow,_r=ns(Mt,{elementContext:"reference"}),Wr=ns(Mt,{altBoundary:!0}),zr=Qs(_r,Xt),Kr=Qs(Wr,hr,pr),Gr=Js(zr),Vr=Js(Kr);Mt.modifiersData[Ht]={referenceClippingOffsets:zr,popperEscapeOffsets:Kr,isReferenceHidden:Gr,hasPopperEscaped:Vr},Mt.attributes.popper=Object.assign({},Mt.attributes.popper,{"data-popper-reference-hidden":Gr,"data-popper-escaped":Vr})}},Xs={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(Zt){var Mt=Zt.state,Ht=Zt.options,Xt=Zt.name,hr=Ht.offset,pr=hr===void 0?[0,0]:hr,_r=Nr.reduce(function(Gr,Vr){return Gr[Vr]=function(nn,Jr,Xr){var Yr=sn(nn),tn=[yr,vr].indexOf(Yr)>=0?-1:1,An=typeof Xr=="function"?Xr(Object.assign({},Jr,{placement:nn})):Xr,On=An[0],on=An[1];return On=On||0,on=(on||0)*tn,[yr,Zr].indexOf(Yr)>=0?{x:on,y:On}:{x:On,y:on}}(Vr,Mt.rects,pr),Gr},{}),Wr=_r[Mt.placement],zr=Wr.x,Kr=Wr.y;Mt.modifiersData.popperOffsets!=null&&(Mt.modifiersData.popperOffsets.x+=zr,Mt.modifiersData.popperOffsets.y+=Kr),Mt.modifiersData[Xt]=_r}},Rs={name:"popperOffsets",enabled:!0,phase:"read",fn:function(Zt){var Mt=Zt.state,Ht=Zt.name;Mt.modifiersData[Ht]=Gs({reference:Mt.rects.reference,element:Mt.rects.popper,strategy:"absolute",placement:Mt.placement})},data:{}},eo={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Zt){var Mt=Zt.state,Ht=Zt.options,Xt=Zt.name,hr=Ht.mainAxis,pr=hr===void 0||hr,_r=Ht.altAxis,Wr=_r!==void 0&&_r,zr=Ht.boundary,Kr=Ht.rootBoundary,Gr=Ht.altBoundary,Vr=Ht.padding,nn=Ht.tether,Jr=nn===void 0||nn,Xr=Ht.tetherOffset,Yr=Xr===void 0?0:Xr,tn=ns(Mt,{boundary:zr,rootBoundary:Kr,padding:Vr,altBoundary:Gr}),An=sn(Mt.placement),On=rs(Mt.placement),on=!On,gn=jn(An),an=gn==="x"?"y":"x",un=Mt.modifiersData.popperOffsets,_n=Mt.rects.reference,Mn=Mt.rects.popper,En=typeof Yr=="function"?Yr(Object.assign({},Mt.rects,{placement:Mt.placement})):Yr,Un=typeof En=="number"?{mainAxis:En,altAxis:En}:Object.assign({mainAxis:0,altAxis:0},En),Gn=Mt.modifiersData.offset?Mt.modifiersData.offset[Mt.placement]:null,Yn={x:0,y:0};if(un){if(pr){var Vn,Zn=gn==="y"?vr:yr,qn=gn==="y"?br:Zr,zn=gn==="y"?"height":"width",Xn=un[gn],_i=Xn+tn[Zn],is=Xn-tn[qn],Hn=Jr?-Mn[zn]/2:0,Rn=On===Mr?_n[zn]:Mn[zn],Kn=On===Mr?-Mn[zn]:-_n[zn],Qn=Mt.elements.arrow,ga=Jr&&Qn?kn(Qn):{width:0,height:0},_s=Mt.modifiersData["arrow#persistent"]?Mt.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Uo=_s[Zn],jo=_s[qn],Es=Ln(0,_n[zn],ga[zn]),pu=on?_n[zn]/2-Hn-Es-Uo-Un.mainAxis:Rn-Es-Uo-Un.mainAxis,mu=on?-_n[zn]/2+Hn+Es+jo+Un.mainAxis:Kn+Es+jo+Un.mainAxis,Ds=Mt.elements.arrow&&Fn(Mt.elements.arrow),yu=Ds?gn==="y"?Ds.clientTop||0:Ds.clientLeft||0:0,Wo=(Vn=Gn==null?void 0:Gn[gn])!=null?Vn:0,gu=Xn+mu-Wo,Ho=Ln(Jr?fn(_i,Xn+pu-Wo-yu):_i,Xn,Jr?cn(is,gu):is);un[gn]=Ho,Yn[gn]=Ho-Xn}if(Wr){var zo,vu=gn==="x"?vr:yr,bu=gn==="x"?br:Zr,ts=un[an],Ss=an==="y"?"height":"width",Vo=ts+tn[vu],qo=ts-tn[bu],Ls=[vr,yr].indexOf(An)!==-1,Ko=(zo=Gn==null?void 0:Gn[an])!=null?zo:0,Go=Ls?Vo:ts-_n[Ss]-Mn[Ss]-Ko+Un.altAxis,Zo=Ls?ts+_n[Ss]+Mn[Ss]-Ko-Un.altAxis:qo,Qo=Jr&&Ls?function(xu,wu,Us){var Jo=Ln(xu,wu,Us);return Jo>Us?Us:Jo}(Go,ts,Zo):Ln(Jr?Go:Vo,ts,Jr?Zo:qo);un[an]=Qo,Yn[an]=Qo-ts}Mt.modifiersData[Xt]=Yn}},requiresIfExists:["offset"]};function El(Zt,Mt,Ht){Ht===void 0&&(Ht=!1);var Xt,hr,pr=jr(Mt),_r=jr(Mt)&&function(Vr){var nn=Vr.getBoundingClientRect(),Jr=ln(nn.width)/Vr.offsetWidth||1,Xr=ln(nn.height)/Vr.offsetHeight||1;return Jr!==1||Xr!==1}(Mt),Wr=yn(Mt),zr=vn(Zt,_r,Ht),Kr={scrollLeft:0,scrollTop:0},Gr={x:0,y:0};return(pr||!pr&&!Ht)&&((Ar(Mt)!=="body"||$s(Wr))&&(Kr=(Xt=Mt)!==Tr(Xt)&&jr(Xt)?{scrollLeft:(hr=Xt).scrollLeft,scrollTop:hr.scrollTop}:As(Xt)),jr(Mt)?((Gr=vn(Mt,!0)).x+=Mt.clientLeft,Gr.y+=Mt.clientTop):Wr&&(Gr.x=Ms(Wr))),{x:zr.left+Kr.scrollLeft-Gr.x,y:zr.top+Kr.scrollTop-Gr.y,width:zr.width,height:zr.height}}function Sl(Zt){var Mt=new Map,Ht=new Set,Xt=[];function hr(pr){Ht.add(pr.name),[].concat(pr.requires||[],pr.requiresIfExists||[]).forEach(function(_r){if(!Ht.has(_r)){var Wr=Mt.get(_r);Wr&&hr(Wr)}}),Xt.push(pr)}return Zt.forEach(function(pr){Mt.set(pr.name,pr)}),Zt.forEach(function(pr){Ht.has(pr.name)||hr(pr)}),Xt}var to={placement:"bottom",modifiers:[],strategy:"absolute"};function ro(){for(var Zt=arguments.length,Mt=new Array(Zt),Ht=0;Ht<Zt;Ht++)Mt[Ht]=arguments[Ht];return!Mt.some(function(Xt){return!(Xt&&typeof Xt.getBoundingClientRect=="function")})}function hs(Zt){Zt===void 0&&(Zt={});var Mt=Zt,Ht=Mt.defaultModifiers,Xt=Ht===void 0?[]:Ht,hr=Mt.defaultOptions,pr=hr===void 0?to:hr;return function(_r,Wr,zr){zr===void 0&&(zr=pr);var Kr,Gr,Vr={placement:"bottom",orderedModifiers:[],options:Object.assign({},to,pr),modifiersData:{},elements:{reference:_r,popper:Wr},attributes:{},styles:{}},nn=[],Jr=!1,Xr={state:Vr,setOptions:function(tn){var An=typeof tn=="function"?tn(Vr.options):tn;Yr(),Vr.options=Object.assign({},pr,Vr.options,An),Vr.scrollParents={reference:pn(_r)?as(_r):_r.contextElement?as(_r.contextElement):[],popper:as(Wr)};var On,on,gn=function(an){var un=Sl(an);return In.reduce(function(_n,Mn){return _n.concat(un.filter(function(En){return En.phase===Mn}))},[])}((On=[].concat(Xt,Vr.options.modifiers),on=On.reduce(function(an,un){var _n=an[un.name];return an[un.name]=_n?Object.assign({},_n,un,{options:Object.assign({},_n.options,un.options),data:Object.assign({},_n.data,un.data)}):un,an},{}),Object.keys(on).map(function(an){return on[an]})));return Vr.orderedModifiers=gn.filter(function(an){return an.enabled}),Vr.orderedModifiers.forEach(function(an){var un=an.name,_n=an.options,Mn=_n===void 0?{}:_n,En=an.effect;if(typeof En=="function"){var Un=En({state:Vr,name:un,instance:Xr,options:Mn});nn.push(Un||function(){})}}),Xr.update()},forceUpdate:function(){if(!Jr){var tn=Vr.elements,An=tn.reference,On=tn.popper;if(ro(An,On)){Vr.rects={reference:El(An,Fn(On),Vr.options.strategy==="fixed"),popper:kn(On)},Vr.reset=!1,Vr.placement=Vr.options.placement,Vr.orderedModifiers.forEach(function(En){return Vr.modifiersData[En.name]=Object.assign({},En.data)});for(var on=0;on<Vr.orderedModifiers.length;on++)if(Vr.reset!==!0){var gn=Vr.orderedModifiers[on],an=gn.fn,un=gn.options,_n=un===void 0?{}:un,Mn=gn.name;typeof an=="function"&&(Vr=an({state:Vr,options:_n,name:Mn,instance:Xr})||Vr)}else Vr.reset=!1,on=-1}}},update:(Kr=function(){return new Promise(function(tn){Xr.forceUpdate(),tn(Vr)})},function(){return Gr||(Gr=new Promise(function(tn){Promise.resolve().then(function(){Gr=void 0,tn(Kr())})})),Gr}),destroy:function(){Yr(),Jr=!0}};if(!ro(_r,Wr))return Xr;function Yr(){nn.forEach(function(tn){return tn()}),nn=[]}return Xr.setOptions(zr).then(function(tn){!Jr&&zr.onFirstUpdate&&zr.onFirstUpdate(tn)}),Xr}}var Tl=hs(),Cl=hs({defaultModifiers:[Cs,Rs,Ts,mn]}),Is=hs({defaultModifiers:[Cs,Rs,Ts,mn,Xs,Zs,eo,Hs,Ys]});const no=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator:hs,detectOverflow:ns,createPopperBase:Tl,createPopper:Is,createPopperLite:Cl,top:vr,bottom:br,right:Zr,left:yr,auto:Rr,basePlacements:dn,start:Mr,end:$r,clippingParents:Sn,viewport:Ir,popper:kr,reference:xn,variationPlacements:Pr,placements:Nr,beforeRead:wn,read:Fr,afterRead:Or,beforeMain:rn,main:Cr,afterMain:Br,beforeWrite:Tn,write:Dr,afterWrite:Lr,modifierPhases:In,applyStyles:mn,arrow:Hs,computeStyles:Ts,eventListeners:Cs,flip:Zs,hide:Ys,offset:Xs,popperOffsets:Rs,preventOverflow:eo},Symbol.toStringTag,{value:"Module"})),io="dropdown",Al="ArrowUp",ao="ArrowDown",so="click.bs.dropdown.data-api",oo="keydown.bs.dropdown.data-api",ss="show",ba='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ml=`${ba}.show`,ps=".dropdown-menu",$l=Tt()?"top-end":"top-start",Rl=Tt()?"top-start":"top-end",Il=Tt()?"bottom-end":"bottom-start",Pl=Tt()?"bottom-start":"bottom-end",Nl=Tt()?"left-start":"right-start",Ol=Tt()?"right-start":"left-start",Bl={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Fl={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Jn extends Yt{constructor(Mt,Ht){super(Mt,Ht),this._popper=null,this._parent=this._element.parentNode,this._menu=Ur.next(this._element,ps)[0]||Ur.prev(this._element,ps)[0]||Ur.findOne(ps,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Bl}static get DefaultType(){return Fl}static get NAME(){return io}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ft(this._element)||this._isShown())return;const Mt={relatedTarget:this._element};if(!St.trigger(this._element,"show.bs.dropdown",Mt).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const Ht of[].concat(...document.body.children))St.on(Ht,"mouseover",_t);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ss),this._element.classList.add(ss),St.trigger(this._element,"shown.bs.dropdown",Mt)}}hide(){if(ft(this._element)||!this._isShown())return;const Mt={relatedTarget:this._element};this._completeHide(Mt)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(Mt){if(!St.trigger(this._element,"hide.bs.dropdown",Mt).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Ht of[].concat(...document.body.children))St.off(Ht,"mouseover",_t);this._popper&&this._popper.destroy(),this._menu.classList.remove(ss),this._element.classList.remove(ss),this._element.setAttribute("aria-expanded","false"),qt.removeDataAttribute(this._menu,"popper"),St.trigger(this._element,"hidden.bs.dropdown",Mt)}}_getConfig(Mt){if(typeof(Mt=super._getConfig(Mt)).reference=="object"&&!st(Mt.reference)&&typeof Mt.reference.getBoundingClientRect!="function")throw new TypeError(`${io.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return Mt}_createPopper(){if(no===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let Mt=this._element;this._config.reference==="parent"?Mt=this._parent:st(this._config.reference)?Mt=ct(this._config.reference):typeof this._config.reference=="object"&&(Mt=this._config.reference);const Ht=this._getPopperConfig();this._popper=Is(Mt,this._menu,Ht)}_isShown(){return this._menu.classList.contains(ss)}_getPlacement(){const Mt=this._parent;if(Mt.classList.contains("dropend"))return Nl;if(Mt.classList.contains("dropstart"))return Ol;if(Mt.classList.contains("dropup-center"))return"top";if(Mt.classList.contains("dropdown-center"))return"bottom";const Ht=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return Mt.classList.contains("dropup")?Ht?Rl:$l:Ht?Pl:Il}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:Mt}=this._config;return typeof Mt=="string"?Mt.split(",").map(Ht=>Number.parseInt(Ht,10)):typeof Mt=="function"?Ht=>Mt(Ht,this._element):Mt}_getPopperConfig(){const Mt={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(qt.setDataAttribute(this._menu,"popper","static"),Mt.modifiers=[{name:"applyStyles",enabled:!1}]),{...Mt,...typeof this._config.popperConfig=="function"?this._config.popperConfig(Mt):this._config.popperConfig}}_selectMenuItem({key:Mt,target:Ht}){const Xt=Ur.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(hr=>ut(hr));Xt.length&&Ot(Xt,Ht,Mt===ao,!Xt.includes(Ht)).focus()}static jQueryInterface(Mt){return this.each(function(){const Ht=Jn.getOrCreateInstance(this,Mt);if(typeof Mt=="string"){if(Ht[Mt]===void 0)throw new TypeError(`No method named "${Mt}"`);Ht[Mt]()}})}static clearMenus(Mt){if(Mt.button===2||Mt.type==="keyup"&&Mt.key!=="Tab")return;const Ht=Ur.find(Ml);for(const Xt of Ht){const hr=Jn.getInstance(Xt);if(!hr||hr._config.autoClose===!1)continue;const pr=Mt.composedPath(),_r=pr.includes(hr._menu);if(pr.includes(hr._element)||hr._config.autoClose==="inside"&&!_r||hr._config.autoClose==="outside"&&_r||hr._menu.contains(Mt.target)&&(Mt.type==="keyup"&&Mt.key==="Tab"||/input|select|option|textarea|form/i.test(Mt.target.tagName)))continue;const Wr={relatedTarget:hr._element};Mt.type==="click"&&(Wr.clickEvent=Mt),hr._completeHide(Wr)}}static dataApiKeydownHandler(Mt){const Ht=/input|textarea/i.test(Mt.target.tagName),Xt=Mt.key==="Escape",hr=[Al,ao].includes(Mt.key);if(!hr&&!Xt||Ht&&!Xt)return;Mt.preventDefault();const pr=this.matches(ba)?this:Ur.prev(this,ba)[0]||Ur.next(this,ba)[0]||Ur.findOne(ba,Mt.delegateTarget.parentNode),_r=Jn.getOrCreateInstance(pr);if(hr)return Mt.stopPropagation(),_r.show(),void _r._selectMenuItem(Mt);_r._isShown()&&(Mt.stopPropagation(),_r.hide(),pr.focus())}}St.on(document,oo,ba,Jn.dataApiKeydownHandler),St.on(document,oo,ps,Jn.dataApiKeydownHandler),St.on(document,so,Jn.clearMenus),St.on(document,"keyup.bs.dropdown.data-api",Jn.clearMenus),St.on(document,so,ba,function(Zt){Zt.preventDefault(),Jn.getOrCreateInstance(this).toggle()}),At(Jn);const co=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",lo=".sticky-top",ms="padding-right",uo="margin-right";class Ps{constructor(){this._element=document.body}getWidth(){const Mt=document.documentElement.clientWidth;return Math.abs(window.innerWidth-Mt)}hide(){const Mt=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ms,Ht=>Ht+Mt),this._setElementAttributes(co,ms,Ht=>Ht+Mt),this._setElementAttributes(lo,uo,Ht=>Ht-Mt)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ms),this._resetElementAttributes(co,ms),this._resetElementAttributes(lo,uo)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(Mt,Ht,Xt){const hr=this.getWidth();this._applyManipulationCallback(Mt,pr=>{if(pr!==this._element&&window.innerWidth>pr.clientWidth+hr)return;this._saveInitialAttribute(pr,Ht);const _r=window.getComputedStyle(pr).getPropertyValue(Ht);pr.style.setProperty(Ht,`${Xt(Number.parseFloat(_r))}px`)})}_saveInitialAttribute(Mt,Ht){const Xt=Mt.style.getPropertyValue(Ht);Xt&&qt.setDataAttribute(Mt,Ht,Xt)}_resetElementAttributes(Mt,Ht){this._applyManipulationCallback(Mt,Xt=>{const hr=qt.getDataAttribute(Xt,Ht);hr!==null?(qt.removeDataAttribute(Xt,Ht),Xt.style.setProperty(Ht,hr)):Xt.style.removeProperty(Ht)})}_applyManipulationCallback(Mt,Ht){if(st(Mt))Ht(Mt);else for(const Xt of Ur.find(Mt,this._element))Ht(Xt)}}const fo="show",ho="mousedown.bs.backdrop",Dl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ll={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class po extends ir{constructor(Mt){super(),this._config=this._getConfig(Mt),this._isAppended=!1,this._element=null}static get Default(){return Dl}static get DefaultType(){return Ll}static get NAME(){return"backdrop"}show(Mt){if(!this._config.isVisible)return void Rt(Mt);this._append();const Ht=this._getElement();this._config.isAnimated&&Et(Ht),Ht.classList.add(fo),this._emulateAnimation(()=>{Rt(Mt)})}hide(Mt){this._config.isVisible?(this._getElement().classList.remove(fo),this._emulateAnimation(()=>{this.dispose(),Rt(Mt)})):Rt(Mt)}dispose(){this._isAppended&&(St.off(this._element,ho),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const Mt=document.createElement("div");Mt.className=this._config.className,this._config.isAnimated&&Mt.classList.add("fade"),this._element=Mt}return this._element}_configAfterMerge(Mt){return Mt.rootElement=ct(Mt.rootElement),Mt}_append(){if(this._isAppended)return;const Mt=this._getElement();this._config.rootElement.append(Mt),St.on(Mt,ho,()=>{Rt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(Mt){kt(Mt,this._getElement(),this._config.isAnimated)}}const mo=".bs.focustrap",yo="backward",Ul={autofocus:!0,trapElement:null},Wl={autofocus:"boolean",trapElement:"element"};class go extends ir{constructor(Mt){super(),this._config=this._getConfig(Mt),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ul}static get DefaultType(){return Wl}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),St.off(document,mo),St.on(document,"focusin.bs.focustrap",Mt=>this._handleFocusin(Mt)),St.on(document,"keydown.tab.bs.focustrap",Mt=>this._handleKeydown(Mt)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,St.off(document,mo))}_handleFocusin(Mt){const{trapElement:Ht}=this._config;if(Mt.target===document||Mt.target===Ht||Ht.contains(Mt.target))return;const Xt=Ur.focusableChildren(Ht);Xt.length===0?Ht.focus():this._lastTabNavDirection===yo?Xt[Xt.length-1].focus():Xt[0].focus()}_handleKeydown(Mt){Mt.key==="Tab"&&(this._lastTabNavDirection=Mt.shiftKey?yo:"forward")}}const vo="hidden.bs.modal",bo="show.bs.modal",xo="modal-open",wo="show",Ns="modal-static",Hl={backdrop:!0,focus:!0,keyboard:!0},zl={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class xa extends Yt{constructor(Mt,Ht){super(Mt,Ht),this._dialog=Ur.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ps,this._addEventListeners()}static get Default(){return Hl}static get DefaultType(){return zl}static get NAME(){return"modal"}toggle(Mt){return this._isShown?this.hide():this.show(Mt)}show(Mt){this._isShown||this._isTransitioning||St.trigger(this._element,bo,{relatedTarget:Mt}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(xo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(Mt)))}hide(){this._isShown&&!this._isTransitioning&&(St.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(wo),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const Mt of[window,this._dialog])St.off(Mt,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new po({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new go({trapElement:this._element})}_showElement(Mt){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Ht=Ur.findOne(".modal-body",this._dialog);Ht&&(Ht.scrollTop=0),Et(this._element),this._element.classList.add(wo),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,St.trigger(this._element,"shown.bs.modal",{relatedTarget:Mt})},this._dialog,this._isAnimated())}_addEventListeners(){St.on(this._element,"keydown.dismiss.bs.modal",Mt=>{if(Mt.key==="Escape")return this._config.keyboard?(Mt.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),St.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),St.on(this._element,"mousedown.dismiss.bs.modal",Mt=>{St.one(this._element,"click.dismiss.bs.modal",Ht=>{this._element===Mt.target&&this._element===Ht.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(xo),this._resetAdjustments(),this._scrollBar.reset(),St.trigger(this._element,vo)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(St.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const Mt=this._element.scrollHeight>document.documentElement.clientHeight,Ht=this._element.style.overflowY;Ht==="hidden"||this._element.classList.contains(Ns)||(Mt||(this._element.style.overflowY="hidden"),this._element.classList.add(Ns),this._queueCallback(()=>{this._element.classList.remove(Ns),this._queueCallback(()=>{this._element.style.overflowY=Ht},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const Mt=this._element.scrollHeight>document.documentElement.clientHeight,Ht=this._scrollBar.getWidth(),Xt=Ht>0;if(Xt&&!Mt){const hr=Tt()?"paddingLeft":"paddingRight";this._element.style[hr]=`${Ht}px`}if(!Xt&&Mt){const hr=Tt()?"paddingRight":"paddingLeft";this._element.style[hr]=`${Ht}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(Mt,Ht){return this.each(function(){const Xt=xa.getOrCreateInstance(this,Mt);if(typeof Mt=="string"){if(Xt[Mt]===void 0)throw new TypeError(`No method named "${Mt}"`);Xt[Mt](Ht)}})}}St.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(Zt){const Mt=it(this);["A","AREA"].includes(this.tagName)&&Zt.preventDefault(),St.one(Mt,bo,Xt=>{Xt.defaultPrevented||St.one(Mt,vo,()=>{ut(this)&&this.focus()})});const Ht=Ur.findOne(".modal.show");Ht&&xa.getInstance(Ht).hide(),xa.getOrCreateInstance(Mt).toggle(this)}),rr(xa),At(xa);const _o="show",Eo="showing",So="hiding",To=".offcanvas.show",Co="hidePrevented.bs.offcanvas",Ao="hidden.bs.offcanvas",Vl={backdrop:!0,keyboard:!0,scroll:!1},Kl={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class na extends Yt{constructor(Mt,Ht){super(Mt,Ht),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Vl}static get DefaultType(){return Kl}static get NAME(){return"offcanvas"}toggle(Mt){return this._isShown?this.hide():this.show(Mt)}show(Mt){this._isShown||St.trigger(this._element,"show.bs.offcanvas",{relatedTarget:Mt}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ps().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Eo),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(_o),this._element.classList.remove(Eo),St.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:Mt})},this._element,!0))}hide(){this._isShown&&(St.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(So),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(_o,So),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ps().reset(),St.trigger(this._element,Ao)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const Mt=Boolean(this._config.backdrop);return new po({className:"offcanvas-backdrop",isVisible:Mt,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:Mt?()=>{this._config.backdrop!=="static"?this.hide():St.trigger(this._element,Co)}:null})}_initializeFocusTrap(){return new go({trapElement:this._element})}_addEventListeners(){St.on(this._element,"keydown.dismiss.bs.offcanvas",Mt=>{Mt.key==="Escape"&&(this._config.keyboard?this.hide():St.trigger(this._element,Co))})}static jQueryInterface(Mt){return this.each(function(){const Ht=na.getOrCreateInstance(this,Mt);if(typeof Mt=="string"){if(Ht[Mt]===void 0||Mt.startsWith("_")||Mt==="constructor")throw new TypeError(`No method named "${Mt}"`);Ht[Mt](this)}})}}St.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(Zt){const Mt=it(this);if(["A","AREA"].includes(this.tagName)&&Zt.preventDefault(),ft(this))return;St.one(Mt,Ao,()=>{ut(this)&&this.focus()});const Ht=Ur.findOne(To);Ht&&Ht!==Mt&&na.getInstance(Ht).hide(),na.getOrCreateInstance(Mt).toggle(this)}),St.on(window,"load.bs.offcanvas.data-api",()=>{for(const Zt of Ur.find(To))na.getOrCreateInstance(Zt).show()}),St.on(window,"resize.bs.offcanvas",()=>{for(const Zt of Ur.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(Zt).position!=="fixed"&&na.getOrCreateInstance(Zt).hide()}),rr(na),At(na);const Gl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Zl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ql=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Jl=(Zt,Mt)=>{const Ht=Zt.nodeName.toLowerCase();return Mt.includes(Ht)?!Gl.has(Ht)||Boolean(Zl.test(Zt.nodeValue)||Ql.test(Zt.nodeValue)):Mt.filter(Xt=>Xt instanceof RegExp).some(Xt=>Xt.test(Ht))},Mo={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Yl={allowList:Mo,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Xl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},eu={entry:"(string|element|function|null)",selector:"(string|element)"};class tu extends ir{constructor(Mt){super(),this._config=this._getConfig(Mt)}static get Default(){return Yl}static get DefaultType(){return Xl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(Mt=>this._resolvePossibleFunction(Mt)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(Mt){return this._checkContent(Mt),this._config.content={...this._config.content,...Mt},this}toHtml(){const Mt=document.createElement("div");Mt.innerHTML=this._maybeSanitize(this._config.template);for(const[hr,pr]of Object.entries(this._config.content))this._setContent(Mt,pr,hr);const Ht=Mt.children[0],Xt=this._resolvePossibleFunction(this._config.extraClass);return Xt&&Ht.classList.add(...Xt.split(" ")),Ht}_typeCheckConfig(Mt){super._typeCheckConfig(Mt),this._checkContent(Mt.content)}_checkContent(Mt){for(const[Ht,Xt]of Object.entries(Mt))super._typeCheckConfig({selector:Ht,entry:Xt},eu)}_setContent(Mt,Ht,Xt){const hr=Ur.findOne(Xt,Mt);hr&&((Ht=this._resolvePossibleFunction(Ht))?st(Ht)?this._putElementInTemplate(ct(Ht),hr):this._config.html?hr.innerHTML=this._maybeSanitize(Ht):hr.textContent=Ht:hr.remove())}_maybeSanitize(Mt){return this._config.sanitize?function(Ht,Xt,hr){if(!Ht.length)return Ht;if(hr&&typeof hr=="function")return hr(Ht);const pr=new window.DOMParser().parseFromString(Ht,"text/html"),_r=[].concat(...pr.body.querySelectorAll("*"));for(const Wr of _r){const zr=Wr.nodeName.toLowerCase();if(!Object.keys(Xt).includes(zr)){Wr.remove();continue}const Kr=[].concat(...Wr.attributes),Gr=[].concat(Xt["*"]||[],Xt[zr]||[]);for(const Vr of Kr)Jl(Vr,Gr)||Wr.removeAttribute(Vr.nodeName)}return pr.body.innerHTML}(Mt,this._config.allowList,this._config.sanitizeFn):Mt}_resolvePossibleFunction(Mt){return typeof Mt=="function"?Mt(this):Mt}_putElementInTemplate(Mt,Ht){if(this._config.html)return Ht.innerHTML="",void Ht.append(Mt);Ht.textContent=Mt.textContent}}const ru=new Set(["sanitize","allowList","sanitizeFn"]),Os="fade",ys="show",$o=".modal",Ro="hide.bs.modal",gs="hover",Io="focus",nu={AUTO:"auto",TOP:"top",RIGHT:Tt()?"left":"right",BOTTOM:"bottom",LEFT:Tt()?"right":"left"},iu={allowList:Mo,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},au={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class _a extends Yt{constructor(Mt,Ht){if(no===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(Mt,Ht),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return iu}static get DefaultType(){return au}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),St.off(this._element.closest($o),Ro,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const Mt=St.trigger(this._element,this.constructor.eventName("show")),Ht=(gt(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(Mt.defaultPrevented||!Ht)return;this._disposePopper();const Xt=this._getTipElement();this._element.setAttribute("aria-describedby",Xt.getAttribute("id"));const{container:hr}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(hr.append(Xt),St.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(Xt),Xt.classList.add(ys),"ontouchstart"in document.documentElement)for(const pr of[].concat(...document.body.children))St.on(pr,"mouseover",_t);this._queueCallback(()=>{St.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!St.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ys),"ontouchstart"in document.documentElement)for(const Mt of[].concat(...document.body.children))St.off(Mt,"mouseover",_t);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),St.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(Mt){const Ht=this._getTemplateFactory(Mt).toHtml();if(!Ht)return null;Ht.classList.remove(Os,ys),Ht.classList.add(`bs-${this.constructor.NAME}-auto`);const Xt=(hr=>{do hr+=Math.floor(1e6*Math.random());while(document.getElementById(hr));return hr})(this.constructor.NAME).toString();return Ht.setAttribute("id",Xt),this._isAnimated()&&Ht.classList.add(Os),Ht}setContent(Mt){this._newContent=Mt,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(Mt){return this._templateFactory?this._templateFactory.changeContent(Mt):this._templateFactory=new tu({...this._config,content:Mt,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(Mt){return this.constructor.getOrCreateInstance(Mt.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Os)}_isShown(){return this.tip&&this.tip.classList.contains(ys)}_createPopper(Mt){const Ht=typeof this._config.placement=="function"?this._config.placement.call(this,Mt,this._element):this._config.placement,Xt=nu[Ht.toUpperCase()];return Is(this._element,Mt,this._getPopperConfig(Xt))}_getOffset(){const{offset:Mt}=this._config;return typeof Mt=="string"?Mt.split(",").map(Ht=>Number.parseInt(Ht,10)):typeof Mt=="function"?Ht=>Mt(Ht,this._element):Mt}_resolvePossibleFunction(Mt){return typeof Mt=="function"?Mt.call(this._element):Mt}_getPopperConfig(Mt){const Ht={placement:Mt,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Xt=>{this._getTipElement().setAttribute("data-popper-placement",Xt.state.placement)}}]};return{...Ht,...typeof this._config.popperConfig=="function"?this._config.popperConfig(Ht):this._config.popperConfig}}_setListeners(){const Mt=this._config.trigger.split(" ");for(const Ht of Mt)if(Ht==="click")St.on(this._element,this.constructor.eventName("click"),this._config.selector,Xt=>{this._initializeOnDelegatedTarget(Xt).toggle()});else if(Ht!=="manual"){const Xt=Ht===gs?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),hr=Ht===gs?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");St.on(this._element,Xt,this._config.selector,pr=>{const _r=this._initializeOnDelegatedTarget(pr);_r._activeTrigger[pr.type==="focusin"?Io:gs]=!0,_r._enter()}),St.on(this._element,hr,this._config.selector,pr=>{const _r=this._initializeOnDelegatedTarget(pr);_r._activeTrigger[pr.type==="focusout"?Io:gs]=_r._element.contains(pr.relatedTarget),_r._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},St.on(this._element.closest($o),Ro,this._hideModalHandler)}_fixTitle(){const Mt=this._element.getAttribute("title");Mt&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",Mt),this._element.setAttribute("data-bs-original-title",Mt),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(Mt,Ht){clearTimeout(this._timeout),this._timeout=setTimeout(Mt,Ht)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(Mt){const Ht=qt.getDataAttributes(this._element);for(const Xt of Object.keys(Ht))ru.has(Xt)&&delete Ht[Xt];return Mt={...Ht,...typeof Mt=="object"&&Mt?Mt:{}},Mt=this._mergeConfigObj(Mt),Mt=this._configAfterMerge(Mt),this._typeCheckConfig(Mt),Mt}_configAfterMerge(Mt){return Mt.container=Mt.container===!1?document.body:ct(Mt.container),typeof Mt.delay=="number"&&(Mt.delay={show:Mt.delay,hide:Mt.delay}),typeof Mt.title=="number"&&(Mt.title=Mt.title.toString()),typeof Mt.content=="number"&&(Mt.content=Mt.content.toString()),Mt}_getDelegateConfig(){const Mt={};for(const Ht in this._config)this.constructor.Default[Ht]!==this._config[Ht]&&(Mt[Ht]=this._config[Ht]);return Mt.selector=!1,Mt.trigger="manual",Mt}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(Mt){return this.each(function(){const Ht=_a.getOrCreateInstance(this,Mt);if(typeof Mt=="string"){if(Ht[Mt]===void 0)throw new TypeError(`No method named "${Mt}"`);Ht[Mt]()}})}}At(_a);const su={..._a.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ou={..._a.DefaultType,content:"(null|string|element|function)"};class vs extends _a{static get Default(){return su}static get DefaultType(){return ou}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(Mt){return this.each(function(){const Ht=vs.getOrCreateInstance(this,Mt);if(typeof Mt=="string"){if(Ht[Mt]===void 0)throw new TypeError(`No method named "${Mt}"`);Ht[Mt]()}})}}At(vs);const Po="click.bs.scrollspy",os="active",No="[href]",cu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},lu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ls extends Yt{constructor(Mt,Ht){super(Mt,Ht),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return cu}static get DefaultType(){return lu}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const Mt of this._observableSections.values())this._observer.observe(Mt)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(Mt){return Mt.target=ct(Mt.target)||document.body,Mt.rootMargin=Mt.offset?`${Mt.offset}px 0px -30%`:Mt.rootMargin,typeof Mt.threshold=="string"&&(Mt.threshold=Mt.threshold.split(",").map(Ht=>Number.parseFloat(Ht))),Mt}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(St.off(this._config.target,Po),St.on(this._config.target,Po,No,Mt=>{const Ht=this._observableSections.get(Mt.target.hash);if(Ht){Mt.preventDefault();const Xt=this._rootElement||window,hr=Ht.offsetTop-this._element.offsetTop;if(Xt.scrollTo)return void Xt.scrollTo({top:hr,behavior:"smooth"});Xt.scrollTop=hr}}))}_getNewObserver(){const Mt={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(Ht=>this._observerCallback(Ht),Mt)}_observerCallback(Mt){const Ht=_r=>this._targetLinks.get(`#${_r.target.id}`),Xt=_r=>{this._previousScrollData.visibleEntryTop=_r.target.offsetTop,this._process(Ht(_r))},hr=(this._rootElement||document.documentElement).scrollTop,pr=hr>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=hr;for(const _r of Mt){if(!_r.isIntersecting){this._activeTarget=null,this._clearActiveClass(Ht(_r));continue}const Wr=_r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(pr&&Wr){if(Xt(_r),!hr)return}else pr||Wr||Xt(_r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const Mt=Ur.find(No,this._config.target);for(const Ht of Mt){if(!Ht.hash||ft(Ht))continue;const Xt=Ur.findOne(Ht.hash,this._element);ut(Xt)&&(this._targetLinks.set(Ht.hash,Ht),this._observableSections.set(Ht.hash,Xt))}}_process(Mt){this._activeTarget!==Mt&&(this._clearActiveClass(this._config.target),this._activeTarget=Mt,Mt.classList.add(os),this._activateParents(Mt),St.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:Mt}))}_activateParents(Mt){if(Mt.classList.contains("dropdown-item"))Ur.findOne(".dropdown-toggle",Mt.closest(".dropdown")).classList.add(os);else for(const Ht of Ur.parents(Mt,".nav, .list-group"))for(const Xt of Ur.prev(Ht,".nav-link, .nav-item > .nav-link, .list-group-item"))Xt.classList.add(os)}_clearActiveClass(Mt){Mt.classList.remove(os);const Ht=Ur.find("[href].active",Mt);for(const Xt of Ht)Xt.classList.remove(os)}static jQueryInterface(Mt){return this.each(function(){const Ht=ls.getOrCreateInstance(this,Mt);if(typeof Mt=="string"){if(Ht[Mt]===void 0||Mt.startsWith("_")||Mt==="constructor")throw new TypeError(`No method named "${Mt}"`);Ht[Mt]()}})}}St.on(window,"load.bs.scrollspy.data-api",()=>{for(const Zt of Ur.find('[data-bs-spy="scroll"]'))ls.getOrCreateInstance(Zt)}),At(ls);const uu="ArrowLeft",Oo="ArrowRight",du="ArrowUp",Bo="ArrowDown",bs="active",Fo="fade",Bs="show",Do='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Fs=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${Do}`;class $a extends Yt{constructor(Mt){super(Mt),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),St.on(this._element,"keydown.bs.tab",Ht=>this._keydown(Ht)))}static get NAME(){return"tab"}show(){const Mt=this._element;if(this._elemIsActive(Mt))return;const Ht=this._getActiveElem(),Xt=Ht?St.trigger(Ht,"hide.bs.tab",{relatedTarget:Mt}):null;St.trigger(Mt,"show.bs.tab",{relatedTarget:Ht}).defaultPrevented||Xt&&Xt.defaultPrevented||(this._deactivate(Ht,Mt),this._activate(Mt,Ht))}_activate(Mt,Ht){Mt&&(Mt.classList.add(bs),this._activate(it(Mt)),this._queueCallback(()=>{Mt.getAttribute("role")==="tab"?(Mt.removeAttribute("tabindex"),Mt.setAttribute("aria-selected",!0),this._toggleDropDown(Mt,!0),St.trigger(Mt,"shown.bs.tab",{relatedTarget:Ht})):Mt.classList.add(Bs)},Mt,Mt.classList.contains(Fo)))}_deactivate(Mt,Ht){Mt&&(Mt.classList.remove(bs),Mt.blur(),this._deactivate(it(Mt)),this._queueCallback(()=>{Mt.getAttribute("role")==="tab"?(Mt.setAttribute("aria-selected",!1),Mt.setAttribute("tabindex","-1"),this._toggleDropDown(Mt,!1),St.trigger(Mt,"hidden.bs.tab",{relatedTarget:Ht})):Mt.classList.remove(Bs)},Mt,Mt.classList.contains(Fo)))}_keydown(Mt){if(![uu,Oo,du,Bo].includes(Mt.key))return;Mt.stopPropagation(),Mt.preventDefault();const Ht=[Oo,Bo].includes(Mt.key),Xt=Ot(this._getChildren().filter(hr=>!ft(hr)),Mt.target,Ht,!0);Xt&&(Xt.focus({preventScroll:!0}),$a.getOrCreateInstance(Xt).show())}_getChildren(){return Ur.find(Fs,this._parent)}_getActiveElem(){return this._getChildren().find(Mt=>this._elemIsActive(Mt))||null}_setInitialAttributes(Mt,Ht){this._setAttributeIfNotExists(Mt,"role","tablist");for(const Xt of Ht)this._setInitialAttributesOnChild(Xt)}_setInitialAttributesOnChild(Mt){Mt=this._getInnerElement(Mt);const Ht=this._elemIsActive(Mt),Xt=this._getOuterElement(Mt);Mt.setAttribute("aria-selected",Ht),Xt!==Mt&&this._setAttributeIfNotExists(Xt,"role","presentation"),Ht||Mt.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(Mt,"role","tab"),this._setInitialAttributesOnTargetPanel(Mt)}_setInitialAttributesOnTargetPanel(Mt){const Ht=it(Mt);Ht&&(this._setAttributeIfNotExists(Ht,"role","tabpanel"),Mt.id&&this._setAttributeIfNotExists(Ht,"aria-labelledby",`#${Mt.id}`))}_toggleDropDown(Mt,Ht){const Xt=this._getOuterElement(Mt);if(!Xt.classList.contains("dropdown"))return;const hr=(pr,_r)=>{const Wr=Ur.findOne(pr,Xt);Wr&&Wr.classList.toggle(_r,Ht)};hr(".dropdown-toggle",bs),hr(".dropdown-menu",Bs),Xt.setAttribute("aria-expanded",Ht)}_setAttributeIfNotExists(Mt,Ht,Xt){Mt.hasAttribute(Ht)||Mt.setAttribute(Ht,Xt)}_elemIsActive(Mt){return Mt.classList.contains(bs)}_getInnerElement(Mt){return Mt.matches(Fs)?Mt:Ur.findOne(Fs,Mt)}_getOuterElement(Mt){return Mt.closest(".nav-item, .list-group-item")||Mt}static jQueryInterface(Mt){return this.each(function(){const Ht=$a.getOrCreateInstance(this);if(typeof Mt=="string"){if(Ht[Mt]===void 0||Mt.startsWith("_")||Mt==="constructor")throw new TypeError(`No method named "${Mt}"`);Ht[Mt]()}})}}St.on(document,"click.bs.tab",Do,function(Zt){["A","AREA"].includes(this.tagName)&&Zt.preventDefault(),ft(this)||$a.getOrCreateInstance(this).show()}),St.on(window,"load.bs.tab",()=>{for(const Zt of Ur.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))$a.getOrCreateInstance(Zt)}),At($a);const Lo="hide",xs="show",ws="showing",fu={animation:"boolean",autohide:"boolean",delay:"number"},hu={animation:!0,autohide:!0,delay:5e3};class us extends Yt{constructor(Mt,Ht){super(Mt,Ht),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return hu}static get DefaultType(){return fu}static get NAME(){return"toast"}show(){St.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Lo),Et(this._element),this._element.classList.add(xs,ws),this._queueCallback(()=>{this._element.classList.remove(ws),St.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(St.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(ws),this._queueCallback(()=>{this._element.classList.add(Lo),this._element.classList.remove(ws,xs),St.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(xs),super.dispose()}isShown(){return this._element.classList.contains(xs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(Mt,Ht){switch(Mt.type){case"mouseover":case"mouseout":this._hasMouseInteraction=Ht;break;case"focusin":case"focusout":this._hasKeyboardInteraction=Ht}if(Ht)return void this._clearTimeout();const Xt=Mt.relatedTarget;this._element===Xt||this._element.contains(Xt)||this._maybeScheduleHide()}_setListeners(){St.on(this._element,"mouseover.bs.toast",Mt=>this._onInteraction(Mt,!0)),St.on(this._element,"mouseout.bs.toast",Mt=>this._onInteraction(Mt,!1)),St.on(this._element,"focusin.bs.toast",Mt=>this._onInteraction(Mt,!0)),St.on(this._element,"focusout.bs.toast",Mt=>this._onInteraction(Mt,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(Mt){return this.each(function(){const Ht=us.getOrCreateInstance(this,Mt);if(typeof Mt=="string"){if(Ht[Mt]===void 0)throw new TypeError(`No method named "${Mt}"`);Ht[Mt](this)}})}}return rr(us),At(us),{Alert:Sr,Button:ur,Carousel:Vt,Collapse:qr,Dropdown:Jn,Modal:xa,Offcanvas:na,Popover:vs,ScrollSpy:ls,Tab:$a,Toast:us,Tooltip:_a}})})(bootstrap_bundle_min);var Comments="",bootstrap_min="",materialdesignicons_min="",tobii_min="",style="";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(et){const _e=[];let tt=0;for(let rt=0;rt<et.length;rt++){let nt=et.charCodeAt(rt);nt<128?_e[tt++]=nt:nt<2048?(_e[tt++]=nt>>6|192,_e[tt++]=nt&63|128):(nt&64512)===55296&&rt+1<et.length&&(et.charCodeAt(rt+1)&64512)===56320?(nt=65536+((nt&1023)<<10)+(et.charCodeAt(++rt)&1023),_e[tt++]=nt>>18|240,_e[tt++]=nt>>12&63|128,_e[tt++]=nt>>6&63|128,_e[tt++]=nt&63|128):(_e[tt++]=nt>>12|224,_e[tt++]=nt>>6&63|128,_e[tt++]=nt&63|128)}return _e},byteArrayToString=function(et){const _e=[];let tt=0,rt=0;for(;tt<et.length;){const nt=et[tt++];if(nt<128)_e[rt++]=String.fromCharCode(nt);else if(nt>191&&nt<224){const it=et[tt++];_e[rt++]=String.fromCharCode((nt&31)<<6|it&63)}else if(nt>239&&nt<365){const it=et[tt++],at=et[tt++],st=et[tt++],ct=((nt&7)<<18|(it&63)<<12|(at&63)<<6|st&63)-65536;_e[rt++]=String.fromCharCode(55296+(ct>>10)),_e[rt++]=String.fromCharCode(56320+(ct&1023))}else{const it=et[tt++],at=et[tt++];_e[rt++]=String.fromCharCode((nt&15)<<12|(it&63)<<6|at&63)}}return _e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(et,_e){if(!Array.isArray(et))throw Error("encodeByteArray takes an array as a parameter");this.init_();const tt=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,rt=[];for(let nt=0;nt<et.length;nt+=3){const it=et[nt],at=nt+1<et.length,st=at?et[nt+1]:0,ct=nt+2<et.length,ut=ct?et[nt+2]:0,ft=it>>2,gt=(it&3)<<4|st>>4;let _t=(st&15)<<2|ut>>6,Et=ut&63;ct||(Et=64,at||(_t=64)),rt.push(tt[ft],tt[gt],tt[_t],tt[Et])}return rt.join("")},encodeString(et,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(et):this.encodeByteArray(stringToByteArray$1(et),_e)},decodeString(et,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(et):byteArrayToString(this.decodeStringToByteArray(et,_e))},decodeStringToByteArray(et,_e){this.init_();const tt=_e?this.charToByteMapWebSafe_:this.charToByteMap_,rt=[];for(let nt=0;nt<et.length;){const it=tt[et.charAt(nt++)],st=nt<et.length?tt[et.charAt(nt)]:0;++nt;const ut=nt<et.length?tt[et.charAt(nt)]:64;++nt;const gt=nt<et.length?tt[et.charAt(nt)]:64;if(++nt,it==null||st==null||ut==null||gt==null)throw new DecodeBase64StringError;const _t=it<<2|st>>4;if(rt.push(_t),ut!==64){const Et=st<<4&240|ut>>2;if(rt.push(Et),gt!==64){const $t=ut<<6&192|gt;rt.push($t)}}}return rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let et=0;et<this.ENCODED_VALS.length;et++)this.byteToCharMap_[et]=this.ENCODED_VALS.charAt(et),this.charToByteMap_[this.byteToCharMap_[et]]=et,this.byteToCharMapWebSafe_[et]=this.ENCODED_VALS_WEBSAFE.charAt(et),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[et]]=et,et>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(et)]=et,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(et)]=et)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(et){const _e=stringToByteArray$1(et);return base64.encodeByteArray(_e,!0)},base64urlEncodeWithoutPadding=function(et){return base64Encode(et).replace(/\./g,"")},base64Decode=function(et){try{return base64.decodeString(et,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof globalThis!="undefined")return globalThis;throw new Error("Unable to locate globalThis object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process=="undefined"||typeof{}=="undefined")return;const et={}.__FIREBASE_DEFAULTS__;if(et)return JSON.parse(et)},getDefaultsFromCookie=()=>{if(typeof document=="undefined")return;let et;try{et=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _e=et&&base64Decode(et[1]);return _e&&JSON.parse(_e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(et){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${et}`);return}},getDefaultAppConfig=()=>{var et;return(et=getDefaults())===null||et===void 0?void 0:et.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,tt)=>{this.resolve=_e,this.reject=tt})}wrapCallback(_e){return(tt,rt)=>{tt?this.reject(tt):this.resolve(rt),typeof _e=="function"&&(this.promise.catch(()=>{}),_e.length===1?_e(tt):_e(tt,rt))}}}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((et,_e)=>{try{let tt=!0;const rt="validate-browser-context-for-indexeddb-analytics-module",nt=self.indexedDB.open(rt);nt.onsuccess=()=>{nt.result.close(),tt||self.indexedDB.deleteDatabase(rt),et(!0)},nt.onupgradeneeded=()=>{tt=!1},nt.onerror=()=>{var it;_e(((it=nt.error)===null||it===void 0?void 0:it.message)||"")}}catch(tt){_e(tt)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(_e,tt,rt){super(tt),this.code=_e,this.customData=rt,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(_e,tt,rt){this.service=_e,this.serviceName=tt,this.errors=rt}create(_e,...tt){const rt=tt[0]||{},nt=`${this.service}/${_e}`,it=this.errors[_e],at=it?replaceTemplate(it,rt):"Error",st=`${this.serviceName}: ${at} (${nt}).`;return new FirebaseError(nt,st,rt)}}function replaceTemplate(et,_e){return et.replace(PATTERN,(tt,rt)=>{const nt=_e[rt];return nt!=null?String(nt):`<${rt}?>`})}const PATTERN=/\{\$([^}]+)}/g;function deepEqual(et,_e){if(et===_e)return!0;const tt=Object.keys(et),rt=Object.keys(_e);for(const nt of tt){if(!rt.includes(nt))return!1;const it=et[nt],at=_e[nt];if(isObject(it)&&isObject(at)){if(!deepEqual(it,at))return!1}else if(it!==at)return!1}for(const nt of rt)if(!tt.includes(nt))return!1;return!0}function isObject(et){return et!==null&&typeof et=="object"}class Component{constructor(_e,tt,rt){this.name=_e,this.instanceFactory=tt,this.type=rt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(_e,tt){this.name=_e,this.container=tt,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const tt=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(tt)){const rt=new Deferred;if(this.instancesDeferred.set(tt,rt),this.isInitialized(tt)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:tt});nt&&rt.resolve(nt)}catch{}}return this.instancesDeferred.get(tt).promise}getImmediate(_e){var tt;const rt=this.normalizeInstanceIdentifier(_e==null?void 0:_e.identifier),nt=(tt=_e==null?void 0:_e.optional)!==null&&tt!==void 0?tt:!1;if(this.isInitialized(rt)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:rt})}catch(it){if(nt)return null;throw it}else{if(nt)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,!!this.shouldAutoInitialize()){if(isComponentEager(_e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[tt,rt]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(tt);try{const it=this.getOrInitializeService({instanceIdentifier:nt});rt.resolve(it)}catch{}}}}clearInstance(_e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}async delete(){const _e=Array.from(this.instances.values());await Promise.all([..._e.filter(tt=>"INTERNAL"in tt).map(tt=>tt.INTERNAL.delete()),..._e.filter(tt=>"_delete"in tt).map(tt=>tt._delete())])}isComponentSet(){return this.component!=null}isInitialized(_e=DEFAULT_ENTRY_NAME$1){return this.instances.has(_e)}getOptions(_e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:tt={}}=_e,rt=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(rt))throw Error(`${this.name}(${rt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:rt,options:tt});for(const[it,at]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(it);rt===st&&at.resolve(nt)}return nt}onInit(_e,tt){var rt;const nt=this.normalizeInstanceIdentifier(tt),it=(rt=this.onInitCallbacks.get(nt))!==null&&rt!==void 0?rt:new Set;it.add(_e),this.onInitCallbacks.set(nt,it);const at=this.instances.get(nt);return at&&_e(at,nt),()=>{it.delete(_e)}}invokeOnInitCallbacks(_e,tt){const rt=this.onInitCallbacks.get(tt);if(!!rt)for(const nt of rt)try{nt(_e,tt)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:tt={}}){let rt=this.instances.get(_e);if(!rt&&this.component&&(rt=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(_e),options:tt}),this.instances.set(_e,rt),this.instancesOptions.set(_e,tt),this.invokeOnInitCallbacks(rt,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,rt)}catch{}return rt||null}normalizeInstanceIdentifier(_e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?_e:DEFAULT_ENTRY_NAME$1:_e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(et){return et===DEFAULT_ENTRY_NAME$1?void 0:et}function isComponentEager(et){return et.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const tt=this.getProvider(_e.name);if(tt.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);tt.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const tt=new Provider(_e,this);return this.providers.set(_e,tt),tt}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(et){et[et.DEBUG=0]="DEBUG",et[et.VERBOSE=1]="VERBOSE",et[et.INFO=2]="INFO",et[et.WARN=3]="WARN",et[et.ERROR=4]="ERROR",et[et.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(et,_e,...tt)=>{if(_e<et.logLevel)return;const rt=new Date().toISOString(),nt=ConsoleMethod[_e];if(nt)console[nt](`[${rt}]  ${et.name}:`,...tt);else throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`)};class Logger{constructor(_e){this.name=_e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in LogLevel))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel=typeof _e=="string"?levelStringToEnum[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if(typeof _e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,..._e),this._logHandler(this,LogLevel.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,..._e),this._logHandler(this,LogLevel.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,..._e),this._logHandler(this,LogLevel.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,..._e),this._logHandler(this,LogLevel.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,..._e),this._logHandler(this,LogLevel.ERROR,..._e)}}const instanceOfAny=(et,_e)=>_e.some(tt=>et instanceof tt);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(et){const _e=new Promise((tt,rt)=>{const nt=()=>{et.removeEventListener("success",it),et.removeEventListener("error",at)},it=()=>{tt(wrap(et.result)),nt()},at=()=>{rt(et.error),nt()};et.addEventListener("success",it),et.addEventListener("error",at)});return _e.then(tt=>{tt instanceof IDBCursor&&cursorRequestMap.set(tt,et)}).catch(()=>{}),reverseTransformCache.set(_e,et),_e}function cacheDonePromiseForTransaction(et){if(transactionDoneMap.has(et))return;const _e=new Promise((tt,rt)=>{const nt=()=>{et.removeEventListener("complete",it),et.removeEventListener("error",at),et.removeEventListener("abort",at)},it=()=>{tt(),nt()},at=()=>{rt(et.error||new DOMException("AbortError","AbortError")),nt()};et.addEventListener("complete",it),et.addEventListener("error",at),et.addEventListener("abort",at)});transactionDoneMap.set(et,_e)}let idbProxyTraps={get(et,_e,tt){if(et instanceof IDBTransaction){if(_e==="done")return transactionDoneMap.get(et);if(_e==="objectStoreNames")return et.objectStoreNames||transactionStoreNamesMap.get(et);if(_e==="store")return tt.objectStoreNames[1]?void 0:tt.objectStore(tt.objectStoreNames[0])}return wrap(et[_e])},set(et,_e,tt){return et[_e]=tt,!0},has(et,_e){return et instanceof IDBTransaction&&(_e==="done"||_e==="store")?!0:_e in et}};function replaceTraps(et){idbProxyTraps=et(idbProxyTraps)}function wrapFunction(et){return et===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(_e,...tt){const rt=et.call(unwrap(this),_e,...tt);return transactionStoreNamesMap.set(rt,_e.sort?_e.sort():[_e]),wrap(rt)}:getCursorAdvanceMethods().includes(et)?function(..._e){return et.apply(unwrap(this),_e),wrap(cursorRequestMap.get(this))}:function(..._e){return wrap(et.apply(unwrap(this),_e))}}function transformCachableValue(et){return typeof et=="function"?wrapFunction(et):(et instanceof IDBTransaction&&cacheDonePromiseForTransaction(et),instanceOfAny(et,getIdbProxyableTypes())?new Proxy(et,idbProxyTraps):et)}function wrap(et){if(et instanceof IDBRequest)return promisifyRequest(et);if(transformCache.has(et))return transformCache.get(et);const _e=transformCachableValue(et);return _e!==et&&(transformCache.set(et,_e),reverseTransformCache.set(_e,et)),_e}const unwrap=et=>reverseTransformCache.get(et);function openDB(et,_e,{blocked:tt,upgrade:rt,blocking:nt,terminated:it}={}){const at=indexedDB.open(et,_e),st=wrap(at);return rt&&at.addEventListener("upgradeneeded",ct=>{rt(wrap(at.result),ct.oldVersion,ct.newVersion,wrap(at.transaction),ct)}),tt&&at.addEventListener("blocked",ct=>tt(ct.oldVersion,ct.newVersion,ct)),st.then(ct=>{it&&ct.addEventListener("close",()=>it()),nt&&ct.addEventListener("versionchange",ut=>nt(ut.oldVersion,ut.newVersion,ut))}).catch(()=>{}),st}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(et,_e){if(!(et instanceof IDBDatabase&&!(_e in et)&&typeof _e=="string"))return;if(cachedMethods.get(_e))return cachedMethods.get(_e);const tt=_e.replace(/FromIndex$/,""),rt=_e!==tt,nt=writeMethods.includes(tt);if(!(tt in(rt?IDBIndex:IDBObjectStore).prototype)||!(nt||readMethods.includes(tt)))return;const it=async function(at,...st){const ct=this.transaction(at,nt?"readwrite":"readonly");let ut=ct.store;return rt&&(ut=ut.index(st.shift())),(await Promise.all([ut[tt](...st),nt&&ct.done]))[0]};return cachedMethods.set(_e,it),it}replaceTraps(et=>({...et,get:(_e,tt,rt)=>getMethod(_e,tt)||et.get(_e,tt,rt),has:(_e,tt)=>!!getMethod(_e,tt)||et.has(_e,tt)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(isVersionServiceProvider(tt)){const rt=tt.getImmediate();return`${rt.library}/${rt.version}`}else return null}).filter(tt=>tt).join(" ")}}function isVersionServiceProvider(et){const _e=et.getComponent();return(_e==null?void 0:_e.type)==="VERSION"}const name$o="@firebase/app",version$1="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2="@firebase/firestore",name$1="@firebase/firestore-compat",name$p="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2]:"fire-fst",[name$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(et,_e){try{et.container.addComponent(_e)}catch(tt){logger.debug(`Component ${_e.name} failed to register with FirebaseApp ${et.name}`,tt)}}function _registerComponent(et){const _e=et.name;if(_components.has(_e))return logger.debug(`There were multiple attempts to register component ${_e}.`),!1;_components.set(_e,et);for(const tt of _apps.values())_addComponent(tt,et);return!0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(_e,tt,rt){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=rt,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}function initializeApp(et,_e={}){let tt=et;typeof _e!="object"&&(_e={name:_e});const rt=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},_e),nt=rt.name;if(typeof nt!="string"||!nt)throw ERROR_FACTORY.create("bad-app-name",{appName:String(nt)});if(tt||(tt=getDefaultAppConfig()),!tt)throw ERROR_FACTORY.create("no-options");const it=_apps.get(nt);if(it){if(deepEqual(tt,it.options)&&deepEqual(rt,it.config))return it;throw ERROR_FACTORY.create("duplicate-app",{appName:nt})}const at=new ComponentContainer(nt);for(const ct of _components.values())at.addComponent(ct);const st=new FirebaseAppImpl(tt,rt,at);return _apps.set(nt,st),st}function registerVersion(et,_e,tt){var rt;let nt=(rt=PLATFORM_LOG_STRING[et])!==null&&rt!==void 0?rt:et;tt&&(nt+=`-${tt}`);const it=nt.match(/\s|\//),at=_e.match(/\s|\//);if(it||at){const st=[`Unable to register library "${nt}" with version "${_e}":`];it&&st.push(`library name "${nt}" contains illegal characters (whitespace or "/")`),it&&at&&st.push("and"),at&&st.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),logger.warn(st.join(" "));return}_registerComponent(new Component(`${nt}-version`,()=>({library:nt,version:_e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME,DB_VERSION,{upgrade:(et,_e)=>{switch(_e){case 0:et.createObjectStore(STORE_NAME)}}}).catch(et=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:et.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(et){try{return await(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(et))}catch(_e){if(_e instanceof FirebaseError)logger.warn(_e.message);else{const tt=ERROR_FACTORY.create("idb-get",{originalErrorMessage:_e==null?void 0:_e.message});logger.warn(tt.message)}}}async function writeHeartbeatsToIndexedDB(et,_e){try{const rt=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await rt.objectStore(STORE_NAME).put(_e,computeKey(et)),await rt.done}catch(tt){if(tt instanceof FirebaseError)logger.warn(tt.message);else{const rt=ERROR_FACTORY.create("idb-set",{originalErrorMessage:tt==null?void 0:tt.message});logger.warn(rt.message)}}}function computeKey(et){return`${et.name}!${et.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(_e){this.container=_e,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(tt),this._heartbeatsCachePromise=this._storage.read().then(rt=>(this._heartbeatsCache=rt,rt))}async triggerHeartbeat(){const tt=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),rt=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===rt||this._heartbeatsCache.heartbeats.some(nt=>nt.date===rt)))return this._heartbeatsCache.heartbeats.push({date:rt,agent:tt}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(nt=>{const it=new Date(nt.date).valueOf();return Date.now()-it<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const _e=getUTCDateString(),{heartbeatsToSend:tt,unsentEntries:rt}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),nt=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:tt}));return this._heartbeatsCache.lastSentHeartbeatDate=_e,rt.length>0?(this._heartbeatsCache.heartbeats=rt,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),nt}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(et,_e=MAX_HEADER_BYTES){const tt=[];let rt=et.slice();for(const nt of et){const it=tt.find(at=>at.agent===nt.agent);if(it){if(it.dates.push(nt.date),countBytes(tt)>_e){it.dates.pop();break}}else if(tt.push({agent:nt.agent,dates:[nt.date]}),countBytes(tt)>_e){tt.pop();break}rt=rt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:rt}}class HeartbeatStorageImpl{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(_e){var tt;if(await this._canUseIndexedDBPromise){const nt=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(tt=_e.lastSentHeartbeatDate)!==null&&tt!==void 0?tt:nt.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}else return}async add(_e){var tt;if(await this._canUseIndexedDBPromise){const nt=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(tt=_e.lastSentHeartbeatDate)!==null&&tt!==void 0?tt:nt.lastSentHeartbeatDate,heartbeats:[...nt.heartbeats,..._e.heartbeats]})}else return}}function countBytes(et){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:et})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(et){_registerComponent(new Component("platform-logger",_e=>new PlatformLoggerServiceImpl(_e),"PRIVATE")),_registerComponent(new Component("heartbeat",_e=>new HeartbeatServiceImpl(_e),"PRIVATE")),registerVersion(name$o,version$1,et),registerVersion(name$o,version$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name="firebase",version="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name,version,"app");const firebaseConfig={apiKey:"AIzaSyDXNN19o3AWZOPdMqpUtMtqZPgNOEiDX4w",authDomain:"vmf-dao.firebaseapp.com",projectId:"vmf-dao",storageBucket:"vmf-dao.appspot.com",messagingSenderId:"155377287746",appId:"1:155377287746:web:653c3327b6b27d383263db"};initializeApp(firebaseConfig);const App=()=>jsxs("div",{className:"container---",children:[jsx(Navbar2,{}),jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(Home,{})}),jsx(Route,{path:"/Dashboard",element:jsx(Dashboard,{})}),jsx(Route,{path:"/Vote",element:jsx(Vote,{})}),jsx(Route,{path:"/Members",element:jsx(Members,{})}),jsx(Route,{path:"/Communities2",element:jsx(Features,{})}),jsx(Route,{path:"/MyCommunity",element:jsx(MyCommunity,{})}),jsx(Route,{path:"/CommunityBK",element:jsx(CommunityBK,{})}),jsx(Route,{path:"/Join",element:jsx(Join,{})}),jsx(Route,{path:"/ProposalTemplate",element:jsx(ProjectTemplate,{})}),jsx(Route,{path:"/CreateProposal",element:jsx(CreateProposal,{})})]}),jsx(Footer,{})]}),activeChainId=ChainId$1.Mumbai,container=document.getElementById("root"),root=createRoot(container);root.render(jsx(React$1.StrictMode,{children:jsx(ThirdwebProvider,{desiredChainId:activeChainId,children:jsx(BrowserRouter,{children:jsx(App,{})})})}));export{isTokenApprovedForTransfer as $,AddressZero as A,BigNumber as B,ContractWrapper as C,DropErc1155ContractSchema as D,Erc1155 as E,RawDateSchema$1 as F,GasCostEstimator as G,EndDateSchema as H,assertEnabled as I,detectContractFeature as J,FEATURE_DIRECT_LISTINGS as K,ListingNotFoundError as L,MarketplaceContractSchema as M,NATIVE_TOKENS as N,getAllInBatches as O,PaperCheckout as P,handleTokenApproval as Q,React$1 as R,StandardErc1155 as S,TokenErc1155ContractSchema as T,normalizePriceValue as U,cleanCurrencyAddress as V,setErc20Allowance as W,Status as X,fetchCurrencyValue as Y,fetchTokenMetadataForContract as Z,_defineProperty$5 as _,ContractMetadata as a,Contract as a0,ERC165Abi as a1,InterfaceId_IERC721 as a2,InterfaceId_IERC1155 as a3,Erc721Abi as a4,Erc1155Abi as a5,FEATURE_ENGLISH_AUCTIONS as a6,fetchCurrencyMetadata as a7,formatUnits as a8,AuctionHasNotEndedError as a9,VoteType as aA,id as aB,ContractFactory$1 as aC,Interface as aD,FEATURE_OFFERS as aa,ERC20Abi as ab,StandardErc721 as ac,MultiwrapContractSchema as ad,uploadOrExtractURI as ae,hasERC20Allowance as af,TokenErc721ContractSchema as ag,Erc721 as ah,Erc721WithQuantitySignatureMintable as ai,DropErc721ContractSchema as aj,DropClaimConditions as ak,DelayedReveal as al,FEATURE_NFT_REVEALABLE as am,NFTInputOrUriSchema as an,PackContractSchema as ao,IPackVRFAbi as ap,FEATURE_PACK_VRF as aq,LINK_TOKEN_ADDRESS as ar,Erc20 as as,SplitsContractSchema as at,StandardErc20 as au,DropErc20ContractSchema as av,TokenErc20ContractSchema as aw,TokenERC20History as ax,Erc20SignatureMintable as ay,VoteContractSchema as az,ContractRoles as b,ContractRoyalty as c,ContractPrimarySale as d,DropErc1155ClaimConditions as e,ContractEvents as f,DropErc1155History as g,ContractEncoder as h,ContractPlatformFee as i,jsx as j,ContractInterceptor as k,ContractOwner as l,getRoleHash as m,Erc1155SignatureMintable as n,MarketplaceDirect as o,MarketplaceAuction as p,ListingType as q,mapOffer as r,invariant$1 as s,isNativeToken as t,DEFAULT_QUERY_ALL_COUNT as u,mod as v,AddressSchema as w,BigNumberishSchema as x,NATIVE_TOKEN_ADDRESS as y,AmountSchema as z};
